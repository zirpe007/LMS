(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{82887:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return U},ClassNames:function(){return X},Global:function(){return z},ThemeContext:function(){return P},createElement:function(){return G},css:function(){return K},jsx:function(){return G},keyframes:function(){return q},withEmotionCache:function(){return M}});var i,o,a,s,u,c,l,A,d,f,h,p,g=n(2784),v=/*#__PURE__*/function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n,r=((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t);n=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,n),this.tags.push(r)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,a?0:o.cssRules.length)}catch(e){}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),m="/*|*/",y=m+"}";function b(e){e&&w.current.insert(e+"}")}var w={current:null};function _(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "}),r}var E=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do e.insert("."+r,i,e.sheet,!0),i=i.next;while(void 0!==i)}},C=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)},B={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},I=/[A-Z]|^ms/g,x=/_EMO_([^_]+?)_([^]*?)_EMO_/g,T=function(e){return 45===e.charCodeAt(1)},S=function(e){return null!=e&&"boolean"!=typeof e},k=(i=function(e){return T(e)?e:e.replace(I,"-$&").toLowerCase()},o={},function(e){return void 0===o[e]&&(o[e]=i(e)),o[e]}),N=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(x,function(e,t,n){return p={name:t,styles:n,next:p},t})}return 1===B[e]||T(e)||"number"!=typeof t||0===t?t:t+"px"};function D(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)p={name:i.name,styles:i.styles,next:p},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=D(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":S(a)&&(r+=k(o)+":"+N(o,a)+";");else if(Array.isArray(a)&&"string"==typeof a[0]&&(null==t||void 0===t[a[0]]))for(var s=0;s<a.length;s++)S(a[s])&&(r+=k(o)+":"+N(o,a[s])+";");else{var u=D(e,t,a,!1);switch(o){case"animation":case"animationName":r+=k(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var o=p,a=n(e);return p=o,D(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var O=/label:\s*([^\s;\n{]+)\s*;/g,R=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r,i=!0,o="";p=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=D(n,t,a,!1)):o+=a[0];for(var s=1;s<e.length;s++)o+=D(n,t,e[s],46===o.charCodeAt(o.length-1)),i&&(o+=a[s]);O.lastIndex=0;for(var u="";null!==(r=O.exec(o));)u+="-"+r[1];return{name:C(o)+u,styles:o,next:p}},F=Object.prototype.hasOwnProperty,L=/*#__PURE__*/(0,g.createContext)("undefined"!=typeof HTMLElement?(void 0===a&&(a={}),l=a.key||"css",void 0!==a.prefix&&(s={prefix:a.prefix}),A=new function(e){function t(e,t,r){var i=t.trim().split(h);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(p,"$1"+e.trim());case 58:return e.trim()+t.replace(p,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(p,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===S||2===S&&i(u,1)?"-webkit-"+u+u:u}if(0===S||2===S&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(B,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(A,":-webkit-")+a.replace(A,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(y,"tb");break;case 232:u=a.replace(y,"tb-rl");break;case 220:u=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,c,l){for(var A,d=0,f=t;d<D;++d)switch(A=N[d].call(u,e,f,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:f=A}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?S=1:(S=2,O=e):S=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<D){var u=a(-1,n,s,s,x,I,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var A=function e(n,s,u,A,d){for(var f,h,p,y,w,_=0,E=0,C=0,B=0,N=0,O=0,F=p=f=0,L=0,P=0,U=0,M=0,j=u.length,Z=j-1,Q="",H="",V="",K="";L<j;){if(h=u.charCodeAt(L),L===Z&&0!==E+B+C+_&&(0!==E&&(h=47===E?10:47),B=C=_=0,j++,Z++),0===E+B+C+_){if(L===Z&&(0<P&&(Q=Q.replace(l,"")),0<Q.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:Q+=u.charAt(L)}h=59}switch(h){case 123:for(f=(Q=Q.trim()).charCodeAt(0),p=1,M=++L;L<j;){switch(h=u.charCodeAt(L)){case 123:p++;break;case 125:p--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(F=L+1;F<Z;++F)switch(u.charCodeAt(F)){case 47:if(42===h&&42===u.charCodeAt(F-1)&&L+2!==F){L=F+1;break e}break;case 10:if(47===h){L=F+1;break e}}L=F}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<Z&&u.charCodeAt(L)!==h;);}if(0===p)break;L++}if(p=u.substring(M,L),0===f&&(f=(Q=Q.replace(c,"").trim()).charCodeAt(0)),64===f){switch(0<P&&(Q=Q.replace(l,"")),h=Q.charCodeAt(1)){case 100:case 109:case 115:case 45:P=s;break;default:P=k}if(M=(p=e(s,P,p,h,d+1)).length,0<D&&(w=a(3,p,P=t(k,Q,U),s,x,I,M,h,d,A),Q=P.join(""),void 0!==w&&0===(M=(p=w.trim()).length)&&(h=0,p="")),0<M)switch(h){case 115:Q=Q.replace(b,o);case 100:case 109:case 45:p=Q+"{"+p+"}";break;case 107:p=(Q=Q.replace(g,"$1 $2"))+"{"+p+"}",p=1===S||2===S&&i("@"+p,3)?"@-webkit-"+p+"@"+p:"@"+p;break;default:p=Q+p,112===A&&(H+=p,p="")}else p=""}else p=e(s,t(s,Q,U),p,A,d+1);V+=p,p=U=P=F=f=0,Q="",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(M=(Q=(0<P?Q.replace(l,""):Q).trim()).length))switch(0===F&&(45===(f=Q.charCodeAt(0))||96<f&&123>f)&&(M=(Q=Q.replace(" ",":")).length),0<D&&void 0!==(w=a(1,Q,s,n,x,I,H.length,A,d,A))&&0===(M=(Q=w.trim()).length)&&(Q="\0\0"),f=Q.charCodeAt(0),h=Q.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){K+=Q+u.charAt(L);break}default:58!==Q.charCodeAt(M-1)&&(H+=r(Q,f,h,Q.charCodeAt(2)))}U=P=F=f=0,Q="",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===E?E=0:0===1+f&&107!==A&&0<Q.length&&(P=1,Q+="\0"),0<D*R&&a(0,Q,s,n,x,I,H.length,A,d,A),I=1,x++;break;case 59:case 125:if(0===E+B+C+_){I++;break}default:switch(I++,y=u.charAt(L),h){case 9:case 32:if(0===B+_+E)switch(N){case 44:case 58:case 9:case 32:y="";break;default:32!==h&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===B+E+_&&(P=U=1,y="\f"+y);break;case 108:if(0===B+E+_+T&&0<F)switch(L-F){case 2:112===N&&58===u.charCodeAt(L-3)&&(T=N);case 8:111===O&&(T=O)}break;case 58:0===B+E+_&&(F=L);break;case 44:0===E+C+B+_&&(P=1,y+="\r");break;case 34:case 39:0===E&&(B=B===h?0:0===B?h:B);break;case 91:0===B+E+C&&_++;break;case 93:0===B+E+C&&_--;break;case 41:0===B+E+_&&C--;break;case 40:0===B+E+_&&(0===f&&(2*N+3*O==533||(f=1)),C++);break;case 64:0===E+C+B+_+F+p&&(p=1);break;case 42:case 47:if(!(0<B+_+C))switch(E){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:E=47;break;case 220:M=L,E=42}break;case 42:47===h&&42===N&&M+2!==L&&(33===u.charCodeAt(M+2)&&(H+=u.substring(M,L+1)),y="",E=0)}}0===E&&(Q+=y)}O=N,N=h,L++}if(0<(M=H.length)){if(P=s,0<D&&void 0!==(w=a(2,H,P,n,x,I,M,A,d,A))&&0===(H=w).length)return K+H+V;if(H=P.join(",")+"{"+H+"}",0!=S*T){switch(2!==S||i(H,2)||(T=0),T){case 111:H=H.replace(m,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}T=0}}return K+H+V}(k,s,n,0,0);return 0<D&&void 0!==(u=a(-2,A,s,s,x,I,A.length,0,0,0))&&(A=u),T=0,I=x=1,A}var c=/^\0+/g,l=/[\0\r\f]/g,A=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,m=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,B=/([^-])(image-set\()/,I=1,x=1,T=0,S=1,k=[],N=[],D=0,O=null,R=0;return u.use=function e(t){switch(t){case void 0:case null:D=N.length=0;break;default:if("function"==typeof t)N[D++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}(s),d={},u=a.container||document.head,f=document.querySelectorAll("style[data-emotion-"+l+"]"),Array.prototype.forEach.call(f,function(e){e.getAttribute("data-emotion-"+l).split(" ").forEach(function(e){d[e]=!0}),e.parentNode!==u&&u.appendChild(e)}),A.use(a.stylisPlugins)(function(e,t,n,r,i,o,a,s,u,c){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return w.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+m;break;case 3:switch(s){case 102:case 112:return w.current.insert(n[0]+t),"";default:return t+(0===c?m:"")}case -2:t.split(y).forEach(b)}}),c=function(e,t,n,r){var i=t.name;w.current=n,A(e,t.styles),r&&(h.inserted[i]=!0)},h={key:l,sheet:new v({key:l,container:u,nonce:a.nonce,speedy:a.speedy}),nonce:a.nonce,inserted:d,registered:{},insert:c}):null),P=/*#__PURE__*/(0,g.createContext)({}),U=L.Provider,M=function(e){return/*#__PURE__*/(0,g.forwardRef)(function(t,n){return/*#__PURE__*/(0,g.createElement)(L.Consumer,null,function(r){return e(t,r,n)})})},j="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Z=function(e,t){var n={};for(var r in t)F.call(t,r)&&(n[r]=t[r]);return n[j]=e,n},Q=function(){return null},H=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var o=t[j],a=[i],s="";"string"==typeof t.className?s=_(e.registered,a,t.className):null!=t.className&&(s=t.className+" ");var u=R(a);E(e,u,"string"==typeof o),s+=e.key+"-"+u.name;var c={};for(var l in t)F.call(t,l)&&"css"!==l&&l!==j&&(c[l]=t[l]);c.ref=r,c.className=s;var A=/*#__PURE__*/(0,g.createElement)(o,c),d=/*#__PURE__*/(0,g.createElement)(Q,null);return/*#__PURE__*/(0,g.createElement)(g.Fragment,null,d,A)},V=/* #__PURE__ */M(function(e,t,n){return"function"==typeof e.css?/*#__PURE__*/(0,g.createElement)(P.Consumer,null,function(r){return H(t,e,r,n)}):H(t,e,null,n)}),K=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return R(t)},G=function(e,t){var n=arguments;if(null==t||!F.call(t,"css"))return g.createElement.apply(void 0,n);var r=n.length,i=Array(r);i[0]=V,i[1]=Z(e,t);for(var o=2;o<r;o++)i[o]=n[o];return g.createElement.apply(null,i)},z=/* #__PURE__ */M(function(e,t){var n=e.styles;if("function"==typeof n)return/*#__PURE__*/(0,g.createElement)(P.Consumer,null,function(e){var r=R([n(e)]);return/*#__PURE__*/(0,g.createElement)(W,{serialized:r,cache:t})});var r=R([n]);return/*#__PURE__*/(0,g.createElement)(W,{serialized:r,cache:t})}),W=/*#__PURE__*/function(e){function t(t,n,r){return e.call(this,t,n,r)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new v({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&E(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(g.Component),q=function(){var e=K.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Y=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},$=function(){return null},X=M(function(e,t){return/*#__PURE__*/(0,g.createElement)(P.Consumer,null,function(n){var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=R(n,t.registered);return E(t,i,!1),t.key+"-"+i.name},i=e.children({css:r,cx:function(){for(var e,n,i,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=_(t.registered,n=[],e=Y(a)),n.length<2?e:i+r(n)},theme:n}),o=/*#__PURE__*/(0,g.createElement)($,null);return/*#__PURE__*/(0,g.createElement)(g.Fragment,null,o,i)})})},72475:function(e,t,n){"use strict";var r,i,o=n(22970),a=n(76765),s=n(32444),u=n(13936),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),A="@firebase/app",d="[DEFAULT]",f=((i={})[A]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new u.Yd("@firebase/app"),p=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){void 0===t&&(t=d),this.checkDestroyed_();var n,r=this.container.getProvider(e);return r.isInitialized()||(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)!=="EXPLICIT"||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){h.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e(){var t=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=d);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),h.warn(c.join(" "));return}o(new s.wA(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||d,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return h.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,A=Object.keys(t);c<A.length;c++)t[A[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(p);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if((null==(t=e.getComponent())?void 0:t.type)!=="VERSION")return null;var t,n=e.getImmediate();return n.library+"/"+n.version}).filter(function(e){return e}).join(" ")},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,a.jU)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,e)},g.INTERNAL.registerComponent(new s.wA("platform-logger",function(e){return new v(e)},"PRIVATE")),g.registerVersion(A,"0.6.30",void 0),g.registerVersion("fire-js",""),t.Z=g},32444:function(e,t,n){"use strict";n.d(t,{H0:function(){return u},wA:function(){return o},zt:function(){return s}});var r=n(22970),i=n(76765),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var A=this.getOrInitializeService({instanceIdentifier:l});c.resolve(A)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.__read)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){void 0===e&&(e={});var t,n,i=e.options,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:void 0===i?{}:i});try{for(var s=(0,r.__values)(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=(0,r.__read)(u.value,2),l=c[0],A=c[1],d=this.normalizeInstanceIdentifier(l);o===d&&A.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t===a?void 0:t,options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(e){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return(void 0===e&&(e=a),this.component)?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},13936:function(e,t,n){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.d(t,{Am:function(){return h},Ub:function(){return f},Yd:function(){return d},in:function(){return a}});var i,o,a,s=[];(i=a||(a={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var u={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},c=a.INFO,l=((o={})[a.DEBUG]="log",o[a.VERBOSE]="log",o[a.INFO]="info",o[a.WARN]="warn",o[a.ERROR]="error",o),A=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),a=l[t];if(a)console[a].apply(console,r(["["+o+"]  "+e.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+t+")")}},d=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=A,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?u[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){s.forEach(function(t){t.setLogLevel(e)})}function h(e,t){for(var n=0;n<s.length;n++)!function(n){var r=null;t&&t.level&&(r=u[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}}(s[n])}},76765:function(e,t,n){"use strict";n.d(t,{$s:function(){return ee},BH:function(){return p},DV:function(){return j},Dv:function(){return W},G6:function(){return x},GJ:function(){return U},LL:function(){return D},Mn:function(){return B},Pz:function(){return F},Sg:function(){return g},UG:function(){return y},UI:function(){return Q},US:function(){return c},Wj:function(){return Y},Yr:function(){return I},ZB:function(){return h},ZR:function(){return N},b$:function(){return _},cI:function(){return R},d:function(){return E},dS:function(){return X},eu:function(){return S},g5:function(){return a},gK:function(){return q},gQ:function(){return V},h$:function(){return l},hl:function(){return T},hu:function(){return o},jU:function(){return b},lb:function(){return $},m9:function(){return et},ne:function(){return K},p$:function(){return f},r3:function(){return M},ru:function(){return w},uI:function(){return m},ug:function(){return J},w1:function(){return C},w9:function(){return P},xO:function(){return H},xb:function(){return Z},z$:function(){return v},zI:function(){return k}});var r=n(22970),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},u=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,A=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(d=64)),r.push(n[l],n[A],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var A=s<<6&192|u;r.push(A)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=s(e);return c.encodeByteArray(t,!0)},A=function(e){return l(e).replace(/\./g,"")},d=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function b(){return"object"==typeof self&&self.self===self}function w(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return v().indexOf("Electron/")>=0}function C(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function B(){return v().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function x(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"indexedDB"in self&&null!=indexedDB}function S(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function k(){return!!navigator&&!!navigator.cookieEnabled}var N=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,D.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),D=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?o.replace(O,function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}):"Error",s=this.serviceName+": "+a+" ("+i+").";return new N(i,s,r)},e}(),O=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){return JSON.parse(e)}function F(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=R(d(o[0])||""),n=R(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},P=function(e){var t=L(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=L(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n,r,i=this.W_;if("string"==typeof e)for(var o=0;o<16;o++)i[o]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var o=0;o<16;o++)i[o]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(a<<1|a>>>31)&4294967295}for(var s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],A=this.chain_[4],o=0;o<80;o++){o<40?o<20?(n=l^u&(c^l),r=1518500249):(n=u^c^l,r=1859775393):o<60?(n=u&c|l&(u|c),r=2400959708):(n=u^c^l,r=3395469782);var a=(s<<5|s>>>27)+n+A+r+i[o]&4294967295;A=l,l=c,c=(u<<30|u>>>2)&4294967295,u=s,s=a}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+A&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function K(e,t){var n=new G(e,t);return n.subscribe.bind(n)}var G=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0;n<t.length;n++){var r=t[n];if(r in e&&"function"==typeof e[r])return!0}return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function z(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(e,t){return e+" failed: "+t+" argument "}function Y(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw Error(q(e,t)+"must be a valid function.")}function $(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw Error(q(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},J=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ee(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}},19947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},10870:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72683),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(n(56664)).default);t.default=s},72683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),i=n(72531).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise(function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach(function(n){var r=e[n];t.setRequestHeader(n,r)})}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status){a(Error("Request error"));return}var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach(function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}}),r}(n);o({statusCode:n.status,body:n.responseText,headers:e})}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}),abort:function(){n.abort()}}}},12003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},16287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach(function(e){(0,n[e])(t)})},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},56664:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72531),a=n(71185),s=i(n(16287)),u=n(12003),c=i(n(19947)),l=o.getLogger("DatafileManager");function A(e){return e>=200&&e<400}var d={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},f=function(){function e(e){var t=this,n=r(r({},this.getConfigDefaults()),e),i=n.datafile,o=n.autoUpdate,A=n.sdkKey,f=n.updateInterval,h=void 0===f?u.DEFAULT_UPDATE_INTERVAL:f,p=n.urlTemplate,g=void 0===p?u.DEFAULT_URL_TEMPLATE:p,v=n.cache;(this.cache=void 0===v?d:v,this.cacheKey="opt-datafile-"+A,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n}),i?(this.currentDatafile=i,A||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(g,A),this.emitter=new s.default,this.autoUpdate=void 0!==o&&o,h>=u.MIN_UPDATE_INTERVAL)?this.updateInterval=h:(l.warn("Invalid updateInterval %s, defaulting to %s",h,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new c.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(l.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return l.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?l.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?l.error("Error fetching datafile: %s",e):l.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&A(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);""!==t&&(l.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled?this.emitter.emit("update",{datafile:t}):this.resolveReadyPromise())}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),l.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(t)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then(function(t){e.onRequestResolved(t)},function(t){e.onRequestRejected(t)}).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=Math.max(this.backoffController.getDelay(),this.updateInterval);l.debug("Scheduling sync in %s ms",t),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},t)},e.prototype.getNextDatafileFromResponse=function(e){return(l.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode)?"":A(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,l.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(l.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())})},e}();t.default=f},36124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10870);t.HttpPollingDatafileManager=r.default},40939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(28344),i=n(72531),o=n(71185);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,i){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:i}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},28344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(72531).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(!this.started){r.warn("Queue is stopped, not accepting event");return}var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},88514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},29473:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88514),t),i(n(65609),t),i(n(40939),t),i(n(62949),t),i(n(52621),t),i(n(56066),t),i(n(65495),t)},62949:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52621:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var o=n(72531),a=n(85187),s=n(71185),u=o.getLogger("EventProcessor"),c=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();u.debug("Sending %s pending events from previous page",t.length),t.forEach(function(t){try{e.send(t,function(){})}catch(e){}})},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(r){n.store.remove(e.uuid),t(r)})},e}();t.PendingEventsDispatcher=c;var l=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(c);t.LocalStoragePendingEventsDispatcher=l},85187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(71185),i=n(72531).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues;this.LS_KEY=t,this.maxValues=void 0===n?1e3:n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map(function(t){return{key:t,value:e[t]}});r.sort(function(e,t){return e.value.timestamp-t.value.timestamp});for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}();t.LocalStorageStore=o},68349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach(function(e){return e()}),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)})},e}();t.default=n},56066:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach(function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t,n,r=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,u=e.ruleType,c=e.enabled,l=r?r.id:null;return{decisions:[{campaign_id:l,experiment_id:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"",variation_id:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",metadata:{flag_key:s,rule_key:a,rule_type:u,variation_key:o?o.key:"",enabled:c}}],events:[{entity_id:l,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach(function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})}),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},65495:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(72531),s=n(65609),u=o(n(68349)),c=n(88514),l=n(56066),A=a.getLogger("LogTierV1EventProcessor"),d=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?s.DEFAULT_FLUSH_INTERVAL:n,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,r=s.validateAndGetFlushInterval(r),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,r,this.drainQueue.bind(this),c.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise(function(n){if(A.debug("draining queue with %s events",e.length),0===e.length){n();return}var r=l.formatEvents(e);t.dispatcher.dispatchEvent(r,function(){n()}),s.sendEventNotification(t.notificationCenter,r)});return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){A.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this.queue.start(),[2]})})},e}();t.LogTierV1EventProcessor=d},63077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},72531:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(63077)),r(n(32011)),r(n(51628))},51628:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(63077),o=n(71185),a=n(32011),s={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function u(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),s[e])?s[e]:e}var c=function(){function e(){this.defaultLoggerFacade=new f,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new f({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),l=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&o.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=u(e),o.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return new Date().toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=l;var A=a.LogLevel.NOTSET,d=null,f=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(u(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+o.sprintf.apply(void 0,r([e.message],e.splat))},e.prototype.internalLog=function(e,t){d&&!(e<A)&&(d.log(e,this.format(t)),t.error&&t.error instanceof Error&&i.getErrorHandler().handleError(t.error))},e.prototype.namedLog=function(e,t,n){if(t instanceof Error){t=(r=t).message,this.internalLog(e,{error:r,message:t,splat:n});return}if(0===n.length){this.internalLog(e,{message:t,splat:n});return}var r,i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})},e}(),h=new c;t.getLogger=function(e){return h.getLogger(e)},t.setLogHandler=function(e){d=e},t.setLogLevel=function(e){e=u(e),A=o.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return A},t.resetLogger=function(){h=new c,A=a.LogLevel.NOTSET}},32011:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.NOTSET=0]="NOTSET",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR"},71185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(63217);function o(e){return Object.keys(e).map(function(t){return e[t]})}t.generateUUID=function(){return i.v4()},t.getTimestamp=function(){return new Date().getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach(function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)}),o(n)},t.objectValues=o,t.objectEntries=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.find=function(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})},(r=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",r.DECISION="DECISION:type, userId, attributes, decisionInfo",r.LOG_EVENT="LOG_EVENT:logEvent",r.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",r.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},63217:function(e,t,n){var r=n(14195),i=n(35916);i.v1=r,i.v4=i,e.exports=i},54146:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}},48378:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},14195:function(e,t,n){var r,i,o=n(48378),a=n(54146),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],A=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==A||null==d){var f=o();null==A&&(A=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=(f[6]<<8|f[7])&16383)}var h=void 0!==e.msecs?e.msecs:new Date().getTime(),p=void 0!==e.nsecs?e.nsecs:u+1,g=h-s+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=p,i=d;var v=((268435455&(h+=122192928e5))*1e4+p)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=h/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var y=0;y<6;++y)l[c+y]=A[y];return t||a(l)}},35916:function(e,t,n){var r=n(48378),i=n(54146);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},41962:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i,o=n(72531),a=n(29473),s=r(n(69015)),u=r(n(86077)),c=n(36124),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function A(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,A([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r}function f(e,t){var n,r,i;return e?(n=e,r=function(e){return e[t]},i={},n.forEach(function(e){i[r(e)]=e}),i):{}}function h(e){return Object.keys(e).map(function(t){return e[t]})}function p(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})}var v,m={assign:d,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&9007199254740992>=Math.abs(e)},uuid:function(){return s()},isNumber:function(e){return"number"==typeof e}},y={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},b={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},w={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},_={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},E={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},C={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},B={RULE:"rule",EXPERIMENT:"experiment"},I={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},x={V2:"2",V3:"3",V4:"4"},T={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};(P=v||(v={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",P.DECISION="DECISION:type, userId, attributes, decisionInfo",P.LOG_EVENT="LOG_EVENT:logEvent",P.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",P.TRACK="TRACK:event_key, user_id, attributes, event_tags, event";var S=Object.freeze({__proto__:null,LOG_LEVEL:y,ERROR_MESSAGES:b,LOG_MESSAGES:w,CONTROL_ATTRIBUTES:_,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.2",DECISION_NOTIFICATION_TYPES:E,DECISION_SOURCES:C,AUDIENCE_EVALUATION_TYPES:B,FEATURE_VARIABLE_TYPES:I,DATAFILE_VERSIONS:x,DECISION_MESSAGES:T,get NOTIFICATION_TYPES(){return v}}),k="CONFIG_VALIDATOR",N=[x.V2,x.V3,x.V4],D=function(e){if("object"==typeof e&&null!==e){var t=e.errorHandler,n=e.eventDispatcher,r=e.logger;if(t&&"function"!=typeof t.handleError)throw Error(g(b.INVALID_ERROR_HANDLER,k));if(n&&"function"!=typeof n.dispatchEvent)throw Error(g(b.INVALID_EVENT_DISPATCHER,k));if(r&&"function"!=typeof r.log)throw Error(g(b.INVALID_LOGGER,k));return!0}throw Error(g(b.INVALID_CONFIG,k))},O=function(e){if(!e)throw Error(g(b.NO_DATAFILE_SPECIFIED,k));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw Error(g(b.INVALID_DATAFILE_MALFORMED,k))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===N.indexOf(e.version))throw Error(g(b.INVALID_DATAFILE_VERSION,k,e.version));return e},R={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},F=function(){function e(){}return e.prototype.log=function(){},e}();function L(e){return new o.ConsoleLogHandler(e)}var P,U,M,j=Object.freeze({__proto__:null,NoOpLogger:F,createLogger:L,createNoOpLogger:function(){return new F}});function Z(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}(i=U||(U={})).BOOLEAN="boolean",i.DOUBLE="double",i.INTEGER="integer",i.STRING="string",i.JSON="json",(M=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",M.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",M.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",M.INCLUDE_REASONS="INCLUDE_REASONS",M.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var Q=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=l({},i))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return l({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,i=null!==(n=e.ruleKey)&&void 0!==n?n:_.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:_.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],i=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),i},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:_.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[r];if(i.hasOwnProperty(n))return{variationKey:i[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=l({},this.forcedDecisionsMap)),t},e}(),H=["and","or","not"];function V(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===H.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=V(e[r],t);if(!1===i)return!1;null===i&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=V(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=V(e[r],t);if(!0===i)return!0;null===i&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var K=function(){function e(t,n){this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(i=t.environmentKey)&&void 0!==i?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var r,i,o=(t.featureFlags||[]).reduce(function(e,t){return e[t.id]=t.variables,e},{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach(function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)}),(e.audiences||[]).forEach(function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})}),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var i="";t.forEach(function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,n))+")";else if(H.indexOf(t)>-1)i=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+' "'+n[t].name+'"':r.concat(" "+i+' "'+a+'"')):r='"'+a+'"'}""!==o&&(""!==r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+" "+o:r.concat(" "+i+" "+o)):r=r.concat(o))})}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,i){var o=(e[n]||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{});return(r||[]).forEach(function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:i?e.value:n.defaultValue};o[n.key]=r}),o},e.getVariationsMap=function(t,n,r,i){return t.reduce(function(t,o){var a=e.mergeFeatureVariables(n,r,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t},{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(e,t){return t.variables.forEach(function(t){e[t.id]=t}),e},{})},e.getDeliveryRules=function(t,n,r,i){var o=e.getVariableIdMap(t);return i.map(function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,n,o,r)}})},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach(function(e){e.experiments.forEach(function(e){t.push(e.id)})}),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce(function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],u="";s&&s.length>0&&(u=s[0]);var c=e.getVariationsMap(a.variations,n,r,u.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:c}}return o},{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var i={};return t.featureFlags.forEach(function(o){var a={},s=[];o.experimentIds.forEach(function(e){var t=r[e];t&&(a[t.key]=t),s.push(r[e])});var u=(o.variables||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{}),c=[],l=t.rolloutIdMap[o.rolloutId];l&&(c=e.getDeliveryRules(t,n,o.id,l.experiments)),i[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:c,experimentsMap:a,variablesMap:u}}),i},e}(),G="PROJECT_CONFIG",z=function(e,t){void 0===t&&(t=null);var n,r,i,o,a=((o=d({},e)).audiences=(e.audiences||[]).map(function(e){return d({},e)}),o.experiments=(e.experiments||[]).map(function(e){return d({},e)}),o.featureFlags=(e.featureFlags||[]).map(function(e){return d({},e)}),o.groups=(e.groups||[]).map(function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map(function(e){return d({},e)}),t}),o.rollouts=(e.rollouts||[]).map(function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map(function(e){return d({},e)}),t}),o.environmentKey=null!==(r=e.environmentKey)&&void 0!==r?r:"",o.sdkKey=null!==(i=e.sdkKey)&&void 0!==i?i:"",o);return a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach(function(e){e.conditions=JSON.parse(e.conditions)}),a.audiencesById=f(a.audiences,"id"),d(a.audiencesById,f(a.typedAudiences,"id")),a.attributeKeyMap=f(a.attributes,"key"),a.eventKeyMap=f(a.events,"key"),a.groupIdMap=f(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach(function(e){(a.groupIdMap[e].experiments||[]).forEach(function(t){a.experiments.push(d(t,{groupId:e}))})}),a.rolloutIdMap=f(a.rollouts||[],"id"),h(a.rolloutIdMap||{}).forEach(function(e){(e.experiments||[]).forEach(function(e){a.experiments.push(e),e.variationKeyMap=f(e.variations,"key")})}),a.experimentKeyMap=f(a.experiments,"key"),a.experimentIdMap=f(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach(function(e){e.variationKeyMap=f(e.variations,"key"),d(a.variationIdMap,f(e.variations,"id")),h(e.variationKeyMap||{}).forEach(function(e){e.variables&&(a.variationVariableUsageMap[e.id]=f(e.variables,"id"))})}),a.experimentFeatureMap={},a.featureKeyMap=f(a.featureFlags||[],"key"),h(a.featureKeyMap||{}).forEach(function(e){e.variables.forEach(function(e){e.type===I.STRING&&e.subType===I.JSON&&(e.type=I.JSON,delete e.subType)}),e.variableKeyMap=f(e.variables,"key"),(e.experimentIds||[]).forEach(function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]})}),a.flagRulesMap={},(a.featureFlags||[]).forEach(function(e){var t=[];e.experimentIds.forEach(function(e){var n=a.experimentIdMap[e];n&&t.push(n)});var n=a.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),a.flagRulesMap[e.key]=t}),a.flagVariationsMap={},Object.keys(n=a.flagRulesMap||{}).map(function(e){return[e,n[e]]}).forEach(function(e){var t=e[0],n=e[1],r=[];n.forEach(function(e){e.variations.forEach(function(e){p(r,function(t){return t.id===e.id})||r.push(e)})}),a.flagVariationsMap[t]=r}),a},W=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(b.INVALID_EXPERIMENT_ID,G,t));return n.layerId},q=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(y.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):i?t:(n.log(y.DEBUG,b.UNRECOGNIZED_ATTRIBUTE,G,t),null)},Y=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},$=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw Error(g(b.INVALID_EXPERIMENT_KEY,G,t));return n.status},X=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},J=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw Error(g(b.EXPERIMENT_KEY_NOT_IN_DATAFILE,G,t))},ee=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(b.INVALID_EXPERIMENT_ID,G,t));return n.trafficAllocation},et=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(y.ERROR,b.INVALID_EXPERIMENT_ID,G,t),null},en=function(e,t,n){return e&&p(e.flagVariationsMap[t],function(e){return e.key===n})||null},er=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(y.ERROR,b.FEATURE_NOT_IN_DATAFILE,G,t),null},ei=function(e){return e.__datafileStr},eo=function(e){try{t=O(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(y.INFO,w.VALID_DATAFILE,G)}catch(e){return{configObj:null,error:e}}else e.logger.log(y.INFO,w.SKIPPING_JSON_VALIDATION,G);var t,n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:z.apply(void 0,n),error:null}},ea=function(e){return!!e.sendFlagDecisions},es=o.getLogger();function eu(e,t){return e instanceof Error?e.message:t||"Unknown error"}var ec=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=Error(g(b.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:eu(t)}),void es.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:eu(n,"Invalid datafile")})}catch(e){es.error(e),this.readyPromise=Promise.resolve({success:!1,reason:eu(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:eu(e)}:{success:!0}}return{success:!1,reason:eu(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:eu(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=eo({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:es}),n=t.configObj,r=t.error;if(r)es.error(r);else{var i=this.configObj?this.configObj.revision:"null";n&&i!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach(function(e){return e(n)}))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=new K(this.configObj,ei(this.configObj))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),el=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw Error(g(b.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=eA(r,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(y.INFO,w.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([w.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(y.INFO,w.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([w.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(y.INFO,w.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([w.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var o=ef(""+e.bucketingId+e.experimentId);e.logger.log(y.DEBUG,w.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId),t.push([w.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId]);var a=ed(o,e.trafficAllocationConfig);return null===a||e.variationIdMap[a]?{result:a,reasons:t}:(a&&(e.logger.log(y.WARNING,w.INVALID_VARIATION_ID,"BUCKETER"),t.push([w.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},eA=function(e,t,n,r){var i=ef(""+t+e.id);return r.log(y.DEBUG,w.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,n),ed(i,e.trafficAllocation)},ed=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},ef=function(e){try{var t=u.v3(e,1)/4294967296;return Math.floor(1e4*t)}catch(t){throw Error(g(b.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},eh=o.getLogger();function ep(e){return/^\d+$/.test(e)}function eg(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function ev(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function em(e){var t=e,n="";if(/\s/.test(e))return eh.warn(w.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(eg(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):ev(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return eh.warn(w.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return eh.warn(w.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0;o<i.length;o++)if(!ep(i[o]))return eh.warn(w.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var ey="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",eb=o.getLogger(),ew=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],e_={};function eE(e){return"string"==typeof e||"boolean"==typeof e||m.isNumber(e)}function eC(e,t){var n=e.value,r=typeof n,i=e.name,o=t[i],a=typeof o;return!eE(n)||m.isNumber(n)&&!m.isSafeInteger(n)?(eb.warn(w.UNEXPECTED_CONDITION_VALUE,ey,JSON.stringify(e)),null):null===o?(eb.debug(w.UNEXPECTED_TYPE_NULL,ey,JSON.stringify(e),i),null):eE(o)&&r===a?m.isNumber(o)&&!m.isSafeInteger(o)?(eb.warn(w.OUT_OF_BOUNDS,ey,JSON.stringify(e),i),null):n===o:(eb.warn(w.UNEXPECTED_TYPE,ey,JSON.stringify(e),a,i),null)}function eB(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return null!==o&&m.isSafeInteger(o)?null===r?(eb.debug(w.UNEXPECTED_TYPE_NULL,ey,JSON.stringify(e),n),!1):m.isNumber(r)?!!m.isSafeInteger(r)||(eb.warn(w.OUT_OF_BOUNDS,ey,JSON.stringify(e),n),!1):(eb.warn(w.UNEXPECTED_TYPE,ey,JSON.stringify(e),i,n),!1):(eb.warn(w.UNEXPECTED_CONDITION_VALUE,ey,JSON.stringify(e)),!1)}function eI(e,t){var n=e.name,r=t[n],i=e.value;return"string"!=typeof i?(eb.warn(w.UNEXPECTED_CONDITION_VALUE,ey,JSON.stringify(e)),null):null===r?(eb.debug(w.UNEXPECTED_TYPE_NULL,ey,JSON.stringify(e),n),null):"string"!=typeof r?(eb.warn(w.UNEXPECTED_TYPE,ey,JSON.stringify(e),typeof r,n),null):function(e,t){var n=em(t),r=em(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return eg(e)||ev(e)?1:-1;if(ep(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return -1}else{if(n[o]<r[o])return eg(e)&&!eg(t)?1:-1;if(n[o]>r[o])return!eg(e)&&eg(t)?-1:1}}return eg(t)&&!eg(e)?-1:0}(i,r)}e_.exact=eC,e_.exists=function(e,t){return null!=t[e.name]},e_.gt=function(e,t){var n=t[e.name],r=e.value;return eB(e,t)&&null!==r?n>r:null},e_.ge=function(e,t){var n=t[e.name],r=e.value;return eB(e,t)&&null!==r?n>=r:null},e_.lt=function(e,t){var n=t[e.name],r=e.value;return eB(e,t)&&null!==r?n<r:null},e_.le=function(e,t){var n=t[e.name],r=e.value;return eB(e,t)&&null!==r?n<=r:null},e_.substring=function(e,t){var n=e.name,r=t[e.name],i=typeof r,o=e.value;return"string"!=typeof o?(eb.warn(w.UNEXPECTED_CONDITION_VALUE,ey,JSON.stringify(e)),null):null===r?(eb.debug(w.UNEXPECTED_TYPE_NULL,ey,JSON.stringify(e),n),null):"string"!=typeof r?(eb.warn(w.UNEXPECTED_TYPE,ey,JSON.stringify(e),i,n),null):-1!==r.indexOf(o)},e_.semver_eq=function(e,t){var n=eI(e,t);return null===n?null:0===n},e_.semver_gt=function(e,t){var n=eI(e,t);return null===n?null:n>0},e_.semver_ge=function(e,t){var n=eI(e,t);return null===n?null:n>=0},e_.semver_lt=function(e,t){var n=eI(e,t);return null===n?null:n<0},e_.semver_le=function(e,t){var n=eI(e,t);return null===n?null:n<=0};var ex=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===ew.indexOf(n))return eb.warn(w.UNKNOWN_MATCH_TYPE,ey,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&e_[n]||eC)(e,t):(eb.debug(w.MISSING_ATTRIBUTE_VALUE,ey,JSON.stringify(e),r),null)}}),eT=o.getLogger(),eS=function(){function e(e){this.typeToEvaluatorMap=m.assign({},e,{custom_attribute:ex})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!V(e,function(e){var i=t[e];if(i){eT.log(y.DEBUG,w.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=V(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return eT.log(y.DEBUG,w.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null})},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return eT.log(y.WARNING,w.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){eT.log(y.ERROR,b.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function ek(e){return"string"==typeof e&&""!==e}var eN="DECISION_SERVICE",eD=function(){function e(e){this.audienceEvaluator=new eS(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i){void 0===i&&(i={});var o=r.getUserId(),a=r.getAttributes(),s=this.getBucketingId(o,a),u=[],c=n.key;if(!this.checkIfExperimentIsActive(e,c))return this.logger.log(y.INFO,w.EXPERIMENT_NOT_RUNNING,eN,c),u.push([w.EXPERIMENT_NOT_RUNNING,eN,c]),{result:null,reasons:u};var l=this.getForcedVariation(e,c,o);u.push.apply(u,l.reasons);var A=l.result;if(A)return{result:A,reasons:u};var d=this.getWhitelistedVariation(n,o);u.push.apply(u,d.reasons);var f=d.result;if(f)return{result:f.key,reasons:u};var h=i[t.N1.IGNORE_USER_PROFILE_SERVICE],p=this.resolveExperimentBucketMap(o,a);if(!h&&(f=this.getStoredVariation(e,n,o,p)))return this.logger.log(y.INFO,w.RETURNING_STORED_VARIATION,eN,f.key,c,o),u.push([w.RETURNING_STORED_VARIATION,eN,f.key,c,o]),{result:f.key,reasons:u};var g=this.checkIfUserIsInAudience(e,n,B.EXPERIMENT,a,"");if(u.push.apply(u,g.reasons),!g.result)return this.logger.log(y.INFO,w.USER_NOT_IN_EXPERIMENT,eN,o,c),u.push([w.USER_NOT_IN_EXPERIMENT,eN,o,c]),{result:null,reasons:u};var v=el(this.buildBucketerParams(e,n,s,o));u.push.apply(u,v.reasons);var m=v.result;return m&&(f=e.variationIdMap[m]),f?(this.logger.log(y.INFO,w.USER_HAS_VARIATION,eN,o,f.key,c),u.push([w.USER_HAS_VARIATION,eN,o,f.key,c]),h||this.saveUserProfile(n,f,o,p),{result:f.key,reasons:u}):(this.logger.log(y.DEBUG,w.USER_HAS_NO_VARIATION,eN,o,c),u.push([w.USER_HAS_NO_VARIATION,eN,o,c]),{result:null,reasons:u})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[_.STICKY_BUCKETING_KEY];return m.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return"Running"===$(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(y.INFO,w.USER_FORCED_IN_VARIATION,eN,t,r),n.push([w.USER_FORCED_IN_VARIATION,eN,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(y.ERROR,w.FORCED_BUCKETING_FAILED,eN,r,t),n.push([w.FORCED_BUCKETING_FAILED,eN,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],a=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(b.INVALID_EXPERIMENT_ID,G,t));return n.audienceConditions||n.audienceIds}(e,t.id),s=e.audiencesById;this.logger.log(y.DEBUG,w.EVALUATING_AUDIENCES_COMBINED,eN,n,i||t.key,JSON.stringify(a)),o.push([w.EVALUATING_AUDIENCES_COMBINED,eN,n,i||t.key,JSON.stringify(a)]);var u=this.audienceEvaluator.evaluate(a,s,r);return this.logger.log(y.INFO,w.AUDIENCE_EVALUATION_RESULT_COMBINED,eN,n,i||t.key,u.toString().toUpperCase()),o.push([w.AUDIENCE_EVALUATION_RESULT_COMBINED,eN,n,i||t.key,u.toString().toUpperCase()]),{result:u,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:ee(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(y.INFO,w.SAVED_VARIATION_NOT_FOUND,eN,n,o,t.key)}return null},e.prototype.getUserProfile=function(e){if(!this.userProfileService)return{user_id:e,experiment_bucket_map:{}};try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(y.ERROR,b.USER_PROFILE_LOOKUP_ERROR,eN,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(y.INFO,w.SAVED_VARIATION,eN,t.key,e.key,n)}catch(e){this.logger.log(y.ERROR,b.USER_PROFILE_SAVE_ERROR,eN,n,e.message)}},e.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var i=[],o=this.getVariationForFeatureExperiment(e,t,n,r);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,n);i.push.apply(i,s.reasons);var u=s.result,c=n.getUserId();return u.variation?(this.logger.log(y.DEBUG,w.USER_IN_ROLLOUT,eN,c,t.key),i.push([w.USER_IN_ROLLOUT,eN,c,t.key])):(this.logger.log(y.DEBUG,w.USER_NOT_IN_ROLLOUT,eN,c,t.key),i.push([w.USER_NOT_IN_ROLLOUT,eN,c,t.key])),{result:u,reasons:i}},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var u=et(e,t.experimentIds[o],this.logger);if(u&&(i=this.getVariationFromExperimentRule(e,t.key,u,n,r),a.push.apply(a,i.reasons),s=i.result)){var c=null;return(c=u.variationKeyMap[s])||(c=en(e,t.key,s)),{result:{experiment:u,variation:c,decisionSource:C.FEATURE_TEST},reasons:a}}}else this.logger.log(y.DEBUG,w.FEATURE_HAS_NO_EXPERIMENTS,eN,t.key),a.push([w.FEATURE_HAS_NO_EXPERIMENTS,eN,t.key]);return{result:{experiment:null,variation:null,decisionSource:C.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(y.DEBUG,w.NO_ROLLOUT_EXISTS,eN,t.key),r.push([w.NO_ROLLOUT_EXISTS,eN,t.key]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(y.ERROR,b.INVALID_ROLLOUT_ID,eN,t.rolloutId,t.key),r.push([b.INVALID_ROLLOUT_ID,eN,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};var o,a,s,u=i.experiments;if(0===u.length)return this.logger.log(y.ERROR,w.ROLLOUT_HAS_NO_EXPERIMENTS,eN,t.rolloutId),r.push([w.ROLLOUT_HAS_NO_EXPERIMENTS,eN,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};for(var c=0;c<u.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,u,c,n),r.push.apply(r,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[u[c].id],variation:s,decisionSource:C.ROLLOUT},reasons:r};c=a?u.length-1:c+1}return{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(_.BUCKETING_ID)&&("string"==typeof t[_.BUCKETING_ID]?(n=t[_.BUCKETING_ID],this.logger.log(y.DEBUG,w.VALID_BUCKETING_ID,eN,n)):this.logger.log(y.WARNING,w.BUCKETING_ID_NOT_STRING,eN)),n},e.prototype.findValidatedForcedDecision=function(e,t,n,r){var i,o=[],a=t.getForcedDecision({flagKey:n,ruleKey:r}),s=null,u=t.getUserId();return e&&a&&((s=en(e,n,i=a.variationKey))?r?(this.logger.log(y.INFO,w.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u),o.push([w.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u])):(this.logger.log(y.INFO,w.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u),o.push([w.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u])):r?(this.logger.log(y.INFO,w.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u),o.push([w.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u])):(this.logger.log(y.INFO,w.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u),o.push([w.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw Error(g(b.INVALID_USER_ID,eN));if(!this.forcedVariationMap.hasOwnProperty(e))throw Error(g(b.USER_NOT_IN_FORCED_VARIATION,eN,e));delete this.forcedVariationMap[e][t],this.logger.log(y.DEBUG,w.VARIATION_REMOVED_FOR_USER,eN,n,e)},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(y.DEBUG,w.USER_MAPPED_TO_FORCED_VARIATION,eN,n,t,e)},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(y.DEBUG,w.USER_HAS_NO_FORCED_VARIATION,eN,n),{result:null,reasons:i};try{var a=J(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(y.ERROR,b.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t),i.push([b.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t]),{result:null,reasons:i};r=a.id}catch(e){return this.logger.log(y.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[r];if(!s)return this.logger.log(y.DEBUG,w.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n),{result:null,reasons:i};var u=X(e,s);return u?(this.logger.log(y.DEBUG,w.USER_HAS_FORCED_VARIATION,eN,u,t,n),i.push([w.USER_HAS_FORCED_VARIATION,eN,u,t,n])):this.logger.log(y.DEBUG,w.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n),{result:u,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!ek(r))return this.logger.log(y.ERROR,b.INVALID_VARIATION_KEY,eN),!1;try{var i,o,a=J(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(y.ERROR,b.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t),!1;o=a.id}catch(e){return this.logger.log(y.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,o,t),!0}catch(e){return this.logger.log(y.ERROR,e.message),!1}var s=(i=e.experimentKeyMap[t]).variationKeyMap.hasOwnProperty(r)?i.variationKeyMap[r].id:null;if(!s)return this.logger.log(y.ERROR,b.NO_VARIATION_FOR_EXPERIMENT_KEY,eN,r,t),!1;try{return this.setInForcedVariationMap(n,o,s),!0}catch(e){return this.logger.log(y.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,n,r,i){void 0===i&&(i={});var o=[],a=this.findValidatedForcedDecision(e,r,t,n.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var u=this.getVariation(e,n,r,i);return o.push.apply(o,u.reasons),{result:u.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,n,r,i){var o=[],a=!1,s=n[r],u=this.findValidatedForcedDecision(e,i,t,s.key);o.push.apply(o,u.reasons);var c=u.result;if(c)return{result:c,reasons:o,skipToEveryoneElse:a};var l,A,d=i.getUserId(),f=i.getAttributes(),h=this.getBucketingId(d,f),p=r===n.length-1,g=p?"Everyone Else":r+1,v=null,m=this.checkIfUserIsInAudience(e,s,B.RULE,f,g);return o.push.apply(o,m.reasons),m.result?(this.logger.log(y.DEBUG,w.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,d,g),o.push([w.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,d,g]),A=el(this.buildBucketerParams(e,s,h,d)),o.push.apply(o,A.reasons),(l=A.result)&&(v=e.variationIdMap.hasOwnProperty(l)?e.variationIdMap[l]:null),v?(this.logger.log(y.DEBUG,w.USER_BUCKETED_INTO_TARGETING_RULE,eN,d,g),o.push([w.USER_BUCKETED_INTO_TARGETING_RULE,eN,d,g])):p||(this.logger.log(y.DEBUG,w.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eN,d,g),o.push([w.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eN,d,g]),a=!0)):(this.logger.log(y.DEBUG,w.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eN,d,g),o.push([w.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eN,d,g])),{result:v,reasons:o,skipToEveryoneElse:a}},e}();function eO(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?isNaN(r=parseInt(n))?(t.log(y.INFO,w.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(y.INFO,w.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(y.INFO,w.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eR(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?isNaN(r=parseFloat(n))?(t.log(y.INFO,w.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(y.INFO,w.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(y.INFO,w.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eF(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||m.isNumber(t)&&m.isSafeInteger(t))}var eL="https://logx.optimizely.com/v1/events";function eP(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,c={account_id:o.accountId,project_id:o.projectId,visitors:[{snapshots:[],visitor_id:n,attributes:[]}],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach(function(e){if(eF(e,t[e])){var n=q(o,e,a);n&&c.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}}),"boolean"==typeof u&&c.visitors[0].attributes.push({entity_id:_.BOT_FILTERING,key:_.BOT_FILTERING,type:"custom",value:u}),c}function eU(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function eM(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function ej(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function eZ(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}function eQ(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var eH=o.getLogger("EVENT_BUILDER");function eV(e,t){var n=[];return t&&Object.keys(t||{}).forEach(function(r){if(eF(r,t[r])){var i=q(e,r,eH);i&&n.push({entityId:i,key:r,value:t[r]})}}),n}var eK="USER_PROFILE_SERVICE_VALIDATOR",eG=function(){function e(e){var n,r=this,i=e.clientEngine;i||(e.logger.log(y.INFO,w.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.9.2",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(n=e.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(o)||(this.logger.log(y.DEBUG,w.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach(function(e){t.N1[e]?a[e]=!0:r.logger.log(y.WARNING,w.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}),this.defaultDecideOptions=a,this.projectConfigManager=new ec({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){r.logger.log(y.INFO,w.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(v.OPTIMIZELY_CONFIG_UPDATE)});var s=this.projectConfigManager.onReady(),u=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw Error(g(b.INVALID_USER_PROFILE_SERVICE,eK,"Missing function 'lookup'"));if("function"!=typeof e.save)throw Error(g(b.INVALID_USER_PROFILE_SERVICE,eK,"Missing function 'save'"));return!0}throw Error(g(b.INVALID_USER_PROFILE_SERVICE,eK))})(e.userProfileService)&&(u=e.userProfileService,this.logger.log(y.INFO,w.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(y.WARNING,e.message)}this.decisionService=new eD({userProfileService:u,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators}),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var c=this.eventProcessor.start();this.readyPromise=Promise.all([s,c]).then(function(e){return e[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if("Running"!==$(r,e))return this.logger.log(y.DEBUG,w.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=J(r,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:C.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,n),i}catch(n){return this.logger.log(y.ERROR,n.message),this.logger.log(y.INFO,w.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s,u,c,l,A,d,f,h,p,g,v,y,b,w,_=(s=(a={decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o}).configObj,u=a.decisionObj,c=a.userId,l=a.flagKey,A=a.enabled,d=a.userAttributes,f=a.clientEngine,h=a.clientVersion,p=u.decisionSource,g=eU(u),v=eZ(u),y=eM(u),b=eQ(u),w=null!==v?W(s,v):null,{type:"impression",timestamp:m.currentTimestamp(),uuid:m.uuid(),user:{id:c,attributes:eV(s,d)},context:{accountId:s.accountId,projectId:s.projectId,revision:s.revision,clientName:f,clientVersion:h,anonymizeIP:s.anonymizeIP||!1,botFiltering:s.botFiltering},layer:{id:w},experiment:{id:v,key:g},variation:{id:b,key:y},ruleKey:g,flagKey:l,ruleType:p,enabled:A});this.eventProcessor.process(_),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=eU(e),c=eZ(e),l=eM(e),A=eQ(e);null!==c&&""!==l&&(a=o.experimentIdMap[c]);var d,f,h,p,g,y,b,w,_,E,C,B,I,x=(C=eP(d={attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:c,ruleKey:u,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:A,logger:this.logger}),f=d.configObj,h=d.experimentId,p=d.variationId,g=d.ruleKey,y=d.ruleType,b=d.flagKey,w=d.enabled,_=h?W(f,h):null,E=p?X(f,p):null,B={decisions:[{campaign_id:_,experiment_id:h,variation_id:p,metadata:{flag_key:b,rule_key:g,rule_type:y,variation_key:E=E||"",enabled:w}}],events:[{entity_id:_,timestamp:m.currentTimestamp(),key:"campaign_activated",uuid:m.uuid()}]},C.visitors[0].snapshots.push(B),{httpVerb:"POST",url:eL,params:C});a&&a.variationKeyMap&&""!==l&&(I=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(v.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:I,logEvent:x})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i,o,a,s,u,c,l,A,d,f,h,p=this.projectConfigManager.getConfig();if(!p)return;if(!p.eventKeyMap.hasOwnProperty(e))return this.logger.log(y.WARNING,w.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(y.WARNING,w.NOT_TRACKING_USER,"OPTIMIZELY",t);var g=(o=(i={eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:p}).configObj,a=i.userId,s=i.userAttributes,u=i.clientEngine,c=i.clientVersion,l=i.eventKey,A=i.eventTags,d=Y(o,l),f=A?eO(A,eH):null,h=A?eR(A,eH):null,{type:"conversion",timestamp:m.currentTimestamp(),uuid:m.uuid(),user:{id:a,attributes:eV(o,s)},context:{accountId:o.accountId,projectId:o.projectId,revision:o.revision,clientName:u,clientVersion:c,anonymizeIP:o.anonymizeIP||!1,botFiltering:o.botFiltering},event:{id:d,key:l},revenue:f,value:h,tags:A});this.logger.log(y.INFO,w.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(g),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(y.ERROR,w.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i,o,a,s=this.projectConfigManager.getConfig();if(!s)return;var u=(i={attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s,eventKey:e,eventTags:r,logger:this.logger,userId:t},o=eP(i),a=function(e,t,n,r){var i={events:[]},o={entity_id:Y(e,t),timestamp:m.currentTimestamp(),uuid:m.uuid(),key:t};if(r){var a=eO(r,n);null!==a&&(o.revenue=a);var s=eR(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(i.configObj,i.eventKey,i.logger,i.eventTags),o.visitors[0].snapshots=[a],{httpVerb:"POST",url:eL,params:o});this.notificationCenter.sendNotifications(v.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:u})}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r,i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.experimentKeyMap[e];if(!o)return this.logger.log(y.DEBUG,b.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var a=this.decisionService.getVariation(i,o,this.createUserContext(t,n)).result,s=(r=o.id,i.experimentFeatureMap.hasOwnProperty(r)?E.FEATURE_TEST:E.AB_TEST);return this.notificationCenter.sendNotifications(v.DECISION,{type:s,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw Error(g(b.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(t){if(!ek(e[t]))throw Error(g(b.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))}),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(g(b.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach(function(t){if(void 0===e[t])throw Error(g(b.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(g(b.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(y.INFO,w.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(null===e[t]||void 0===e[t])&&delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=er(r,e,this.logger);if(!i)return!1;var o={},a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(r,i,a).result,u=s.decisionSource,c=eU(s),l=eM(s),A=ej(s);u===C.FEATURE_TEST&&(o={experimentKey:c,variationKey:l}),(u===C.FEATURE_TEST||u===C.ROLLOUT&&ea(r))&&this.sendImpressionEvent(s,i.key,t,A,n),!0===A?this.logger.log(y.INFO,w.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(y.INFO,w.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),A=!1);var d={featureKey:e,featureEnabled:A,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(v.DECISION,{type:E.FEATURE,userId:t,attributes:n||{},decisionInfo:d}),A}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i&&h(i.featureKeyMap).forEach(function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)}),r}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o,a,s=this.projectConfigManager.getConfig();if(!s)return null;var u=er(s,e,this.logger);if(!u)return null;var c=(o=this.logger,(a=s.featureKeyMap[e])?a.variableKeyMap[t]||(o.log(y.ERROR,b.VARIABLE_KEY_NOT_IN_DATAFILE,G,t,e),null):(o.log(y.ERROR,b.FEATURE_NOT_IN_DATAFILE,G,e),null));if(!c)return null;if(n&&c.type!==n)return this.logger.log(y.WARNING,w.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,c.type),null;var l=this.createUserContext(r,i),A=this.decisionService.getVariationForFeature(s,u,l).result,d=ej(A),f=this.getFeatureVariableValueFromVariation(e,d,A.variation,c,r),h={};return A.decisionSource===C.FEATURE_TEST&&null!==A.experiment&&null!==A.variation&&(h={experimentKey:A.experiment.key,variationKey:A.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:E.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:d,source:A.decisionSource,variableKey:t,variableValue:f,variableType:c.type,sourceInfo:h}}),f},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=r.defaultValue;if(null!==n){var s=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(y.ERROR,b.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,G,n.id),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null}(o,r,n,this.logger);null!==s?t?(a=s,this.logger.log(y.INFO,w.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e)):this.logger.log(y.INFO,w.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(y.INFO,w.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(y.INFO,w.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e);return function(e,t,n){var r;switch(t){case I.BOOLEAN:"true"!==e&&"false"!==e?(n.log(y.ERROR,b.UNABLE_TO_CAST_VALUE,G,e,t),r=null):r="true"===e;break;case I.INTEGER:isNaN(r=parseInt(e,10))&&(n.log(y.ERROR,b.UNABLE_TO_CAST_VALUE,G,e,t),r=null);break;case I.DOUBLE:isNaN(r=parseFloat(e))&&(n.log(y.ERROR,b.UNABLE_TO_CAST_VALUE,G,e,t),r=null);break;case I.JSON:try{r=JSON.parse(e)}catch(i){n.log(y.ERROR,b.UNABLE_TO_CAST_VALUE,G,e,t),r=null}break;default:r=e}return r}(a,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,I.BOOLEAN,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,I.DOUBLE,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,I.INTEGER,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,I.STRING,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,I.JSON,n,r):(this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=er(i,e,this.logger);if(!o)return null;var a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(i,o,a).result,u=ej(s),c={};o.variables.forEach(function(n){c[n.key]=r.getFeatureVariableValueFromVariation(e,u,s.variation,n,t)});var l={};return s.decisionSource===C.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(l={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:E.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()}),this.readyTimeouts={},t.then(function(){return{success:!0}},function(e){return{success:!1,reason:String(e)}})}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),m.isSafeInteger(t)||(t=3e4);var i=new Promise(function(e){n=e}),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout(function(){delete r.readyTimeouts[o],n({success:!1,reason:g("onReady timeout expired after %s ms",t)})},t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(a),delete r.readyTimeouts[o],n({success:!0})}),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new Q({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,a,s,u=this;void 0===r&&(r=[]);var c,l=e.getUserId(),d=e.getAttributes(),f=this.projectConfigManager.getConfig(),h=[];if(!this.isValidInstance()||!f)return this.logger.log(y.INFO,w.INVALID_OBJECT,"OPTIMIZELY","decide"),Z(n,e,[T.SDK_NOT_READY]);var p=f.featureKeyMap[n];if(!p)return this.logger.log(y.ERROR,b.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),Z(n,e,[g(T.FLAG_KEY_INVALID,n)]);var m=this.getAllDecideOptions(r),_=this.decisionService.findValidatedForcedDecision(f,e,n);h.push.apply(h,_.reasons);var B=_.result;if(B)c={experiment:null,variation:B,decisionSource:C.FEATURE_TEST};else{var I=this.decisionService.getVariationForFeature(f,p,e,m);h.push.apply(h,I.reasons),c=I.result}var x=c.decisionSource,S=null!==(o=null===(i=c.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,k=null!==(s=null===(a=c.variation)||void 0===a?void 0:a.key)&&void 0!==s?s:null,N=ej(c);!0===N?this.logger.log(y.INFO,w.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,l):this.logger.log(y.INFO,w.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,l);var D={},O=!1;m[t.N1.EXCLUDE_VARIABLES]||p.variables.forEach(function(e){D[e.key]=u.getFeatureVariableValueFromVariation(n,N,c.variation,e,l)}),!m[t.N1.DISABLE_DECISION_EVENT]&&(x===C.FEATURE_TEST||x===C.ROLLOUT&&ea(f))&&(this.sendImpressionEvent(c,n,l,N,d),O=!0);var R=[];m[t.N1.INCLUDE_REASONS]&&(R=h.map(function(e){return g.apply(void 0,A([e[0]],e.slice(1)))}));var F={flagKey:n,enabled:N,variationKey:k,ruleKey:S,variables:D,reasons:R,decisionEventDispatched:O};return this.notificationCenter.sendNotifications(v.DECISION,{type:E.FLAG,userId:l,attributes:d,decisionInfo:F}),{variationKey:k,enabled:N,variables:D,ruleKey:S,flagKey:n,userContext:e,reasons:R}},e.prototype.getAllDecideOptions=function(e){var n=this,r=l({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(e){t.N1[e]?r[e]=!0:n.logger.log(y.WARNING,w.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}):this.logger.log(y.DEBUG,w.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===n.length)return o;var a=this.getAllDecideOptions(r);return n.forEach(function(n){var s=i.decide(e,n,r);a[t.N1.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[n]=s)}),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(y.ERROR,w.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),ez=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},h(v).forEach(function(e){t.notificationListeners[e]=[]}),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(h(v).indexOf(e)>-1))return -1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach(function(e){e.callback!==t||(n=!0)}),n)return -1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t,n,r=this;try{if(Object.keys(this.notificationListeners).some(function(i){return(r.notificationListeners[i]||[]).every(function(r,o){return r.id!==e||(t=o,n=i,!1)}),void 0!==t&&void 0!==n}),void 0!==t&&void 0!==n)return this.notificationListeners[n].splice(t,1),!0}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{h(v).forEach(function(t){e.notificationListeners[t]=[]})}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach(function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(y.ERROR,w.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}})}catch(e){this.logger.log(y.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),eW={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.LogTierV1EventProcessor.bind.apply(a.LogTierV1EventProcessor,A([void 0],e)))},LocalStoragePendingEventsDispatcher:a.LocalStoragePendingEventsDispatcher},eq=o.getLogger();o.setLogHandler(L()),o.setLogLevel(o.LogLevel.INFO);var eY=!1,e$={logging:j,errorHandler:{handleError:function(){}},eventDispatcher:R,enums:S,setLogger:o.setLogHandler,setLogLevel:o.setLogLevel,createInstance:function(e){try{var t,n,r=!1;e.errorHandler&&o.setErrorHandler(e.errorHandler),e.logger&&(o.setLogHandler(e.logger),o.setLogLevel(o.LogLevel.NOTSET)),void 0!==e.logLevel&&o.setLogLevel(e.logLevel);try{D(e),r=!0}catch(e){eq.error(e)}var i=void 0;null==e.eventDispatcher?(i=new a.LocalStoragePendingEventsDispatcher({eventDispatcher:R}),eY||(i.sendPendingEvents(),eY=!0)):i=e.eventDispatcher;var s=e.eventBatchSize,u=e.eventFlushInterval;t=e.eventBatchSize,!("number"!=typeof t||!m.isSafeInteger(t))&&t>=1||(eq.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),s=10),n=e.eventFlushInterval,!("number"!=typeof n||!m.isSafeInteger(n))&&n>0||(eq.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),u=1e3);var A=o.getErrorHandler(),d=new ez({logger:eq,errorHandler:A}),f={dispatcher:i,flushInterval:u,batchSize:s,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:d},h=l(l({clientEngine:"javascript-sdk"},e),{eventProcessor:eW.createEventProcessor(f),logger:eq,errorHandler:A,datafileManager:e.sdkKey?function(e,t,n,r){var i={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&m.assign(i,r),n){var o=eo({datafile:n,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=ei(a))}return new c.HttpPollingDatafileManager(i)}(e.sdkKey,eq,e.datafile,e.datafileOptions):void 0,notificationCenter:d,isValidInstance:r}),p=new eG(h);try{if("function"==typeof window.addEventListener){var g="onpagehide"in window?"pagehide":"unload";window.addEventListener(g,function(){p.close()},!1)}}catch(e){eq.error(w.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return p}catch(e){return eq.error(e),null}},__internalResetRetryState:function(){eY=!1},OptimizelyDecideOption:t.N1};t.ZP=e$},69015:function(e,t,n){var r=n(70474),i=n(35977);i.v1=r,i.v4=i,e.exports=i},53219:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}},94102:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},70474:function(e,t,n){var r,i,o=n(94102),a=n(53219),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],A=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==A||null==d){var f=o();null==A&&(A=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=(f[6]<<8|f[7])&16383)}var h=void 0!==e.msecs?e.msecs:new Date().getTime(),p=void 0!==e.nsecs?e.nsecs:u+1,g=h-s+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=p,i=d;var v=((268435455&(h+=122192928e5))*1e4+p)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=h/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var y=0;y<6;++y)l[c+y]=A[y];return t||a(l)}},35977:function(e,t,n){var r=n(94102),i=n(53219);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},45293:function(e,t,n){"use strict";function r(e,t){for(var n,r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(!e){if(void 0===t)n=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(n=Error(t.replace(/%s/g,function(){return i[a++]}))).name="Invariant Violation"}throw n.framesToPop=1,n}}n.d(t,{k:function(){return r}})},57320:function(e,t,n){"use strict";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],A=t[c];if(!1===(i=n?n.call(r,l,A,c):void 0)||void 0===i&&l!==A)return!1}return!0}n.d(t,{w:function(){return r}})},44172:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},39830:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:15,height:17,viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4.5 7.5v-3a3 3 0 016 0V5m-8 2.5h10a1 1 0 011 1v6a1 1 0 01-1 1h-10a1 1 0 01-1-1v-6a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},28257:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"var(--grey-1200)"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M13.7 13.7h-1.2v-1.2h1.2v1.2zM10.1 13.7h1.2v-1.2h-1.2v1.2zM16.1 13.7h-1.2v-1.2h1.2v1.2z",fill:"currentColor"})),i||(i=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1 7.7v-3a4.2 4.2 0 018.4 0v3h1.8a1.8 1.8 0 011.8 1.8v.66a3.001 3.001 0 010 5.88v.66a1.8 1.8 0 01-1.8 1.8h-12a1.8 1.8 0 01-1.8-1.8V9.5a1.8 1.8 0 011.8-1.8h1.8zm1.2-3a3 3 0 016 0v3h-6v-3zm5.4 6.6a1.8 1.8 0 000 3.6h4.8a1.8 1.8 0 000-3.6h-4.8z",fill:"currentColor"})))}},11769:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:134,height:20,viewBox:"0 0 134 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("g",{clipPath:"url(#eraserLogo_svg__clip0_1108_14881)"},/*#__PURE__*/o.createElement("path",{d:"M63.006 17.28c-2.118 0-3.84-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.38-2.083 2.418-2.731 1.038-.655 2.194-.976 3.47-.976 2.027 0 3.595.648 4.703 1.944 1.107 1.296 1.658 3.129 1.658 5.498v1.351H59.25c.098 1.233.509 2.202 1.233 2.92.718.717 1.63 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.997 5.997 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.397-12.765c-.92 0-1.659.32-2.223.961-.564.641-.927 1.54-1.08 2.683h6.375v-.251c-.076-1.122-.369-1.965-.892-2.543-.53-.558-1.254-.85-2.18-.85zM79.38 5.163a7.913 7.913 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143zM90.123 17.007c-.146-.285-.278-.745-.383-1.393-1.066 1.108-2.369 1.665-3.909 1.665-1.498 0-2.717-.425-3.665-1.282-.947-.857-1.42-1.91-1.42-3.17 0-1.589.591-2.808 1.769-3.658 1.177-.85 2.864-1.275 5.058-1.275h2.049v-.976c0-.773-.216-1.386-.648-1.853-.432-.467-1.087-.697-1.972-.697-.76 0-1.387.188-1.874.572-.488.383-.732.864-.732 1.456h-3.344c0-.815.271-1.582.815-2.292.543-.711 1.275-1.269 2.209-1.673.933-.404 1.971-.606 3.121-.606 1.742 0 3.135.44 4.174 1.317 1.038.878 1.567 2.111 1.595 3.7v6.716c0 1.338.188 2.411.564 3.212v.237h-3.407zm-3.672-2.41c.662 0 1.283-.16 1.868-.481.585-.32 1.024-.753 1.317-1.296v-2.808H87.83c-1.24 0-2.174.216-2.794.648-.627.432-.934 1.045-.934 1.832 0 .641.216 1.157.641 1.533.418.383.99.572 1.707.572zM104.832 12.96c0-.6-.244-1.053-.739-1.366-.495-.314-1.303-.586-2.445-.83-1.136-.236-2.09-.543-2.85-.905-1.672-.808-2.508-1.979-2.508-3.512 0-1.282.543-2.362 1.623-3.219 1.08-.864 2.46-1.296 4.132-1.296 1.783 0 3.219.44 4.32 1.324 1.093.878 1.644 2.028 1.644 3.428h-3.345c0-.64-.236-1.177-.717-1.602-.481-.425-1.108-.641-1.902-.641-.732 0-1.331.167-1.798.508-.467.342-.697.794-.697 1.366 0 .515.216.913.648 1.198.432.286 1.303.572 2.62.864 1.31.293 2.341.634 3.094 1.031.745.397 1.303.878 1.665 1.443.362.557.543 1.24.543 2.041 0 1.338-.557 2.425-1.665 3.254-1.108.829-2.564 1.247-4.368 1.247-1.22 0-2.307-.223-3.261-.662-.955-.439-1.7-1.045-2.23-1.818-.53-.774-.801-1.603-.801-2.495h3.247c.049.788.341 1.4.892 1.826.55.425 1.282.64 2.187.64.878 0 1.554-.166 2.014-.5.467-.342.697-.781.697-1.325zM117.596 17.28c-2.118 0-3.839-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.379-2.083 2.418-2.731 1.038-.655 2.194-.976 3.469-.976 2.028 0 3.596.648 4.703 1.944 1.108 1.296 1.659 3.129 1.659 5.498v1.351h-9.734c.098 1.233.509 2.202 1.233 2.92.718.717 1.631 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.998 5.998 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.398-12.765c-.919 0-1.658.32-2.222.961-.565.641-.927 1.54-1.08 2.683h6.375v-.251c-.077-1.122-.369-1.965-.892-2.543-.529-.558-1.254-.85-2.181-.85zM133.97 5.163a7.915 7.915 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143z",fill:"currentColor"}),/*#__PURE__*/o.createElement("path",{d:"M23.292 19.112H1.45c-1.122 0-1.818-1.596-1.24-2.843L7.323.906C7.58.34 8.054 0 8.563 0h14.736v19.112h-.007z",fill:"#EC2C40"}),/*#__PURE__*/o.createElement("path",{d:"M25.8 0h21.85c1.123 0 1.82 1.596 1.24 2.843l-7.113 15.363c-.258.564-.731.906-1.24.906H25.801V0z",fill:"#00A9E5"}))),i||(i=/*#__PURE__*/o.createElement("defs",null,/*#__PURE__*/o.createElement("clipPath",{id:"eraserLogo_svg__clip0_1108_14881"},/*#__PURE__*/o.createElement("path",{fill:"#fff",d:"M0 0h133.984v19.112H0z"})))))}},20790:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"book-open_svg__feather book-open_svg__feather-book-open"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2zM22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})))}},33695:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"edit-2_svg__feather edit-2_svg__feather-edit-2"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}},34484:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"eye_svg__feather eye_svg__feather-eye"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),i||(i=/*#__PURE__*/o.createElement("circle",{cx:12,cy:12,r:3})))}},16060:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fill:"currentColor",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},99587:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M23.6 9.593l-.033-.086L20.3.98a.851.851 0 00-.336-.405.875.875 0 00-1 .054.875.875 0 00-.29.44L16.47 7.818H7.537L5.332 1.07a.857.857 0 00-.29-.441.875.875 0 00-1-.054.859.859 0 00-.336.405L.433 9.502l-.032.086a6.066 6.066 0 002.012 7.01l.01.009.03.021 4.977 3.727 2.462 1.863 1.5 1.132a1.008 1.008 0 001.22 0l1.499-1.132 2.461-1.863 5.006-3.75.013-.01a6.068 6.068 0 002.01-7.002z"})))}},42946:function(e,t,n){"use strict";var r,i,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"robot_svg__lucide robot_svg__lucide-bot"},e),r||(r=/*#__PURE__*/a.createElement("rect",{width:18,height:10,x:3,y:11,rx:2})),i||(i=/*#__PURE__*/a.createElement("circle",{cx:12,cy:5,r:2})),o||(o=/*#__PURE__*/a.createElement("path",{d:"M12 7v4M8.01 16H8M16.01 16H16"})))}},4185:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"x-circle_svg__feather x-circle_svg__feather-x-circle"},e),r||(r=/*#__PURE__*/o.createElement("circle",{cx:12,cy:12,r:10})),i||(i=/*#__PURE__*/o.createElement("path",{d:"M15 9l-6 6M9 9l6 6"})))}},72119:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:10,viewBox:"0 0 14 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4.6 9l-.39.312a.5.5 0 00.39.188V9zM1.4 5l-.39-.312a.5.5 0 000 .624L1.4 5zm3.2-4V.5a.5.5 0 00-.39.188L4.6 1zm7.5.8v6.4h1V1.8h-1zm-.3 6.7H4.6v1h7.2v-1zm-6.81.188l-3.2-4-.78.624 3.2 4 .78-.624zm-3.2-3.376l3.2-4-.78-.624-3.2 4 .78.624zM4.6 1.5h7.2v-1H4.6v1zm7.5 6.7a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zm1-6.4A1.3 1.3 0 0011.8.5v1a.3.3 0 01.3.3h1zM5.847 3.754l3.2 3.2.707-.708-3.2-3.2-.707.708zm3.2-.708l-3.2 3.2.707.708 3.2-3.2-.707-.708z",fill:"currentColor"})))}},96584:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},74442:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.8.8H4v.8H2.165l2.518 2.517-.566.566L1.6 2.165V4H.8V.8zm9.034.8H8V.8h3.2V4h-.8V2.165L7.883 4.683l-.566-.566L9.834 1.6zM4.683 7.883L2.165 10.4H4v.8H.8V8h.8v1.834l2.517-2.517.566.566zm3.2-.566L10.4 9.834V8h.8v3.2H8v-.8h1.834L7.317 7.883l.566-.566z",fill:"currentColor"})))}},48845:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1.4 9.4l-.353-.354-.147.147V9.4h.5zm8-8l.354-.354a.5.5 0 00-.707 0L9.4 1.4zm3.2 3.2l.354.353a.5.5 0 000-.707L12.6 4.6zm-8 8v.5h.208l.146-.146L4.6 12.6zm-3.2 0H.9a.5.5 0 00.5.5v-.5zm.354-2.847l8-8-.707-.707-8 8 .707.707zm7.293-8l3.2 3.2.707-.707-3.2-3.2-.707.707zm3.2 2.493l-8 8 .707.707 8-8-.707-.707zM4.6 12.1H1.4v1h3.2v-1zm-2.7.5V9.4h-1v3.2h1z",fill:"currentColor"})))}},75203:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"alertCircle_svg__feather alertCircle_svg__feather-alert-circle"},e),r||(r=/*#__PURE__*/o.createElement("circle",{cx:12,cy:12,r:10})),i||(i=/*#__PURE__*/o.createElement("path",{d:"M12 8v4M12 16h.01"})))}},40758:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4.998 7.8h4m-7.6-6.4h11.2v3.2h-11.2V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6h-9.6z",stroke:"currentColor"})))}},44885:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M10.2.4l2.4 2.4m0 0l-2.4 2.4m2.4-2.4H3.8a2.4 2.4 0 00-2.4 2.4v1.2m2.4 5.2L1.4 9.2m0 0l2.4-2.4M1.4 9.2h8.8a2.4 2.4 0 002.4-2.4V5.6",fill:"none",stroke:"currentColor",strokeLinejoin:"round"})))}},99283:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:5,height:5,viewBox:"0 0 5 3",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M.206 1.117l1.805 1.692c.272.255.71.255.983 0l1.804-1.692C5.23.705 4.924 0 4.303 0H.701C.074 0-.233.705.206 1.117z",fill:"currentColor"})))}},32538:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:6,height:9,viewBox:"0 0 6 9",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1.5 7.5l3-3-3-3",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))}},20417:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M11.25.758a.83.83 0 00-1.175 0L6 4.825 1.925.75A.83.83 0 10.75 1.925L4.825 6 .75 10.075a.83.83 0 101.175 1.175L6 7.175l4.075 4.075a.83.83 0 101.175-1.175L7.175 6l4.075-4.075a.835.835 0 000-1.167z",fill:"currentColor"})))}},5462:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},9622:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.793 7.5L1.146 1.854l.708-.708L7.5 6.793l5.646-5.647.708.708L8.207 7.5l5.647 5.646-.707.708L7.5 8.207l-5.646 5.647-.708-.707L6.793 7.5z",fill:"currentColor"})))}},6634:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M5 9.494h-.5v1H5v-1zm8 1h.5v-1H13v1zM5 13.49h-.5v1H5v-1zm8 1.009h.5v-1H13v1zM5 5.496h-.5v1H5v-1zM10.333 6.5h.5v-1h-.5v1zM13 .667l.354-.354-.147-.146H13v.5zm4 4h.5v-.208l-.146-.146-.354.354zM5 10.494h8v-1H5v1zm0 3.997l8 .009v-1l-8-.009v1zm0-7.995l5.333.004v-1L5 5.496v1zm10.667 12.337H2.333v1h13.334v-1zM1.5 18V2h-1v16h1zm.833-16.834H13v-1H2.333v1zm14.167 3.5V18h1V4.666h-1zM12.646 1.02l4 4 .708-.707-4-4-.708.707zM2.333 18.833A.833.833 0 011.5 18h-1c0 1.012.82 1.833 1.833 1.833v-1zm13.334 1c1.012 0 1.833-.82 1.833-1.833h-1c0 .46-.373.833-.833.833v1zM1.5 2c0-.46.373-.833.833-.833v-1C1.321.167.5.987.5 2h1z",fill:"currentColor"})))}},41144:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M3 1h4v4M1 7l6-6",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})))}},18114:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:14,height:9,viewBox:"0 0 14 9",fill:"none"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1.4 4.5l-.464-.186a.5.5 0 000 .372L1.4 4.5zm11.2 0l.464.186a.5.5 0 000-.372L12.6 4.5zM7 8C5.186 8 3.91 7.098 3.072 6.166a7.395 7.395 0 01-1.143-1.707 3.946 3.946 0 01-.065-.145L1.4 4.5l-.464.186v.002l.002.004a1.967 1.967 0 00.022.052l.064.141a8.394 8.394 0 001.304 1.95C3.288 7.901 4.814 9 7 9V8zM1.4 4.5a65.011 65.011 0 01.464.186.699.699 0 01.014-.032l.05-.113a7.395 7.395 0 011.143-1.707C3.912 1.902 5.187 1 7 1V0C4.814 0 3.289 1.098 2.328 2.166a8.394 8.394 0 00-1.304 1.949 4.937 4.937 0 00-.086.193l-.001.004v.001H.935L1.4 4.5zM7 1c1.814 0 3.089.902 3.928 1.834a7.401 7.401 0 011.143 1.707c.024.05.04.088.051.113l.012.027.002.005.464-.186a53.817 53.817 0 00.463-.188l-.001-.004-.005-.012a7.392 7.392 0 00-.334-.668 8.387 8.387 0 00-1.051-1.462C10.71 1.098 9.185 0 7 0v1zm5.6 3.5a67.702 67.702 0 01-.464-.186l-.002.005-.012.027-.05.113a7.401 7.401 0 01-1.143 1.707C10.088 7.098 8.813 8 6.998 8v1c2.187 0 3.712-1.098 4.673-2.166a8.387 8.387 0 001.304-1.949 4.613 4.613 0 00.08-.181l.006-.012a1.288 1.288 0 00.002-.006L12.6 4.5zM7 5.6a1.1 1.1 0 01-1.1-1.1h-1c0 1.16.94 2.1 2.1 2.1v-1zm1.1-1.1A1.1 1.1 0 017 5.6v1a2.1 2.1 0 002.1-2.1h-1zM7 3.4a1.1 1.1 0 011.1 1.1h1A2.1 2.1 0 007 2.4v1zm0-1a2.1 2.1 0 00-2.1 2.1h1A1.1 1.1 0 017 3.4v-1z",fill:"currentColor"})))}},49377:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1.5 0A1.5 1.5 0 000 1.5v10A1.5 1.5 0 001.5 13h12a1.5 1.5 0 001.5-1.5v-8A1.5 1.5 0 0013.5 2H7.707l-2-2H1.5z",fill:"currentColor"})))}},90087:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},91947:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:19,height:20,viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M12.725 1.146a12.04 12.04 0 00-5.45 0C6.24.51 5.45.219 4.874.096a3.184 3.184 0 00-.747-.079 1.85 1.85 0 00-.342.042l-.013.004-.006.001-.003.001-.003.001.202.704L3.76.066a.733.733 0 00-.468.406 4.576 4.576 0 00-.233 3.081 4.919 4.919 0 00-1.126 3.143c0 2.278.672 3.809 1.817 4.792.802.69 1.777 1.056 2.754 1.266-.161.448-.203.922-.17 1.405v.877c-.598.126-1.01.086-1.305-.01-.37-.123-.653-.368-.923-.72a7.066 7.066 0 01-.395-.589l-.084-.137c-.104-.17-.216-.352-.329-.518-.28-.413-.693-.929-1.362-1.105l-.71-.186-.372 1.419.71.186c.116.03.27.14.52.509.092.135.18.279.28.442l.099.16c.137.224.295.472.48.711.37.485.876.973 1.627 1.22.515.17 1.098.211 1.763.109v2.74c0 .405.329.733.734.733h5.866a.733.733 0 00.734-.733v-5.225c0-.463-.02-.887-.15-1.282.97-.205 1.938-.572 2.735-1.262 1.144-.99 1.815-2.535 1.815-4.826v-.003a4.92 4.92 0 00-1.126-3.116 4.578 4.578 0 00-.233-3.081.733.733 0 00-.468-.406l-.202.705c.201-.705.2-.706.199-.706h-.003l-.006-.002-.013-.004a1.01 1.01 0 00-.111-.022 1.851 1.851 0 00-.231-.02 3.186 3.186 0 00-.747.079c-.575.123-1.367.414-2.401 1.05z",fill:"currentColor"})))}},81337:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:15,viewBox:"0 0 12 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4.65 11.977a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM8 14v.5h1V14H8zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.353-.354zM11.5 5.413h.5V5.41l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM2.383 1.39L2.246.91a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM1.5 5.43H2v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM4.5 10.5H5l-.001-.037-.499.037zM4 14v.5h1V14H4zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zM9 10.438c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM12 5.41a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.456.456 0 00-.03-.007 1.262 1.262 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.19 1.19 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064C4.03 1.246 3.43 1.02 3.005.93a2.17 2.17 0 00-.51-.053 1.261 1.261 0 00-.245.032h-.002-.001l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025c.006-.28.068-.556.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 001 5.43l1-.003c0-.31.06-.616.177-.902l-.924-.38zM1 5.43c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C4.15 8.59 3.416 8.39 2.89 7.938 2.388 7.507 2 6.776 2 5.428H1zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L5 10.463c-.03-.408.052-.683.291-.921l-.705-.709zM4 10.5V14h1v-3.5H4zM9 14v-1.5H8V14h1zm0-1.5v-2.063H8V12.5h1z",fill:"currentColor"})))}},45944:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.414 3.828a2 2 0 00-2.828 0l-.672.672 1.568 1.568a2.002 2.002 0 012.45 2.45l2.05 2.05a2 2 0 11-1.414 1.414L13 10.414v4.854A2 2 0 0112 19a2 2 0 01-1-3.732V9.732a2 2 0 01-.932-2.25L8.5 5.914l-4.672 4.672a2 2 0 000 2.828l6.758 6.758a2 2 0 002.828 0l6.758-6.758a2 2 0 000-2.828l-6.758-6.758zM9.172 2.414a4 4 0 015.656 0l6.758 6.758a4 4 0 010 5.656l-6.758 6.758a4 4 0 01-5.656 0l-6.758-6.758a4 4 0 010-5.656l6.758-6.758z",fill:"currentColor"})))}},41174:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:13,height:14,viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M3.6 5.4v-.5a.5.5 0 00-.5.5h.5zm0 .8l.354.354.146-.147V6.2h-.5zm-1.366.235l-.353.353.353-.353zM5.2 11.4h.5v-.207l-.146-.146-.354.353zm-.8-.8h-.5v.207l.146.147.354-.354zm0-1.2h.5v-.207l-.146-.146L4.4 9.4zm-.8-.8h-.5v.207l.146.147L3.6 8.6zm0-.8v-.5a.5.5 0 00-.5.5h.5zm3.5-6.4V3h1V1.4h-1zm-.3 1.9H6v1h.8v-1zM4.4 4.9h-.8v1h.8v-1zm-1.3.5v.8h1v-.8h-1zm.146.447l-.234.234.707.707.235-.234-.708-.707zm-.658.234L1.154 4.647l-.708.707 1.435 1.434.707-.707zM4.7 4.601a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zM6 3.3a1.3 1.3 0 00-1.3 1.3h1a.3.3 0 01.3-.3v-1zM3.012 6.08a.3.3 0 01-.424 0l-.707.707a1.3 1.3 0 001.838 0l-.707-.707zM7.1 3.001a.3.3 0 01-.3.3v1A1.3 1.3 0 008.1 3h-1zm-1.4 9.6v-1.2h-1v1.2h1zm-.146-1.554l-.8-.8-.708.707.8.8.708-.707zM4.9 10.6V9.4h-1v1.2h1zm-.146-1.553l-.8-.8-.708.707.8.8.708-.707zM4.1 8.6v-.8h-1v.8h1zm-.5-.3h3.2v-1H3.6v1zm3.5.3v.534h1V8.6h-1zm1.567 2.1H10.8v-1H8.667v1zM7.9 9.934c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM7.867 9.9c.018 0 .033.015.033.034h1c0-.571-.463-1.034-1.033-1.034v1zM7.1 9.134c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM6.8 8.3a.3.3 0 01.3.3h1a1.3 1.3 0 00-1.3-1.3v1zM6 12.1A5.1 5.1 0 01.9 7h-1A6.1 6.1 0 006 13.1v-1zM11.1 7A5.1 5.1 0 016 12.1v1A6.1 6.1 0 0012.1 7h-1zM6 1.9A5.1 5.1 0 0111.1 7h1A6.1 6.1 0 006 .9v1zm0-1A6.1 6.1 0 00-.1 7h1A5.1 5.1 0 016 1.9v-1z",fill:"currentColor"})))}},95757:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:7,height:10,viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M1.5 8.5l4-3.5-4-3.5",stroke:"currentColor",strokeLinecap:"square"})))}},29340:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M3.603 6.2V3.8a2.4 2.4 0 114.8 0v2.4m-6.4 0h8a.8.8 0 01.8.8v4.8a.8.8 0 01-.8.8h-8a.8.8 0 01-.8-.8V7a.8.8 0 01.8-.8z",stroke:"currentColor"})))}},61649:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M10.8 6L8.4 8.6M10.8 6L8.4 3.6M10.8 6H3.2m3.2 4.8H1.2V1.2h5.2",fill:"none",stroke:"currentColor"})))}},46131:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M7 4.2v5.6M4.2 7h5.6M7 12.6A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",fill:"none",stroke:"currentColor"})))}},39231:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4 .733v6.534M.731 4h6.534",fill:"none",stroke:"currentColor"})))}},12967:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.8 2.8v2H10A1.2 1.2 0 0111.2 6v4.8A1.2 1.2 0 0110 12H2a1.2 1.2 0 01-1.2-1.2V6A1.2 1.2 0 012 4.8h1.2v-2a2.8 2.8 0 115.6 0zM4 2.8a2 2 0 114 0v2H4v-2z",fill:"currentColor"})))}},81053:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M7.5 9.5V8H8a1.5 1.5 0 001.5-1.5v-.1A1.4 1.4 0 008.1 5h-.6A1.5 1.5 0 006 6.5M7 11h1m-.5 4a7 7 0 110-14 7 7 0 010 14z",stroke:"currentColor"})))}},16294:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .8A5.2 5.2 0 00.8 6H0a6 6 0 0110.4-4.08V0h.8v3.2H8v-.8h1.752A5.184 5.184 0 006 .8zm0 10.4A5.2 5.2 0 0011.2 6h.8a6 6 0 01-10.4 4.08V12H.8V8.8H4v.8H2.248A5.184 5.184 0 006 11.2z",fill:"currentColor"})))}},97848:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M11.6 11.6L8.4 8.4M5.2 10a4.8 4.8 0 110-9.6 4.8 4.8 0 010 9.6z",fill:"none",stroke:"currentColor",strokeWidth:.8})))}},95184:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{clipRule:"evenodd",d:"M5.756 1.4l-.07.35-.262 1.278c-.421.16-.803.388-1.148.659l-1.286-.43-.346-.108-.179.309-.885 1.48-.18.31.263.229.995.846c-.036.222-.082.44-.082.673 0 .233.046.452.082.674l-.995.846-.263.23.18.308.885 1.48.18.31.345-.108 1.286-.43c.345.27.727.498 1.148.659l.263 1.278.069.35h2.488l.07-.35.262-1.278c.421-.16.803-.389 1.148-.659l1.286.43.346.108.18-.31.884-1.48.18-.308-.263-.23-.995-.846c.037-.222.082-.441.082-.674 0-.232-.045-.451-.082-.673l.995-.846.263-.23-.18-.308-.884-1.481-.18-.309-.346.107-1.286.43a4.416 4.416 0 00-1.148-.658l-.262-1.279-.07-.349H5.756z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})),i||(i=/*#__PURE__*/o.createElement("path",{clipRule:"evenodd",d:"M8.6 6.996a1.6 1.6 0 11-3.2-.002 1.6 1.6 0 013.2.002z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))}},54229:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M10.6 12.6h2v-1.2a2 2 0 00-2-2M7.8 3.798a2.4 2.4 0 11-4.798 0 2.4 2.4 0 014.798 0zm1.6 8.795h-8v-1.598a2.4 2.4 0 012.4-2.4H7a2.4 2.4 0 012.4 2.4v1.598zm.8-4.793a1.6 1.6 0 110-3.2 1.6 1.6 0 010 3.2z",fill:"none",stroke:"currentColor"})))}},57448:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M7 1.2l.197-.46a.5.5 0 00-.394 0L7 1.2zM1.4 3.6l-.197-.46a.5.5 0 000 .92L1.4 3.6zM7 6l-.197.46a.5.5 0 00.394 0L7 6zm5.6-2.4l.197.46a.5.5 0 000-.92l-.197.46zM7 8.4l-.197.46.197.084.197-.084L7 8.4zm0 2.4l-.197.46.197.084.197-.085L7 10.8zM6.803.74l-5.6 2.4.394.92 5.6-2.4-.394-.92zm-5.6 3.32l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm5.6-3.32l-5.6-2.4-.394.92 5.6 2.4.394-.92zM1.203 6.46l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm-5.994 0l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92z",fill:"currentColor"})))}},31583:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:10,viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.646 8.004l-1.06 1.06L.344 4.82l1.06-1.06 3.184 3.183L10.595.936l1.06 1.06-6.008 6.01-.001-.002z",fill:"currentColor"})))}},59244:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M6 1.2l2.6 2.4M6 1.2L3.6 3.6M6 1.2v7.6m4.8-3.2v5.2H1.2V5.6",stroke:"currentColor"})))}},43931:function(e){var t;/*! algoliasearch-lite.umd.js | 4.10.5 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */t=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){var n;n=r[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=r(),s=i&&i.miss||function(){return Promise.resolve()};return a.then(function(e){return s(e)}).then(function(){return a})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function o(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[i++])})}var s={WithinQueryParameters:0,WithinHeaders:1};function u(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var c={Read:1,Write:2,Any:3};function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function A(e){return"string"==typeof e?{protocol:"https",url:e,accept:c.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||c.Any}}var d="POST";function f(e,n,i,o){var a,s,u,c=[],d=function(e,n){if("GET"!==e.method&&(void 0!==e.data||void 0!==n.data))return JSON.stringify(Array.isArray(e.data)?e.data:t(t({},e.data),n.data))}(i,o),f=(a=t(t({},e.headers),o.headers),s={},Object.keys(a).forEach(function(e){var t=a[e];s[e.toLowerCase()]=t}),s),v=i.method,m="GET"!==i.method?{}:t(t({},i.data),o.data),y=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),m),o.queryParameters),b=0,w=function t(n,r){var a,s,u,A=n.pop();if(void 0===A)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:p(c)};var m={data:d,headers:f,method:v,url:(a=i.path,s=h(y),u="".concat(A.protocol,"://").concat(A.url,"/").concat("/"===a.charAt(0)?a.substr(1):a),s.length&&(u+="?".concat(s)),u),connectTimeout:r(b,e.timeouts.connect),responseTimeout:r(b,o.timeout)},w=function(e){var t={request:m,response:e,host:A,triesLeft:n.length};return c.push(t),t},_={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw{name:"DeserializationError",message:t.message,response:e}}}(e)},onRetry:function(i){var o=w(i);return i.isTimedOut&&b++,Promise.all([e.logger.info("Retryable failure",g(o)),e.hostsCache.set(A,l(A,i.isTimedOut?3:2))]).then(function(){return t(n,r)})},onFail:function(e){throw w(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return{name:"ApiError",message:i,status:r,transporterStackTrace:t}}(e,p(c))}};return e.requester.send(m).then(function(e){var t,n,r;return(t=e.status,e.isTimedOut||(n=e.isTimedOut,r=e.status,!n&&0==~~r)||2!=~~(t/100)&&4!=~~(t/100))?_.onRetry(e):2==~~(e.status/100)?_.onSuccess(e):_.onFail(e)})};return(u=e.hostsCache,Promise.all(n.map(function(e){return u.get(e,function(){return Promise.resolve(l(e))})})).then(function(e){var t=e.filter(function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}),i=e.filter(function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}),o=[].concat(r(t),r(i));return{getTimeout:function(e,t){return(0===i.length&&0===e?1:i.length+3+e)*t},statelessHosts:o.length>0?o.map(function(e){return A(e)}):n}})).then(function(e){return w(r(e.statelessHosts).reverse(),e.getTimeout)})}function h(e){return Object.keys(e).map(function(t){var n;return a("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]))}).join("&")}function p(e){return e.map(function(e){return g(e)})}function g(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var v=function(e){var r,i,a,l,d,h,p,g,v,m,y,b,w,_=e.appId,E=(r=void 0!==e.authMode?e.authMode:s.WithinHeaders,i={"x-algolia-api-key":e.apiKey,"x-algolia-application-id":_},{headers:function(){return r===s.WithinHeaders?i:{}},queryParameters:function(){return r===s.WithinQueryParameters?i:{}}}),C=(l=(a=t(t({hosts:[{url:"".concat(_,"-dsn.algolia.net"),accept:c.Read},{url:"".concat(_,".algolia.net"),accept:c.Write}].concat(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}([{url:"".concat(_,"-1.algolianet.com")},{url:"".concat(_,"-2.algolianet.com")},{url:"".concat(_,"-3.algolianet.com")}]))},e),{},{headers:t(t(t({},E.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:t(t({},E.queryParameters()),e.queryParameters)})).hostsCache,d=a.logger,h=a.requester,p=a.requestsCache,g=a.responsesCache,v=a.timeouts,m=a.userAgent,y=a.hosts,b=a.queryParameters,w={hostsCache:l,logger:d,requester:h,requestsCache:p,responsesCache:g,timeouts:v,userAgent:m,headers:a.headers,queryParameters:b,hosts:y.map(function(e){return A(e)}),read:function(e,t){var r=u(t,w.timeouts.read),i=function(){return f(w,w.hosts.filter(function(e){return 0!=(e.accept&c.Read)}),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return i();var o={request:e,mappedRequestOptions:r,transporter:{queryParameters:w.queryParameters,headers:w.headers}};return w.responsesCache.get(o,function(){return w.requestsCache.get(o,function(){return w.requestsCache.set(o,i()).then(function(e){return Promise.all([w.requestsCache.delete(o),e])},function(e){return Promise.all([w.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){var t=n(e,2);return t[0],t[1]})})},{miss:function(e){return w.responsesCache.set(o,e)}})},write:function(e,t){return f(w,w.hosts.filter(function(e){return 0!=(e.accept&c.Write)}),e,u(t,w.timeouts.write))}});return o({transporter:C,appId:_,addAlgoliaAgent:function(e,t){C.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([C.requestsCache.clear(),C.responsesCache.clear()]).then(function(){})}},e.methods)},m=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},y=function(e){return function(n,r){var i=n.map(function(e){return t(t({},e),{},{params:h(e.params||{})})});return e.transporter.read({method:d,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},b=function(e){return function(n,r){return Promise.all(n.map(function(n){var i=n.params,o=i.facetName,a=i.facetQuery,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,["facetName","facetQuery"]);return m(e)(n.indexName,{methods:{searchForFacetValues:E}}).searchForFacetValues(o,a,t(t({},r),s))}))}},w=function(e){return function(t,n,r){return e.transporter.read({method:d,path:a("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},_=function(e){return function(t,n){return e.transporter.read({method:d,path:a("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},E=function(e){return function(t,n,r){return e.transporter.read({method:d,path:a("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}};function C(e,o,a){var u,c,l,A,d,f;return v(t(t(t({},{appId:e,apiKey:o,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,i=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:i(),requestsCache:i({serializable:!1}),hostsCache:function e(t){var i=r(t.caches),o=i.shift();return void 0===o?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(t,n,r).catch(function(){return e({caches:i}).get(t,n,r)})},set:function(t,n){return o.set(t,n).catch(function(){return e({caches:i}).set(t,n)})},delete:function(t){return o.delete(t).catch(function(){return e({caches:i}).delete(t)})},clear:function(){return o.clear().catch(function(){return e({caches:i}).clear()})}}}({caches:[(u={key:"".concat("4.10.5","-").concat(e)},l="algoliasearch-client-js-".concat(u.key),A=function(){return void 0===c&&(c=u.localStorage||window.localStorage),c},d=function(){return JSON.parse(A().getItem(l)||"{}")},{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=d()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=n(e,2),i=t[0];return Promise.all([i,t[1]||r.miss(i)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var n=d();return n[JSON.stringify(e)]=t,A().setItem(l,JSON.stringify(n)),t})},delete:function(e){return Promise.resolve().then(function(){var t=d();delete t[JSON.stringify(e)],A().setItem(l,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){A().removeItem(l)})}}),i()]}),userAgent:(f={value:"Algolia for JavaScript (".concat("4.10.5",")"),add:function(e){var t="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return -1===f.value.indexOf(t)&&(f.value="".concat(f.value).concat(t)),f}}).add({segment:"Browser",version:"lite"}),authMode:s.WithinQueryParameters}),a),{},{methods:{search:y,searchForFacetValues:b,multipleQueries:y,multipleSearchForFacetValues:b,initIndex:function(e){return function(t){return m(e)(t,{methods:{search:_,searchForFacetValues:E,findAnswers:w}})}}}}))}return C.version="4.10.5",C},e.exports=t()},95766:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i((a+s)*3/4-s),l=0,A=s>0?a-4:a;for(n=0;n<A;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48834:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let r=n(95766),i=n(62333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|h(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(P(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return A(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);let i=function(e){var t;if(s.isBuffer(e)){let t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):A(e):"Buffer"===e.type&&Array.isArray(e.data)?A(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),a(e<0?0:0|f(e))}function A(e){let t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}function f(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return r?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=U[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var o,a;return o=t,a=n,0===o&&a===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){let o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*a}else -1!==r&&(o-=o-r),r=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return -1}function y(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(n=e[i+1]))==128&&(u=(31&t)<<6|63&n)>127&&(o=u);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(u=(15&t)<<12|(63&n)<<6|63&r)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],(192&n)==128&&(192&r)==128&&(192&s)==128&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function _(e,t,n,r,i){k(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function E(e,t,n,r,i){k(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function C(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function B(e,t,n,r,o){return t=+t,n>>>=0,o||C(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return t=+t,n>>>=0,o||C(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=s,t.h2=50,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(P(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(P(t,Uint8Array))i+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(s.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(P(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let o=i-r,a=n-t,u=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<u;++e)if(c[e]!==l[e]){o=c[e],a=l[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){var i,o,a,s,u,c,l,A;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let f=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;let a=t.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){let r=parseInt(t.substr(2*i,2),16);if(r!=r)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,L(R(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=n,L(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,s);case"base64":return u=t,c=n,L(F(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,A=n,L(function(e,t){let n,r;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-l),this,l,A);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&D(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&D(e,this.length-8);let r=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&D(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),s.prototype.readBigInt64BE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&D(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+n)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;w(this,e,t,n,r,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;w(this,e,t,n,r,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=M(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=M(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);w(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);w(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=M(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=M(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},s.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,r),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};let x={};function T(e,t,n){x[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function S(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function k(e,t,n,r,i,o){if(e>n||e<t){let r;let i="bigint"==typeof t?"n":"";throw r=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new x.ERR_OUT_OF_RANGE("value",r,e)}N(i,"offset"),(void 0===r[i]||void 0===r[i+o])&&D(i,r.length-(o+1))}function N(e,t){if("number"!=typeof e)throw new x.ERR_INVALID_ARG_TYPE(t,"number",e)}function D(e,t,n){if(Math.floor(e)!==e)throw N(e,n),new x.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new x.ERR_BUFFER_OUT_OF_BOUNDS;throw new x.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?i=S(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=S(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);let O=/[^+/0-9A-Za-z-_]/g;function R(e,t){let n;t=t||1/0;let r=e.length,i=null,o=[];for(let a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function M(e){return"undefined"==typeof BigInt?j:e}function j(){throw Error("BigInt not supported")}},19131:function(e){var t=!!("undefined"!=typeof window&&window.document&&window.document.createElement);e.exports=t},5792:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},61099:function(e,t,n){"use strict";/*!
 * cookies
 * Copyright(c) 2014 Jed Schmidt, http://jed.is/
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var r=n(64410)("cookies"),i=n(52810),o=n(35580),a={},s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,u=/^(?:lax|none|strict)$/i;function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);this.secure=void 0,this.request=e,this.response=t,n&&(Array.isArray(n)?(r('"keys" argument; provide using options {"keys": [...]}'),this.keys=new i(n)):n.constructor&&"Keygrip"===n.constructor.name?(r('"keys" argument; provide using options {"keys": keygrip}'),this.keys=n):(this.keys=Array.isArray(n.keys)?new i(n.keys):n.keys,this.secure=n.secure))}function l(e,t,n){if(!s.test(e))throw TypeError("argument name is invalid");if(t&&!s.test(t))throw TypeError("argument value is invalid");for(var e in this.name=e,this.value=t||"",n)this[e]=n[e];if(this.value||(this.expires=new Date(0),this.maxAge=null),this.path&&!s.test(this.path))throw TypeError("option path is invalid");if(this.domain&&!s.test(this.domain))throw TypeError("option domain is invalid");if(this.sameSite&&!0!==this.sameSite&&!u.test(this.sameSite))throw TypeError("option sameSite is invalid")}function A(e,t){if(t.overwrite)for(var n=e.length-1;n>=0;n--)0===e[n].indexOf(t.name+"=")&&e.splice(n,1);e.push(t.toHeader())}c.prototype.get=function(e,t){var n,r,i,o,s,u,c=e+".sig",l=t&&void 0!==t.signed?t.signed:!!this.keys;if((n=this.request.headers.cookie)&&(r=n.match(a[e]?a[e]:a[e]=RegExp("(?:^|;) *"+e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)")))){if(i=r[1],!t||!l)return i;if(o=this.get(c)){if(s=e+"="+i,!this.keys)throw Error(".keys required for signed cookies");if(!((u=this.keys.index(s,o))<0))return u&&this.set(c,this.keys.sign(s),{signed:!1}),i;this.set(c,null,{path:"/",signed:!1})}}},c.prototype.set=function(e,t,n){var i=this.response,a=this.request,s=i.getHeader("Set-Cookie")||[],u=void 0!==this.secure?!!this.secure:"https"===a.protocol||a.connection.encrypted,c=new l(e,t,n),d=n&&void 0!==n.signed?n.signed:!!this.keys;if("string"==typeof s&&(s=[s]),!u&&n&&n.secure)throw Error("Cannot send secure cookie over unencrypted connection");if(c.secure=n&&void 0!==n.secure?n.secure:u,n&&"secureProxy"in n&&(r('"secureProxy" option; use "secure" option, provide "secure" to constructor if needed'),c.secure=n.secureProxy),A(s,c),n&&d){if(!this.keys)throw Error(".keys required for signed cookies");c.value=this.keys.sign(c.toString()),c.name+=".sig",A(s,c)}return(i.set?o.OutgoingMessage.prototype.setHeader:i.setHeader).call(i,"Set-Cookie",s),this},l.prototype.path="/",l.prototype.expires=void 0,l.prototype.domain=void 0,l.prototype.httpOnly=!0,l.prototype.sameSite=!1,l.prototype.secure=!1,l.prototype.overwrite=!1,l.prototype.toString=function(){return this.name+"="+this.value},l.prototype.toHeader=function(){var e=this.toString();return this.maxAge&&(this.expires=new Date(Date.now()+this.maxAge)),this.path&&(e+="; path="+this.path),this.expires&&(e+="; expires="+this.expires.toUTCString()),this.domain&&(e+="; domain="+this.domain),this.sameSite&&(e+="; samesite="+(!0===this.sameSite?"strict":this.sameSite.toLowerCase())),this.secure&&(e+="; secure"),this.httpOnly&&(e+="; httponly"),e},Object.defineProperty(l.prototype,"maxage",{configurable:!0,enumerable:!0,get:function(){return this.maxAge},set:function(e){return this.maxAge=e}}),r.property(l.prototype,"maxage",'"maxage"; use "maxAge" instead'),c.connect=c.express=function(e){return function(t,n,r){t.cookies=n.cookies=new c(t,n,{keys:e}),r()}},c.Cookie=l,e.exports=c},19562:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},64410:function(e){"use strict";function t(e,t){if("function"!=typeof e)throw TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw TypeError("must call property on owner object");if(!r.configurable)throw TypeError("property must be configurable")}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=function(e){if(!e)throw TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},93636:function(e){"use strict";e.exports=function(e){return(e=String(e||""),r.test(e))?"rtl":i.test(e)?"ltr":"neutral"};var t="---",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8------",r=RegExp("^[^"+n+"]*["+t+"]"),i=RegExp("^[^"+t+"]*["+n+"]")},10161:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],A=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),A){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=Array(A-1);c<A;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),A){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=Array(A-1);d<A;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},40199:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(53339),a=n(36727);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new s(e,o.getSanitizedOptions(t)).execute()];case 1:return[2,n.sent()]}})})};var s=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()},71293:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n(21674).Delay);t.AlwaysDelay=o},21674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55686),i=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();t.Delay=i},36727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22073),i=n(71293);t.DelayFactory=function(e,t){var n=e.delayFirstAttempt?new i.AlwaysDelay(e):new r.SkipFirstDelay(e);return n.setAttemptNumber(t),n}},22073:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.apply=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(21674).Delay);t.SkipFirstDelay=s},67216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){return Math.round(Math.random()*e)}},55686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67216),i=n(37129);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},37129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},53339:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},69378:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var r,i,o,a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},35532:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(72475),i="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},99688:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b=n(72475),w=n(32444),_=n(76765),E=n(22970),C=n(13936);e=n.hmd(e);var B=n(34406),I="",x=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,_.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,_.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),T=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,_.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),S=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new x(t)}}catch(e){}return new T},k=S("localStorage"),N=S("sessionStorage"),D=new C.Yd("@firebase/database"),O=(o=1,function(){return o++}),R=function(e){var t=(0,_.dS)(e),n=new _.gQ;n.update(t);var r=n.digest();return _.US.encodeByteArray(r)},F=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=F.apply(null,i):"object"==typeof i?n+=(0,_.Pz)(i):n+=i,n+=" "}return n},L=null,P=!0,U=function(e,t){(0,_.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(D.logLevel=C.in.VERBOSE,L=D.log.bind(D),t&&N.set("logging_enabled",!0)):"function"==typeof e?L=e:(L=null,N.remove("logging_enabled"))},M=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===P&&(P=!1,null===L&&!0===N.get("logging_enabled")&&U(!0)),L){var n=F.apply(null,e);L(n)}},j=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];M.apply(void 0,(0,E.__spreadArray)([e],(0,E.__read)(t)))}},Z=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+F.apply(void 0,(0,E.__spreadArray)([],(0,E.__read)(e)));D.error(n)},Q=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+F.apply(void 0,(0,E.__spreadArray)([],(0,E.__read)(e)));throw D.error(n),Error(n)},H=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+F.apply(void 0,(0,E.__spreadArray)([],(0,E.__read)(e)));D.warn(n)},V=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&H("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},G=function(e){if((0,_.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},z="[MIN_NAME]",W="[MAX_NAME]",q=function(e,t){if(e===t)return 0;if(e===z||t===W)return -1;if(t===z||e===W)return 1;var n=er(e),r=er(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Y=function(e,t){return e===t?0:e<t?-1:1},$=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+(0,_.Pz)(t))},X=function(e){if("object"!=typeof e||null===e)return(0,_.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,_.Pz)(t[i])+":"+X(e[t[i]]);return r+"}"},J=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ee(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var et=function(e){(0,_.hu)(!K(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-4503599627370496)):(n=0,r=Math.round(e/5e-324)));var t,n,r,i,o,a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},en=RegExp("^-?(0*)\\d{1,10}$"),er=function(e){if(en.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ei=function(e){try{e()}catch(e){setTimeout(function(){throw H("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},eo=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},ea=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(function(e){return n.appCheck=e})}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){H('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),es=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(M("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',H(e)},e}(),eu=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),ec=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,el="websocket",eA="long_polling",ed=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=k.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&k.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ef(e,t,n){if((0,_.hu)("string"==typeof t,"typeof type must == string"),(0,_.hu)("object"==typeof n,"typeof params must == object"),t===el)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===eA)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var r,i=[];return ee(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eh=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,_.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,_.p$)(this.counters_)},e}(),ep={},eg={};function ev(e){var t=e.toString();return ep[t]||(ep[t]=new eh),ep[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var em=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&ei(function(){n.onMessage_(e[t])})},i=0;i<e.length;++i)t(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},e}(),ey="start",eb=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=j(e),this.stats_=ev(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ef(t,eA,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new em(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),G(function(){if(!n.isClosed_){n.scriptTagHolder=new ew(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,E.__read)(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder){if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ey)n.id=o,n.password=a;else if("close"===i)o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_();else throw Error("Unrecognized command received: "+i)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,E.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var e={};e[ey]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&ec.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,_.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,_.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=J((0,_.h$)(t),1840),r=0;r<n.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,_.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,_.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ew=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,_.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=O(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";</script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){M("frame writing exception"),e.stack&&M(e.stack),M(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||M("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;(0,_.Yr)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){M("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),e_=null;"undefined"!=typeof MozWebSocket?e_=MozWebSocket:"undefined"!=typeof WebSocket&&(e_=WebSocket);var eE=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=j(this.connId),this.stats_=ev(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v="5",!(0,_.Yr)()&&"undefined"!=typeof location&&location.hostname&&ec.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ef(e,el,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,k.set("previous_websocket_failure",!0);try{if((0,_.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+I+"/"+B.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=B.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a}),this.mySock=new e_(this.connURL,[],i)}else{var i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new e_(this.connURL,[],i)}}catch(e){this.log_("Error instantiating WebSocket.");var s=e.message||e.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&4.4>parseFloat(n[1])&&(t=!0)}return!t&&null!==e_&&!e.forceDisallow_},e.previouslyFailed=function(){return k.isInMemoryStorage||!0===k.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){k.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,_.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,_.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,_.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=J(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),eC=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[eb,eE]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=eE&&eE.isAvailable(),o=i&&!eE.previouslyFailed();if(t.webSocketOnly&&(i||H("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[eE];else{var a=this.transports_=[];try{for(var s=(0,E.__values)(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),eB=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=j("c:"+this.id+":"),this.transportManager_=new eC(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=eo(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=$("t",e),n=$("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=$("t",e),n=$("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=$("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Z("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Z("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&H("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),eo(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eo(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(k.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),eI=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ex=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,_.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,E.__spreadArray)([],(0,E.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context)){r.splice(i,1);return}},e.prototype.validateEventType_=function(e){(0,_.hu)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),eT=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,_.uI)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return(0,E.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,_.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ex),eS=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ek(){return new eS("")}function eN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function eD(e){return e.pieces_.length-e.pieceNum_}function eO(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new eS(e.pieces_,t)}function eR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eF(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function eL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new eS(t,0)}function eP(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof eS)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new eS(n,0)}function eU(e){return e.pieceNum_>=e.pieces_.length}function eM(e,t){var n=eN(e),r=eN(t);if(null===n)return t;if(n===r)return eM(eO(e),eO(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ej(e,t){for(var n=eF(e,0),r=eF(t,0),i=0;i<n.length&&i<r.length;i++){var o=q(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function eZ(e,t){if(eD(e)!==eD(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function eQ(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(eD(e)>eD(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var eH=function(e,t){this.errorPrefix_=t,this.parts_=eF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,_.ug)(this.parts_[n]);eV(this)};function eV(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+eK(e))}function eK(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return(0,E.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,_.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ex),ez=function(e){function t(n,r,i,o,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=j("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,_.Yr)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");return eG.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&eT.getInstance().on("online",l.onOnline_,l),l}return(0,E.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,_.Pz)(i)),(0,_.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new _.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,_.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,_.hu)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,_.r3)(e,"w")){var n=(0,_.DV)(e,"w");Array.isArray(n)&&~n.indexOf("no_index")&&H('Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".indexOn": "'+t._queryParams.getIndex().toString()+'" at '+t._path.toString()+" to your security rules for better performance.")}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,_.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,_.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,_.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,_.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Z("Unrecognized action received from server: "+(0,_.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,_.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());var e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,l,A,d,f,h,p=this;return(0,E.__generator)(this,function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},c=function(e){(0,_.hu)(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return d=(A=E.__read.apply(void 0,[g.sent(),2]))[0],f=A[1],a?M("getToken() completed but was canceled"):(M("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,s=new eB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,function(e){H(e+" ("+p.repoInfo_.toString()+")"),p.interrupt("server_kill")},o)),[3,4];case 3:return h=g.sent(),this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&H(h),u()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(e){M("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){M("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,_.xb)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){n=t?t.map(function(e){return X(e)}).join("$"):"default";var n,r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new eS(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){M("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){M("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,E.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,(0,E.__values)(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var A=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(A.action,A.pathString,A.data,A.onComplete)}for(var l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,_.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+I.replace(/\./g,"-")]=1,(0,_.uI)()?e["framework.cordova"]=1:(0,_.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=eT.getInstance().currentlyOnline();return(0,_.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(eI),eW=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),eq=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new eW(z,e),r=new eW(z,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return eW.MIN},e}(),eY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return c},set:function(e){c=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return q(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,_.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return eW.MIN},t.prototype.maxPost=function(){return new eW(W,c)},t.prototype.makePost=function(e,t){return(0,_.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new eW(e,c)},t.prototype.toString=function(){return".key"},t}(eq),e$=new eY,eX=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else if(0===o){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),eJ=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e1.EMPTY_NODE,this.right=null!=o?o:e1.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return e1.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return e1.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){return Math.pow(2,this.check_())<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")},e.RED=!0,e.BLACK=!1,e}(),e0=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new eJ(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),e1=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,eJ.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,eJ.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new eX(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new eX(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new eX(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new eX(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new e0,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e,t){return q(e.name,t.name)}function e4(e,t){return q(e,t)}var e3=function(e){return"number"==typeof e?"number:"+et(e):"string:"+e},e5=function(e){if(e.isLeafNode()){var t=e.val();(0,_.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,_.r3)(t,".sv"),"Priority must be a string or number.")}else(0,_.hu)(e===l||e.isEmpty(),"priority of unexpected type.");(0,_.hu)(e===l||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},e6=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,_.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),e5(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return A},set:function(e){A=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return eU(t)?this:".priority"===eN(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=eN(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,_.hu)(".priority"!==r||1===eD(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(eO(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+e3(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":","number"===t?e+=et(this.value_):e+=this.value_,this.lazyHash_=R(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,_.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return((0,_.hu)(i>=0,"Unknown leaf type: "+n),(0,_.hu)(o>=0,"Unknown leaf type: "+r),i!==o)?o-i:"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),e8=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?q(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return eW.MIN},t.prototype.maxPost=function(){return new eW(W,new e6("[PRIORITY-POST]",f))},t.prototype.makePost=function(e,t){return new eW(t,new e6("[PRIORITY-POST]",d(e)))},t.prototype.toString=function(){return".priority"},t}(eq)),e9=Math.log(2),e7=function(){function e(e){this.count=parseInt(Math.log(e+1)/e9,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),te=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a=r-t;if(0===a)return null;if(1===a)return o=e[t],new eJ(n?n(o):o,o.node,eJ.BLACK,null,null);var s=parseInt(a/2,10)+t,u=i(t,s),c=i(s+1,r);return o=e[s],new eJ(n?n(o):o,o.node,eJ.BLACK,u,c)};return new e1(r||t,function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o];u(new eJ(n?n(l):l,l.node,r,null,c))},u=function(e){r?r.left=e:o=e,r=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),A=Math.pow(2,t.count-(c+1));l?s(A,eJ.BLACK):(s(A,eJ.BLACK),s(A,eJ.RED))}return o}(new e7(e.length)))},tt={},tn=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,_.hu)(tt&&e8,"ChildrenNode.ts has not been loaded"),h=h||new e({".priority":tt},{".priority":e8})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,_.DV)(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof e1?t:null},e.prototype.hasIndex=function(e){return(0,_.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,_.hu)(t!==e$,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(eW.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?te(i,t.getCompare()):tt;var u=t.toString(),c=(0,E.__assign)({},this.indexSet_);c[u]=t;var l=(0,E.__assign)({},this.indexes_);return l[u]=r,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,_.UI)(this.indexes_,function(e,i){var o=(0,_.DV)(r.indexSet_,i);if((0,_.hu)(o,"Missing index implementation for "+i),e===tt){if(!o.isDefinedOn(t.node))return tt;for(var a=[],s=n.getIterator(eW.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),te(a,o.getCompare())}var c=n.get(t.name),l=e;return c&&(l=l.remove(new eW(t.name,c))),l.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,_.UI)(this.indexes_,function(e){if(e===tt)return e;var r=n.get(t.name);return r?e.remove(new eW(t.name,r)):e}),this.indexSet_)},e}(),tr=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&e5(this.priorityNode_),this.children_.isEmpty()&&(0,_.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return p||(p=new e(new e1(e4),null,tn.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||p},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?p:t},e.prototype.getChild=function(e){var t=eN(e);return null===t?this:this.getImmediateChild(t).getChild(eO(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,_.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new eW(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?p:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=eN(e);if(null===n)return t;(0,_.hu)(".priority"!==eN(e)||1===eD(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(eO(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(e8,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),t||!o||!(i<2*r))return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n;var a=[];for(var s in n)a[s]=n[s];return a},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+e3(this.getPriority().val())+":"),this.forEachChild(e8,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":R(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);var i=r.getPredecessorKey(new eW(e,t));return i?i.name:null},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(!t)return this.children_.minKey();var n=t.minKey();return n&&n.name},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new eW(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();var n=t.maxKey();return n&&n.name},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new eW(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,eW.Wrap),i=r.peek();null!=i&&0>t.compare(i,e);)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,eW.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ti?-1:0},e.prototype.withIndex=function(t){if(t===e$||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===e$||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(e8),n=e.getIterator(e8),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i},e.prototype.resolveIndex_=function(e){return e===e$?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ti=new(function(e){function t(){return e.call(this,new e1(e4),tr.EMPTY_NODE,tn.Default)||this}return(0,E.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return tr.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(tr));function to(e,t){if(void 0===t&&(t=null),null===e)return tr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,_.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new e6(e,to(t));if(e instanceof Array){var n=tr.EMPTY_NODE;return ee(e,function(t,r){if((0,_.r3)(e,t)&&"."!==t.substring(0,1)){var i=to(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(t,i))}}),n.updatePriority(to(t))}var r=[],i=!1;if(ee(e,function(e,t){if("."!==e.substring(0,1)){var n=to(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new eW(e,n)))}}),0===r.length)return tr.EMPTY_NODE;var o=te(r,e2,function(e){return e.name},e4);if(!i)return new tr(o,to(t),tn.Default);var a=te(r,e8.getCompare());return new tr(o,to(t),new tn({".priority":a},{".priority":e8}))}Object.defineProperties(eW,{MIN:{value:new eW(z,tr.EMPTY_NODE)},MAX:{value:new eW(W,ti)}}),eY.__EMPTY_NODE=tr.EMPTY_NODE,e6.__childrenNodeConstructor=tr,l=ti,f=ti,d=to;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ta=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,_.hu)(!eU(t)&&".priority"!==eN(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,E.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?q(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=to(e);return new eW(t,tr.EMPTY_NODE.updateChild(this.indexPath_,n))},t.prototype.maxPost=function(){return new eW(W,tr.EMPTY_NODE.updateChild(this.indexPath_,ti))},t.prototype.toString=function(){return eF(this.indexPath_,0).join("/")},t}(eq),ts=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?q(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return eW.MIN},t.prototype.maxPost=function(){return eW.MAX},t.prototype.makePost=function(e,t){return new eW(t,to(e))},t.prototype.toString=function(){return".value"},t}(eq)),tu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tc=(a=0,s=[],function(e){var t,n=e===a;a=e;var r=Array(8);for(t=7;t>=0;t--)r[t]=tu.charAt(e%64),e=Math.floor(e/64);(0,_.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===s[t];t--)s[t]=0;s[t]++}else for(t=0;t<12;t++)s[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=tu.charAt(s[t]);return(0,_.hu)(20===i.length,"nextPushId: Length should be 20."),i}),tl=function(e){if("2147483647"===e)return"-";var t=er(e);if(null!=t)return""+(t+1);for(var n=Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return W;var o=n[i],a=tu.charAt(tu.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},tA=function(e){if("-2147483648"===e)return z;var t=er(e);if(null!=t)return""+(t-1);for(var n=Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=tu.charAt(tu.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e){return{type:"value",snapshotNode:e}}function tf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function th(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tg=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){(0,_.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(th(t,a)):(0,_.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(tf(t,n)):o.trackChildChange(tp(t,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)},e.prototype.updateFullNode=function(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(e8,function(e,r){t.hasChild(e)||n.trackChildChange(th(e,r))}),t.isLeafNode()||t.forEachChild(e8,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(tp(t,r,i))}else n.trackChildChange(tf(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?tr.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),tv=function(){function e(t){this.indexedFilter_=new tg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return 0>=this.index_.compare(this.getStartPost(),e)&&0>=this.index_.compare(e,this.getEndPost())},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new eW(t,n))||(n=tr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=tr.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(tr.EMPTY_NODE);var i=this;return t.forEachChild(e8,function(e,t){i.matches(new eW(e,t))||(r=r.updateImmediateChild(e,tr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(!e.hasStart())return e.getIndex().minPost();var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)},e.getEndPost_=function(e){if(!e.hasEnd())return e.getIndex().maxPost();var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)},e}(),tm=function(){function e(e){this.rangedFilter_=new tv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return(this.rangedFilter_.matches(new eW(t,n))||(n=tr.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=tr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=tr.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(s=this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),a):0>=this.index_.compare(a,this.rangedFilter_.getEndPost()))r=r.updateImmediateChild(a.name,a.node),o++;else break}}else{r=(r=t.withIndex(this.index_)).updatePriority(tr.EMPTY_NODE);var u=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var A=this.index_.getCompare();l=function(e,t){return A(t,e)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,d=!1;i.hasNext();){var a=i.getNext();!d&&0>=l(u,a)&&(d=!0);var s=d&&o<this.limit_&&0>=l(a,c);s?o++:r=r.updateImmediateChild(a.name,tr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){if(this.reverse_){var o,a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();(0,_.hu)(e.numChildren()===this.limit_,"");var s=new eW(t,n),u=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(e.hasChild(t)){for(var l=e.getImmediateChild(t),A=r.getChildAfterChild(this.index_,u,this.reverse_);null!=A&&(A.name===t||e.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);var d=null==A?1:o(A,s);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(tp(t,n,l)),e.updateImmediateChild(t,n);null!=i&&i.trackChildChange(th(t,l));var f=e.updateImmediateChild(t,tr.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=i&&i.trackChildChange(tf(A.name,A.node)),f.updateImmediateChild(A.name,A.node)):f}return n.isEmpty()?e:c&&o(u,s)>=0?(null!=i&&(i.trackChildChange(th(u.name,u.node)),i.trackChildChange(tf(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(u.name,tr.EMPTY_NODE)):e},e}(),ty=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=e8}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,_.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return((0,_.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:z},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,_.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return((0,_.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:W},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,_.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===e8},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function tb(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tw(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function t_(e,t){var n=e.copy();return n.index_=t,n}function tE(e){var t,n={};return e.isDefault()||(e.index_===e8?t="$priority":e.index_===ts?t="$value":e.index_===e$?t="$key":((0,_.hu)(e.index_ instanceof ta,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,_.Pz)(t),e.startSet_&&(n.startAt=(0,_.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,_.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,_.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,_.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function tC(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==e8&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tB=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=j("p:rest:"),o.listens_={},o}return(0,E.__extends)(t,e),t.prototype.reportStats=function(e){throw Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,_.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=tE(e._queryParams);this.restRequest_(a+".json",c,function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),(0,_.DV)(o.listens_,s)===u&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=tE(e._queryParams),r=e._path.toString(),i=new _.BH;return this.restRequest_(r+".json",n,function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(Error(o))}),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var o=(0,E.__read)(i,2),a=o[0],s=o[1];a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,_.xO)(t);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=(0,_.cI)(c.responseText)}catch(e){H("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&H("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()})},t}(eI),tI=function(){function e(){this.rootNode_=tr.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return{value:null,children:new Map}}function tT(e,t,n){if(eU(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=eN(t);e.children.has(r)||e.children.set(r,tx()),tT(e.children.get(r),t=eO(t),n)}}function tS(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){tS(r,new eS(t.toString()+"/"+e),n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tk=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,E.__assign)({},e);return this.last_&&ee(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),tN=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tk(e);var n=1e4+2e4*Math.random();eo(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ee(t,function(t,i){i>0&&(0,_.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),eo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function tD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tO(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(u=g||(g={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tF=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=g.ACK_USER_WRITE,this.source=tD()}return e.prototype.operationForChild=function(t){if(!eU(this.path))return(0,_.hu)(eN(this.path)===t,"operationForChild called for unrelated child."),new e(eO(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,_.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new eS(t));return new e(ek(),n,this.revert)},e}(),tL=function(){function e(e,t){this.source=e,this.path=t,this.type=g.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return eU(this.path)?new e(this.source,ek()):new e(this.source,eO(this.path))},e}(),tP=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=g.OVERWRITE}return e.prototype.operationForChild=function(t){return eU(this.path)?new e(this.source,ek(),this.snap.getImmediateChild(t)):new e(this.source,eO(this.path),this.snap)},e}(),tU=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=g.MERGE}return e.prototype.operationForChild=function(t){if(!eU(this.path))return(0,_.hu)(eN(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,eO(this.path),this.children);var n=this.children.subtree(new eS(t));return n.isEmpty()?null:n.value?new tP(this.source,ek(),n.value):new e(this.source,ek(),n)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),tM=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(eU(e))return this.isFullyInitialized()&&!this.filtered_;var t=eN(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),tj=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function tZ(e,t,n,r,i,o){var a=r.filter(function(e){return e.type===n});a.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,_.g5)("Should only compare child_ events.");var r=new eW(t.childName,t.snapshotNode),i=new eW(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),a.forEach(function(n){var r=("value"===n.type||"child_removed"===n.type||(n.prevName=o.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(e,t){return{eventCache:e,serverCache:t}}function tH(e,t,n,r){return tQ(new tM(t,n,r),e.serverCache)}function tV(e,t,n,r){return tQ(e.eventCache,new tM(t,n,r))}function tK(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tG(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var tz=function(){function e(e,t){void 0===t&&(v||(v=new e1(Y)),t=v),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return ee(t,function(e,t){n=n.set(new eS(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ek(),value:this.value};if(eU(e))return null;var n=eN(e),r=this.children.get(n);if(null===r)return null;var i=r.findRootMostMatchingPathAndValue(eO(e),t);return null!=i?{path:eP(new eS(n),i.path),value:i.value}:null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(eU(t))return this;var n=eN(t),r=this.children.get(n);return null!==r?r.subtree(eO(t)):new e(null)},e.prototype.set=function(t,n){if(eU(t))return new e(n,this.children);var r=eN(t),i=(this.children.get(r)||new e(null)).set(eO(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(eU(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=eN(t),r=this.children.get(n);if(!r)return this;var i=r.remove(eO(t)),o=void 0;return(o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty())?new e(null):new e(this.value,o)},e.prototype.get=function(e){if(eU(e))return this.value;var t=eN(e),n=this.children.get(t);return n?n.get(eO(e)):null},e.prototype.setTree=function(t,n){if(eU(t))return n;var r=eN(t),i=(this.children.get(r)||new e(null)).setTree(eO(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ek(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(eP(e,r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ek(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(eU(e))return null;var i=eN(e),o=this.children.get(i);return o?o.findOnPath_(eO(e),eP(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ek(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(eU(t))return this;this.value&&r(n,this.value);var i=eN(t),o=this.children.get(i);return o?o.foreachOnPath_(eO(t),eP(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ek(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(eP(e,n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e}(),tW=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new tz(null))},e}();function tq(e,t,n){if(eU(t))return new tW(new tz(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=eM(i,t);return o=o.updateChild(a,n),new tW(e.writeTree_.set(i,o))}var s=new tz(n);return new tW(e.writeTree_.setTree(t,s))}function tY(e,t,n){var r=e;return ee(n,function(e,n){r=tq(r,eP(t,e),n)}),r}function t$(e,t){return eU(t)?tW.empty():new tW(e.writeTree_.setTree(t,new tz(null)))}function tX(e,t){return null!=tJ(e,t)}function tJ(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(eM(n.path,t)):null}function t0(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(e8,function(e,n){t.push(new eW(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new eW(e,n.value))}),t}function t1(e,t){if(eU(t))return e;var n=tJ(e,t);return new tW(null!=n?new tz(n):e.writeTree_.subtree(t))}function t2(e){return e.writeTree_.isEmpty()}function t4(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?((0,_.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(eP(t,n),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(eP(t,".priority"),i)),r}(ek(),e.writeTree_,t)}function t3(e){return e.visible}function t5(e,t,n){for(var r=tW.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)eQ(n,a)?r=tq(r,s=eM(n,a),o.snap):eQ(a,n)&&(s=eM(a,n),r=tq(r,ek(),o.snap.getChild(s)));else if(o.children){if(eQ(n,a))r=tY(r,s=eM(n,a),o.children);else if(eQ(a,n)){if(eU(s=eM(a,n)))r=tY(r,ek(),o.children);else{var u=(0,_.DV)(o.children,eN(s));if(u){var c=u.getChild(eO(s));r=tq(r,ek(),c)}}}}else throw(0,_.g5)("WriteRecord should have .snap or .children")}}return r}function t6(e,t,n,r,i){if(r||i){var o=t1(e.visibleWrites,t);if(!i&&t2(o))return n;if(!i&&null==n&&!tX(o,ek()))return null;var a=t5(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(eQ(e.path,t)||eQ(t,e.path))},t),s=n||tr.EMPTY_NODE;return t4(a,s)}var u=tJ(e.visibleWrites,t);if(null!=u)return u;var c=t1(e.visibleWrites,t);if(t2(c))return n;if(null==n&&!tX(c,ek()))return null;var s=n||tr.EMPTY_NODE;return t4(c,s)}function t8(e,t,n,r){return t6(e.writeTree,e.treePath,t,n,r)}function t9(e,t){return function(e,t,n){var r=tr.EMPTY_NODE,i=tJ(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(e8,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(!n)return t0(t1(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r;var o=t1(e.visibleWrites,t);return n.forEachChild(e8,function(e,t){var n=t4(t1(o,new eS(e)),t);r=r.updateImmediateChild(e,n)}),t0(o).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function t7(e,t,n,r){return function(e,t,n,r,i){(0,_.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=eP(t,n);if(tX(e.visibleWrites,o))return null;var a=t1(e.visibleWrites,o);return t2(a)?i.getChild(n):t4(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ne(e,t){var n,r;return n=e.writeTree,r=eP(e.treePath,t),tJ(n.visibleWrites,r)}function nt(e,t,n){var r,i,o;return r=e.writeTree,i=eP(e.treePath,t),null!=(o=tJ(r.visibleWrites,i))?o:n.isCompleteForChild(t)?t4(t1(r.visibleWrites,i),n.getNode().getImmediateChild(t)):null}function nn(e,t){return nr(eP(e.treePath,t),e.writeTree)}function nr(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,_.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,_.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,th(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,tf(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,tp(n,e.snapshotNode,r.oldSnap));else throw(0,_.g5)("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),no=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),na=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new tM(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nt(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r,i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tG(this.viewCache_),o=function(e,t,n,r,i,o,a){var s,u=t1(e.visibleWrites,t),c=tJ(u,ek());if(null!=c)s=c;else{if(null==n)return[];s=t4(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],A=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),f=d.getNext();f&&l.length<1;)0!==A(f,r)&&l.push(f),f=d.getNext();return l}((r=this.writes_).writeTree,r.treePath,i,t,0,n,e);return 0===o.length?null:o[0]},e}();function ns(e,t,n,r,i,o){var a=t.eventCache;if(null!=ne(r,n))return t;var s=void 0,u=void 0;if(eU(n)){if((0,_.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=tG(t),l=t9(r,c instanceof tr?c:tr.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var A=t8(r,tG(t));s=e.filter.updateFullNode(t.eventCache.getNode(),A,o)}}else{var d=eN(n);if(".priority"===d){(0,_.hu)(1===eD(n),"Can't have a priority with additional path components");var f=a.getNode(),h=t7(r,n,f,u=t.serverCache.getNode());s=null!=h?e.filter.updatePriority(f,h):a.getNode()}else{var p=eO(n),g=void 0;if(a.isCompleteForChild(d)){u=t.serverCache.getNode();var v=t7(r,n,a.getNode(),u);g=null!=v?a.getNode().getImmediateChild(d).updateChild(p,v):a.getNode().getImmediateChild(d)}else g=nt(r,d,t.serverCache);s=null!=g?e.filter.updateChild(a.getNode(),d,g,p,i,o):a.getNode()}}return tH(t,s,a.isFullyInitialized()||eU(n),e.filter.filtersNodes())}function nu(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(eU(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var A=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),A,null)}else{var d=eN(n);if(!c.isCompleteForPath(n)&&eD(n)>1)return t;var f=eO(n),h=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),h):l.updateChild(c.getNode(),d,h,f,no,null)}var p=tV(t,u,c.isFullyInitialized()||eU(n),l.filtersNodes()),g=new na(i,p,o);return ns(e,p,n,i,g,s)}function nc(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new na(i,t,o);if(eU(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=tH(t,u,!0,e.filter.filtersNodes());else{var A=eN(n);if(".priority"===A)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=tH(t,u,c.isFullyInitialized(),c.isFiltered());else{var d=eO(n),f=c.getNode().getImmediateChild(A),h=void 0;if(eU(d))h=r;else{var p=l.getCompleteChild(A);h=null!=p?".priority"===eR(d)&&p.getChild(eL(d)).isEmpty()?p:p.updateChild(d,r):tr.EMPTY_NODE}s=f.equals(h)?t:tH(t,e.filter.updateChild(c.getNode(),A,h,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function nl(e,t){return e.eventCache.isCompleteForChild(t)}function nA(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function nd(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=eU(n)?r:new tz(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=nA(e,t.serverCache.getNode().getImmediateChild(n),r);c=nu(e,c,new eS(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var A=nA(e,t.serverCache.getNode().getImmediateChild(n),r);c=nu(e,c,new eS(n),A,i,o,a,s)}}),c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nf=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new tg(n.getIndex()),i=n.loadsAllData()?new tg(n.getIndex()):n.hasLimit()?new tm(n):new tv(n);this.processor_={filter:i};var o=t.serverCache,a=t.eventCache,s=r.updateFullNode(tr.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(tr.EMPTY_NODE,a.getNode(),null),c=new tM(s,o.isFullyInitialized(),r.filtersNodes()),l=new tM(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=tQ(l,c),this.eventGenerator_=new tj(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function nh(e){return 0===e.eventRegistrations_.length}function np(e,t,n){var r=[];if(n){(0,_.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function ng(e,t,n,r){t.type===g.MERGE&&null!==t.source.queryId&&((0,_.hu)(tG(e.viewCache_),"We should always have a full cache before handling merges"),(0,_.hu)(tK(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=function(e,t,n,r,i){var o,a,s,u,c,l,A,d=new ni;if(n.type===g.OVERWRITE)n.source.fromUser?l=nc(e,t,n.path,n.snap,r,i,d):((0,_.hu)(n.source.fromServer,"Unknown source."),A=n.source.tagged||t.serverCache.isFiltered()&&!eU(n.path),l=nu(e,t,n.path,n.snap,r,i,A,d));else if(n.type===g.MERGE)n.source.fromUser?(o=n.path,a=n.children,s=t,a.foreach(function(n,a){var u=eP(o,n);nl(t,eN(u))&&(s=nc(e,s,u,a,r,i,d))}),a.foreach(function(n,a){var u=eP(o,n);nl(t,eN(u))||(s=nc(e,s,u,a,r,i,d))}),l=s):((0,_.hu)(n.source.fromServer,"Unknown source."),A=n.source.tagged||t.serverCache.isFiltered(),l=nd(e,t,n.path,n.children,r,i,A,d));else if(n.type===g.ACK_USER_WRITE)l=n.revert?function(e,t,n,r,i,o){if(null!=ne(r,n))return t;var a,s=new na(r,t,i),u=t.eventCache.getNode(),c=void 0;if(eU(n)||".priority"===eN(n)){var l=void 0;if(t.serverCache.isFullyInitialized())l=t8(r,tG(t));else{var A=t.serverCache.getNode();(0,_.hu)(A instanceof tr,"serverChildren would be complete if leaf node"),l=t9(r,A)}c=e.filter.updateFullNode(u,l,o)}else{var d=eN(n),f=nt(r,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=u.getImmediateChild(d)),(c=null!=f?e.filter.updateChild(u,d,f,eO(n),s,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(u,d,tr.EMPTY_NODE,eO(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=t8(r,tG(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,a,o))}return a=t.serverCache.isFullyInitialized()||null!=ne(r,ek()),tH(t,c,a,e.filter.filtersNodes())}(e,t,n.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=ne(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(eU(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return nu(e,t,n,u.getNode().getChild(n),i,o,s,a);if(!eU(n))return t;var c=new tz(null);return u.getNode().forEachChild(e$,function(e,t){c=c.set(new eS(e),t)}),nd(e,t,n,c,i,o,s,a)}var l=new tz(null);return r.foreach(function(e,t){var r=eP(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))}),nd(e,t,n,l,i,o,s,a)}(e,t,n.path,n.affectedTree,r,i,d);else if(n.type===g.LISTEN_COMPLETE)u=n.path,c=t.serverCache,l=ns(e,tV(t,c.getNode(),c.isFullyInitialized()||eU(u),c.isFiltered()),u,r,no,d);else throw(0,_.g5)("Unknown operation type: "+n.type);var f=d.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tK(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(o))&&r.getNode().getPriority().equals(o.getPriority())||n.push(td(tK(t)))}}(t,l,f),{viewCache:l,changes:f}}(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,(0,_.hu)(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,_.hu)(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,_.hu)(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function nv(e,t,n,r){var i,o,a,s=r?[r]:e.eventRegistrations_;return i=e.eventGenerator_,o=[],a=[],t.forEach(function(e){if("child_changed"===e.type&&i.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)){var t;a.push((t=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:t}))}}),tZ(i,o,"child_removed",t,s,n),tZ(i,o,"child_added",t,s,n),tZ(i,o,"child_moved",a,s,n),tZ(i,o,"child_changed",t,s,n),tZ(i,o,"value",t,s,n),o}var nm=function(){this.views=new Map};function ny(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return(0,_.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ng(s,t,n,r)}var u=[];try{for(var c=(0,E.__values)(e.views.values()),l=c.next();!l.done;l=c.next()){var s=l.value;u=u.concat(ng(s,t,n,r))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function nb(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=t8(n,i?r:null),u=!1;return s?u=!0:(s=r instanceof tr?t9(n,r):tr.EMPTY_NODE,u=!1),new nf(t,tQ(new tM(s,u,!1),new tM(r,i,!1)))}return a}function nw(e){var t,n,r=[];try{for(var i=(0,E.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function n_(e,t){var n,r,i=null;try{for(var o=(0,E.__values)(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||function(e,t){var n=tG(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eU(t)&&!n.getImmediateChild(eN(t)).isEmpty())?n.getChild(t):null}(s,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function nE(e,t){if(t._queryParams.loadsAllData())return nB(e);var n=t._queryIdentifier;return e.views.get(n)}function nC(e){return null!=nB(e)}function nB(e){var t,n;try{for(var r=(0,E.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var nI=1,nx=function(e){this.listenProvider_=e,this.syncPointTree_=new tz(null),this.pendingWriteTree_={visibleWrites:tW.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function nT(e,t,n,r,i){var o,a;return(o=e.pendingWriteTree_,a=i,(0,_.hu)(r>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),o.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(o.visibleWrites=tq(o.visibleWrites,t,n)),o.lastWriteId=r,i)?nR(e,new tP(tD(),t,n)):[]}function nS(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});(0,_.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&function(e,t){if(e.snap)return eQ(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&eQ(eP(e.path,n),t))return!0;return!1}(s,r.path)?i=!1:eQ(r.path,s.path)&&(o=!0)),a--}return!!i&&(o?(e.visibleWrites=t5(e.allWrites,t3,ek()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):r.snap?e.visibleWrites=t$(e.visibleWrites,r.path):ee(r.children,function(t){e.visibleWrites=t$(e.visibleWrites,eP(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];var i=new tz(null);return null!=r.snap?i=i.set(ek(),!0):ee(r.children,function(e){i=i.set(new eS(e),!0)}),nR(e,new tF(r.path,i,n))}function nk(e,t,n){return nR(e,new tP(tO(),t,n))}function nN(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||null!=nE(o,t))){var s=function(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=nC(e);if("default"===a)try{for(var l=(0,E.__values)(e.views.entries()),A=l.next();!A.done;A=l.next()){var d=(0,E.__read)(A.value,2),f=d[0],h=d[1];u=u.concat(np(h,n,r)),nh(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||s.push(h.query))}}catch(e){i={error:e}}finally{try{A&&!A.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else{var h=e.views.get(a);h&&(u=u.concat(np(h,n,r)),nh(h)&&(e.views.delete(a),h.query._queryParams.loadsAllData()||s.push(h.query)))}return c&&!nC(e)&&s.push(new((0,_.hu)(m,"Reference.ts has not been loaded"),m)(t._repo,t._path)),{removed:s,events:u}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(e){return e._queryParams.loadsAllData()}),l=e.syncPointTree_.findOnPath(i,function(e,t){return nC(t)});if(c&&!l){var A=e.syncPointTree_.subtree(i);if(!A.isEmpty())for(var d=A.fold(function(e,t,n){if(t&&nC(t))return[nB(t)];var r=[];return t&&(r=nw(t)),ee(n,function(e,t){r=r.concat(t)}),r}),f=0;f<d.length;++f){var h=d[f],p=h.query,g=nF(e,h);e.listenProvider_.startListening(nZ(p),nL(e,p),g.hashFn,g.onComplete)}}l||!(u.length>0)||r||(c?e.listenProvider_.stopListening(nZ(t),null):u.forEach(function(t){var n=e.queryToTagMap.get(nP(t));e.listenProvider_.stopListening(nZ(t),n)})),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=nP(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function nD(e,t,n){var r,i,o,a,s,u=t._path,c=null,l=!1;e.syncPointTree_.foreachOnPath(u,function(e,t){var n=eM(e,u);c=c||n_(t,n),l=l||nC(t)});var A=e.syncPointTree_.get(u);A?(l=l||nC(A),c=c||n_(A,ek())):(A=new nm,e.syncPointTree_=e.syncPointTree_.set(u,A)),null!=c?s=!0:(s=!1,c=tr.EMPTY_NODE,e.syncPointTree_.subtree(u).foreachChild(function(e,t){var n=n_(t,ek());n&&(c=c.updateImmediateChild(e,n))}));var d=null!=nE(A,t);if(!d&&!t._queryParams.loadsAllData()){var f=nP(t);(0,_.hu)(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=nI++;e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var p=nr(u,e.pendingWriteTree_),g=(i=nb(r=A,t,p,c,s),r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,i),!function(e,t){e.eventRegistrations_.push(t)}(i,n),o=i.viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(e8,function(e,t){a.push(tf(e,t))}),o.isFullyInitialized()&&a.push(td(o.getNode())),nv(i,a,o.getNode(),n));if(!d&&!l){var v=nE(A,t);g=g.concat(function(e,t,n){var r=t._path,i=nL(e,t),o=nF(e,n),a=e.listenProvider_.startListening(nZ(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)(0,_.hu)(!nC(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(e,t,n){if(!eU(e)&&t&&nC(t))return[nB(t).query];var r=[];return t&&(r=r.concat(nw(t).map(function(e){return e.query}))),ee(n,function(e,t){r=r.concat(t)}),r}),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(nZ(l),nL(e,l))}return a}(e,t,v))}return g}function nO(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=n_(n,eM(e,t));if(r)return r});return t6(r,t,i,n,!0)}function nR(e,t){var n;return function e(t,n,r,i){if(eU(t.path))return function e(t,n,r,i){var o=n.get(ek());null==r&&null!=o&&(r=n_(o,ek()));var a=[];return n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=nn(i,n),c=t.operationForChild(n);c&&(a=a.concat(e(c,o,s,u)))}),o&&(a=a.concat(ny(o,t,i,r))),a}(t,n,r,i);var o=n.get(ek());null==r&&null!=o&&(r=n_(o,ek()));var a=[],s=eN(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,A=nn(i,s);a=a.concat(e(u,c,l,A))}return o&&(a=a.concat(ny(o,t,i,r))),a}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,nr(ek(),n)))}function nF(e,t){var n=t.query,r=nL(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||tr.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=nU(e,n);if(!r)return[];var i=nM(r),o=i.path,a=i.queryId,s=eM(o,t);return nj(e,o,new tL(tR(a),s))}(e,n._path,r):(i=n._path,nR(e,new tL(tO(),i)));var i,o,a,s=(o="Unknown Error","too_big"===t?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?o="Client doesn't have permission to access the desired data.":"unavailable"===t&&(o="The service is unavailable"),(a=Error(t+" at "+n._path.toString()+": "+o)).code=t.toUpperCase(),a);return nN(e,n,null,s)}}}function nL(e,t){var n=nP(t);return e.queryToTagMap.get(n)}function nP(e){return e._path.toString()+"$"+e._queryIdentifier}function nU(e,t){return e.tagToQueryMap.get(t)}function nM(e){var t=e.indexOf("$");return(0,_.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new eS(e.substr(0,t))}}function nj(e,t,n){var r=e.syncPointTree_.get(t);return(0,_.hu)(r,"Missing sync point for query tag that we're tracking"),ny(r,n,nr(t,e.pendingWriteTree_),null)}function nZ(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,_.hu)(y,"Reference.ts has not been loaded"),y)(e._repo,e._path):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nQ=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),nH=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=eP(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return nO(this.syncTree_,this.path_)},e}(),nV=function(e,t,n){return e&&"object"==typeof e?((0,_.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?nK(e[".sv"],t,n):"object"==typeof e[".sv"]?nG(e[".sv"],t):void(0,_.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},nK=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,_.hu)(!1,"Unexpected server value: "+e)},nG=function(e,t,n){e.hasOwnProperty("increment")||(0,_.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,_.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,_.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},nz=function(e,t,n,r){return nq(t,new nH(n,e),r)},nW=function(e,t,n){return nq(e,new nQ(t),n)};function nq(e,t,n){var r,i=nV(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new e6(i))),e.forEachChild(e8,function(e,i){var o=nq(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r;var o=nV(e.getValue(),t,n);return o!==e.getValue()||i!==e.getPriority().val()?new e6(o,to(i)):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nY=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function n$(e,t){for(var n=t instanceof eS?t:new eS(t),r=e,i=eN(n);null!==i;){var o=(0,_.DV)(r.node.children,i)||{children:{},childCount:0};r=new nY(i,r,o),i=eN(n=eO(n))}return r}function nX(e){return e.node.value}function nJ(e,t){e.node.value=t,function e(t){var n,r,i,o,a;null!==t.parent&&(n=t.parent,r=t.name,o=void 0===nX(i=t)&&!n0(i),a=(0,_.r3)(n.node.children,r),o&&a?(delete n.node.children[r],n.node.childCount--,e(n)):o||a||(n.node.children[r]=i.node,n.node.childCount++,e(n)))}(e)}function n0(e){return e.node.childCount>0}function n1(e,t){ee(e.node.children,function(n,r){t(new nY(n,e,r))})}function n2(e){return new eS(null===e.parent?e.name:n2(e.parent)+"/"+e.name)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n4=/[\[\].#$\/\u0000-\u001F\u007F]/,n3=/[\[\].#$\u0000-\u001F\u007F]/,n5=function(e){return"string"==typeof e&&0!==e.length&&!n4.test(e)},n6=function(e){return"string"==typeof e&&0!==e.length&&!n3.test(e)},n8=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!K(e)||e&&"object"==typeof e&&(0,_.r3)(e,".sv")},n9=function(e,t,n,r){r&&void 0===t||n7((0,_.gK)(e,"value"),t,n)},n7=function(e,t,n){var r=n instanceof eS?new eH(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+eK(r));if("function"==typeof t)throw Error(e+"contains a function "+eK(r)+" with contents = "+t.toString());if(K(t))throw Error(e+"contains "+t.toString()+" "+eK(r));if("string"==typeof t&&t.length>3495253.3333333335&&(0,_.ug)(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+eK(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(ee(t,function(t,n){var a;if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!n5(t)))throw Error(e+" contains an invalid key ("+t+") "+eK(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,_.ug)(t),eV(r),n7(e,n,r),a=r.parts_.pop(),r.byteLength_-=(0,_.ug)(a),r.parts_.length>0&&(r.byteLength_-=1)}),i&&o)throw Error(e+' contains ".value" child '+eK(r)+" in addition to actual children.")}},re=function(e,t){for(n=0;n<t.length;n++)for(var n,r,i=eF(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!n5(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ej);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&eQ(a,r))throw Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},rt=function(e,t,n,r){if(!r||void 0!==t){var i=(0,_.gK)(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");var o=[];ee(t,function(e,t){var r=new eS(e);if(n7(i,t,eP(n,r)),".priority"===eR(r)&&!n8(t))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),re(i,o)}},rn=function(e,t,n){if(!n||void 0!==t){if(K(t))throw Error((0,_.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!n8(t))throw Error((0,_.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error((0,_.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ri=function(e,t,n,r){if((!r||void 0!==n)&&!n5(n))throw Error((0,_.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ro=function(e,t,n,r){if((!r||void 0!==n)&&!n6(n))throw Error((0,_.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ra=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ro(e,t,n,r)},rs=function(e,t){if(".info"===eN(t))throw Error(e+" failed = Can't modify data under /.info/")},ru=function(e,t){var n,r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!n5(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!n6(n)))throw Error((0,_.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},rc=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw Error((0,_.gK)(e,t)+"must be a boolean.")},rl=function(){this.eventLists_=[],this.recursionDepth_=0};function rA(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||eZ(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function rd(e,t,n){rA(e,n),rh(e,function(e){return eZ(e,t)})}function rf(e,t,n){rA(e,n),rh(e,function(e){return eQ(e,t)||eQ(t,e)})}function rh(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();L&&M("event: "+n.toString()),ei(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rp="repo_interrupt",rg=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tx(),this.transactionQueueTree_=new nY,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function rv(e){var t=e.infoData_.getNode(new eS(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function rm(e){var t;return(t=t={timestamp:rv(e)}).timestamp=t.timestamp||new Date().getTime(),t}function ry(e,t,n,r,i){e.dataUpdateCount++;var o=new eS(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i){if(r){var s=(0,_.UI)(n,function(e){return to(e)});a=function(e,t,n,r){var i=nU(e,r);if(!i)return[];var o=nM(i),a=o.path,s=o.queryId,u=eM(a,t),c=tz.fromObject(n);return nj(e,a,new tU(tR(s),u,c))}(e.serverSyncTree_,o,s,i)}else{var u=to(n);a=function(e,t,n,r){var i=nU(e,r);if(null==i)return[];var o=nM(i),a=o.path,s=o.queryId,u=eM(a,t);return nj(e,a,new tP(tR(s),u,n))}(e.serverSyncTree_,o,u,i)}}else if(r){var c,l,A=(0,_.UI)(n,function(e){return to(e)});c=e.serverSyncTree_,l=tz.fromObject(A),a=nR(c,new tU(tO(),o,l))}else{var d=to(n);a=nk(e.serverSyncTree_,o,d)}var f=o;a.length>0&&(f=rN(e,o)),rf(e.eventQueue_,f,a)}function rb(e,t){var n,r,i;rw(e,"connected",t),!1===t&&(rx(e,"onDisconnectEvents"),n=rm(e),r=tx(),tS(e.onDisconnect_,ek(),function(t,i){var o=nz(t,i,e.serverSyncTree_,n);tT(r,t,o)}),i=[],tS(r,ek(),function(t,n){i=i.concat(nk(e.serverSyncTree_,t,n));var r=rF(e,t);rN(e,r)}),e.onDisconnect_=tx(),rf(e.eventQueue_,ek(),i))}function rw(e,t,n){var r=new eS("/.info/"+t),i=to(n);e.infoData_.updateSnapshot(r,i);var o=nk(e.infoSyncTree_,r,i);rf(e.eventQueue_,r,o)}function r_(e){return e.nextWriteId_++}function rE(e,t,n,r,i){rx(e,"set",{path:t.toString(),value:n,priority:r});var o=rm(e),a=to(n,r),s=nW(a,nO(e.serverSyncTree_,t),o),u=r_(e),c=nT(e.serverSyncTree_,t,s,u,!0);rA(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),function(n,r){var o="ok"===n;o||H("set at "+t+" failed: "+n);var a=nS(e.serverSyncTree_,u,!o);rf(e.eventQueue_,t,a),rT(e,i,n,r)});var l=rF(e,t);rN(e,l),rf(e.eventQueue_,l,[])}function rC(e,t,n,r){var i=to(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(n,o){"ok"===n&&tT(e.onDisconnect_,t,i),rT(e,r,n,o)})}function rB(e,t,n){var r;r=".info"===eN(t._path)?nN(e.infoSyncTree_,t,n):nN(e.serverSyncTree_,t,n),rd(e.eventQueue_,t._path,r)}function rI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rp)}function rx(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),M.apply(void 0,(0,E.__spreadArray)([r],(0,E.__read)(t)))}function rT(e,t,n,r){t&&ei(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=Error(i);o.code=e,t(o)}})}function rS(e,t,n){return nO(e.serverSyncTree_,t,n)||tr.EMPTY_NODE}function rk(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||rR(e,t),nX(t)){var n=rO(e,t);(0,_.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=rS(e,t,n.map(function(e){return e.currentWriteId})),i=r,o=r.hash(),a=0;a<n.length;a++){var s=n[a];(0,_.hu)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=eM(t,s.path);i=i.updateChild(u,s.currentOutputSnapshotRaw)}var c=i.val(!0);e.server_.put(t.toString(),c,function(r){rx(e,"transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(nS(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},s=0;s<n.length;s++)a(s);rR(e,n$(e.transactionQueueTree_,t)),rk(e,e.transactionQueueTree_),rf(e.eventQueue_,t,i);for(var s=0;s<o.length;s++)ei(o[s])}else{if("datastale"===r)for(var s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{H("transaction at "+t.toString()+" failed: "+r);for(var s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}rN(e,t)}},o)}(e,n2(t),n)}else n0(t)&&n1(t,function(t){rk(e,t)})}function rN(e,t){var n=rD(e,t),r=n2(n),i=rO(e,n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),a=function(a){var s,u=t[a],c=eM(n,u.path),l=!1;if((0,_.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,s=u.abortReason,i=i.concat(nS(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status){if(u.retryCount>=25)l=!0,s="maxretry",i=i.concat(nS(e.serverSyncTree_,u.currentWriteId,!0));else{var A=rS(e,u.path,o);u.currentInputSnapshot=A;var d=t[a].update(A.val());if(void 0!==d){n7("transaction failed: Data returned ",d,u.path);var f=to(d);"object"==typeof d&&null!=d&&(0,_.r3)(d,".priority")||(f=f.updatePriority(A.getPriority()));var h=u.currentWriteId,p=nW(f,A,rm(e));u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=p,u.currentWriteId=r_(e),o.splice(o.indexOf(h),1),i=(i=i.concat(nT(e.serverSyncTree_,u.path,p,u.currentWriteId,u.applyLocally))).concat(nS(e.serverSyncTree_,h,!0))}else l=!0,s="nodata",i=i.concat(nS(e.serverSyncTree_,u.currentWriteId,!0))}}rf(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push(function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)}):r.push(function(){return t[a].onComplete(Error(s),!1,null)})))},s=0;s<t.length;s++)a(s);rR(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)ei(r[s]);rk(e,e.transactionQueueTree_)}}(e,i,r),r}function rD(e,t){var n,r=e.transactionQueueTree_;for(n=eN(t);null!==n&&void 0===nX(r);)r=n$(r,n),n=eN(t=eO(t));return r}function rO(e,t){var n=[];return function e(t,n,r){var i=nX(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);n1(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function rR(e,t){var n=nX(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,nJ(t,n.length>0?n:void 0)}n1(t,function(t){rR(e,t)})}function rF(e,t){var n=n2(rD(e,t)),r=n$(e.transactionQueueTree_,t);return!function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){rL(e,t)}),rL(e,r),!function e(t,n,r,i){r&&!i&&n(t),n1(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){rL(e,t)}),n}function rL(e,t){var n=nX(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,_.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):((0,_.hu)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(nS(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,Error("set"),!1,null))));-1===o?nJ(t,void 0):n.length=o+1,rf(e.eventQueue_,n2(t),i);for(var a=0;a<r.length;a++)ei(r[a])}}var rP=function(e,t){var n=rU(e),r=n.namespace;"firebase.com"===n.domain&&Q(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Q("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||V();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ed(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new eS(n.pathString)}},rU=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var A=e.indexOf("?");-1===A&&(A=e.length),t=e.substring(0,Math.min(l,A)),l<A&&(i=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(l,A)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,E.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):H("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,A)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var h=t.indexOf(".");r=t.substring(0,h).toLowerCase(),n=t.substring(h+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},rM=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,_.Pz)(this.snapshot.exportVal())},e}(),rj=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),rZ=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,_.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),rQ=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new _.BH;return function(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&function e(t,n){if(eU(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(e8,function(e,n){tT(t,new eS(e),n)}),e(t,n)}if(!(t.children.size>0))return!0;var i=eN(n);return n=eO(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}(e.onDisconnect_,t),rT(e,n,r,i)})}(this._repo,this._path,e.wrapCallback(function(){})),e.promise},e.prototype.remove=function(){rs("OnDisconnect.remove",this._path);var e=new _.BH;return rC(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},e.prototype.set=function(e){rs("OnDisconnect.set",this._path),n9("OnDisconnect.set",e,this._path,!1);var t=new _.BH;return rC(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e.prototype.setWithPriority=function(e,t){rs("OnDisconnect.setWithPriority",this._path),n9("OnDisconnect.setWithPriority",e,this._path,!1),rn("OnDisconnect.setWithPriority",t,!1);var n=new _.BH;return function(e,t,n,r,i){var o=to(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(n,r){"ok"===n&&tT(e.onDisconnect_,t,o),rT(e,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise},e.prototype.update=function(e){rs("OnDisconnect.update",this._path),rt("OnDisconnect.update",e,this._path,!1);var t=new _.BH;return function(e,t,n,r){if((0,_.xb)(n)){M("onDisconnect().update() called with empty data.  Don't do anything."),rT(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,o){"ok"===i&&ee(n,function(n,r){var i=to(r);tT(e.onDisconnect_,eP(t,n),i)}),rT(e,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e}(),rH=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return eU(this._path)?null:eR(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rz(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=X(tC(this._queryParams));return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return tC(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,_.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=eZ(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function rV(e,t){if(!0===e._orderByCalled)throw Error(t+": You can't combine multiple orderBy calls.")}function rK(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===e$){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==z)throw Error(r);if("string"!=typeof t)throw Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==W)throw Error(r);if("string"!=typeof n)throw Error(i)}}else if(e.getIndex()===e8){if(null!=t&&!n8(t)||null!=n&&!n8(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,_.hu)(e.getIndex() instanceof ta||e.getIndex()===ts,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rG(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var rz=function(e){function t(t,n){return e.call(this,t,n,new ty,!1)||this}return(0,E.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=eL(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(rH),rW=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new eS(t),r=r$(this.ref,t);return new e(this._node.getChild(n),r,e8)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return t(new e(i,r$(n.ref,r),e8))})},e.prototype.hasChild=function(e){var t=new eS(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function rq(e,t){return(e=(0,_.m9)(e))._checkNotDeleted("ref"),void 0!==t?r$(e._root,t):e._root}function rY(e,t){(e=(0,_.m9)(e))._checkNotDeleted("refFromURL");var n=rP(t,e._repo.repoInfo_.nodeAdmin);ru("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Q("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),rq(e,n.path.toString())}function r$(e,t){return null===eN((e=(0,_.m9)(e))._path)?ra("child","path",t,!1):ro("child","path",t,!1),new rz(e._repo,eP(e._path,t))}function rX(e,t){rs("set",(e=(0,_.m9)(e))._path),n9("set",t,e._path,!1);var n=new _.BH;return rE(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}var rJ=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new rM("value",this,new rW(e.snapshotNode,new rz(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rj(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),r0=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rj(this,e,t):null},e.prototype.createEvent=function(e,t){(0,_.hu)(null!=e.childName,"Child events should have a childName.");var n=r$(new rz(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new rM(e.type,this,new rW(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function r1(e,t,n,r,i){if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){var o,a,s,u=n,c=function(t,n){rB(e._repo,e,A),u(t,n)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new rZ(n,s||void 0),A="value"===t?new rJ(l):new r0(t,l);return o=e._repo,a=".info"===eN(e._path)?nD(o.infoSyncTree_,e,A):nD(o.serverSyncTree_,e,A),rd(o.eventQueue_,e._path,a),function(){return rB(e._repo,e,A)}}function r2(e,t,n,r){return r1(e,"value",t,n,r)}function r4(e,t,n,r){return r1(e,"child_added",t,n,r)}function r3(e,t,n,r){return r1(e,"child_changed",t,n,r)}function r5(e,t,n,r){return r1(e,"child_moved",t,n,r)}function r6(e,t,n,r){return r1(e,"child_removed",t,n,r)}function r8(e,t,n){var r=null,i=n?new rZ(n):null;"value"===t?r=new rJ(i):t&&(r=new r0(t,i)),rB(e._repo,e,r)}var r9=function(){},r7=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,E.__extends)(t,e),t.prototype._apply=function(e){n9("endAt",this._value,e._path,!0);var t=tw(e._queryParams,this._value,this._key);if(rG(t),rK(t),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rH(e._repo,e._path,t,e._orderByCalled)},t}(r9),ie=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,E.__extends)(t,e),t.prototype._apply=function(e){n9("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===e$?("string"==typeof n&&(n=tA(n)),i=tw(t,n,r)):i=tw(t,n,null==r?z:tA(r)),i.endBeforeSet_=!0,i);if(rG(o),rK(o),e._queryParams.hasEnd())throw Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rH(e._repo,e._path,o,e._orderByCalled)},t}(r9),it=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,E.__extends)(t,e),t.prototype._apply=function(e){n9("startAt",this._value,e._path,!0);var t=tb(e._queryParams,this._value,this._key);if(rG(t),rK(t),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rH(e._repo,e._path,t,e._orderByCalled)},t}(r9),ir=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,E.__extends)(t,e),t.prototype._apply=function(e){n9("startAfter",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===e$?("string"==typeof n&&(n=tl(n)),i=tb(t,n,r)):i=tb(t,n,null==r?W:tl(r)),i.startAfterSet_=!0,i);if(rG(o),rK(o),e._queryParams.hasStart())throw Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rH(e._repo,e._path,o,e._orderByCalled)},t}(r9),ii=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,E.__extends)(t,e),t.prototype._apply=function(e){var t,n,r;if(e._queryParams.hasLimit())throw Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new rH(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled)},t}(r9),io=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,E.__extends)(t,e),t.prototype._apply=function(e){var t,n,r;if(e._queryParams.hasLimit())throw Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new rH(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled)},t}(r9),ia=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,E.__extends)(t,e),t.prototype._apply=function(e){rV(e,"orderByChild");var t=new eS(this._path);if(eU(t))throw Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ta(t),r=t_(e._queryParams,n);return rK(r),new rH(e._repo,e._path,r,!0)},t}(r9),is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),t.prototype._apply=function(e){rV(e,"orderByKey");var t=t_(e._queryParams,e$);return rK(t),new rH(e._repo,e._path,t,!0)},t}(r9),iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),t.prototype._apply=function(e){rV(e,"orderByPriority");var t=t_(e._queryParams,e8);return rK(t),new rH(e._repo,e._path,t,!0)},t}(r9),ic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,E.__extends)(t,e),t.prototype._apply=function(e){rV(e,"orderByValue");var t=t_(e._queryParams,ts);return rK(t),new rH(e._repo,e._path,t,!0)},t}(r9),il=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,E.__extends)(t,e),t.prototype._apply=function(e){if(n9("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new r7(this._value,this._key)._apply(new it(this._value,this._key)._apply(e))},t}(r9);function iA(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(0,_.m9)(e);try{for(var a=(0,E.__values)(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}(0,_.hu)(!m,"__referenceConstructor has already been defined"),m=rz,(0,_.hu)(!y,"__referenceConstructor has already been defined"),y=rz;var id={},ih=!1;function ip(e,t,n,r,i){var o,a,s,u,c,l=r||e.options.databaseURL;void 0===l&&(e.options.projectId||Q("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),M("Using default host for project ",e.options.projectId),l=e.options.projectId+"-default-rtdb.firebaseio.com");var A=rP(l,i),d=A.repoInfo,f=void 0;void 0!==B&&(f=B.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(c=!0,d=(A=rP(l="http://"+f+"?ns="+d.namespace,i)).repoInfo):c=!A.repoInfo.secure;var h=i&&c?new eu(eu.OWNER):new es(e.name,e.options,t);return ru("Invalid Firebase Database URL",A),eU(A.path)||Q("Database URL must point to the root of a Firebase Database (not including a child path)."),new ig((o=d,a=new ea(e.name,n),(s=id[e.name])||(s={},id[e.name]=s),(u=s[o.toURLString()])&&Q("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new rg(o,ih,h,a),s[o.toURLString()]=u,u),e)}var ig=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){var r,i,o;if(e.stats_=ev(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tB(e.repoInfo_,function(t,n,r,i){ry(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return rb(e,!0)},0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,_.Pz)(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new ez(e.repoInfo_,t,function(t,n,r,i){ry(e,t,n,r,i)},function(t){rb(e,t)},function(t){ee(t,function(t,n){rw(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=(r=e.repoInfo_,i=function(){return new tN(e.stats_,e.server_)},eg[o=r.toString()]||(eg[o]=i()),eg[o]),e.infoData_=new tI,e.infoSyncTree_=new nx({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=nk(e.infoSyncTree_,t._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),rw(e,"connected",!1),e.serverSyncTree_=new nx({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var o=i(n,r);rf(e.eventQueue_,t._path,o)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new rz(this._repo,ek())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){if(null!==this._rootInternal){var e,t,n;e=this._repo,(n=id[t=this.app.name])&&n[e.key]===e||Q("Database "+t+"("+e.repoInfo_+") has already been deleted."),rI(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null}return Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&Q("Cannot call "+e+" on a deleted database.")},e}(),iv={".sv":"timestamp"},im=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),iy=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,_.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,_.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.remove=function(e){(0,_.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,_.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.set=function(e,t){(0,_.Dv)("OnDisconnect.set",1,2,arguments.length),(0,_.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.setWithPriority=function(e,t,n){(0,_.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,_.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},e.prototype.update=function(e,t){if((0,_.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,H("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,_.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},e}(),ib=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,_.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),iw=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,_.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,_.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,_.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,_.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,_.Dv)("DataSnapshot.child",0,1,arguments.length),ro("DataSnapshot.child","path",t=String(t),!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,_.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ro("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,_.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,_.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,_.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return(0,_.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,_.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,_.Dv)("DataSnapshot.ref",0,0,arguments.length),new iE(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),i_=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;(0,_.Dv)("Query.on",2,4,arguments.length),(0,_.Wj)("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new iw(a.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return r2(this._delegate,u,c),n;case"child_added":return r4(this._delegate,u,c),n;case"child_removed":return r6(this._delegate,u,c),n;case"child_changed":return r3(this._delegate,u,c),n;case"child_moved":return r5(this._delegate,u,c),n;default:throw Error((0,_.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,_.Dv)("Query.off",0,3,arguments.length),rr("Query.off",e,!0),(0,_.Wj)("Query.off","callback",t,!0),(0,_.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,r8(this._delegate,e,r)}else r8(this._delegate,e)},e.prototype.get=function(){var e,t,n,r,i=this;return(e=this._delegate,(t=(e=(0,_.m9)(e))._repo,n=e,null!=(r=function(e,t){var n,r=t._path,i=null;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=eM(e,r);i=i||n_(t,n)});var o=e.syncPointTree_.get(r);o?i=i||n_(o,ek()):(o=new nm,e.syncPointTree_=e.syncPointTree_.set(r,o));var a=null!=i,s=a?new tM(i,!0,!1):null,u=(n=e.pendingWriteTree_,nr(t._path,n));return tK(nb(o,t,u,a?s.getNode():tr.EMPTY_NODE,a).viewCache_)}(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then(function(e){var r=to(e).withIndex(n._queryParams.getIndex()),i=nk(t.serverSyncTree_,n._path,r);return rd(t.eventQueue_,n._path,i),Promise.resolve(r)},function(e){return rx(t,"get for query "+(0,_.Pz)(n)+" failed: "+e),Promise.reject(Error(e))})).then(function(t){return new rW(t,new rz(e._repo,e._path),e._queryParams.getIndex())})).then(function(e){return new iw(i.database,e)})},e.prototype.once=function(t,n,r,i){var o=this;(0,_.Dv)("Query.once",1,4,arguments.length),(0,_.Wj)("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new _.BH,u=function(e,t){var r=new iw(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":r2(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":r4(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":r6(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":r3(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":r5(this._delegate,u,c,{onlyOnce:!0});break;default:throw Error((0,_.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return(0,_.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,iA(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToFirst: First argument must be a positive integer.");return new ii(e)}(t)))},e.prototype.limitToLast=function(t){return(0,_.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,iA(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToLast: First argument must be a positive integer.");return new io(e)}(t)))},e.prototype.orderByChild=function(t){return(0,_.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,iA(this._delegate,function(e){if("$key"===e)throw Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ro("orderByChild","path",e,!1),new ia(e)}(t)))},e.prototype.orderByKey=function(){return(0,_.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,iA(this._delegate,new is))},e.prototype.orderByPriority=function(){return(0,_.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,iA(this._delegate,new iu))},e.prototype.orderByValue=function(){return(0,_.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,iA(this._delegate,new ic))},e.prototype.startAt=function(t,n){var r;return void 0===t&&(t=null),(0,_.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,iA(this._delegate,(void 0===(r=t)&&(r=null),ri("startAt","key",n,!0),new it(r,n))))},e.prototype.startAfter=function(t,n){var r;return void 0===t&&(t=null),(0,_.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,iA(this._delegate,(r=t,ri("startAfter","key",n,!0),new ir(r,n))))},e.prototype.endAt=function(t,n){var r;return void 0===t&&(t=null),(0,_.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,iA(this._delegate,(r=t,ri("endAt","key",n,!0),new r7(r,n))))},e.prototype.endBefore=function(t,n){var r;return void 0===t&&(t=null),(0,_.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,iA(this._delegate,(r=t,ri("endBefore","key",n,!0),new ie(r,n))))},e.prototype.equalTo=function(t,n){return(0,_.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,iA(this._delegate,(ri("equalTo","key",n,!0),new il(t,n))))},e.prototype.toString=function(){return(0,_.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,_.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,_.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,_.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,_.lb)(e,"context",r.context,!0);else if(t){if("object"==typeof t&&null!==t)r.context=t;else if("function"==typeof t)r.cancel=t;else throw Error((0,_.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.")}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new iE(this.database,new rz(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),iE=function(e){function t(t,n){var r=e.call(this,t,new rH(n._repo,n._path,new ty,!1))||this;return r.database=t,r._delegate=n,r}return(0,E.__extends)(t,e),t.prototype.getKey=function(){return(0,_.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,_.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,r$(this._delegate,e))},t.prototype.getParent=function(){(0,_.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,_.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,_.Dv)("Reference.set",1,2,arguments.length),(0,_.Wj)("Reference.set","onComplete",t,!0);var n=rX(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.update=function(e,t){if((0,_.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n,r,i,o={},a=0;a<e.length;++a)o[""+a]=e[a];e=o,H("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rs("Reference.update",this._delegate._path),(0,_.Wj)("Reference.update","onComplete",t,!0);var s=(n=this._delegate,rt("update",r=e,n._path,!1),i=new _.BH,function(e,t,n,r){rx(e,"update",{path:t.toString(),value:n});var i=!0,o=rm(e),a={};if(ee(n,function(n,r){i=!1,a[n]=nz(eP(t,n),to(r),e.serverSyncTree_,o)}),i)M("update() called with empty data.  Don't do anything."),rT(e,r,"ok",void 0);else{var s,u,c,l=r_(e),A=(u=(s=e.serverSyncTree_).pendingWriteTree_,(0,_.hu)(l>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:t,children:a,writeId:l,visible:!0}),u.visibleWrites=tY(u.visibleWrites,t,a),u.lastWriteId=l,c=tz.fromObject(a),nR(s,new tU(tD(),t,c)));rA(e.eventQueue_,A),e.server_.merge(t.toString(),n,function(n,i){var o="ok"===n;o||H("update at "+t+" failed: "+n);var a=nS(e.serverSyncTree_,l,!o),s=a.length>0?rN(e,t):t;rf(e.eventQueue_,s,a),rT(e,r,n,i)}),ee(n,function(n){var r=rF(e,eP(t,n));rN(e,r)}),rf(e.eventQueue_,t,[])}}(n._repo,n._path,r,i.wrapCallback(function(){})),i.promise);return t&&s.then(function(){return t(null)},function(e){return t(e)}),s},t.prototype.setWithPriority=function(e,t,n){(0,_.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,_.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(rs("setWithPriority",e._path),n9("setWithPriority",t,e._path,!1),rn("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new _.BH;return rE(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},t.prototype.remove=function(e){(0,_.Dv)("Reference.remove",0,1,arguments.length),(0,_.Wj)("Reference.remove","onComplete",e,!0);var t,n=(rs("remove",(t=this._delegate)._path),rX(t,null));return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.transaction=function(e,t,n){var r=this;(0,_.Dv)("Reference.transaction",1,3,arguments.length),(0,_.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,_.Wj)("Reference.transaction","onComplete",t,!0),rc("Reference.transaction","applyLocally",n,!0);var i=(function(e,t,n){if(rs("Reference.transaction",(e=(0,_.m9)(e))._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var r,i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new _.BH,a=r2(e,function(){});return function(e,t,n,r,i,o){rx(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:O(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=rS(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{n7("transaction failed: Data returned ",u,a.path),a.status=0;var c=n$(e.transactionQueueTree_,t),l=nX(c)||[];l.push(a),nJ(c,l);var A=void 0;"object"==typeof u&&null!==u&&(0,_.r3)(u,".priority")?(A=(0,_.DV)(u,".priority"),(0,_.hu)(n8(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):A=(nO(e.serverSyncTree_,t)||tr.EMPTY_NODE).getPriority().val();var d=rm(e),f=to(u,A),h=nW(f,s,d);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=h,a.currentWriteId=r_(e);var p=nT(e.serverSyncTree_,t,h,a.currentWriteId,a.applyLocally);rf(e.eventQueue_,t,p),rk(e,e.transactionQueueTree_)}}(e._repo,e._path,t,function(t,n,r){var i=null;t?o.reject(t):(i=new rW(r,new rz(e._repo,e._path),e8),o.resolve(new im(n,i)))},a,i),o.promise})(this._delegate,e,{applyLocally:n}).then(function(e){return new ib(e.committed,new iw(r.database,e.snapshot))});return t&&i.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),i},t.prototype.setPriority=function(e,t){(0,_.Dv)("Reference.setPriority",1,2,arguments.length),(0,_.Wj)("Reference.setPriority","onComplete",t,!0);var n,r,i=(n=this._delegate,rs("setPriority",(n=(0,_.m9)(n))._path),rn("setPriority",e,!1),r=new _.BH,rE(n._repo,eP(n._path,".priority"),e,null,r.wrapCallback(function(){})),r.promise);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},t.prototype.push=function(e,n){var r,i,o,a,s,u=this;(0,_.Dv)("Reference.push",0,2,arguments.length),(0,_.Wj)("Reference.push","onComplete",n,!0);var c=(r=this._delegate,rs("push",(r=(0,_.m9)(r))._path),n9("push",e,r._path,!0),o=tc(rv(r._repo)),a=r$(r,o),s=r$(r,o),i=null!=e?rX(s,e).then(function(){return s}):Promise.resolve(s),a.then=i.then.bind(i),a.catch=i.then.bind(i,void 0),a),l=c.then(function(e){return new t(u.database,e)});n&&l.then(function(){return n(null)},function(e){return n(e)});var A=new t(this.database,c);return A.then=l.then.bind(l),A.catch=l.catch.bind(l,void 0),A},t.prototype.onDisconnect=function(){return rs("Reference.onDisconnect",this._delegate._path),new iy(new rQ(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(i_),iC=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){var r,i,o,a,s;void 0===n&&(n={}),r=this._delegate,void 0===(i=n)&&(i={}),(r=(0,_.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&Q("Cannot call useEmulator() after instance has already been initialized."),o=r._repoInternal,a=void 0,o.repoInfo_.nodeAdmin?(i.mockUserToken&&Q('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new eu(eu.OWNER)):i.mockUserToken&&(a=new eu("string"==typeof i.mockUserToken?i.mockUserToken:(0,_.Sg)(i.mockUserToken,r.app.options.projectId))),s=a,o.repoInfo_=new ed(e+":"+t,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),s&&(o.authTokenProvider_=s)},e.prototype.ref=function(e){if((0,_.Dv)("database.ref",0,1,arguments.length),e instanceof iE){var t=rY(this._delegate,e.toString());return new iE(this,t)}var t=rq(this._delegate,e);return new iE(this,t)},e.prototype.refFromURL=function(e){return(0,_.Dv)("database.refFromURL",1,1,arguments.length),new iE(this,rY(this._delegate,e))},e.prototype.goOffline=function(){var e;return(0,_.Dv)("database.goOffline",0,0,arguments.length),e=this._delegate,void((e=(0,_.m9)(e))._checkNotDeleted("goOffline"),rI(e._repo))},e.prototype.goOnline=function(){var e,t;return(0,_.Dv)("database.goOnline",0,0,arguments.length),e=this._delegate,void((e=(0,_.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(rp))},e.ServerValue={TIMESTAMP:iv,increment:function(e){return{".sv":{increment:e}}}},e}(),iB=/*#__PURE__*/Object.freeze({__proto__:null,forceLongPolling:function(){eE.forceDisallow(),eb.forceAllow()},forceWebSockets:function(){eb.forceDisallow()},isWebSocketsAvailable:function(){return eE.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){t?(e.statsListener_||(e.statsListener_=new tk(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var n,r=Object.keys(n).reduce(function(e,t){return Math.max(t.length,e)},0);ee(n,function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)})}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){var n;(n=e._delegate._repo).stats_.incrementCounter(t),n.statsReporter_.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e._delegate._repo.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin;I=r;var s=new w.zt("auth-internal",new w.H0("database-standalone"));return s.setComponent(new w.wA("auth-internal",function(){return i},"PRIVATE")),{instance:new iC(ip(t,s,void 0,n,void 0!==a&&a),t),namespace:o}}});ez.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ez.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var iI=/*#__PURE__*/Object.freeze({__proto__:null,DataConnection:ez,RealTimeConnection:eB,hijackHash:function(e){var t=ez.prototype.put;return ez.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){ez.prototype.put=t}},ConnectionTarget:ed,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){ih=e}}),ix=iC.ServerValue;I=(r=b.Z).SDK_VERSION,i=r.INTERNAL.registerComponent(new w.wA("database",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return new iC(ip(r,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),r)},"PUBLIC").setServiceProps({Reference:iE,Query:i_,Database:iC,DataSnapshot:iw,enableLogging:U,INTERNAL:iB,ServerValue:ix,TEST_ACCESS:iI}).setMultipleInstances(!0)),r.registerVersion("@firebase/database","0.11.0"),(0,_.Yr)()&&(e.exports=i)},70015:function(e,t){!function(e){"use strict";function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var i,o=new Promise(function(o,a){t(i=e[n].apply(e,r)).then(o,a)});return o.request=i,o}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function i(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){return n(this[t],i,arguments)})})}function o(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){var e,r,o;return e=this[t],r=arguments,(o=n(e,i,r)).then(function(e){if(e)return new u(e,o.request)})})})}function s(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function A(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function d(e){this._db=e}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){if(e)return new u(e,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),A.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(A,"_db",["name","version","objectStoreNames"]),o(A,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),o(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[c,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){if(!e||(r.push(e.value),void 0!==t&&r.length==t)){i(r);return}e.continue()})})})}),e.openDb=function(e,t,r){var i=n(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){r&&r(new A(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new d(e)})},e.deleteDb=function(e){return n(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},62333:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,A=n?i-1:0,d=n?-1:1,f=e[t+A];for(A+=d,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+A],A+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+A],A+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,A=l>>1,d=23===i?5960464477539062e-23:0,f=r?0:o-1,h=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+A>=1?t+=d/u:t+=d*Math.pow(2,1-A),t*u>=2&&(a++,u/=2),a+A>=l?(s=0,a=l):a+A>=1?(s=(t*u-1)*Math.pow(2,i),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*p}},87202:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function s(e){return e=i[e=e.toLowerCase()]||e}t.TB=function(e,t){var n,i,a,u,c;return n=e,i={byKey:!0},a=t,!i||"byKey"in i||(a=i,i=null),Array.isArray(n)||(n=[n]),u=n.map(function(e){return function(e,t){var n=t&&t.byKey,i={},a=(e=e.replace("++","+add")).split("+"),u=a.length;for(var c in r)i[r[c]]=!1;var l=!0,A=!1,d=void 0;try{for(var f,h=a[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p,g=f.value,v=g.endsWith("?")&&g.length>1;v&&(g=g.slice(0,-1));var m=s(g),y=r[m];1!==u&&y||(n?i.key=m:i.which=(p=g,o[p=s(p)]||p.toUpperCase().charCodeAt(0))),y&&(i[y]=!v||null)}}catch(e){A=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(A)throw d}}return i}(e,i)}),c=function(e){return u.some(function(t){return function(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&(null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r)return!1}return!0}(t,e)})},null==a?c:c(a)}},52810:function(e,t,n){"use strict";/*!
 * keygrip
 * Copyright(c) 2011-2014 Jed Schmidt
 * MIT Licensed
 */var r=n(42294),i=n(98554);function o(e,t,n){if(t||(t="sha1"),n||(n="base64"),!(this instanceof o))return new o(e,t,n);if(!e||!(0 in e))throw Error("Keys must be provided.");function a(e,r){return i.createHmac(t,r).update(e).digest(n).replace(/\/|\+|=/g,function(e){return({"/":"_","+":"-","=":""})[e]})}this.sign=function(t){return a(t,e[0])},this.verify=function(e,t){return this.index(e,t)>-1},this.index=function(t,n){for(var i=0,o=e.length;i<o;i++)if(r(n,a(t,e[i])))return i;return -1}}o.sign=o.verify=o.index=function(){throw Error("Usage: require('keygrip')(<array-of-keys>)")},e.exports=o},80594:function(e,t,n){var r=0/0,i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,A=c||l||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return A.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=a.test(e);return c||s.test(e)?u(e.slice(2),c?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,A=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function y(e){var n=e-u,r=e-c;return void 0===u||n>=t||n<0||A&&r>=o}function b(){var e,n,r,i=p();if(y(i))return w(i);s=setTimeout(b,(e=i-u,n=i-c,r=t-e,A?h(r,o-n):r))}function w(e){return(s=void 0,d&&r)?m(e):(r=i=void 0,a)}function _(){var e,n=p(),o=y(n);if(r=arguments,i=this,u=n,o){if(void 0===s)return c=e=u,s=setTimeout(b,t),l?m(e):a;if(A)return s=setTimeout(b,t),m(u)}return void 0===s&&(s=setTimeout(b,t)),a}return t=v(t)||0,g(n)&&(l=!!n.leading,o=(A="maxWait"in n)?f(v(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?a:w(p())},_}},98357:function(e,t,n){var r="Expected a function",i=0/0,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,d=l||A||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return i;if(v(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=v(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?i:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw TypeError(r);return v(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),function(e,t,n){var i,o,a,s,u,c,l=0,A=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError(r);function y(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n)}function b(e){var n=e-c,r=e-l;return void 0===c||n>=t||n<0||d&&r>=a}function w(){var e,n,r,i=g();if(b(i))return _(i);u=setTimeout(w,(e=i-c,n=i-l,r=t-e,d?p(r,a-n):r))}function _(e){return(u=void 0,f&&i)?y(e):(i=o=void 0,s)}function E(){var e,n=g(),r=b(n);if(i=arguments,o=this,c=n,r){if(void 0===u)return l=e=c,u=setTimeout(w,t),A?y(e):s;if(d)return u=setTimeout(w,t),y(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=m(t)||0,v(n)&&(A=!!n.leading,a=(d="maxWait"in n)?h(m(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0},E.flush=function(){return void 0===u?s:_(g())},E}(e,t,{leading:i,maxWait:t,trailing:o})}},39515:function(e,t,n){var r=n(38761)(n(37772),"DataView");e.exports=r},89612:function(e,t,n){var r=n(52118),i=n(96909),o=n(98138),a=n(4174),s=n(7942);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},80235:function(e,t,n){var r=n(3945),i=n(21846),o=n(88028),a=n(72344),s=n(94769);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},10326:function(e,t,n){var r=n(38761)(n(37772),"Map");e.exports=r},96738:function(e,t,n){var r=n(92411),i=n(36417),o=n(86928),a=n(79493),s=n(24150);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},52760:function(e,t,n){var r=n(38761)(n(37772),"Promise");e.exports=r},2143:function(e,t,n){var r=n(38761)(n(37772),"Set");e.exports=r},45386:function(e,t,n){var r=n(96738),i=n(52842),o=n(52482);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},86571:function(e,t,n){var r=n(80235),i=n(15243),o=n(72858),a=n(4417),s=n(8605),u=n(71418);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},50857:function(e,t,n){var r=n(37772).Symbol;e.exports=r},79162:function(e,t,n){var r=n(37772).Uint8Array;e.exports=r},93215:function(e,t,n){var r=n(38761)(n(37772),"WeakMap");e.exports=r},49432:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},65338:function(e){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},72517:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},67552:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},38333:function(e,t,n){var r=n(77832);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},34893:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1634:function(e,t,n){var r=n(36473),i=n(79631),o=n(86152),a=n(73226),s=n(39045),u=n(77598),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),A=!n&&!l&&a(e),d=!n&&!l&&!A&&u(e),f=n||l||A||d,h=f?r(e.length,String):[],p=h.length;for(var g in e)(t||c.call(e,g))&&!(f&&("length"==g||A&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,p)))&&h.push(g);return h}},50343:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},65067:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},33977:function(e,t,n){var r=n(5809);e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},87064:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},50217:function(e){e.exports=function(e){return e.split("")}},28582:function(e,t,n){var r=n(13940),i=n(41225);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},60091:function(e,t,n){var r=n(13940),i=n(41225),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},22218:function(e,t,n){var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},12825:function(e,t,n){var r=n(24303);e.exports=function(e,t,n,i){return r(e,function(e,r,o){t(i,e,n(e),o)}),i}},67993:function(e,t,n){var r=n(752),i=n(90249);e.exports=function(e,t){return e&&r(t,i(t),e)}},55906:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e,t){return e&&r(t,i(t),e)}},13940:function(e,t,n){var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},14034:function(e){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},18874:function(e,t,n){var r=n(86571),i=n(72517),o=n(60091),a=n(67993),s=n(55906),u=n(92175),c=n(51522),l=n(7680),A=n(19987),d=n(13483),f=n(76939),h=n(70940),p=n(99917),g=n(8222),v=n(78725),m=n(86152),y=n(73226),b=n(4714),w=n(29259),_=n(43679),E=n(90249),C=n(18582),B="[object Arguments]",I="[object Function]",x="[object Object]",T={};T[B]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[x]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[I]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,S,k,N,D){var O,R=1&n,F=2&n,L=4&n;if(S&&(O=N?S(t,k,N,D):S(t)),void 0!==O)return O;if(!w(t))return t;var P=m(t);if(P){if(O=p(t),!R)return c(t,O)}else{var U=h(t),M=U==I||"[object GeneratorFunction]"==U;if(y(t))return u(t,R);if(U==x||U==B||M&&!N){if(O=F||M?{}:v(t),!R)return F?A(t,s(O,t)):l(t,a(O,t))}else{if(!T[U])return N?t:{};O=g(t,U,R)}}D||(D=new r);var j=D.get(t);if(j)return j;D.set(t,O),_(t)?t.forEach(function(r){O.add(e(r,n,S,r,t,D))}):b(t)&&t.forEach(function(r,i){O.set(i,e(r,n,S,i,t,D))});var Z=L?F?f:d:F?C:E,Q=P?void 0:Z(t);return i(Q||t,function(r,i){Q&&(r=t[i=r]),o(O,i,e(r,n,S,i,t,D))}),O}},39413:function(e,t,n){var r=n(29259),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},85246:function(e,t,n){var r=n(45386),i=n(38333),o=n(34893),a=n(50343),s=n(47826),u=n(59950);e.exports=function(e,t,n,c){var l=-1,A=i,d=!0,f=e.length,h=[],p=t.length;if(!f)return h;n&&(t=a(t,s(n))),c?(A=o,d=!1):t.length>=200&&(A=u,d=!1,t=new r(t));t:for(;++l<f;){var g=e[l],v=null==n?g:n(g);if(g=c||0!==g?g:0,d&&v==v){for(var m=p;m--;)if(t[m]===v)continue t;h.push(g)}else A(t,v,c)||h.push(g)}return h}},24303:function(e,t,n){var r=n(26548),i=n(92019)(r);e.exports=i},2229:function(e,t,n){var r=n(4795);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,c=a}return c}},21359:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return -1}},62034:function(e,t,n){var r=n(65067),i=n(95882);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},15308:function(e,t,n){var r=n(55463)();e.exports=r},26548:function(e,t,n){var r=n(15308),i=n(90249);e.exports=function(e,t){return e&&r(e,t,i)}},13324:function(e,t,n){var r=n(17297),i=n(33812);e.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1897:function(e,t,n){var r=n(65067),i=n(86152);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},53366:function(e,t,n){var r=n(50857),i=n(62107),o=n(37157),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},84134:function(e){e.exports=function(e,t){return e>t}},20187:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},77832:function(e,t,n){var r=n(21359),i=n(22195),o=n(66024);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},15183:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},88746:function(e,t,n){var r=n(51952),i=n(15125);e.exports=function e(t,n,o,a,s){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,o,a,e,s):t!=t&&n!=n)}},51952:function(e,t,n){var r=n(86571),i=n(74871),o=n(11491),a=n(17416),s=n(70940),u=n(86152),c=n(73226),l=n(77598),A="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,v){var m=u(e),y=u(t),b=m?d:s(e),w=y?d:s(t);b=b==A?f:b,w=w==A?f:w;var _=b==f,E=w==f,C=b==w;if(C&&c(e)){if(!c(t))return!1;m=!0,_=!1}if(C&&!_)return v||(v=new r),m||l(e)?i(e,t,n,p,g,v):o(e,t,b,n,p,g,v);if(!(1&n)){var B=_&&h.call(e,"__wrapped__"),I=E&&h.call(t,"__wrapped__");if(B||I){var x=B?e.value():e,T=I?t.value():t;return v||(v=new r),g(x,T,n,p,v)}}return!!C&&(v||(v=new r),a(e,t,n,p,g,v))}},74511:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},37036:function(e,t,n){var r=n(86571),i=n(88746);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],A=e[l],d=c[1];if(u&&c[2]){if(void 0===A&&!(l in e))return!1}else{var f=new r;if(o)var h=o(A,d,l,e,t,f);if(!(void 0===h?i(d,A,3,o,f):h))return!1}}return!0}},22195:function(e){e.exports=function(e){return e!=e}},6840:function(e,t,n){var r=n(61049),i=n(47394),o=n(29259),a=n(87035),s=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,A=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?A:s).test(a(e))}},8109:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},35522:function(e,t,n){var r=n(53366),i=n(61158),o=n(15125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},68286:function(e,t,n){var r=n(26423),i=n(74716),o=n(23059),a=n(86152),s=n(65798);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},86411:function(e,t,n){var r=n(16001),i=n(54248),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},18390:function(e,t,n){var r=n(29259),i=n(16001),o=n(62966),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||n.push(s);return n}},26423:function(e,t,n){var r=n(37036),i=n(49882),o=n(73477);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},74716:function(e,t,n){var r=n(88746),i=n(72579),o=n(95041),a=n(21401),s=n(28792),u=n(73477),c=n(33812);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},84565:function(e,t,n){var r=n(86571),i=n(28582),o=n(15308),a=n(25561),s=n(29259),u=n(18582),c=n(52434);e.exports=function e(t,n,l,A,d){t!==n&&o(n,function(o,u){if(d||(d=new r),s(o))a(t,n,u,l,e,A,d);else{var f=A?A(c(t,u),o,u+"",t,n,d):void 0;void 0===f&&(f=o),i(t,u,f)}},u)}},25561:function(e,t,n){var r=n(28582),i=n(92175),o=n(6190),a=n(51522),s=n(78725),u=n(79631),c=n(86152),l=n(93746),A=n(73226),d=n(61049),f=n(29259),h=n(97030),p=n(77598),g=n(52434),v=n(63329);e.exports=function(e,t,n,m,y,b,w){var _=g(e,n),E=g(t,n),C=w.get(E);if(C){r(e,n,C);return}var B=b?b(_,E,n+"",e,t,w):void 0,I=void 0===B;if(I){var x=c(E),T=!x&&A(E),S=!x&&!T&&p(E);B=E,x||T||S?c(_)?B=_:l(_)?B=a(_):T?(I=!1,B=i(E,!0)):S?(I=!1,B=o(E,!0)):B=[]:h(E)||u(E)?(B=_,u(_)?B=v(_):(!f(_)||d(_))&&(B=s(E))):I=!1}I&&(w.set(E,B),y(B,E,m,b,w),w.delete(E)),r(e,n,B)}},20256:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},82952:function(e,t,n){var r=n(13324);e.exports=function(e){return function(t){return r(t,e)}}},5809:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,r){return e+t(n()*(r-e+1))}},36060:function(e,t,n){var r=n(23059),i=n(43114),o=n(75251);e.exports=function(e,t){return o(i(e,t,r),e+"")}},46543:function(e,t,n){var r=n(33977),i=n(98346);e.exports=function(e){return r(i(e))}},86532:function(e,t,n){var r=n(86874),i=n(83043),o=n(23059),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},39872:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},36473:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1054:function(e,t,n){var r=n(50857),i=n(50343),o=n(86152),a=n(4795),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},51704:function(e,t,n){var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},47826:function(e){e.exports=function(e){return function(t){return e(t)}}},67326:function(e,t,n){var r=n(45386),i=n(38333),o=n(34893),a=n(59950),s=n(78803),u=n(16909);e.exports=function(e,t,n){var c=-1,l=i,A=e.length,d=!0,f=[],h=f;if(n)d=!1,l=o;else if(A>=200){var p=t?null:s(e);if(p)return u(p);d=!1,l=a,h=new r}else h=t?[]:f;t:for(;++c<A;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,d&&v==v){for(var m=h.length;m--;)if(h[m]===v)continue t;t&&h.push(v),f.push(g)}else l(h,v,n)||(h!==f&&h.push(v),f.push(g))}return f}},29078:function(e,t,n){var r=n(17297),i=n(56974),o=n(62721),a=n(33812);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},50753:function(e,t,n){var r=n(50343);e.exports=function(e,t){return r(t,function(t){return e[t]})}},59950:function(e){e.exports=function(e,t){return e.has(t)}},89419:function(e,t,n){var r=n(23059);e.exports=function(e){return"function"==typeof e?e:r}},17297:function(e,t,n){var r=n(86152),i=n(21401),o=n(54452),a=n(66188);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},23895:function(e,t,n){var r=n(39872);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},79882:function(e,t,n){var r=n(79162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},92175:function(e,t,n){e=n.nmd(e);var r=n(37772),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},34727:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},96058:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},70169:function(e,t,n){var r=n(50857),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},6190:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},51522:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},752:function(e,t,n){var r=n(60091),i=n(13940);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},7680:function(e,t,n){var r=n(752),i=n(80633);e.exports=function(e,t){return r(e,i(e),t)}},19987:function(e,t,n){var r=n(752),i=n(12680);e.exports=function(e,t){return r(e,i(e),t)}},24019:function(e,t,n){var r=n(37772)["__core-js_shared__"];e.exports=r},36740:function(e,t,n){var r=n(65338),i=n(12825),o=n(68286),a=n(86152);e.exports=function(e,t){return function(n,s){var u=a(n)?r:i,c=t?t():{};return u(n,e,o(s,2),c)}}},97263:function(e,t,n){var r=n(36060),i=n(82406);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t})}},92019:function(e,t,n){var r=n(67878);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},55463:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},83126:function(e,t,n){var r=n(23895),i=n(33880),o=n(8435),a=n(66188);e.exports=function(e){return function(t){var n=i(t=a(t))?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},78803:function(e,t,n){var r=n(2143),i=n(34291),o=n(16909),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},48642:function(e,t,n){var r=n(97030);e.exports=function(e){return r(e)?void 0:e}},83043:function(e,t,n){var r=n(38761),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},74871:function(e,t,n){var r=n(45386),i=n(87064),o=n(59950);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,A=t.length;if(l!=A&&!(c&&A>l))return!1;var d=u.get(e),f=u.get(t);if(d&&f)return d==t&&f==e;var h=-1,p=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var v=e[h],m=t[h];if(a)var y=c?a(m,v,h,t,e,u):a(v,m,h,e,t,u);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,u)))return g.push(t)})){p=!1;break}}else if(!(v===m||s(v,m,n,a,u))){p=!1;break}}return u.delete(e),u.delete(t),p}},11491:function(e,t,n){var r=n(50857),i=n(79162),o=n(41225),a=n(74871),s=n(75179),u=n(16909),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,A,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!A(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=u),e.size!=t.size&&!h)break;var p=d.get(e);if(p)return p==t;r|=2,d.set(e,t);var g=a(f(e),f(t),r,c,A,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},17416:function(e,t,n){var r=n(13483),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var A=l;A--;){var d=c[A];if(!(u?d in t:i.call(t,d)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=u;++A<l;){var v=e[d=c[A]],m=t[d];if(o)var y=u?o(m,v,d,t,e,s):o(v,m,d,e,t,s);if(!(void 0===y?v===m||a(v,m,n,o,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(e),s.delete(t),p}},29097:function(e,t,n){var r=n(35676),i=n(43114),o=n(75251);e.exports=function(e){return o(i(e,void 0,r),e+"")}},51242:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},13483:function(e,t,n){var r=n(1897),i=n(80633),o=n(90249);e.exports=function(e){return r(e,o,i)}},76939:function(e,t,n){var r=n(1897),i=n(12680),o=n(18582);e.exports=function(e){return r(e,o,i)}},27937:function(e,t,n){var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},49882:function(e,t,n){var r=n(28792),i=n(90249);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},38761:function(e,t,n){var r=n(6840),i=n(98109);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},47353:function(e,t,n){var r=n(60241)(Object.getPrototypeOf,Object);e.exports=r},62107:function(e,t,n){var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},80633:function(e,t,n){var r=n(67552),i=n(30981),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:r(a(e=Object(e)),function(t){return o.call(e,t)})}:i;e.exports=s},12680:function(e,t,n){var r=n(65067),i=n(47353),o=n(80633),a=n(30981),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},70940:function(e,t,n){var r=n(39515),i=n(10326),o=n(52760),a=n(2143),s=n(93215),u=n(53366),c=n(87035),l="[object Map]",A="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=c(r),g=c(i),v=c(o),m=c(a),y=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=h||i&&b(new i)!=l||o&&b(o.resolve())!=A||a&&b(new a)!=d||s&&b(new s)!=f)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return h;case g:return l;case v:return A;case m:return d;case y:return f}return t}),e.exports=b},98109:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1369:function(e,t,n){var r=n(17297),i=n(79631),o=n(86152),a=n(39045),s=n(61158),u=n(33812);e.exports=function(e,t,n){t=r(t,e);for(var c=-1,l=t.length,A=!1;++c<l;){var d=u(t[c]);if(!(A=null!=e&&n(e,d)))break;e=e[d]}return A||++c!=l?A:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},33880:function(e){var t=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},52118:function(e,t,n){var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},98138:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4174:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7942:function(e,t,n){var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},99917:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8222:function(e,t,n){var r=n(79882),i=n(34727),o=n(96058),a=n(70169),s=n(6190);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},78725:function(e,t,n){var r=n(39413),i=n(47353),o=n(16001);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},95882:function(e,t,n){var r=n(50857),i=n(79631),o=n(86152),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},39045:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},82406:function(e,t,n){var r=n(41225),i=n(67878),o=n(39045),a=n(29259);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return("number"==s?!!(i(n)&&o(t,n.length)):"string"==s&&t in n)&&r(n[t],e)}},21401:function(e,t,n){var r=n(86152),i=n(4795),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},98304:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47394:function(e,t,n){var r,i=n(24019),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},16001:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},28792:function(e,t,n){var r=n(29259);e.exports=function(e){return e==e&&!r(e)}},3945:function(e){e.exports=function(){this.__data__=[],this.size=0}},21846:function(e,t,n){var r=n(22218),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},88028:function(e,t,n){var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:function(e,t,n){var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:function(e,t,n){var r=n(22218);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},92411:function(e,t,n){var r=n(89612),i=n(80235),o=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},36417:function(e,t,n){var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},86928:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:function(e,t,n){var r=n(27937);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},75179:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},73477:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},77777:function(e,t,n){var r=n(30733);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},99191:function(e,t,n){var r=n(38761)(Object,"create");e.exports=r},54248:function(e,t,n){var r=n(60241)(Object.keys,Object);e.exports=r},62966:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4146:function(e,t,n){e=n.nmd(e);var r=n(51242),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},37157:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},43114:function(e,t,n){var r=n(49432),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},62721:function(e,t,n){var r=n(13324),i=n(39872);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},37772:function(e,t,n){var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},52434:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},52842:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},52482:function(e){e.exports=function(e){return this.__data__.has(e)}},16909:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},75251:function(e,t,n){var r=n(86532),i=n(97787)(r);e.exports=i},97787:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},15243:function(e,t,n){var r=n(80235);e.exports=function(){this.__data__=new r,this.size=0}},72858:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4417:function(e){e.exports=function(e){return this.__data__.get(e)}},8605:function(e){e.exports=function(e){return this.__data__.has(e)}},71418:function(e,t,n){var r=n(80235),i=n(10326),o=n(96738);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},66024:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}},8435:function(e,t,n){var r=n(50217),i=n(33880),o=n(63344);e.exports=function(e){return i(e)?o(e):r(e)}},54452:function(e,t,n){var r=n(77777),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},33812:function(e,t,n){var r=n(4795),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},87035:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},52153:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},63344:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",i="[^"+t+"]",o="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",s="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[i,o,a].join("|")+")"+u+s+")*",l=RegExp(r+"(?="+r+")|(?:"+[i+n+"?",n,o,a,"["+t+"]"].join("|")+")"+(u+s+c),"g");e.exports=function(e){return e.match(l)||[]}},82108:function(e,t,n){var r=n(66188),i=n(23779);e.exports=function(e){return i(r(e).toLowerCase())}},93586:function(e,t,n){var r=n(39872),i=n(82406),o=n(38101),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:s(o(t),0);var u=null==e?0:e.length;if(!u||t<1)return[];for(var c=0,l=0,A=Array(a(u/t));c<u;)A[l++]=r(e,c,c+=t);return A}},27875:function(e,t,n){var r=n(14034),i=n(7642);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},9850:function(e,t,n){var r=n(18874);e.exports=function(e){return r(e,5)}},60417:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},86874:function(e){e.exports=function(e){return function(){return e}}},54073:function(e,t,n){var r=n(29259),i=n(61100),o=n(7642),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,A,d,f,h=0,p=!1,g=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var n=u,r=c;return u=c=void 0,h=t,A=e.apply(r,n)}function y(e){var n=e-f,r=e-h;return void 0===f||n>=t||n<0||g&&r>=l}function b(){var e,n,r,o=i();if(y(o))return w(o);d=setTimeout(b,(e=o-f,n=o-h,r=t-e,g?s(r,l-n):r))}function w(e){return(d=void 0,v&&u)?m(e):(u=c=void 0,A)}function _(){var e,n=i(),r=y(n);if(u=arguments,c=this,f=n,r){if(void 0===d)return h=e=f,d=setTimeout(b,t),p?m(e):A;if(g)return clearTimeout(d),d=setTimeout(b,t),m(f)}return void 0===d&&(d=setTimeout(b,t)),A}return t=o(t)||0,r(n)&&(p=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==d&&clearTimeout(d),h=0,u=f=c=d=void 0},_.flush=function(){return void 0===d?A:w(i())},_}},79421:function(e,t,n){e.exports=n(59756)},41225:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},12982:function(e,t,n){var r=n(21359),i=n(68286),o=n(38101),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},35676:function(e,t,n){var r=n(62034);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},59756:function(e,t,n){var r=n(72517),i=n(24303),o=n(89419),a=n(86152);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},10017:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}},72579:function(e,t,n){var r=n(13324);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3440:function(e,t,n){var r=n(13940),i=n(36740),o=Object.prototype.hasOwnProperty,a=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=a},95041:function(e,t,n){var r=n(20187),i=n(1369);e.exports=function(e,t){return null!=e&&i(e,t,r)}},23059:function(e){e.exports=function(e){return e}},79631:function(e,t,n){var r=n(15183),i=n(15125),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},86152:function(e){var t=Array.isArray;e.exports=t},67878:function(e,t,n){var r=n(61049),i=n(61158);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},93746:function(e,t,n){var r=n(67878),i=n(15125);e.exports=function(e){return i(e)&&r(e)}},73226:function(e,t,n){e=n.nmd(e);var r=n(37772),i=n(79207),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=s?s.isBuffer:void 0;e.exports=u||i},45455:function(e,t,n){var r=n(86411),i=n(70940),o=n(79631),a=n(86152),s=n(67878),u=n(73226),c=n(16001),l=n(77598),A=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(A.call(e,n))return!1;return!0}},18149:function(e,t,n){var r=n(88746);e.exports=function(e,t){return r(e,t)}},61049:function(e,t,n){var r=n(53366),i=n(29259);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},61158:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4714:function(e,t,n){var r=n(74511),i=n(47826),o=n(4146),a=o&&o.isMap,s=a?i(a):r;e.exports=s},61726:function(e,t,n){var r=n(37036),i=n(49882);e.exports=function(e,t){return e===t||r(e,t,i(t))}},29259:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},97030:function(e,t,n){var r=n(53366),i=n(47353),o=n(15125),a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},43679:function(e,t,n){var r=n(8109),i=n(47826),o=n(4146),a=o&&o.isSet,s=a?i(a):r;e.exports=s},4795:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},77598:function(e,t,n){var r=n(35522),i=n(47826),o=n(4146),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},87622:function(e,t,n){var r=n(13940),i=n(36740)(function(e,t,n){r(e,n,t)});e.exports=i},90249:function(e,t,n){var r=n(1634),i=n(86411),o=n(67878);e.exports=function(e){return o(e)?r(e):i(e)}},18582:function(e,t,n){var r=n(1634),i=n(18390),o=n(67878);e.exports=function(e){return o(e)?r(e,!0):i(e)}},56974:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},34519:function(e,t,n){var r=n(13940),i=n(26548),o=n(68286);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},45126:function(e,t,n){var r=n(18874),i=n(26423);e.exports=function(e){return i(r(e,1))}},55324:function(e,t,n){var r=n(2229),i=n(84134),o=n(68286);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},30733:function(e,t,n){var r=n(96738);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},98537:function(e,t,n){var r=n(84565),i=n(97263)(function(e,t,n){r(e,t,n)});e.exports=i},12782:function(e,t,n){var r=n(84565),i=n(97263)(function(e,t,n,i){r(e,t,n,i)});e.exports=i},34291:function(e){e.exports=function(){}},61100:function(e,t,n){var r=n(37772);e.exports=function(){return r.Date.now()}},17620:function(e,t,n){var r=n(50343),i=n(18874),o=n(29078),a=n(17297),s=n(752),u=n(48642),c=n(29097),l=n(76939),A=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,7,u));for(var A=t.length;A--;)o(n,t[A]);return n});e.exports=A},96795:function(e,t,n){var r=n(36740)(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});e.exports=r},65798:function(e,t,n){var r=n(20256),i=n(82952),o=n(21401),a=n(33812);e.exports=function(e){return o(e)?r(a(e)):i(e)}},62349:function(e,t,n){var r=n(5809),i=n(82406),o=n(5707),a=parseFloat,s=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var l=u();return s(e+l*(t-e+a("1e-"+((l+"").length-1))),t)}return r(e,t)}},4742:function(e,t,n){var r=n(33977),i=n(46543),o=n(86152);e.exports=function(e){return(o(e)?r:i)(e)}},30981:function(e){e.exports=function(){return[]}},79207:function(e){e.exports=function(){return!1}},12436:function(e,t,n){var r=n(54073),i=n(29259);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},61258:function(e,t,n){var r=n(36473),i=n(89419),o=n(38101),a=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=4294967295,s=a(e,4294967295);t=i(t),e-=4294967295;for(var u=r(s,t);++n<e;)t(n);return u}},5707:function(e,t,n){var r=n(7642),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},38101:function(e,t,n){var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7642:function(e,t,n){var r=n(51704),i=n(29259),o=n(4795),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}},63329:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e){return r(e,i(e))}},66188:function(e,t,n){var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},75652:function(e,t,n){var r=n(67326);e.exports=function(e){return e&&e.length?r(e):[]}},84636:function(e,t,n){var r=n(68286),i=n(67326);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},23779:function(e,t,n){var r=n(83126)("toUpperCase");e.exports=r},98346:function(e,t,n){var r=n(50753),i=n(90249);e.exports=function(e){return null==e?[]:r(e,i(e))}},67304:function(e,t,n){var r=n(85246),i=n(36060),o=n(93746),a=i(function(e,t){return o(e)?r(e,t):[]});e.exports=a},68762:function(e,t,n){var r,i,o,a,s;r=n(19562),i=n(5792).utf8,o=n(16656),a=n(5792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,A=-1732584194,d=271733878,f=0;f<n.length;f++)n[f]=(n[f]<<8|n[f]>>>24)&16711935|(n[f]<<24|n[f]>>>8)&4278255360;n[u>>>5]|=128<<u%32,n[(u+64>>>9<<4)+14]=u;for(var h=s._ff,p=s._gg,g=s._hh,v=s._ii,f=0;f<n.length;f+=16){var m=c,y=l,b=A,w=d;c=h(c,l,A,d,n[f+0],7,-680876936),d=h(d,c,l,A,n[f+1],12,-389564586),A=h(A,d,c,l,n[f+2],17,606105819),l=h(l,A,d,c,n[f+3],22,-1044525330),c=h(c,l,A,d,n[f+4],7,-176418897),d=h(d,c,l,A,n[f+5],12,1200080426),A=h(A,d,c,l,n[f+6],17,-1473231341),l=h(l,A,d,c,n[f+7],22,-45705983),c=h(c,l,A,d,n[f+8],7,1770035416),d=h(d,c,l,A,n[f+9],12,-1958414417),A=h(A,d,c,l,n[f+10],17,-42063),l=h(l,A,d,c,n[f+11],22,-1990404162),c=h(c,l,A,d,n[f+12],7,1804603682),d=h(d,c,l,A,n[f+13],12,-40341101),A=h(A,d,c,l,n[f+14],17,-1502002290),l=h(l,A,d,c,n[f+15],22,1236535329),c=p(c,l,A,d,n[f+1],5,-165796510),d=p(d,c,l,A,n[f+6],9,-1069501632),A=p(A,d,c,l,n[f+11],14,643717713),l=p(l,A,d,c,n[f+0],20,-373897302),c=p(c,l,A,d,n[f+5],5,-701558691),d=p(d,c,l,A,n[f+10],9,38016083),A=p(A,d,c,l,n[f+15],14,-660478335),l=p(l,A,d,c,n[f+4],20,-405537848),c=p(c,l,A,d,n[f+9],5,568446438),d=p(d,c,l,A,n[f+14],9,-1019803690),A=p(A,d,c,l,n[f+3],14,-187363961),l=p(l,A,d,c,n[f+8],20,1163531501),c=p(c,l,A,d,n[f+13],5,-1444681467),d=p(d,c,l,A,n[f+2],9,-51403784),A=p(A,d,c,l,n[f+7],14,1735328473),l=p(l,A,d,c,n[f+12],20,-1926607734),c=g(c,l,A,d,n[f+5],4,-378558),d=g(d,c,l,A,n[f+8],11,-2022574463),A=g(A,d,c,l,n[f+11],16,1839030562),l=g(l,A,d,c,n[f+14],23,-35309556),c=g(c,l,A,d,n[f+1],4,-1530992060),d=g(d,c,l,A,n[f+4],11,1272893353),A=g(A,d,c,l,n[f+7],16,-155497632),l=g(l,A,d,c,n[f+10],23,-1094730640),c=g(c,l,A,d,n[f+13],4,681279174),d=g(d,c,l,A,n[f+0],11,-358537222),A=g(A,d,c,l,n[f+3],16,-722521979),l=g(l,A,d,c,n[f+6],23,76029189),c=g(c,l,A,d,n[f+9],4,-640364487),d=g(d,c,l,A,n[f+12],11,-421815835),A=g(A,d,c,l,n[f+15],16,530742520),l=g(l,A,d,c,n[f+2],23,-995338651),c=v(c,l,A,d,n[f+0],6,-198630844),d=v(d,c,l,A,n[f+7],10,1126891415),A=v(A,d,c,l,n[f+14],15,-1416354905),l=v(l,A,d,c,n[f+5],21,-57434055),c=v(c,l,A,d,n[f+12],6,1700485571),d=v(d,c,l,A,n[f+3],10,-1894986606),A=v(A,d,c,l,n[f+10],15,-1051523),l=v(l,A,d,c,n[f+1],21,-2054922799),c=v(c,l,A,d,n[f+8],6,1873313359),d=v(d,c,l,A,n[f+15],10,-30611744),A=v(A,d,c,l,n[f+6],15,-1560198380),l=v(l,A,d,c,n[f+13],21,1309151649),c=v(c,l,A,d,n[f+4],6,-145523070),d=v(d,c,l,A,n[f+11],10,-1120210379),A=v(A,d,c,l,n[f+2],15,718787259),l=v(l,A,d,c,n[f+9],21,-343485551),c=c+m>>>0,l=l+y>>>0,A=A+b>>>0,d=d+w>>>0}return r.endian([c,l,A,d])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},16656:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(t(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))||!!e._isBuffer)}},27495:function(e,t,n){var r;!function(i,o,a){if(i){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)u[111+d]="f"+d;for(d=0;d<=9;++d)u[d+96]=d.toString();v.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},v.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},v.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1||function e(t,n){return null!==t&&t!==o&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},v.init=function(){var e=v(o);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),i.Mousetrap=v,e.exports&&(e.exports=v),a!==(r=(function(){return v}).call(t,n,t,e))&&(e.exports=r)}function f(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return}e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t){var n,r,i,o,a,c,d=[];for(c=0,o="+"===(n=e)?["+"]:(n=n.replace(/\+{2}/g,"+plus")).split("+");c<o.length;++c)A[a=o[c]]&&(a=A[a]),t&&"keypress"!=t&&l[a]&&(a=l[a],d.push("shift")),p(a)&&d.push(a);return r=a,(i=t)||(i=function(){if(!s)for(var e in s={},u)(!(e>95)||!(e<112))&&u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[r]?"keydown":"keypress"),"keypress"==i&&d.length&&(i="keydown"),{key:a,modifiers:d,action:t=i}}function v(e){var t,n=this;if(e=e||o,!(n instanceof v))return new v(e);n.target=e,n._callbacks={},n._directMap={};var r={},i=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r){if(e[t]){n=!0;continue}r[t]=0}n||(s=!1)}function c(e,t,i,o,a,s){var u,c,l=[],A=i.type;if(!n._callbacks[e])return[];for("keyup"==A&&p(e)&&(t=[e]),u=0;u<n._callbacks[e].length;++u)if(c=n._callbacks[e][u],(o||!c.seq||r[c.seq]==c.level)&&A==c.action&&("keypress"==A&&!i.metaKey&&!i.ctrlKey||(d=t,f=c.modifiers,d.sort().join(",")===f.sort().join(",")))){var d,f,h=!o&&c.combo==a,g=o&&c.seq==o&&c.level==s;(h||g)&&n._callbacks[e].splice(u,1),l.push(c)}return l}function l(e,t,r,i){n.stopCallback(t,t.target||t.srcElement,r,i)||!1!==e(t,r)||(!function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}(t),function(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}(t))}function A(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,r=h(e);if(r){if("keyup"==e.type&&i===r){i=!1;return}n.handleKey(r,(t=[],e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t),e)}}n._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},A=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(A=Math.max(A,i[r].level));for(r=0;r<i.length;++r){if(i[r].seq){if(i[r].level!=A)continue;d=!0,o[i[r].seq]=1,l(i[r].callback,n,i[r].combo,i[r].seq);continue}d||l(i[r].callback,n,i[r].combo)}var f="keypress"==n.type&&a;n.type!=s||p(e)||f||u(o),a=d&&"keydown"==n.type},n._bindMultiple=function(e,o,a){for(var A=0;A<e.length;++A)(function e(o,a,A,d,f){n._directMap[o+":"+A]=a;var p,v=(o=o.replace(/\s+/g," ")).split(" ");if(v.length>1){!function(n,o,a,c){function A(e){l(a,e,n),"keyup"!==c&&(i=h(e)),setTimeout(u,10)}r[n]=0;for(var d=0;d<o.length;++d){var f=d+1===o.length?A:function(e){return function(){s=e,++r[n],clearTimeout(t),t=setTimeout(u,1e3)}}(c||g(o[d+1]).action);e(o[d],f,c,n,d)}}(o,v,a,A);return}p=g(o,A),n._callbacks[p.key]=n._callbacks[p.key]||[],c(p.key,p.modifiers,{type:p.action},d,o,f),n._callbacks[p.key][d?"unshift":"push"]({callback:a,modifiers:p.modifiers,action:p.action,seq:d,level:f,combo:o})})(e[A],o,a)},f(e,"keypress",A),f(e,"keydown",A),f(e,"keyup",A)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},86077:function(e){!function(){function t(e,t){var n,r,i,o,a,s;for(n=3&e.length,r=e.length-n,i=t,s=0;s<r;)a=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,i^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295,i=(65535&(o=(65535&(i=i<<13|i>>>19))*5+(((i>>>16)*5&65535)<<16)&4294967295))+27492+(((o>>>16)+58964&65535)<<16);switch(a=0,n){case 3:a^=(255&e.charCodeAt(s+2))<<16;case 2:a^=(255&e.charCodeAt(s+1))<<8;case 1:a^=255&e.charCodeAt(s),i^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295}return i^=e.length,i^=i>>>16,i=(65535&i)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(65535&i)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,(i^=i>>>16)>>>0}t.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))*1540483477+(((n>>>16)*1540483477&65535)<<16),n^=n>>>24,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)^(n=(65535&n)*1540483477+(((n>>>16)*1540483477&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i^=255&e.charCodeAt(o),i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)}return i^=i>>>13,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16),(i^=i>>>15)>>>0},t.v3=t,e.exports=t}()},12041:function(e,t,n){e.exports=n(88381)},86570:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(13942)}])},65253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},90162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;n(19178).default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(23903).Z,o=n(15154).Z,a=i(n(2784)),s=n(29918),u=n(94400),c=n(33220),l=n(64069),A=n(22030),d=n(65253),f=n(73952),h={};function p(e,t,n,r){if(e&&s.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,r)).catch(function(e){});var i=r&&void 0!==r.locale?r.locale:e&&e.locale;h[t+"%"+n+(i?"%"+i:"")]=!0}}var g=/*#__PURE__*/a.default.forwardRef(function(e,t){var n,i,g=e.href,v=e.as,m=e.children,y=e.prefetch,b=e.passHref,w=e.replace,_=e.shallow,E=e.scroll,C=e.locale,B=e.onClick,I=e.onMouseEnter,x=e.onTouchStart,T=e.legacyBehavior,S=void 0===T||T,k=o(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=m,S&&("string"==typeof n||"number"==typeof n)&&(n=/*#__PURE__*/a.default.createElement("a",null,n));var N=!1!==y,D=a.default.useContext(c.RouterContext),O=a.default.useContext(l.AppRouterContext);O&&(D=O);var R=a.default.useMemo(function(){var e=r(s.resolveHref(D,g,!0),2),t=e[0],n=e[1];return{href:t,as:v?s.resolveHref(D,v):n||t}},[D,g,v]),F=R.href,L=R.as,P=a.default.useRef(F),U=a.default.useRef(L);S&&(i=a.default.Children.only(n));var M=S?i&&"object"==typeof i&&i.ref:t,j=r(A.useIntersection({rootMargin:"200px"}),3),Z=j[0],Q=j[1],H=j[2],V=a.default.useCallback(function(e){(U.current!==L||P.current!==F)&&(H(),U.current=L,P.current=F),Z(e),M&&("function"==typeof M?M(e):"object"==typeof M&&(M.current=e))},[L,M,F,H,Z]);a.default.useEffect(function(){var e=Q&&N&&s.isLocalURL(F),t=void 0!==C?C:D&&D.locale,n=h[F+"%"+L+(t?"%"+t:"")];e&&!n&&p(D,F,L,{locale:t})},[L,F,Q,C,N,D]);var K={ref:V,onClick:function(e){S||"function"!=typeof B||B(e),S&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,o,u,c,l,A){if("A"!==e.currentTarget.nodeName.toUpperCase()||(!(d=e.currentTarget.target)||"_self"===d)&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&(!e.nativeEvent||2!==e.nativeEvent.which)&&s.isLocalURL(n)){e.preventDefault();var d,f=function(){"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:o,locale:c,scroll:u}):t[i?"replace":"push"](n,{forceOptimisticNavigation:!A})};l?a.default.startTransition(f):f()}}(e,D,F,L,w,_,E,C,!!O,N)},onMouseEnter:function(e){S||"function"!=typeof I||I(e),S&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),!(!N&&O)&&s.isLocalURL(F)&&p(D,F,L,{priority:!0})},onTouchStart:function(e){S||"function"!=typeof x||x(e),S&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),!(!N&&O)&&s.isLocalURL(F)&&p(D,F,L,{priority:!0})}};if(!S||b||"a"===i.type&&!("href"in i.props)){var G=void 0!==C?C:D&&D.locale,z=D&&D.isLocaleDomain&&d.getDomainLocale(L,G,D.locales,D.domainLocales);K.href=z||f.addBasePath(u.addLocale(L,G,D&&D.defaultLocale))}return S?/*#__PURE__*/a.default.cloneElement(i,K):/*#__PURE__*/a.default.createElement("a",Object.assign({},k,K),n)});t.default=g,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,c=e.disabled||!a,l=r(i.useState(!1),2),A=l[0],d=l[1],f=r(i.useState(null),2),h=f[0],p=f[1];return i.useEffect(function(){if(a){if(!c&&!A&&h&&h.tagName){var e,r,i,l,f;return e=function(e){return e&&d(e)},i=(r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=u.find(function(e){return e.root===n.root&&e.margin===n.margin});if(r&&(t=s.get(r)))return t;var i=new Map;return t={id:n,observer:new IntersectionObserver(function(e){e.forEach(function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:i},u.push(n),s.set(n,t),t}({root:null==t?void 0:t.current,rootMargin:n})).id,l=r.observer,(f=r.elements).set(h,e),l.observe(h),function(){if(f.delete(h),l.unobserve(h),0===f.size){l.disconnect(),s.delete(i);var e=u.findIndex(function(e){return e.root===i.root&&e.margin===i.margin});e>-1&&u.splice(e,1)}}}}else if(!A){var p=o.requestIdleCallback(function(){return d(!0)});return function(){return o.cancelIdleCallback(p)}}},[h,c,n,t,A]),[p,A,i.useCallback(function(){d(!1)},[])]};var i=n(2784),o=n(49071),a="function"==typeof IntersectionObserver,s=new Map,u=[];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,n(23903).Z)(n(2784)),i=r.default.createContext(null);t.AppRouterContext=i;var o=r.default.createContext(null);t.LayoutRouterContext=o;var a=r.default.createContext(null);t.GlobalLayoutRouterContext=a;var s=r.default.createContext(null);t.TemplateContext=s},95805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70237).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default,o=(null==t?void 0:t.suspense)?{}:{loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};if(r(e,Promise)?o.loader=function(){return e}:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=i({},o,e)),(o=i({},o,t)).suspense)throw Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(o.suspense&&(delete o.ssr,delete o.loading),o.loadableGenerated&&(o=i({},o,o.loadableGenerated),delete o.loadableGenerated),"boolean"==typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,s(n,o);delete o.ssr}return n(o)},t.noSSR=s;var i=n(59419).Z,o=n(23903).Z,a=(o(n(2784)),o(n(42060)));function s(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},46941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(23903).Z)(n(2784)).default.createContext(null);t.LoadableContext=r},42060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60616).Z,i=n(90416).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(59419).Z,a=(0,n(23903).Z)(n(2784)),s=n(46941),u=n(43100).useSyncExternalStore,c=[],l=[],A=!1;function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var f=/*#__PURE__*/function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function h(e){return function(e,t){var n=function(){if(!c){var t=new f(e,i);c={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return c.promise()},r=function(){n();var e=a.default.useContext(s.LoadableContext);e&&Array.isArray(i.modules)&&i.modules.forEach(function(t){e(t)})},i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);i.suspense&&(i.lazy=a.default.lazy(i.loader));var c=null;if(!A){var d=i.webpack?i.webpack():i.modules;d&&l.push(function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=d[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(-1!==e.indexOf(s))return n()}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})}var h=i.suspense?function(e,t){return r(),a.default.createElement(i.lazy,o({},e,{ref:t}))}:function(e,t){r();var n=u(c.subscribe,c.getCurrentValue,c.getCurrentValue);return a.default.useImperativeHandle(t,function(){return{retry:c.retry}},[]),a.default.useMemo(function(){var t;return n.loading||n.error?a.default.createElement(i.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:c.retry}):n.loaded?a.default.createElement((t=n.loaded)&&t.__esModule?t.default:t,e):null},[e,n])};return h.preload=function(){return n()},h.displayName="LoadableComponent",a.default.forwardRef(h)}(d,e)}function p(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return p(e,t)})}h.preloadAll=function(){return new Promise(function(e,t){p(c).then(e,t)})},h.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return A=!0,t()};p(l,e).then(n,n)})},window.__NEXT_PRELOADREADY=h.preloadReady,t.default=h},66161:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(5632),a=n(69023),s=n(24179),u=n(57821),c=n(25487),l=n(96933),A=n(42541),d=n(71059),f=n(70759);t.Z=function(e){var t=e.redirect,n=void 0===t||t,h=e.closable,p=void 0===h||h,g=e.hideSplashOnLoad,v=void 0===g||g,m=e.children,y=e.showFullPageAuth,b=e.profileArgs,w=(0,i.useState)(!1),_=w[0],E=w[1],C=(0,l.fC)(),B=(0,c.ZP)(),I=(0,o.useRouter)(),x=(0,i.useCallback)(function(){var e=null==b?void 0:b.signUpOrigin,t=null==b?void 0:b.signUpPage,n=e?"?ref=".concat(null!=e?e:"","&page=").concat(null!=t?t:""):"";A.Z.trackEvent(null,"page_view",{page_title:"Sign Up",page_location:"".concat(document.location.origin,"/auth/sign-up/").concat(n,"}"),page_path:"/auth/sign-up".concat(n),embedded_at_path:I.asPath})},[I,b]),T=(0,l.Mg)(C),S=T&&(0,l.TF)(C);return((0,d.Z)(function(){T&&(S?n?I.push({pathname:"/auth/sign-up",query:{redirect:I.asPath,ref:null==b?void 0:b.signUpOrigin}},"/auth/sign-up"):((0,u.hf)(),x(),B.isAuthModalOpen||y||B.openSignUpModal({isClosable:p,profileArgs:b})):v&&(0,u.hf)())},[T,S,n,v,B,p,y,x,I,b]),(0,l.TF)(C))?y?_?/*#__PURE__*/(0,r.jsx)(a.Z,{staticLogo:!0,children:/*#__PURE__*/(0,r.jsx)(f.o,{profileArgs:b,onGoToSignUp:function(){return E(!1)}})}):/*#__PURE__*/(0,r.jsx)(a.Z,{staticLogo:!0,children:/*#__PURE__*/(0,r.jsx)(s.Z,{profileArgs:b,onGoToSignIn:function(){return E(!0)}})}):null:/*#__PURE__*/(0,r.jsx)(r.Fragment,{children:m})}},30739:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(8018),l=/*#__PURE__*/n.n(c),A=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=e.error,s=(0,o.Z)(e,["className","error"]);return(null==n?void 0:n.length)?/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,u.Z)(l().authFlowFormError,t)},s),{children:n})):null})},48617:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322),i=n(2784),o=n(3635),a=n(89911),s=n(42762),u=/*#__PURE__*/n.n(s),c=/*#__PURE__*/(0,i.memo)(function(e){var t=e.className,n=e.label,i=e.labelIcon,s=e.title,c=e.footer,l=e.children;return/*#__PURE__*/(0,r.jsxs)("div",{className:(0,o.Z)(u().authFlowViewLayout,t),"data-is-ready":"true",children:[/*#__PURE__*/(0,r.jsxs)("div",{className:u().content,children:[/*#__PURE__*/(0,r.jsx)(a.ZP,{horizontal:!0,className:u().eraserLogo}),/*#__PURE__*/(0,r.jsxs)("div",{className:u().label,children:[i,n]}),/*#__PURE__*/(0,r.jsx)("h1",{children:s}),l]}),!!c&&/*#__PURE__*/(0,r.jsx)("div",{className:u().footer,children:/*#__PURE__*/(0,r.jsx)("p",{children:c})})]})})},10380:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(98025),l=/*#__PURE__*/n.n(c),A=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=e.children,s=(0,o.Z)(e,["className","children"]);return/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,u.Z)(l().authFormLayout,t)},s),{children:n}))})},94254:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(70865),i=n(26297),o=n(52322),a=n(2784),s=n(3635),u=n(71481),c=/*#__PURE__*/n.n(u),l=/*#__PURE__*/(0,a.memo)(function(e){var t=e.className,n=(0,i.Z)(e,["className"]);return/*#__PURE__*/(0,o.jsx)("div",(0,r.Z)({className:(0,s.Z)(c().authViewActionButtons,t)},n))})},87076:function(e,t,n){"use strict";n.d(t,{D:function(){return d},Z:function(){return f}});var r=n(87394),i=n(52322),o=n(2784),a=n(3635),s=n(57597),u=/*#__PURE__*/n.n(s),c=/*#__PURE__*/(0,o.memo)(function(e){var t=e.className,n=e.onSelectionChange,s=e.teamsToJoin,c=(0,o.useState)(),l=c[0],A=c[1],d=(0,o.useCallback)(function(e){var t=e.target.value;A(t),n(t)},[n]);return/*#__PURE__*/(0,i.jsx)("div",{className:(0,a.Z)(u().joinTeamSelection,t),children:null==s?void 0:s.map(function(e){var t="teamId"in e,n=(0,r.Z)(t?[e.teamId,e.teamName]:[e.id,e.name],2),o=n[0],s=n[1];return/*#__PURE__*/(0,i.jsxs)("label",{className:(0,a.Z)(u().team,l===o&&u().selected),children:[/*#__PURE__*/(0,i.jsx)("input",{type:"radio",value:o,checked:l===o,onChange:d}),s]},o)})})}),l=n(4313),A=n(47519),d=function(e){var t=e.teamsToJoin,n=(0,l.K)({}),r=n.canCreateTeam,o=n.isLoadingCreateTeamCheck,a=n.workDomain;if(o)return null;if(r){if(null==t?void 0:t.length)return/*#__PURE__*/(0,i.jsxs)("p",{children:["Pick one of the below teams to join, or ",/*#__PURE__*/(0,i.jsx)("a",{href:"/team/create",children:"create a new one"})]});if(t)return/*#__PURE__*/(0,i.jsxs)("p",{children:["You have no available teams. ",/*#__PURE__*/(0,i.jsx)("a",{href:"/team/create",children:"Create a new one"})]})}return/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("p",{children:"Pick one of the below teams to join."}),/*#__PURE__*/(0,i.jsx)(A.U,{className:"marginTopMedium",children:a?/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("b",{children:a})," already has a team with a free plan. To create a new team, contact ",/*#__PURE__*/(0,i.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]}):/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:["You already have a free team. To create a new team, contact ",/*#__PURE__*/(0,i.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]})})]})},f=c},99572:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r,i,o,a,s,u,c,l,A,d=n(52322),f=n(2784),h=n(3635),p=n(25487);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(e){return /*#__PURE__*/f.createElement("svg",g({width:18,height:18,viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/f.createElement("path",{d:"M5.097 13.9l-.8 2.988-2.926.062A11.449 11.449 0 010 11.5c0-1.907.464-3.705 1.286-5.289l2.606.478 1.14 2.59a6.836 6.836 0 00-.368 2.221c0 .844.153 1.653.433 2.4z",fill:"#FBBB00"})),i||(i=/*#__PURE__*/f.createElement("path",{d:"M22.8 9.352c.131.695.2 1.414.2 2.148a11.497 11.497 0 01-4.3 8.968h-.001l-3.281-.168-.465-2.899a6.854 6.854 0 002.95-3.5h-6.15v-4.55h11.046z",fill:"#518EF8"})),o||(o=/*#__PURE__*/f.createElement("path",{d:"M18.699 20.468A11.452 11.452 0 0111.5 23c-4.38 0-8.187-2.448-10.13-6.05l3.727-3.05a6.838 6.838 0 009.856 3.501l3.746 3.067z",fill:"#28B446"})),a||(a=/*#__PURE__*/f.createElement("path",{d:"M18.84 2.648l-3.725 3.05a6.84 6.84 0 00-10.082 3.58L1.286 6.211A11.498 11.498 0 0111.5 0c2.79 0 5.349.994 7.34 2.648z",fill:"#F14336"})))};function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=function(e){return /*#__PURE__*/f.createElement("svg",m({width:18,height:18,viewBox:"0 0 2499.6 2500",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=/*#__PURE__*/f.createElement("path",{d:"M1187.9 1187.9H0V0h1187.9z",fill:"#f1511b"})),u||(u=/*#__PURE__*/f.createElement("path",{d:"M2499.6 1187.9h-1188V0h1187.9v1187.9z",fill:"#80cc28"})),c||(c=/*#__PURE__*/f.createElement("path",{d:"M1187.9 2500H0V1312.1h1187.9z",fill:"#00adef"})),l||(l=/*#__PURE__*/f.createElement("path",{d:"M2499.6 2500h-1188V1312.1h1187.9V2500z",fill:"#fbbc09"})))},b=n(95162),w=n(69474);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var E=function(e){return /*#__PURE__*/f.createElement("svg",_({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),A||(A=/*#__PURE__*/f.createElement("g",{fill:"var(--grey-1200)"},/*#__PURE__*/f.createElement("path",{d:"M.5 3a1.8 1.8 0 011.8-1.8h14.4A1.8 1.8 0 0118.5 3v1.448l-9 5.063-9-5.063V3z"}),/*#__PURE__*/f.createElement("path",{d:"M.5 5.825V15a1.8 1.8 0 001.8 1.8h14.4a1.8 1.8 0 001.8-1.8V5.825l-9 5.063-9-5.063z"}))))},C=n(28257),B=n(65181),I=/*#__PURE__*/n.n(B),x=/*#__PURE__*/(0,f.memo)(function(e){var t=e.className,n=e.actionText,r=e.asModal,i=e.onSignIn,o=e.onCredentialsAuthClick,a=e.onThirdPartySsoClick,s=(0,p.ZP)(),u=s.signInWithGoogle,c=s.signInWithMicrosoft;return r=!!(0,w.$)()||r,/*#__PURE__*/(0,d.jsxs)("div",{className:(0,h.Z)(I().ssoButtons,t),children:[/*#__PURE__*/(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,className:I().button,type:"button","data-testid":"google-sign-in",onClick:function(){return u({asModal:r}).then(i)},children:[/*#__PURE__*/(0,d.jsx)(v,{}),/*#__PURE__*/(0,d.jsx)("span",{children:"".concat(n," with Google")})]}),/*#__PURE__*/(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,type:"button",className:I().button,onClick:function(){return c({asModal:r}).then(i)},children:[/*#__PURE__*/(0,d.jsx)(y,{}),/*#__PURE__*/(0,d.jsx)("span",{children:"".concat(n," with Microsoft")})]}),/*#__PURE__*/(0,d.jsxs)("div",{className:I().buttonSize,children:[/*#__PURE__*/(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,type:"button",className:(0,h.Z)(I().button,I().halfWidthButton),onClick:o,children:[/*#__PURE__*/(0,d.jsx)(E,{}),/*#__PURE__*/(0,d.jsx)("span",{children:"Email"})]}),/*#__PURE__*/(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,onClick:a,className:(0,h.Z)(I().button,I().halfWidthButton),"data-testid":"sso-button",children:[/*#__PURE__*/(0,d.jsx)(C.Z,{}),"SSO"]})]})]})})},77003:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(63955),u=n(11929),c=n(55929),l=n(44784),A=n(25487),d=n(95162),f=n(10380),h=n(94254),p=n(30739),g=n(56860),v=/*#__PURE__*/n.n(g),m=/*#__PURE__*/(0,a.memo)(function(e){var t=e.className,n=e.onSignIn,g=e.onResetPasswordClick,m=(0,A.ZP)().signInWithEmailAndPassword,y=(0,s.cI)({reValidateMode:"onChange"}),b=y.register,w=y.formState,_=y.handleSubmit,E=y.getValues,C=w.errors,B=w.submitCount,I=E(),x=(0,a.useMemo)(function(){return!!Object.keys(w.dirtyFields).length&&Object.keys(I).every(function(e){return!!I[e]})},[w.dirtyFields,I]),T=(0,u.UK)(function(e){return m(e.email,e.password).then(n)}),S=T.execute,k=T.error,N=T.loading;return/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("form",{id:"sign-in-form",onSubmit:_(S),children:/*#__PURE__*/(0,o.jsxs)(f.Z,{className:t,children:[/*#__PURE__*/(0,o.jsx)(c.Z,(0,i.Z)((0,r.Z)({size:c.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},b("email",{required:!0,validate:l.Le})),{error:C.email,touched:B>0})),/*#__PURE__*/(0,o.jsx)(c.Z,(0,i.Z)((0,r.Z)({size:c.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},b("password",{required:!0})),{error:C.password,touched:B>0})),g&&/*#__PURE__*/(0,o.jsx)("div",{className:v().resetPassword,children:/*#__PURE__*/(0,o.jsx)("a",{onMouseDown:g,children:"Reset Password"})})]})}),/*#__PURE__*/(0,o.jsx)(h.Z,{children:/*#__PURE__*/(0,o.jsx)(d.ZP,{form:"sign-in-form",variant:d.ZP.Variants.REGULAR,size:d.ZP.Sizes.X_LARGE,isLoading:N,type:"submit",disabled:!x,children:"Log In"})}),/*#__PURE__*/(0,o.jsx)(p.Z,{error:null==k?void 0:k.message})]})})},70759:function(e,t,n){"use strict";n.d(t,{o:function(){return S},Z:function(){return k}});var r=n(52322),i=n(2784),o=n(66140),a=n(25487),s=n(15559),u=n(48617),c=n(99572),l=n(77003),A=n(21332),d=n(63560),f=n(70865),h=n(96670),p=n(63955),g=n(11929),v=n(42541),m=n(55929),y=n(44784),b=n(95162),w=n(10380),_=n(94254),E=n(30739),C=/*#__PURE__*/(0,i.memo)(function(e){var t=e.className,n=e.onResetRequested,o=(0,a.ZP)().sendPasswordResetEmail,s=(0,p.cI)({reValidateMode:"onChange"}),u=s.register,c=s.formState,l=s.handleSubmit,A=s.getValues,d=c.errors,C=c.submitCount,B=A(),I=(0,i.useMemo)(function(){return!!Object.keys(c.dirtyFields).length&&Object.keys(B).every(function(e){return!!B[e]})},[c.dirtyFields,B]),x=(0,g.UK)(function(e){return o(e.email).then(function(){v.Z.trackEvent("account","reset_password_requested"),n(A("email"))})}),T=x.execute,S=x.error,k=x.loading;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("form",{id:"request-password-reset",onSubmit:l(T),children:/*#__PURE__*/(0,r.jsx)(w.Z,{className:t,children:/*#__PURE__*/(0,r.jsx)(m.Z,(0,h.Z)((0,f.Z)({size:m.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},u("email",{required:!0,validate:y.Le})),{error:d.email,touched:C>0}))})}),/*#__PURE__*/(0,r.jsx)(_.Z,{children:/*#__PURE__*/(0,r.jsx)(b.ZP,{form:"request-password-reset",variant:b.ZP.Variants.REGULAR,size:b.ZP.Sizes.X_LARGE,isLoading:k,type:"submit",disabled:!I,children:"Reset Password"})}),/*#__PURE__*/(0,r.jsx)(E.Z,{error:null==S?void 0:S.message})]})}),B=n(39830),I=n(44172),x=n(70520),T=/*#__PURE__*/n.n(x),S=function(e){var t=e.profileArgs,n=e.asModal,f=e.onSignIn,h=e.onGoToSignUp;(0,s.T)(t);var p=(0,i.useState)(A.k.SSO),g=p[0],v=p[1],m=(0,i.useState)(),y=m[0],b=m[1],w=(0,a.ZP)(),_=(0,i.useCallback)(function(){v(A.k.CREDENTIALS)},[]),E=(0,i.useCallback)(function(){v(A.k.RESET_PASSWORD)},[]),x=(0,i.useCallback)(function(e){v(A.k.RESET_REQUESTED),b(e)},[]),S=(0,i.useCallback)(function(){v(A.k.THIRD_PARTY_SSO)},[]),k=(0,i.useCallback)(function(e){if(o.OB.isDev){e.preventDefault(),w.openSignUpModal({isClosable:!0});return}if(h){e.preventDefault(),h();return}n&&(e.preventDefault(),w.openSignUpModal())},[n,w.openSignUpModal,h]);return g===A.k.CREDENTIALS?/*#__PURE__*/(0,r.jsxs)(u.Z,{className:T().signInView,label:"Email Log In",labelIcon:/*#__PURE__*/(0,r.jsx)(I.Z,{}),title:"Log into Eraser",footer:/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:["New to Eraser?"," ",/*#__PURE__*/(0,r.jsx)("a",{href:"/auth/sign-up",onClick:k,children:"Sign up for free"})]}),children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["Or use ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:function(){return w.signInWithGoogle({asModal:n}).then(f)},children:"Google"})," ","or"," ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:function(){return w.signInWithMicrosoft({asModal:n}).then(f)},children:"Microsoft"})]}),/*#__PURE__*/(0,r.jsx)(l.Z,{className:T().signInForm,onSignIn:f,onResetPasswordClick:E})]}):g===A.k.RESET_PASSWORD?/*#__PURE__*/(0,r.jsxs)(u.Z,{className:T().signInView,label:"Password Reset",labelIcon:/*#__PURE__*/(0,r.jsx)(B.Z,{}),title:"Reset your password",children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["Or return to ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:_,children:"Log in"})]}),/*#__PURE__*/(0,r.jsx)(C,{className:T().resetPasswordForm,onResetRequested:x})]}):g===A.k.RESET_REQUESTED?/*#__PURE__*/(0,r.jsx)(u.Z,{className:T().signInView,label:"Password Reset",labelIcon:/*#__PURE__*/(0,r.jsx)(B.Z,{}),title:"Check your email",children:/*#__PURE__*/(0,r.jsxs)("p",{children:["We sent an email to ",/*#__PURE__*/(0,r.jsx)("b",{children:y})," which contains a link to reset your password"]})}):g===A.k.THIRD_PARTY_SSO?/*#__PURE__*/(0,r.jsx)(u.Z,{className:T().signInView,title:"Log into Eraser with SSO",label:"Single Sign-On",children:/*#__PURE__*/(0,r.jsx)(d.Z,{onCredentialsAuthClick:_})}):/*#__PURE__*/(0,r.jsxs)(u.Z,{className:T().signInView,label:"Log In",labelIcon:/*#__PURE__*/(0,r.jsx)(B.Z,{}),title:"Log into Eraser",children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["New to Eraser?"," ",/*#__PURE__*/(0,r.jsx)("a",{href:"/auth/sign-up",onClick:k,children:"Sign up for free"})]}),/*#__PURE__*/(0,r.jsx)(c.Z,{className:T().ssoButtons,actionText:"Log in",asModal:n,onSignIn:f,onCredentialsAuthClick:_,onThirdPartySsoClick:S})]})},k=/*#__PURE__*/(0,i.memo)(S)},21332:function(e,t,n){"use strict";var r,i;n.d(t,{k:function(){return r}}),(i=r||(r={})).SSO="SSO",i.CREDENTIALS="CREDENTIALS",i.RESET_PASSWORD="RESET_PASSWORD",i.RESET_REQUESTED="RESET_REQUESTED",i.THIRD_PARTY_SSO="THIRD_PARTY_SSO"},24179:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r,i,o=n(52322),a=n(2784),s=n(66140),u=n(25487),c=n(15559),l=n(48617),A=n(99572),d=n(70865),f=n(96670),h=n(63955),p=n(11929),g=n(55929),v=n(44784),m=n(95162),y=n(10380),b=n(94254),w=n(30739),_=/*#__PURE__*/(0,a.memo)(function(e){var t=e.className,n=e.onSignIn,r=(0,u.ZP)().createUserWithEmailAndPassword,i=(0,h.cI)({reValidateMode:"onChange"}),s=i.register,c=i.formState,l=i.handleSubmit,A=i.getValues,_=c.errors,E=c.submitCount,C=A(),B=(0,a.useMemo)(function(){return!!Object.keys(c.dirtyFields).length&&Object.keys(C).every(function(e){return!!C[e]})},[c.dirtyFields,C]),I=(0,p.UK)(function(e){return r(e.email,e.password,e.name).then(n)}),x=I.execute,T=I.error,S=I.loading;return/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("form",{id:"sign-up-form",onSubmit:l(x),children:/*#__PURE__*/(0,o.jsxs)(y.Z,{className:t,children:[/*#__PURE__*/(0,o.jsx)(g.Z,(0,f.Z)((0,d.Z)({size:g.Z.Sizes.LARGE,label:"Email address",placeholder:"Work email works best",type:"email",autoComplete:"email",autoFocus:!0},s("email",{required:!0,validate:v.Le})),{error:_.email,touched:E>0})),/*#__PURE__*/(0,o.jsx)(g.Z,(0,f.Z)((0,d.Z)({size:g.Z.Sizes.LARGE,label:"User name",placeholder:"What others will see",autoComplete:"full-name"},s("name",{required:!0,minLength:3})),{error:_.name,touched:E>0,minLength:3})),/*#__PURE__*/(0,o.jsx)(g.Z,(0,f.Z)((0,d.Z)({size:g.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},s("password",{required:!0,validate:v.ym})),{error:_.password,touched:E>0,minLength:12}))]})}),/*#__PURE__*/(0,o.jsx)(b.Z,{children:/*#__PURE__*/(0,o.jsx)(m.ZP,{form:"sign-up-form",variant:m.ZP.Variants.REGULAR,size:m.ZP.Sizes.X_LARGE,isLoading:S,type:"submit",disabled:!B,children:"Create Account"})}),/*#__PURE__*/(0,o.jsx)(w.Z,{error:null==T?void 0:T.message})]})});function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var C=function(e){return /*#__PURE__*/a.createElement("svg",E({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/a.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var I=function(e){return /*#__PURE__*/a.createElement("svg",B({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=/*#__PURE__*/a.createElement("path",{d:"M7.707 10.202l.707-.707L7 8.081l-.707.706 1.414 1.415zM9 11.493v1h2v-1H9zm2-.999v-1H9v1h2zM9 2.5v1h2v-1H9zm2-.999v-1H9v1h2zM5 5.497H4v2h1v-2zm1 2h1v-2H6v2zm8-2h-1v2h1v-2zm1 2h1v-2h-1v2zM12.293 2.79l-.707.707L13 4.913l.707-.707-1.414-1.415zm2.414.416l.707-.707L14 1.085l-.707.707 1.414 1.415zm-8-1.415L6 1.085 4.586 2.5l.707.707 1.414-1.415zm-.414 2.414L7 4.913l1.414-1.415-.707-.707-1.414 1.415zm7.414 4.581L13 8.081l-1.414 1.414.707.707 1.414-1.415zm-.414 2.414l.707.707 1.414-1.414-.707-.707-1.414 1.414zM1.707 16.198l6-5.996-1.414-1.415-6 5.996 1.414 1.415zM11 11.493v-.999H9v1h2zM11 2.5V1.5H9v1h2zM5 7.497h1v-2H5v2zm9 0h1v-2h-1v2zm-.293-3.29l1-1-1.414-1.415-1 1 1.414 1.414zm-8.414-1l1 1L7.707 2.79l-1-.999-1.414 1.415zm7 6.995l1 1 1.414-1.415-1-1-1.414 1.415z",fill:"var(--green-success)"})))},x=n(86066),T=/*#__PURE__*/n.n(x),S=n(63560),k=/*#__PURE__*/(0,a.memo)(function(e){var t=e.profileArgs,n=e.customSubTitle,r=e.asModal,i=e.onSignIn,d=e.onGoToSignIn;(0,c.T)(t);var f=(0,a.useState)(),h=f[0],p=f[1],g=(0,u.ZP)(),v=(0,a.useCallback)(function(){p("credentials")},[]),y=(0,a.useCallback)(function(){p("thirdPartySso")},[]),b=(0,a.useCallback)(function(e){if(s.OB.isDev){e.preventDefault(),g.openSignInModal({isClosable:!0});return}if(d){e.preventDefault(),d();return}r&&(e.preventDefault(),g.openSignInModal())},[r,g.openSignInModal,d]);return"credentials"===h?/*#__PURE__*/(0,o.jsxs)(l.Z,{className:T().signUpView,label:"Email Sign Up",labelIcon:/*#__PURE__*/(0,o.jsx)(C,{}),title:"Set your user name & password",footer:/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:["Already have an account?"," ",/*#__PURE__*/(0,o.jsx)("a",{href:"/auth/sign-in",onClick:b,children:"Log in"})," ","instead"]}),children:[/*#__PURE__*/(0,o.jsxs)("p",{children:["Or use ",/*#__PURE__*/(0,o.jsx)("a",{onClick:function(){return g.signInWithGoogle({asModal:r}).then(i)},children:"Google"}),","," ",/*#__PURE__*/(0,o.jsx)("a",{onClick:function(){return g.signInWithMicrosoft({asModal:r}).then(i)},children:"Microsoft"}),", or"," ",/*#__PURE__*/(0,o.jsx)("a",{onClick:y,children:"SSO"}),"."]}),/*#__PURE__*/(0,o.jsx)(_,{className:T().signUpForm,onSignIn:i})]}):"thirdPartySso"===h?/*#__PURE__*/(0,o.jsx)(l.Z,{className:T().signInView,title:"Setup Eraser with SSO",label:"Single Sign-On",children:/*#__PURE__*/(0,o.jsx)(S.Z,{onCredentialsAuthClick:v})}):/*#__PURE__*/(0,o.jsxs)(l.Z,{className:T().signUpView,label:"Sign Up",labelIcon:/*#__PURE__*/(0,o.jsx)(I,{}),title:"Create your Eraser account",children:[n||/*#__PURE__*/(0,o.jsxs)("p",{children:["By signing up, you agree to our ",/*#__PURE__*/(0,o.jsx)("a",{href:"".concat(s.CF.url,"/terms"),children:"terms of service"})]}),/*#__PURE__*/(0,o.jsx)("main",{children:/*#__PURE__*/(0,o.jsx)(A.Z,{className:T().ssoButtons,actionText:"Sign up",asModal:r,onSignIn:i,onCredentialsAuthClick:v,onThirdPartySsoClick:y})}),/*#__PURE__*/(0,o.jsx)("a",{className:T().signInLink,href:"/auth/sign-in",onClick:b,children:/*#__PURE__*/(0,o.jsx)(m.ZP,{variant:m.ZP.Variants.TRANSPARENT,size:m.ZP.Sizes.LARGE,children:"Log In"})})]})})},63560:function(e,t,n){"use strict";var r=n(98788),i=n(42838),o=n(22970),a=n(52322),s=n(2784),u=n(3635),c=n(25487),l=n(95162),A=n(69474),d=n(21902),f=/*#__PURE__*/n.n(d),h=n(55929),p=n(27038),g=n(98559),v=n(94254),m=n(70621),y=n(44371),b=n(75426);t.Z=/*#__PURE__*/(0,s.memo)(function(e){var t,n=e.className,d=e.asModal,w=e.onCredentialsAuthClick,_=(0,c.ZP)(),E=_.signInWithGoogle,C=_.signInWithMicrosoft;d=!!(0,A.$)()||d;var B=(0,s.useState)(""),I=B[0],x=B[1],T=(0,s.useState)(),S=T[0],k=T[1],N=(0,s.useState)(!1),D=N[0],O=N[1],R=(0,s.useCallback)((t=(0,r.Z)(function(e){var t,n,r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),O(!0),!(t=I.split("@")[1].toLowerCase()))return[3,5];if("gmail.com"===t)return k("Please click the Google button to sign in with Gmail"),O(!1),[2];if("outlook.com"===t||"hotmail.com"===t)return k("Please click the Microsoft button to sign in with Outlook"),O(!1),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,p.Z)(I)];case 2:return n=o.sent(),window.location.href=n,[3,4];case 3:return r=o.sent(),O(!1),(0,i.Z)(r,m.MS)&&404===r.statusCode?k(/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:["SSO has not been enabled for ",t,"."," ",/*#__PURE__*/(0,a.jsx)("a",{href:"https://docs.eraser.io/docs/sso",target:"_blank",rel:"noreferrer",children:"Learn more here"}),"."]})):y.a1.error("An error occurred. Please try again."),[3,4];case 4:return[3,6];case 5:k("Invalid email address"),o.label=6;case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),[I]),F=(0,s.useCallback)(function(e){x(e.target.value),k(void 0)},[]),L=(0,s.useCallback)(function(e){var t,n=e.target;if((null===(t=n.parentElement)||void 0===t?void 0:t.dataset.providers)!==void 0){e.preventDefault();var r=n.innerText;"Google"===r?E():"Microsoft"===r?C():"email"===r&&w()}},[E,C,w]);return/*#__PURE__*/(0,a.jsxs)("div",{className:(0,u.Z)(f().container,n),onClick:L,children:[/*#__PURE__*/(0,a.jsxs)("p",{"data-providers":!0,children:["Or use ",/*#__PURE__*/(0,a.jsx)("a",{href:"#",children:"Google"}),", ",/*#__PURE__*/(0,a.jsx)("a",{href:"#",children:"Microsoft"}),", or ",/*#__PURE__*/(0,a.jsx)("a",{href:"#",children:"email"}),"."]}),/*#__PURE__*/(0,a.jsx)("form",{onSubmit:R,children:/*#__PURE__*/(0,a.jsxs)("div",{className:f().formContainer,children:[/*#__PURE__*/(0,a.jsx)("fieldset",{children:/*#__PURE__*/(0,a.jsx)(h.Z,{label:"Email Address",placeholder:"Work Email",onChange:F,error:S,"data-testid":"email-input"})}),/*#__PURE__*/(0,a.jsx)(v.Z,{children:/*#__PURE__*/(0,a.jsx)(l.ZP,{variant:l.ZP.Variants.REGULAR,size:l.ZP.Sizes.X_LARGE,className:f().button,type:"submit",disabled:!1===(0,g.J)(I)||D,"data-testid":"continue",children:D?/*#__PURE__*/(0,a.jsx)(b.Z,{}):"Continue with SSO"})})]})})]})})},15559:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(2784),i=n(41217);function o(e){(0,r.useEffect)(function(){e&&(0,i.jj)(e)},[e])}},58410:function(e,t,n){"use strict";n.d(t,{ZP:function(){return S},J5:function(){return c.J5},XD:function(){return T}});var r=n(42838),i=n(52322),o=n(5632),a=/*#__PURE__*/n.n(o),s=n(69904),u=n(57821),c=n(70621),l=n(42541),A=n(67640),d=n(69023),f=n(2784),h=n(78528),p=n(96933),g=n(3635),v=n(95162),m=n(24292),y=/*#__PURE__*/n.n(m),b=function(e){var t=e.href,n=e.children,r=e.isOutline,o=e.onClick;return/*#__PURE__*/(0,i.jsx)("div",{className:y().errorCtaButton,children:/*#__PURE__*/(0,i.jsx)(v.ZP,{className:(0,g.Z)(r&&y().isOutline),size:r?v.ZP.Sizes.LARGE:v.ZP.Sizes.X_LARGE,variant:r?v.ZP.Variants.TRANSPARENT:v.ZP.Variants.REGULAR,onClick:function(){if(!t){null==o||o();return}a().push(t)},children:n})})},w=/*#__PURE__*/(0,f.memo)(b),_=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.title,r=e.hideActionButtons,o=(0,p.g5)();return 404===t?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:t,title:null!=n?n:"Page not found",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"We couldnt locate this page. Please double check the URL."}),!r&&/*#__PURE__*/(0,i.jsx)(b,{href:o?"https://eraser.io":"/dashboard/all",children:o?"Return to Eraser":"Return to Dashboard"})]}):/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:t,title:null!=n?n:"Oops! That's embarrassing",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"Something went wrong. Please let us know at hello@eraser.io if this keeps happening."}),!r&&/*#__PURE__*/(0,i.jsx)(b,{onClick:function(){return location.reload()},children:"Refresh Page"})]})}),E=/*#__PURE__*/(0,f.memo)(function(e){var t,n=e.statusCode,r=e.hideActionButtons,o=(0,p.aF)(),a=(0,p.g5)();return 404===n?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:n,title:"File not found",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"We couldnt locate this file. Double check the URL, or try searching your files."}),!r&&!a&&/*#__PURE__*/(0,i.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Search on Dashboard"})]}):[401,403].includes(n)?a?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:n,title:"Access Restricted",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"This file is not publicly accessible. Try signing into Eraser if you believe you have access."}),!r&&/*#__PURE__*/(0,i.jsx)(w,{href:"/auth/sign-in",children:"Log In"})]}):/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:n,title:"Access Restricted",children:[/*#__PURE__*/(0,i.jsxs)("p",{children:["You do not have access to this file. Ask the file owner(s) to share with"," ",null!==(t=null==o?void 0:o.email)&&void 0!==t?t:"your email"]}),!r&&/*#__PURE__*/(0,i.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Return on Dashboard"})]}):/*#__PURE__*/(0,i.jsx)(_,{statusCode:n,hideActionButtons:r})}),C=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,p.aF)(),o=(0,p.g5)();return 403===t?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:t,title:"Email doesnt match",children:[/*#__PURE__*/(0,i.jsxs)("p",{children:["You are logged in as ",null==r?void 0:r.email,". The invited email doesnt match this."]}),!n&&/*#__PURE__*/(0,i.jsx)(w,{href:"/auth/logout",isOutline:!0,children:"Sign out"})]}):404===t?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:t,title:"Invite not found",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"We couldnt locate this invite. Please double check the invite URL or request a new invite."}),!n&&!o&&/*#__PURE__*/(0,i.jsx)(w,{href:"/dashboard/all",children:"Return to Dashboard"})]}):/*#__PURE__*/(0,i.jsx)(_,{statusCode:t,hideActionButtons:n})}),B=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.title,r=e.hideActionButtons;return 402===t?/*#__PURE__*/(0,i.jsxs)(h.Z,{statusCode:t,title:"File limit reached",children:[/*#__PURE__*/(0,i.jsx)("p",{children:"Please upgrade plan or archive unused files."}),!r&&/*#__PURE__*/(0,i.jsx)(w,{href:"/dashboard?settings=plans",children:"Upgrade"})]}):/*#__PURE__*/(0,i.jsx)(_,{statusCode:t,hideActionButtons:r,title:n})});function I(e){return"error"in e&&(0,r.Z)(e.error,c.tk)}function x(e){return I(e)?{statusCode:e.error.statusCode,title:e.error.message,error:"error"in e.error?e.error:void 0}:e}function T(e){var t,n,r,i,o,a;l.Z.trackEvent("app","error",{errorCode:e.statusCode,errorTitle:e.title,source:null!==(t=e.location)&&void 0!==t?t:"app"}),e.statusCode>=500&&A.Z.post("logging",{type:"appCrash",message:e.title,error:e.error,location:null!==(a=e.location)&&void 0!==a?a:"app",stack:null===(n=e.error)||void 0===n?void 0:n.stack,cause:null===(r=e.error)||void 0===r?void 0:r.cause,causeStack:null===(o=null===(i=e.error)||void 0===i?void 0:i.cause)||void 0===o?void 0:o.stack})}var S=function(e){var t,n,r=x(e).statusCode;(0,u.r4)(),t=x(e),(0,s.Z)(function(){T(t)});var a=(0,o.useRouter)();return/*#__PURE__*/(0,i.jsx)("div",{id:"error-page",children:/*#__PURE__*/(0,i.jsx)(d.Z,{children:(n=_,a.pathname.match("workspace")&&(n=E),a.pathname.match("invite")&&(n=C),a.pathname.match("new")&&(n=B),/*#__PURE__*/(0,i.jsx)(n,{statusCode:r,hideActionButtons:e.hideActionButtons,title:I(e)?e.error.message:void 0}))})})}},97238:function(e,t,n){"use strict";var r=n(90581),i=n(21218),o=n(70865),a=n(96670),s=n(39309),u=n(2784),c=n(89960),l={componentStack:null,error:null},A=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.state=l,e.recoveryAttempts=0,e.recoveryTimeout=null,e.resetErrorBoundary=function(){e.setState(l)},e}var A=n.prototype;return A.componentDidCatch=function(e,t){var n,r=t.componentStack,i=this,o=this.props,a=o.onError,s=o.recoveryOptions,u=void 0===s?{}:s,l=u.attemptRecovery,A=u.maxRecoveryAttempts,d=u.recoveryDelay,f=((n=Error(e.message)).name="[React ErrorBoundary] ".concat(e.name),n.stack=r,e.cause=n,n);(0,c.T)(f,{componentStack:r}),null==a||a(e),this.props.ignoreErrors||((void 0===l||l)&&this.recoveryAttempts<(void 0===A?10:A)?(this.recoveryAttempts++,this.recoveryTimeout&&clearTimeout(this.recoveryTimeout),this.recoveryTimeout=setTimeout(function(){i.setState({error:null,componentStack:null}),i.recoveryAttempts=0,i.recoveryTimeout=null},void 0===d?1e3:d)):this.setState({error:e,componentStack:r}))},A.render=function(){var e,t=this.props,n=t.fallback,r=t.children,i=this.state.error;return i?(e="function"==typeof n?n((0,a.Z)((0,o.Z)({},this.state),{error:i,resetError:this.resetErrorBoundary})):n)&&!/*#__PURE__*/(0,u.isValidElement)(e)?(console.warn("Invalid fallback"),null):e:r},n}(u.Component);t.Z=A},78528:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(52322),o=n(2784),a=n(3635);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var u=function(e){return /*#__PURE__*/o.createElement("svg",s({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M9.5 11.5v-1h-2v1h2zm-2 .01v1h2v-1h-2zM7.5 5v4h2V5h-2zm0 6.5v.01h2v-.01h-2zm1 3a6 6 0 01-6-6h-2a8 8 0 008 8v-2zm6-6a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6-6a6 6 0 016 6h2a8 8 0 00-8-8v2zm0-2a8 8 0 00-8 8h2a6 6 0 016-6v-2z",fill:"#FB4B87"})))},c=n(14052),l=/*#__PURE__*/n.n(c),A={401:"Access Error",402:"Plan Limit",403:"Access Error",404:"404 Error",500:"500 Error"},d=/*#__PURE__*/(0,o.memo)(function(e){var t=e.className,n=e.statusCode,r=e.title,o=e.children,s=e.hideFooter;return/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("div",{className:(0,a.Z)(l().errorViewLayout,t),children:/*#__PURE__*/(0,i.jsxs)("div",{className:l().content,children:[/*#__PURE__*/(0,i.jsxs)("div",{className:l().label,children:[/*#__PURE__*/(0,i.jsx)(u,{}),A[n]||"Error"]}),/*#__PURE__*/(0,i.jsx)("h1",{children:r}),o]})}),!s&&/*#__PURE__*/(0,i.jsx)("div",{className:l().footer,children:/*#__PURE__*/(0,i.jsxs)("p",{children:["Learn more at ",/*#__PURE__*/(0,i.jsx)("a",{href:"https://eraser.io",children:"eraser.io"})]})})]})})},53327:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(42541),a=n(3635),s=n(40819),u=/*#__PURE__*/n.n(s),c=n(24089),l=n(95162),A=n(21732),d=n(64442);t.Z=function(e){var t=e.stickTo,n=e.className,s=(0,d.l)().register,f=(0,A.Y)().openCommandKModal,h="left"===t?u().stickyLeft:u().stickyRight,p=(0,c.I)(),g=(p.isOpen,p.onOpen),v=(0,i.useCallback)(function(){var e;null===(e=window.Intercom)||void 0===e||e.call(window,"show")},[]),m=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","eraser_website_click")},[]),y=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","slack_click")},[]),b=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","docs_click")},[]),w=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","feature_request_click")},[]);return(0,i.useCallback)(function(e){e&&o.Z.trackEvent("help_center","help_center_click")},[]),(0,i.useEffect)(function(){s("eraserDocs",b),s("joinSlack",y),s("sendFeedback",v),s("submitRequest",w),s("eraserWebsite",m),s("openKeyboardShortcuts",g)},[s,b,y,v,m,w,g]),/*#__PURE__*/(0,r.jsx)(l.ZP,{onClick:function(){return f({screen:"help"})},variant:l.ZP.Variants.LIGHT,className:(0,a.Z)(u().helpButton,u().container,h,n),"data-testid":"help-center",children:"?"})}},89911:function(e,t,n){"use strict";n.d(t,{$q:function(){return u}});var r=n(52322),i=n(2784),o=n(3635),a=n(27846),s=/*#__PURE__*/n.n(a),u=/*#__PURE__*/(0,i.forwardRef)(function(e,t){var n=e.className,i=e.width,o=e.height;return/*#__PURE__*/(0,r.jsxs)("svg",{className:n,width:i,height:o,viewBox:"0 0 1699 660",ref:t,children:[/*#__PURE__*/(0,r.jsx)("path",{fill:"#EC2C40",d:"M804.7,660.3H50c-38.8,0-62.8-55-42.7-98.2L253,31.4C262,11.9,278.2,0,295.7,0h509V660.3z"}),/*#__PURE__*/(0,r.jsx)("path",{fill:"#00A9E5",d:"M891.3,0L1646,0c38.8,0,62.8,55,42.7,98.2L1443,628.9c-9,19.5-25.2,31.4-42.7,31.4h-509V0z"})]})}),c=function(e){var t=e.className;return/*#__PURE__*/(0,r.jsxs)("svg",{className:t,viewBox:"0 0 670 135",fill:"currentColor",children:[/*#__PURE__*/(0,r.jsx)("path",{d:"M61.1,132.4c-18.2,0-32.9-5.7-44.2-17.2C5.6,103.8,0,88.6,0,69.5V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4C37,2.8,46.9,0,57.8,0c17.4,0,30.8,5.5,40.3,16.6s14.2,26.8,14.2,47.1v11.6H28.9 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C81.3,130.3,71.8,132.4,61.1,132.4z M57.7,23c-7.9,0-14.2,2.8-19.1,8.3s-7.9,13.2-9.3,23H84v-2.1c-0.6-9.6-3.2-16.9-7.7-21.8 C71.9,25.5,65.7,23,57.7,23z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M201.5,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C169.5,5.5,179.1,0,191.4,0c4.1,0,7.5,0.6,10.1,1.7L201.5,28.6z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M293.5,130.1c-1.3-2.4-2.4-6.4-3.3-11.9c-9.1,9.5-20.3,14.3-33.5,14.3c-12.8,0-23.3-3.7-31.4-11 c-8.1-7.3-12.2-16.4-12.2-27.1c0-13.6,5.1-24.1,15.2-31.3S252.9,52,271.7,52h17.6v-8.4c0-6.6-1.9-11.9-5.5-15.9 c-3.7-4-9.3-6-16.9-6c-6.5,0-11.9,1.6-16,4.9c-4.2,3.3-6.3,7.4-6.3,12.4h-28.7c0-7,2.3-13.5,7-19.6c4.6-6.1,11-10.9,18.9-14.3 c8-3.5,16.9-5.2,26.7-5.2c14.9,0,26.9,3.8,35.8,11.3c8.9,7.5,13.5,18.1,13.7,31.7v57.6c0,11.5,1.6,20.7,4.8,27.5v2H293.5z M262,109.4c5.7,0,11-1.4,16-4.1c5-2.8,8.8-6.5,11.3-11.1V70.1h-15.5c-10.6,0-18.6,1.8-24,5.5c-5.4,3.7-8,8.9-8,15.7 c0,5.5,1.8,9.9,5.5,13.2C251,107.8,255.9,109.4,262,109.4z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M419.6,95.4c0-5.1-2.1-9-6.3-11.7c-4.2-2.7-11.2-5-20.9-7.1c-9.8-2-17.9-4.6-24.4-7.8 c-14.3-6.9-21.5-17-21.5-30.1c0-11,4.6-20.2,13.9-27.6C369.6,3.7,381.4,0,395.7,0c15.3,0,27.6,3.8,37,11.3 c9.4,7.6,14.1,17.3,14.1,29.4h-28.7c0-5.5-2-10.1-6.1-13.8c-4.1-3.7-9.5-5.5-16.3-5.5c-6.3,0-11.4,1.5-15.4,4.4 c-4,2.9-6,6.8-6,11.7c0,4.4,1.8,7.8,5.5,10.3c3.7,2.4,11.2,4.9,22.4,7.4c11.3,2.5,20.1,5.4,26.5,8.8c6.4,3.4,11.2,7.5,14.3,12.3 c3.1,4.8,4.7,10.6,4.7,17.5c0,11.5-4.8,20.8-14.3,27.9c-9.5,7.1-22,10.7-37.4,10.7c-10.5,0-19.8-1.9-28-5.7 c-8.2-3.8-14.6-9-19.1-15.6c-4.6-6.6-6.8-13.7-6.8-21.4H370c0.4,6.8,2.9,12,7.7,15.6c4.7,3.7,11,5.5,18.8,5.5 c7.6,0,13.3-1.4,17.2-4.3C417.6,103.8,419.6,100,419.6,95.4z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M529,132.4c-18.2,0-32.9-5.7-44.2-17.2c-11.3-11.4-16.9-26.7-16.9-45.7V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4c8.9-5.6,18.8-8.4,29.7-8.4C543,0,556.5,5.5,566,16.6c9.5,11.1,14.2,26.8,14.2,47.1v11.6h-83.4 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C549.2,130.3,539.6,132.4,529,132.4z M525.5,23c-7.9,0-14.2,2.8-19.1,8.3c-4.8,5.5-7.9,13.2-9.3,23h54.6v-2.1 c-0.6-9.6-3.2-16.9-7.7-21.8C539.7,25.5,533.5,23,525.5,23z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M669.3,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C637.4,5.5,647,0,659.3,0c4.1,0,7.5,0.6,10.1,1.7L669.3,28.6z"})]})};u.displayName="EraserIconSVG",t.ZP=function(e){var t=e.className,n=e.horizontal,i=e.vertical,a=e.width,l=e.height;return/*#__PURE__*/(0,r.jsxs)("div",{className:(0,o.Z)(t,s().logo,(void 0===n||n)&&s().horizontal,void 0!==i&&i&&s().vertical),children:[/*#__PURE__*/(0,r.jsx)(u,{className:s().icon,width:a,height:l}),/*#__PURE__*/(0,r.jsx)(c,{className:s().text})]})}},53030:function(e,t,n){"use strict";n.d(t,{Xh:function(){return u},vQ:function(){return s}});var r,i=n(47842),o=n(66804),a=n(28563),s={width:265,asNested:!1,spacing:"medium",popperPlacement:"left-start",variant:o.Lt.Variants.Grey,popperModifiers:[{name:"offset",options:{offset:[0,30]}}],selectionVariant:a.Z.SelectionVariants.Grey},u=(r={none:"Only team members or invited guests can view or edit this file.",write:"Anyone with a link can edit. Requires Eraser account to edit.",read:"Anyone with a link can view. Does not require Eraser account."},(0,i.Z)(r,"anonymous-write","Anyone with a link can edit. Does not require Eraser account."),(0,i.Z)(r,"private","Link access cannot be changed for Private Files"),r)},25248:function(e,t,n){"use strict";n.d(t,{b:function(){return A}});var r=n(52322),i=n(2784),o=n(2595),a=n(95162),s=n(68457),u=n(55929),c=n(44784),l=n(80498),A=function(e){var t=e.unsearchableUserId,n=e.unsearchableEmail,A=e.unsearchableErrorMessage,d=void 0===A?"That input is invalid.":A,f=e.placeholder,h=e.onInvite,p=(0,i.useState)(""),g=p[0],v=p[1],m=(0,i.useState)(!1),y=m[0],b=m[1],w=(0,i.useRef)(null),_=(0,o.Z)(),E=(0,l.Z)({defaultIsOpen:!1}),C=E.isOpen,B=E.onOpen,I=E.onClose,x=!(0,c.Le)(g),T=g===n,S=(0,i.useCallback)(function(e){b(!0),v(""),_.promise(h(e),{loading:"Inviting ".concat(e),success:"Invitation sent to ".concat(e),error:function(){return"Invite failed"}}).finally(function(){b(!1)})},[h]),k=(0,i.useCallback)(function(e){if(e.preventDefault(),T){_.error(d);return}x&&!y&&S(g)},[T,x,g,y,S,d]),N=(0,i.useCallback)(function(e){var t=e.email;v(t),S(t)},[S]),D=(0,i.useCallback)(function(e){return e.memberId!==t},[t]);return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("form",{onSubmit:k,style:{width:"100%"},children:/*#__PURE__*/(0,r.jsx)(u.Z,{autoFocus:!0,ref:w,placeholder:f,onChange:function(e){return v(e.target.value)},value:g,button:/*#__PURE__*/(0,r.jsx)(a.ZP,{disabled:!x,type:"submit",isLoading:y,children:"Invite"}),onBlur:I,onFocus:B,"data-testid":"invite-input"})}),C&&w.current&&/*#__PURE__*/(0,r.jsx)(s.Z,{targetNode:w.current,search:g||void 0,onSelect:N,isPopperVisible:!0,shouldIncludeEmails:!0,className:"marginTopMedium",filterPredicate:D})]})}},96737:function(e,t,n){"use strict";n.d(t,{_:function(){return U},E:function(){return M}});var r=n(98788),i=n(70865),o=n(96670),a=n(87394),s=n(22970),u=n(2784),c=n(20810),l=n(39739),A=n(68594),d=n(77984),f=n(39369),h=n(12335),p=n(69071),g=n(34224),v=n(2595),m=n(96933),y=n(39183),b=n(67078),w=n(95550),_=n(10097),E=n(10186),C=function(e,t){var n,i=E.Z.team(e).withConverter(b.ML);return _.RZ.runTransaction((n=(0,r.Z)(function(n){var r,o,a,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return[4,n.get(i)];case 1:if(!(r=s.sent().data()))throw Error("Team does not exist");if(!r.inviteId)return[3,3];return o=E.Z.invite(r.inviteId).withConverter(b.xI),[4,n.get(o)];case 2:if(s.sent().exists)return[2,r.inviteId];s.label=3;case 3:return a=E.Z.invites.doc(),u={type:w.PA.Link,inviteTo:w.FU.Team,inviterId:t,teamId:e},n.set(a,u),n.update(i,{inviteId:a.id}),[2,a.id]}})}),function(e){return n.apply(this,arguments)}))},B=function(e){var t,n=E.Z.team(e).withConverter(b.ML);return _.RZ.runTransaction((t=(0,r.Z)(function(e){var t,r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return[4,e.get(n)];case 1:if(!(t=i.sent().data()))throw Error("Team does not exist");return t.inviteId&&(r=E.Z.invite(t.inviteId),e.delete(r),e.update(n,{inviteId:_.ZP.firestore.FieldValue.delete()})),[2]}})}),function(e){return t.apply(this,arguments)}))},I=n(57398),x=n(28043),T=function(e){var t=e.workspaceId,n=e.isDirectAccessAllowed,r=e.directAccessMode;return E.Z.workspace(t).update({isDirectAccessAllowed:n,directAccessMode:r,updatedAt:x.GH.serverTimestamp()})},S=n(355),k=n(66140),N=n(89960),D=n(45403),O=function(e,t){var n=(0,D.Pe)(),i=(0,u.useMemo)(function(){return function(e){return new A.y(function(t){return n.workspaces.getWorkspaceDataStream({workspaceId:e}).subscribe(t)})}},[]);return{createInvite:(0,u.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return[4,T({workspaceId:e,isDirectAccessAllowed:!0,directAccessMode:t})];case 1:return n.sent(),[2]}})}),[e,t]),removeInvite:(0,u.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,T({workspaceId:e,isDirectAccessAllowed:!1})];case 1:return t.sent(),[2]}})}),[e]),setDirectAccessMode:(0,u.useCallback)(function(t){return T({workspaceId:e,directAccessMode:t})},[e]),observeEntity:i}},R={isReady:!1,isCreating:!1,isDeleting:!1},F=function(e){var t=e.teamId,n=e.setState,r=e.observeEntity,s=(0,c.m)(function(e){return e.pipe((0,d.U)(function(e){return(0,a.Z)(e,1)[0]}),(0,f.x)(),(0,h.w)(function(e){return r(e)}),(0,d.U)(function(e){return null==e?void 0:e.inviteId}),(0,f.x)())},[t]);(0,l.m)(s,(0,u.useCallback)(function(e){var t=!!e;n(function(n){return(0,o.Z)((0,i.Z)({},n),{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1,inviteId:e})})},[n]),N.T)},L=function(e){var t=e.workspaceId,n=e.setState,r=e.setAccessMode,s=e.observeEntity,A=(0,c.m)(function(e){return e.pipe((0,d.U)(function(e){return(0,a.Z)(e,1)[0]}),(0,f.x)(),(0,h.w)(function(e){return s(e)}),(0,d.U)(function(e){return{isDirectAccessAllowed:null==e?void 0:e.isDirectAccessAllowed,directAccessMode:null==e?void 0:e.directAccessMode}}))},[t]);(0,l.m)(A,(0,u.useCallback)(function(e){var t=!!(null==e?void 0:e.isDirectAccessAllowed),a=null==e?void 0:e.directAccessMode;a&&r(a),n(function(e){return(0,o.Z)((0,i.Z)({},e),{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1})})},[n,r]),N.T)},P=function(e){var t=e.entityId,n=e.createInvite,r=e.removeInvite,a=(0,v.Z)(),s=(0,u.useState)(R),c=s[0],l=s[1],A=(0,p.Z)(n),d=(0,p.Z)(r),f=(0,u.useCallback)(function(){l(function(e){return(0,o.Z)((0,i.Z)({},e),{isEnabled:!0,isCreating:!0})}),d.reset(),A.execute().catch(function(){a.error("Something went wrong")})},[]),h=(0,u.useCallback)(function(){l(function(e){return(0,o.Z)((0,i.Z)({},e),{isDeleting:!0})}),A.reset(),d.execute().catch(function(){a.error("Something went wrong")})},[t]);return{toast:a,state:c,setState:l,onTurnOff:h,onTurnOn:f}},U=function(e){var t,n=e.entityId,a=(0,m.II)(),c={createInvite:(0,u.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,C(n,a)];case 1:return e.sent(),[2]}})}),[n,a]),removeInvite:(0,u.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,B(n)];case 1:return[2,e.sent()]}})}),[n]),observeEntity:I.Z},l=c.createInvite,A=c.removeInvite,d=c.observeEntity,f=P({entityId:n,createInvite:l,removeInvite:A}),h=f.setState,p=f.state,g=f.onTurnOff,v=f.onTurnOn,y=p.inviteId?(t=p.inviteId,"".concat(k.l2.url,"/invite/").concat(t)):"";return F({teamId:n,setState:h,observeEntity:d}),(0,o.Z)((0,i.Z)({},p),{isEnabled:!!(p.isEnabled||p.isRemoteEnabled),onTurnOn:v,onTurnOff:g,inviteLink:y})},M=function(e){var t=e.entityId,n=e.accessMode,r=e.shareOrigin,a=void 0===r?"share":r,s=(0,u.useState)(n),c=s[0],l=s[1],A=(0,y.ZP)(),d=(0,g.Z)(),f=O(t,c),h=f.createInvite,p=f.removeInvite,v=f.setDirectAccessMode,m=f.observeEntity,b=P({entityId:t,createInvite:h,removeInvite:p}),w=b.setState,_=b.state,E=b.onTurnOff,C=b.onTurnOn;L({workspaceId:t,setState:w,setAccessMode:l,observeEntity:m});var B=(0,u.useCallback)(function(e){v(e)},[v]),I=(0,S.NY)({workspaceId:t,params:{origin:a}}),x=(0,u.useCallback)(function(e){var n="Link copied";A&&"isDirectAccessAllowed"in A&&!A.isDirectAccessAllowed&&(n="".concat(n," - only collaborators can access"));var r={workspaceId:t,params:{origin:a}};e&&(r.params.elements=e),d((0,S.NY)(r),n)},[A,t,a]);return(0,o.Z)((0,i.Z)({},_),{accessMode:c,isEnabled:!!(_.isEnabled||_.isRemoteEnabled),copyLinkToClipboard:x,onTurnOn:C,onTurnOff:E,onAccessModeChange:B,inviteLink:I})}},69023:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(52322),i=n(2784),o=n(89911),a=n(46966),s=/*#__PURE__*/n.n(a),u=/*#__PURE__*/(0,i.memo)(function(e){var t=e.children,n=e.staticLogo,i=/*#__PURE__*/(0,r.jsx)(o.ZP,{horizontal:!0,className:s().eraserLogo});return/*#__PURE__*/(0,r.jsxs)("div",{className:s().minimalPageLayout,children:[n?i:/*#__PURE__*/(0,r.jsx)("a",{href:"/",children:i}),/*#__PURE__*/(0,r.jsx)("div",{className:s().content,children:t})]})})},64870:function(e,t,n){"use strict";n.d(t,{BD:function(){return v},a_:function(){return h}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(21746),u=n(5632),c=n(29446),l=n(26340),A=n(96933),d=n(10185),f=n(48696),h=(0,s.kr)({files:[],updateOrder:function(){return null},orderBy:c.nm.orderBy,orderDir:c.nm.orderDir}),p={title:"asc",updatedAt:"desc",createdAt:"desc",folderId:"desc",nComments:"desc"},g=function(e,t,n){if(!e)return{};switch(e){case"private":return{ownerId:t,isPrivate:!0};case"folder":return{folderId:n};case"unsorted":return{folderId:null,isPrivate:!1};case"archived":return{isArchived:!0,ownerId:t};case"created-by-me":return{ownerId:t};default:return{}}};t.ZP=function(e){var t=e.children,n=(0,u.useRouter)(),s=(0,A.II)(),v=(0,a.useState)((0,r.Z)({},c.nm,g((0,d.N)(n.asPath),s,(0,f.N0)(n.asPath)))),m=v[0],y=v[1],b=(0,l.Z)(m),w=(0,a.useCallback)(function(e){y(function(t){if(t.orderBy===e){var n,o="asc"===t.orderDir?"desc":"asc";return(0,i.Z)((0,r.Z)({},t),{orderDir:o})}return(0,i.Z)((0,r.Z)({},t),{orderBy:e,orderDir:null!==(n=p[e])&&void 0!==n?n:"desc"})})},[]);(0,a.useEffect)(function(){var e=function(e){var t=g((0,d.N)(e),s,(0,f.N0)(e));y(function(e){return(0,r.Z)({orderBy:e.orderBy,orderDir:e.orderDir},t)})};return n.events.on("beforeHistoryChange",e),function(){n.events.off("beforeHistoryChange",e)}},[s,n]),(0,a.useEffect)(function(){y(function(e){return(0,r.Z)({},e,g((0,d.N)(n.asPath),s,(0,f.N0)(n.asPath)))})},[s,n]);var _=(0,a.useMemo)(function(){return{files:b||[],updateOrder:w,orderBy:m.orderBy,orderDir:m.orderDir}},[b,w,m.orderBy,m.orderDir]);return/*#__PURE__*/(0,o.jsx)(h.Provider,{value:_,children:t})};var v=function(){return(0,s.qp)(h)}},6375:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(51992),a=n(23513),s=/*#__PURE__*/n.n(a),u=n(3635),c=/*#__PURE__*/(0,i.memo)(function(e){var t=e.absolute;return e.hidden?null:/*#__PURE__*/(0,r.jsx)("div",{className:(0,u.Z)(s().container,t&&s().absolute),children:/*#__PURE__*/(0,r.jsxs)("div",{className:s().notepad,children:[/*#__PURE__*/(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,r.jsx)("div",{className:s().skeletonTitle,children:/*#__PURE__*/(0,r.jsx)(o.ZP,{count:1,height:22,className:s().titleSkeleton})})}),/*#__PURE__*/(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,r.jsxs)("div",{className:s().skeletonBody,children:[/*#__PURE__*/(0,r.jsx)("p",{children:/*#__PURE__*/(0,r.jsx)(o.ZP,{count:1,height:12})}),/*#__PURE__*/(0,r.jsx)("p",{children:/*#__PURE__*/(0,r.jsx)(o.ZP,{count:1,height:12,width:200})})]})})]})})});c.displayName="NotepadSkeleton",t.Z=c},58317:function(e,t,n){"use strict";n.d(t,{P8:function(){return y},Zv:function(){return b}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(37164),u=n(28316),c=n(96933),l=n(52826),A=n(4126),d=n(54848),f=n(68457),h=n(46130),p=n(3635),g=n(36976),v=/*#__PURE__*/n.n(g),m=function(e){var t,n=e.data,r=e.isSelected,i=(0,l.ZP)(n.userId),a=(0,c.II)(),s=n.userId===a,u=null!==(t=null==i?void 0:i.displayName)&&void 0!==t?t:n.email;return u?/*#__PURE__*/(0,o.jsx)(y,{profile:i,display:u,isSelected:r,isHighlighted:s}):null},y=function(e){var t=e.profile,n=e.display,a=e.classNames,s=e.isSelected,u=e.isHighlighted,c=(0,A.F)().isDarkMode;return/*#__PURE__*/(0,o.jsxs)("span",{className:(0,p.Z)(null==a?void 0:a.root,v().personDisplay,c&&v().isDarkMode,s&&v().isSelected,u&&v().isHighlighted),children:[/*#__PURE__*/(0,o.jsx)(d.Z,(0,i.Z)((0,r.Z)({},t),{className:(0,p.Z)(v().avatar,null==a?void 0:a.avatar)})),/*#__PURE__*/(0,o.jsx)("span",{className:(0,p.Z)(v().label,null==a?void 0:a.label),children:n})]})},b=function(e){var t=e.attributes,n=e.element,r=e.children,i=n.mentionData,c=n.mentionType,l=(0,h.W)(n),A=l.updateMention,d=l.unwrapMention,p=l.checkIfMentionDone,g=l.isSelected,y=l.text,b=l.getBounds,_=(0,a.useCallback)(function(e){var t={userId:e.userId,email:e.email};t.id=(0,s.x0)(),A({mentionType:"person",mentionData:t})},[A]),E=!!(c&&"person"===c&&(null==i?void 0:i.email));return/*#__PURE__*/(0,o.jsxs)(w,{attributes:t,mentionType:c,mentionData:i,isSelected:g,isValidPerson:E,renderMenu:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=b();if(!r)return null;var i=/*#__PURE__*/(0,o.jsx)("span",{className:v().dropdownAnchor,style:{top:r.bottom,left:r.left},ref:n,children:/*#__PURE__*/(0,o.jsx)(f.Z,{targetNode:t,className:v().dropdownContainer,onSelect:_,withProfileOnly:!0,search:y?y.slice(1):"",includeSelf:!0,searchOnEmptyString:!0,onCancel:d,onSearchFinished:function(e){p(e)},shouldIncludeEmails:!1,isPopperVisible:!0})});return/*#__PURE__*/(0,u.createPortal)(i,document.body)},PersonDisplayComponent:m,children:[r,"@"===y&&!E&&/*#__PURE__*/(0,o.jsx)("span",{className:v().placeholder,children:"mention"})]})},w=function(e){var t=e.attributes,n=e.isValidPerson,a=e.mentionData,s=e.isSelected,u=e.mentionType,c=e.children,l=e.renderMenu,A=e.PersonDisplayComponent;return/*#__PURE__*/(0,o.jsxs)("span",(0,i.Z)((0,r.Z)({},t),{className:(0,p.Z)(v().editorMention,n&&v().validPerson),children:[n?/*#__PURE__*/(0,o.jsx)(A,{data:a,isSelected:s}):null,s&&!u&&l(),c]}))}},76794:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(52322);n(2784);var i=n(44498),o=n(51516),a=n(95343),s=/*#__PURE__*/n.n(a),u=n(3635),c=n(70599),l=n(57695),A=n(26942),d=n(15765),f=function(e){var t=e.limit,n=e.current,i=e.showLink,a=e.contactUs,f=e.featureName,h=e.shortExplanation,p=e.showLimitName,g=e.upgradeLinkText,v=(0,o.Y)().openSettingsModal,m=(0,l.Su)().analyticsService,y=i?/*#__PURE__*/(0,r.jsx)("a",{role:"button",onClick:function(){v({openedPane:"plans",paywallFeature:f}),m.trackEvent("payment","open_billing_pane",{featureName:f,source:"limitBar"})},children:"Upgrade"}):"Upgrade",b=(0,d.ZP)(t),w=(0,d.ZP)(n),_=w>b?"".concat(b+1,"+"):w,E=function(){switch(f){case c.M$.Workspaces:return"files";case c.M$.AiDiagramAndOutlineCredits:return"AI credits";case c.M$.PremiumCredits:return"premium AI credits";case c.M$.CustomIcons:return"custom icons";default:return"files"}};return h?/*#__PURE__*/(0,r.jsxs)("span",{className:(0,u.Z)(s().explanation),children:[/*#__PURE__*/(0,r.jsx)("span",{children:_})," of ",/*#__PURE__*/(0,r.jsx)("span",{children:(0,d.oj)(t)}),(void 0===p||p)&&" ".concat(E(),"."),i&&/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("span",{children:" / "}),/*#__PURE__*/(0,r.jsx)("a",{role:"button",onClick:function(){v({openedPane:"plans",paywallFeature:f})},children:void 0===g?"Upgrade":g})]})]}):/*#__PURE__*/(0,r.jsxs)("span",{className:(0,u.Z)(s().explanation),children:[/*#__PURE__*/(0,r.jsx)("strong",{children:_})," out of ",/*#__PURE__*/(0,r.jsx)("strong",{children:t})," ".concat(E()," used."),/*#__PURE__*/(0,r.jsx)("br",{}),a?/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:["Contact "," ",/*#__PURE__*/(0,r.jsx)(A.dL,{src:"mailto:hello@eraser.io",children:"hello@eraser.io"})," "," to increase your limit."]}):/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[y," your plan for unlimited access."]})]})},h=n(88859),p=function(e){var t=e.limit,n=e.style,o=e.current,a=e.useColor,s=e.showLink,u=e.fullColor,c=e.className,l=e.contactUs,A=e.featureName,d=e.showLimitName,p=e.upgradeLinkText,g=e.shortExplanation;return t===h.fY?null:/*#__PURE__*/(0,r.jsxs)("div",{style:n,children:[/*#__PURE__*/(0,r.jsx)(i.k,{limit:t,current:o,useColor:a,fullColor:u,className:c}),/*#__PURE__*/(0,r.jsx)(f,{limit:t,current:o,showLink:s,contactUs:l,featureName:A,showLimitName:d,upgradeLinkText:p,shortExplanation:g})]})}},57821:function(e,t,n){"use strict";n.d(t,{bJ:function(){return l},ch:function(){return A},hf:function(){return u},r4:function(){return c}});var r=n(52322),i=n(11769),o=n(71059),a=n(3635),s="eraser-splash",u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById(s);t&&(e?t.remove():(t.classList.add("hidden"),setTimeout(function(){return t.remove()},100)))},c=function(e,t){return(0,o.Z)(function(){var t;(null===(t=null==e?void 0:e())||void 0===t||t)&&u()},t)},l=function(e){var t=e.loadingText,n=e.hideLogo;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[!(void 0!==n&&n)&&/*#__PURE__*/(0,r.jsx)(i.Z,{}),/*#__PURE__*/(0,r.jsxs)("div",{className:"splashLoadingContainer",children:[/*#__PURE__*/(0,r.jsx)("div",{className:"splashLoadingSpinner"}),/*#__PURE__*/(0,r.jsx)("span",{children:void 0===t?"Loading eraser.io":t})]})]})},A=function(e){var t=e.initialTheme,n=e.loadingText;return/*#__PURE__*/(0,r.jsx)("div",{id:s,className:(0,a.Z)("eraserSplash","dark"===(null!=t?t:"light")&&"dark"),children:/*#__PURE__*/(0,r.jsx)("div",{className:"splashCenterer",children:/*#__PURE__*/(0,r.jsx)(l,{loadingText:n})})})}},59858:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(87394),i=n(50930),o=n(2784),a=n(20810),s=n(39739),u=n(77984),c=n(99054),l=n(39369),A=n(12335),d=n(11269),f=n(96933),h=n(42389),p=n(67078),g=n(10186),v=n(89960),m=n(88218),y=n(67640),b=n(87622),w=/*#__PURE__*/n.n(b),_=function(){var e=(0,f.aF)(),t=(0,d.mZ)(),n=(0,o.useState)(),b=n[0],_=n[1],E=(0,o.useState)(),C=E[0],B=E[1],I=(null==e?void 0:e.emailVerified)?null==e?void 0:e.email:null,x=(0,a.m)(function(e){return e.pipe((0,u.U)(function(e){return(0,r.Z)(e,1)[0]}),(0,c.h)(function(e){return"string"==typeof e}),(0,u.U)(function(e){return(0,m.ZP)(e)}),(0,l.x)(),(0,A.w)(function(e){return(0,h.BS)(g.Z.teams.withConverter(p.ML).where("isAutoJoinEnabled","==",!0).where("domain","==",e))}))},[I]);return(0,s.m)(x,_,v.T),(0,o.useEffect)(function(){y.Z.get("user/pendingInvites").then(function(e){B(e.invitesForUi)})},[]),(0,o.useMemo)(function(){if(e){if(!I)return[];if(C){var n=(null==C?void 0:C.filter(function(e){return!t.has(e.teamId)}))||[],r=w()(n,"teamId"),o=(null==b?void 0:b.filter(function(e){return!t.has(e.id)&&!r[e.id]}))||[];return(0,i.Z)(n).concat((0,i.Z)(o))}}},[I,e,b,C,t])}},20578:function(e,t,n){"use strict";var r=n(90581),i=n(21218),o=n(39309),a=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e._handleLayoutReady=function(t){e.setLayout=t,e.on("change-layout",t)},e._handleExcalidrawReady=function(t){e.api=t},e._handleAddElement=function(t){e.emit("add-element",t)},e}var a=n.prototype;return a.init=function(){this.on("layout-ready",this._handleLayoutReady),this.on("excalidraw-ready",this._handleExcalidrawReady),this.on("add-element",this._handleAddElement)},a.dispose=function(){this.api=void 0,this.removeAllListeners()},n}(n(30686).v);t.Z=new a},99811:function(e,t,n){"use strict";n.d(t,{fu:function(){return b},oQ:function(){return y}});var r=n(70865),i=n(96670),o=n(87394),a=n(52322),s=n(2784),u=n(20810),c=n(39739),l=n(9947),A=n(77984),d=n(12335),f=n(96933),h=n(39183),p=n(4406),g=n(21273),v=n(89960),m=n(24618),y=function(e){var t=Date.now(),n=[];return e.forEach(function(e){var r,i=e.id,o=e.heartbeat,a=null!==(r=null==o?void 0:o.toMillis())&&void 0!==r?r:t;t-a<=15e3&&n.push(i)}),n},b=function(e,t){var n=(0,s.useState)([]),r=n[0],i=n[1],a=(0,u.m)(function(e){return e.pipe((0,A.U)(function(e){return(0,o.Z)(e,1)[0]}),(0,m.jW)(),(0,d.w)(function(e){return(0,g.Z)(e)}),(0,A.U)(y),(0,m.Mh)(15e3,function(e,t){return e.length===t.length},l.z,{leading:!0,trailing:!0}))},[e]);return(0,c.m)(a,i,v.T),(0,s.useMemo)(function(){return t?r.filter(function(e){return e!==t}):r},[r,t])};t.ZP=function(e){var t=(0,f.II)(),n=(0,s.useState)([]),o=n[0],u=n[1],c=b((0,h.mT)()||"");return(0,s.useEffect)(function(){c&&u(c.filter(function(e){return e!==t}))},[t,c]),/*#__PURE__*/(0,a.jsx)(p.Z,(0,i.Z)((0,r.Z)({},e),{horizontalAlign:"end",max:3,userIds:o}))}},88138:function(e,t,n){"use strict";n.d(t,{IO:function(){return c},_j:function(){return u},sK:function(){return s}});var r=n(98788),i=n(22970),o=n(2784),a={aiContexts:[],selectedContextId:void 0,selectedContext:void 0,isNewLibraryModalOpen:!1,isRenameModalOpen:!1,isDeleteModalOpen:!1,canCreateNewReference:!1,handleSelectContext:function(){},handleCreateLibrary:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleRenameLibrary:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleDeleteLibrary:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleUpgradeClick:function(){},setIsNewLibraryModalOpen:function(){},setIsRenameModalOpen:function(){},setIsDeleteModalOpen:function(){}},s=(0,o.createContext)(a),u=function(){return(0,o.useContext)(s).aiContexts},c=function(){return(0,o.useContext)(s)}},52982:function(e,t,n){"use strict";n.d(t,{H:function(){return h},Z:function(){return p}});var r,i,o=n(52322),a=n(2784),s=n(80498),u=n(2643),c=n(70759).Z,l=n(24179),A=n(67499),d=/*#__PURE__*/n.n(A);(r=i||(i={})).SIGN_IN="SIGN_IN",r.SIGN_UP="SIGN_UP";var f=/*#__PURE__*/(0,a.createContext)(void 0),h=function(e){var t=e.children,n=(0,s.Z)(),r=n.isOpen,A=n.onOpen,h=n.onClose,p=(0,a.useState)(i.SIGN_UP),g=p[0],v=p[1],m=(0,a.useState)(),y=m[0],b=m[1],w=(0,a.useCallback)(function(e){v(i.SIGN_UP),void 0!==e&&b(e),A()},[A]),_=(0,a.useCallback)(function(e){v(i.SIGN_IN),void 0!==e&&b(e),A()},[A]),E=(0,a.useCallback)(function(){b(void 0),h()},[h]),C=(0,a.useMemo)(function(){return{openSignUpModal:w,openSignInModal:_,closeAuthModal:E,isAuthModalOpen:r}},[w,_,E,r]),B=(0,a.useCallback)(function(){(null==y?void 0:y.isClosable)&&h()},[y,h]),I=g===i.SIGN_IN?c:l.Z;return/*#__PURE__*/(0,o.jsxs)(f.Provider,{value:C,children:[t,/*#__PURE__*/(0,o.jsx)(u.Z,{className:d().authModal,isOpen:r,onClose:B,hideCloseButton:!0,children:/*#__PURE__*/(0,o.jsx)(I,{profileArgs:null==y?void 0:y.profileArgs,customSubTitle:null==y?void 0:y.customSubTitle,onSignIn:null==y?void 0:y.onSignIn,asModal:!0})})]})},p=f},15683:function(e,t,n){"use strict";n.d(t,{Ii:function(){return A},jH:function(){return l}});var r=n(98788),i=n(22970),o=n(52322),a=n(2784),s=n(96933),u=n(45403),c=/*#__PURE__*/(0,a.createContext)({coachmarks:null,markCoachmark:function(){return Promise.resolve()}}),l=function(e){var t,n=e.children,l=(0,u.Pe)(),A=(0,s.II)(),d=(0,a.useState)(null),f=d[0],h=d[1];(0,a.useEffect)(function(){if(A)return l.currentUser.getCoachMarksDataStream().subscribe(h)},[A]);var p=(0,a.useCallback)((t=(0,r.Z)(function(e){var t,n,r=arguments;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(t=!(r.length>1)||void 0===r[1]||r[1],n=r.length>2?r[2]:void 0,!A)return[2];return[4,l.currentUser.markCoachmark(e,t,n)];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[A]),g=(0,a.useMemo)(function(){return{coachmarks:f,markCoachmark:p}},[f,p]);return/*#__PURE__*/(0,o.jsx)(c.Provider,{value:g,children:n})},A=function(){return(0,a.useContext)(c)}},54118:function(e,t,n){"use strict";n.d(t,{o:function(){return p},Z:function(){return g}});var r=n(52322),i=n(34394),o=n(21746),a=n(56130),s=n(77984),u=n(42389),c=n(10186),l=n(24618),A=n(62557),d=n(19179),f=new a.X(void 0);d.jU?(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"webapp";return(0,u._1)(c.Z.config(e)).pipe((0,l.pA)({}),(0,l.Fb)({}))})().pipe((0,s.U)(function(e){return new A.v(e)})).subscribe(f):f.next(new A.v({}));var h=(0,o.kr)(void 0),p=function(e){var t=e.children,n=(0,i.p)(f);return/*#__PURE__*/(0,r.jsx)(h.Provider,{value:n,children:t})},g=h},27729:function(e,t,n){"use strict";n.d(t,{JR:function(){return b},Yp:function(){return w},yR:function(){return _}});var r=n(70865),i=n(96670),o=n(50930),a=n(52322),s=n(87622),u=/*#__PURE__*/n.n(s),c=n(2784),l=n(21746),A=n(11269),d=n(45403),f=n(49678),h=n(57517),p=n(57695),g=n(2595),v=n(96933),m=n(89960),y=(0,l.kr)({folderTree:{},foldersMap:{},isLoaded:!1,folders:void 0,topLevelFolders:[],renamingFolder:null,openFolder:function(){},closeFolder:function(){},switchFolder:function(){},toggleFolder:function(){},createFolder:function(){return Promise.resolve()},updateFolder:function(){return Promise.resolve()},updateFolderOrder:function(){return Promise.resolve()},renameFolder:function(){return Promise.resolve()},openFolders:new Set,getFolderPath:function(){return[]},getAllFolderPaths:function(){return[]},getFolderChildren:function(){return[]},setRenamingFolder:function(){},getFolderNameById:function(){return""}}),b=32,w="Untitled Folder",_=function(e){var t=e.children,n=(0,d.Pe)(),s=(0,p.Su)().analyticsService,l=(0,A.LP)(),b=(0,g.Z)(),_=(0,v.II)(),E=(0,h.i)().goToTab,C=(0,c.useState)(new Set),B=C[0],I=C[1],x=(0,c.useState)(void 0),T=x[0],S=x[1],k=(0,c.useState)(null),N=k[0],D=k[1],O=(0,c.useMemo)(function(){return T?(0,f.Hz)(T):{}},[T]),R=(0,c.useMemo)(function(){return(0,f.JN)(O)},[O]),F=(0,c.useMemo)(function(){return Object.values(O).sort(function(e,t){return e.order-t.order})},[O]);(0,c.useEffect)(function(){l&&(S(void 0),n.folders.subscribeByTeam(l,S))},[l]);var L=(0,c.useCallback)(function(e){var t;return e&&(null===(t=R.find(function(t){return t.id===e}))||void 0===t?void 0:t.children)||[]},[R]),P=(0,c.useCallback)(function(e){return e?(0,f.p6)(e,O):[]},[O]),U=(0,c.useCallback)(function(){return(0,f.am)(O)},[O]),M=(0,c.useMemo)(function(){return u()(T,"id")},[T]),j=(0,c.useCallback)(function(e){I(function(t){var n=new Set(t);return n.add(e),n}),D(null)},[]),Z=(0,c.useCallback)(function(e){I(function(t){var n=new Set(t);return n.delete(e),n}),D(null)},[]),Q=(0,c.useCallback)(function(e){I(function(t){var n=new Set(t);return t.has(e)?n.delete(e):n.add(e),n}),D(null)},[]),H=(0,c.useCallback)(function(e){return M[e]?M[e].name||w:""},[M]),V=(0,c.useCallback)(function(e){var t,r=e.name,i=e.parentFolderId,a=void 0===i?null:i,u=e.origin,c=void 0===u?"header":u,A=e.shouldOpen,d=void 0===A||A;if(!l||!_)return Promise.resolve();var f=a?L(a):F,h=Math.max((t=Math).max.apply(t,(0,o.Z)(f.map(function(e){return e.order}))),f.length)+1;return b.promise(n.folders.create({name:r,parentFolderId:a,teamId:l,order:h,createdBy:_}),{success:"Created folder",loading:"Creating folder",error:"Something went wrong"}).then(function(e){D({id:e,origin:c}),s.trackEvent("folders","create_folder"),d&&E("folder",e)}).catch(m.T)},[l,s,_,E,F,L]),K=(0,c.useCallback)(function(e,t){return l&&_?(S(null==T?void 0:T.map(function(n){return n.id===e?(0,r.Z)({},n,t):n})),n.folders.updateById(e,t,{teamId:l}).catch(function(e){throw S(T),e})):Promise.resolve()},[l,_,T]),G=(0,c.useCallback)(function(e,t){return N||t?(D(null),K(t||N.id,{name:null!=e?e:""})):Promise.resolve()},[K,N]),z=(0,c.useCallback)(function(e,t,o){if(!l||!_)return Promise.resolve();var a,s,u=(a=(0,i.Z)((0,r.Z)({},M[e]),{parentFolderId:t}),s=(t?L(t):F).filter(function(e){return e.id!==a.id}),o<=-1?s.unshift(a):s.splice(o,0,a),s.map(function(e,t){return(0,i.Z)((0,r.Z)({},e),{order:t})}));return S(null==T?void 0:T.map(function(e){return u.find(function(t){return t.id===e.id})||e})),n.folders.updateFolderOrders(l,u,t).catch(function(e){throw S(T),e})},[l,_,M,F,L,T]);return/*#__PURE__*/(0,a.jsx)(y.Provider,{value:{folders:T,folderTree:O,foldersMap:M,openFolder:j,closeFolder:Z,openFolders:B,createFolder:V,renameFolder:G,updateFolder:K,updateFolderOrder:z,toggleFolder:Q,switchFolder:E,getFolderPath:P,renamingFolder:N,topLevelFolders:F,getAllFolderPaths:U,getFolderNameById:H,setRenamingFolder:D,getFolderChildren:L,isLoaded:!!T},children:t})};t.ZP=y},21948:function(e,t,n){"use strict";n.d(t,{N:function(){return e1}});var r=n(52322),i=n(2784),o=n(98788),a=n(90581),s=n(21218),u=n(70865),c=n(96670),l=n(39309),A=n(22970),d=n(68594),f=n(10097),h=n(70621),p=n(34899),g=n(90731),v=n(78950);function m(e){return new d.y(function(t){return f.RZ.collection("prompt-history").doc(e).onSnapshot(function(e){e.exists&&t.next((0,c.Z)((0,u.Z)({},e.data()),{id:e.id}))})})}var y=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),e.dataStreams={},e}var r=n.prototype;return r.getCollectionRef=function(){return f.RZ.collection("prompt-history")},r.makeHistoryEntry=function(e){var t,n=null===(t=f.I8.currentUser)||void 0===t?void 0:t.uid;if(!n)throw new h.vm;return{userInput:e,userId:n,timestamp:Date.now()}},r.getHistoryDataStream=function(e){return this.dataStreams[e]||(this.dataStreams[e]=v.h.makeStreamFactory(m)(e)),this.dataStreams[e]},r.createHistory=function(e,t){var n=this;return(0,o.Z)(function(){var r,i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return r=t?[n.makeHistoryEntry(t)]:[],i=n.getCollectionRef().doc().id,o=(0,c.Z)((0,u.Z)({id:i},e),{history:r}),[4,n.getCollectionRef().doc(i).set(o)];case 1:return a.sent(),[2,o]}})})()},r.getHistoryById=function(e){var t=this;return(0,o.Z)(function(){var n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:return[4,t.getCollectionRef().doc(e).get()];case 1:if(!(n=r.sent()).exists)return[2,void 0];return[2,(0,u.Z)({},n.data())]}})})()},r.getHistoryBySearchParams=function(e){var t=this;return(0,o.Z)(function(){var n,r;return(0,A.__generator)(this,function(i){switch(i.label){case 0:if(!e.teamId)throw new h.tk("Invalid fetch attempted",{hint:"teamId is required for prompt history",statusCode:400,data:(0,u.Z)({},e)});return[4,(0,p.J)(t.getCollectionRef(),e,{limit:1}).get()];case 1:if((n=i.sent()).empty)throw new h.dR("Prompt history not found",{data:(0,u.Z)({},e)});return r=n.docs[0],[2,(0,c.Z)((0,u.Z)({},r.data()),{id:r.id})]}})})()},r.addEntry=function(e,t,n){var r=this;return(0,o.Z)(function(){var i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return[4,r.getHistoryById(e)];case 1:if(!(i=a.sent()))return[2];return o={userInput:t,userId:n,timestamp:Date.now()},[4,r.getCollectionRef().doc(e).set({history:i.history.concat(o)},{merge:!0})];case 2:return a.sent(),[2]}})})()},r.removeLastEntry=function(e){var t=this;return(0,o.Z)(function(){var n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:return[4,t.getHistoryById(e)];case 1:if(!(null==(n=r.sent())?void 0:n.history.length))return[2];return[4,t.getCollectionRef().doc(e).set({history:n.history.slice(0,n.history.length-1)},{merge:!0})];case 2:return r.sent(),[2]}})})()},n}(g.Z),b=n(13706),w=n(77984),_=n(41217),E=n(60379),C=n(62349),B=/*#__PURE__*/n.n(C),I=n(23779),x=/*#__PURE__*/n.n(I),T=["Charming","Creative","Determined","Energetic","Friendly","Imaginative","Dynamic","Brave","Thoughtful","Passionate","Optimistic","Humorous","Marvelous","Knowledgeable","Expert","Amazing","Awesome","Fabulous","Fantastic","Gorgeous","Incredible","Outstanding","Remarkable","Spectacular","Splendid","Stellar","Super","Upbeat","Stunning","Wondrous","Dazzling","Vibrant","Brilliant","Elegant","Enchanting","Magnificent","Insightful","Adventurous","Charismatic","Inquisitive"],S=["Aardvark","Albatross","Alpaca","Armadillo","Alligator","Antelope","Baboon","Bobcat","Buffalo","Butterfly","Bear","Beaver","Camel","Caterpillar","Cheetah","Dolphin","Elephant","Fox","Falcon","Flamingo","Giraffe","Goose","Eagle","Hippo","Iguana","Jaguar","Kangaroo","Koala","Lion","Llama","Moose","Nighingale","Narwhal","Otter","Ostrich","Peacock","Penguin","Porcupine","Platypus","Puma","Panther","Rabbit","Raccoon","Reindeer","Rhino","Turtle","Squirrel","Swan","Tiger","Walrus","Whale","Wolverine","Wolf","Wombat","Woodpecker","Zebra"],k=function(){var e=T[B()(T.length-1)],t=S[B()(S.length-1)];return"".concat(x()(e)," ").concat(x()(t))},N=n(49864),D=n(32472),O=n(96603),R=function(e){var t=[O.Q6[8],O.iQ[8],O.pl[8],O.ht[8],O.QN[8],O.iN[8],O.sl[8],O.$C[8],O.ek[8],O.LR[8],O.er[8],O.$y[8]],n=(e?null==e?void 0:e.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0):B()())%t.length;return t[n]},F=n(89960),L=n(66230),P=n(42389),U=n(67078),M=n(10186),j=n(24618),Z=n(25487),Q=n(42541),H=n(28055);function V(e){return(0,P.BS)(M.Z.userCoachmarks(e).withConverter(U.BG),"id").pipe((0,w.U)(function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}))}function K(e){return(0,P.BS)(M.Z.userActivations(e),"id").pipe((0,w.U)(function(e){return e.reduce(function(e,t){return e[t.id]=t.didPerform,e},{})}))}var G=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){(0,a.Z)(this,n),(d=t.call(this)).Events=H.S,d.authUser=void 0,d.user=void 0;var e,r,i,s,l,d,h=(0,b.Z)(d);d.updateCurrentUserEmail=(e=(0,o.Z)(function(e,t,n){var r,i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:if(!(r=f.ZP.auth().currentUser)||!r.email)throw Error("No user signed in");if(!n)throw Error("Must confirm password");a.label=1;case 1:return a.trys.push([1,5,,6]),i=f.ZP.auth.EmailAuthProvider.credential(r.email,n),[4,r.reauthenticateWithCredential(i)];case 2:return a.sent(),[4,r.updateEmail(e)];case 3:return a.sent(),[4,L.H.updateUserKnownPerson(r.uid,t,{email:e})];case 4:return a.sent(),h.authUser.email=e,h.emit(h.Events.AuthUserChanged,h.authUser),[3,6];case 5:return o=a.sent(),(0,Z.S3)(o),[3,6];case 6:return[2]}})}),function(t,n,r){return e.apply(this,arguments)});var p=(0,b.Z)(d);d.updateCurrentUserDisplayName=(r=(0,o.Z)(function(e,t){var n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:if(!(n=f.ZP.auth().currentUser))return[2];return[4,n.updateProfile({displayName:e})];case 1:return r.sent(),[4,L.H.updateUserProfile(n.uid,{displayName:e})];case 2:return r.sent(),[4,L.H.updateUserKnownPerson(n.uid,t,{displayName:e})];case 3:return r.sent(),p.authUser.displayName=e,p.emit(p.Events.AuthUserChanged,p.authUser),[2]}})}),function(e,t){return r.apply(this,arguments)});var g=(0,b.Z)(d);d.updateCurrentUserPhotoUrl=(i=(0,o.Z)(function(e){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(!(t=f.ZP.auth().currentUser))return[2];return[4,t.updateProfile({photoURL:e})];case 1:return n.sent(),[4,L.H.updateUserProfile(t.uid,{photoURL:e})];case 2:return n.sent(),g.authUser.photoURL=e,g.emit(g.Events.AuthUserChanged,g.authUser),[2]}})}),function(e){return i.apply(this,arguments)});var v=(0,b.Z)(d);d.resetProviderEmail=(s=(0,o.Z)(function(e,t){var n,r,i,o,a,s,u,c,l,d;return(0,A.__generator)(this,function(A){switch(A.label){case 0:if(!(i=f.ZP.auth().currentUser))throw Error("No user signed in");if(o=i.uid,a=i.email,s=i.providerData.find(function(t){return(null==t?void 0:t.providerId)===e}),u=Z.Zo[e],!s)return[3,2];return[4,i.unlink(e).catch(Z.S3)];case 1:A.sent(),Q.Z.trackEvent("account","unlink",{userId:o,authMethod:u,oldEmail:a}),A.label=2;case 2:return c=(0,Z.VH)(e),[4,i.linkWithPopup(c).catch(function(e){Q.Z.trackEvent("account","relink_error",{userId:o,authMethod:u,oldEmail:a}),(0,Z.S3)(e)})];case 3:if(!(null==(l=A.sent())?void 0:l.credential))throw Error("Failed to link with provider");if(d=null===(r=null==l?void 0:null===(n=l.additionalUserInfo)||void 0===n?void 0:n.profile)||void 0===r?void 0:r.email,Q.Z.trackEvent("account","relink",{userId:o,authMethod:u,oldEmail:a}),!(d&&d!==a))return[3,7];return[4,i.reauthenticateWithCredential(null==l?void 0:l.credential)];case 4:return A.sent(),[4,i.updateEmail(d).catch(Z.S3)];case 5:return A.sent(),[4,L.H.updateUserKnownPerson(i.uid,t,{email:d}).catch(F.T)];case 6:A.sent(),v.authUser.email=d,v.emit(v.Events.AuthUserChanged,v.authUser),A.label=7;case 7:return[2]}})}),function(e,t){return s.apply(this,arguments)});var m=(0,b.Z)(d);return f.I8.onAuthStateChanged((l=(0,o.Z)(function(e){var t,n,r,i,o,a,s,l,d,h,p,g,v,y,b,w;return(0,A.__generator)(this,function(A){switch(A.label){case 0:if(!e)return m.authUser=void 0,f.I8.signInAnonymously().then(function(){return(0,E.GF)()}).catch(F.T),[2];if(r=e.email,i=e.uid,o=e.metadata,a=e.isAnonymous,s=e.displayName,l=!!e.emailVerified||(null===(t=e.providerData)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.providerId)==="microsoft",p=a?{}:(0,_.AJ)(),!a)return[3,1];return(0,E.do)(i),d=s||k(),[3,3];case 1:return N.b.add({name:D.iL,value:"true"}),d=s||(null==p?void 0:p.displayName)||k(),[4,e.getIdTokenResult()];case 2:h=A.sent().claims.sso,A.label=3;case 3:return g=R(e.uid),v=e.photoURL||void 0,m.authUser={id:i,color:g,photoURL:v,isAnonymous:a,displayName:d,email:r||void 0,emailVerified:l,createdAt:o.creationTime?new Date(o.creationTime):void 0,sso:h},m.emit(m.Events.AuthUserChanged,m.authUser),m.subscribeToUserData(),y=(0,E.ES)(),b=N.b.getByName(D.IF)||y,w=(0,c.Z)((0,u.Z)({},null!=p?p:{}),{displayName:d,color:g,photoURL:null!=v?v:""}),b&&(N.b.add({name:D.IF,value:b}),w.analyticsId=b),e.displayName&&e.displayName===d||e.updateProfile({displayName:d}).catch(F.T),L.H.createOrUpdateUserProfile(i,w).then(function(){a||((0,_.Q0)(),(0,E.QZ)())}).catch(F.T),[2]}})}),function(e){return l.apply(this,arguments)})),d}var r=n.prototype;return r.subscribeToUserData=function(){var e,t=this;if(!this.authUser||this.authUser.isAnonymous){this.user=this.authUser,this.emit(this.Events.UserChanged,this.user);return}var n=(e=this.authUser.id,(0,P._1)(M.Z.user(e).withConverter(U.yN)).pipe((0,j.pA)(null),(0,j.VK)(),(0,j.Fb)(null))).pipe((0,w.U)(function(e){return(0,u.Z)({},t.authUser,e)})).subscribe(function(e){t.user=e,t.emit(t.Events.UserChanged,t.user)});this.clean=n.unsubscribe},r.setDisplayNameForCurrentSession=function(e){this.authUser&&(this.authUser.displayName=e,this.emit(this.Events.AuthUserChanged,this.authUser))},r.getAuthUser=function(){return this.authUser},r.getCurrentUser=function(){return this.user},r.getCoachMarksDataStream=function(){if(!this.authUser)throw Error("No user signed in");return v.h.makeStreamFactory(V)(this.authUser.id)},r.markCoachmark=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(!this.authUser)throw Error("No user signed in");return M.Z.userCoachmarks(this.authUser.id).doc(e).set({isShown:t,lastShownAt:Date.now(),lastShownValue:null!=n?n:""})},r.getActivationsDataStream=function(){if(!this.authUser)throw Error("No user signed in");return v.h.makeStreamFactory(K)(this.authUser.id)},r.markActivation=function(e){if(!this.authUser)throw Error("No user signed in");return M.Z.userActivations(this.authUser.id).doc(e).set({didPerform:!0})},n}(g.Z),z=function(e){return(0,P._1)(M.Z.commentThread(e).withConverter(U.An)).pipe((0,j.pA)(null),(0,j.Fb)(null))},W=function(e){return(0,P.BS)(M.Z.threadComments(e).withConverter(U.hL)).pipe((0,j.pA)([]),(0,j.Fb)([]))},q=n(67640);function Y(){return(Y=(0,o.Z)(function(e){return(0,A.__generator)(this,function(t){switch(t.label){case 0:return[4,q.Z.post("commentThreads/".concat(e.threadId,"/comments"),{commentData:e})];case 1:return t.sent(),[2]}})})).apply(this,arguments)}var $=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),e.threadStreamById={},e.commentsStreamById={},e}var r=n.prototype;return r.getThreadDataStream=function(e){return this.threadStreamById[e]||(this.threadStreamById[e]=v.h.makeStreamFactory(z)(e)),this.threadStreamById[e]},r.getCommentsDataStream=function(e){return this.commentsStreamById[e]||(this.commentsStreamById[e]=v.h.makeStreamFactory(W)(e)),this.commentsStreamById[e]},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId;return(0,o.Z)(function(){var e;return(0,A.__generator)(this,function(i){switch(i.label){case 0:return[4,(e=M.Z.commentThreads.doc()).set({workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1})];case 1:return i.sent(),[4,e.withConverter(U.An).get()];case 2:return[2,i.sent().data()]}})})()},r.getThreadById=function(e){return(0,o.Z)(function(){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,M.Z.commentThreads.withConverter(U.An).doc(e).get()];case 1:if(!(t=n.sent()).exists)return[2];return[2,t.data()]}})})()},r.addCommentToThread=function(e,t){return function(e){return Y.apply(this,arguments)}((0,c.Z)((0,u.Z)({},t),{threadId:e}))},r.setThreadResolvedState=function(e,t){return M.Z.commentThread(e).update({isResolved:t})},r.setThreadAsReadByCurrentUser=function(e,t){return M.Z.commentThread(e).update({readByMemberIds:f.ZP.firestore.FieldValue.arrayUnion(t)})},r.editComment=function(e,t,n){return M.Z.commentThread(e).collection("comments").doc(t).update({text:n,updatedAt:Date.now()})},n}(g.Z),X=n(43806),J=n(50389),ee=n(99811);function et(e){var t=e.workspaceId,n=e.teamId,r=e.memberId;return(0,X.a)([(0,P._1)(M.Z.teamMember(n,r).withConverter(U.q0)).pipe((0,j.pA)(null),(0,j.Fb)(null)).pipe((0,w.U)(function(e){return null!=e&&(0,J.pc)(e)})),(0,P._1)(M.Z.workspaceMember(t,r).withConverter(U.hu)).pipe((0,j.pA)(null),(0,j.Fb)(null)).pipe((0,w.U)(function(e){return null!=e}))]).pipe((0,w.U)(function(e){return e.some(Boolean)}))}var en=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r;return(0,a.Z)(this,n),e=t.apply(this,arguments),e.markWorkspaceAsVisited=(r=(0,o.Z)(function(e){return(0,A.__generator)(this,function(t){return[2,q.Z.put("workspace/".concat(e,"/markVisit"),{})]})}),function(e){return r.apply(this,arguments)}),e}var r=n.prototype;return r.getWorkspaceDataStream=function(e){return v.h.makeStreamFactory(function(e){var t=e.workspaceId,n=e.mapPermissionDeniedErrorToNull,r=(0,P._1)(M.Z.workspace(t).withConverter(U.BV)).pipe((0,j.pA)(null));return(void 0===n||n)&&(r=r.pipe((0,j.Fb)(null))),r})(e)},r.getIsWorkspaceMemberDataStream=function(e){return v.h.makeStreamFactory(et)(e)},r.getWorkspaceTeamInfo=function(e,t){return e&&t?q.Z.post("workspace/".concat(t,"/teamInfo"),{teamId:e}):Promise.resolve(void 0)},r.getWorkspaceLiveUserIds=function(e){return(0,o.Z)(function(){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,M.Z.workspaceCollaborators(e).withConverter(U.kk).get()];case 1:return t=n.sent().docs.map(function(e){return e.data()}),[2,(0,ee.oQ)(t)]}})})()},r.isWorkspaceMember=function(e,t){return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,M.Z.workspaceMember(e,t).withConverter(U.hu).get()];case 1:return[2,Boolean.apply(void 0,[n.sent().data()])]}})})()},r.validateAccess=function(e){return q.Z.post("workspace/validateAccess",{workspaceId:e})},n}(g.Z),er=n(87394),ei=n(50930),eo=n(54073),ea=/*#__PURE__*/n.n(eo),es=n(12436),eu=/*#__PURE__*/n.n(es),ec=n(65089),el=/*#__PURE__*/n.n(ec),eA=n(26297),ed=function(e){e.id;var t=e.pointer,n=e.selectedElementIds,r=e.editingElementId,i=e.modifiedAt,o=(0,eA.Z)(e,["id","pointer","selectedElementIds","editingElementId","modifiedAt"]);if(t||n||r){var a,s,l,A,d,f,h,p=((f={pointer:null!==(l=(a={pointer:t,selectedElementIds:n,editingElementId:r}).pointer)&&void 0!==l?l:eh}).pointer.x=Number((null!==(A=f.pointer.x)&&void 0!==A?A:0).toFixed(0)),f.pointer.y=Number((null!==(d=f.pointer.y)&&void 0!==d?d:0).toFixed(0)),(null===(s=a.pointer)||void 0===s?void 0:s.down)===!1&&delete f.pointer.down,(h=Object.keys(a.selectedElementIds||{})).length&&(f.selectedElementIds=h),a.editingElementId&&(f.editingElementId=a.editingElementId),f);return(0,c.Z)((0,u.Z)({},o),{modifiedAt:i,s:p})}return(0,c.Z)((0,u.Z)({},o),{modifiedAt:i})},ef=function(e){var t=e.key,n=e.val(),r=n.s,i=n.modifiedAt,o=n.color,a=n.displayName,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointer,n=e.selectedElementIds,r=e.editingElementId;return{pointer:void 0===t?eh:t,selectedElementIds:null==n?void 0:n.reduce(function(e,t){return e[t]=!0,e},{}),editingElementId:r||null}}(r);return(0,c.Z)((0,u.Z)({},s),{id:t,modifiedAt:i,color:o,displayName:a})},eh={x:0,y:0},ep=n(56818),eg=n(42327),ev=n(76436),em=n(54367),ey=n(64888),eb=n(99950),ew=n(97847),e_=[[100,1e3/30],[200,50],[1/0,100]],eE=f.ZP.database.ServerValue,eC={state:{}},eB=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).Events=eb.v,r.elements=new Map,r.collaborators=new Map,r.lastPointer={x:0,y:0},r.syncedElementVersions=new Map,r.isUserReady=!1,r.isElementsReady=!1,r.isZombie=!1,r.subscriptions=[],r.sceneUpdateBufferTime=100,r.pendingElements=new Set,r.schedulePointerRemoval=ea()(function(){r.removePointer()},6e4),r.queueSaveAllElements=eu()(function(){var e=r.excalidrawApi.getSceneElements();r.saveElements(e,{addedElements:[],changedElements:[],deletedElements:[]},!0)},6e5),r.workspaceId=e.workspaceId,r.excalidrawApi=e.excalidrawApi,r.isReadOnly=e.isReadOnly,r.workspaceRef=f.Fs.ref("workspaces/".concat(e.workspaceId)),r.connectionRef=f.Fs.ref(".info/connected"),r.userRef=r.workspaceRef.child("whiteboard/users/".concat(e.user.id)),r.elementsRef=r.workspaceRef.child("whiteboard/elements"),r.lastUpdatedAtRef=r.workspaceRef.child("whiteboard/updatedAt"),r.collaboratorsRef=r.workspaceRef.child("whiteboard/users"),r.userId=e.user.id,r.sessionId=f.Fs.ref().push().key,r.useSafeUpdates=e.useSafeUpdates,el()(function(){r.initializeSetUpdatedAt(),r.initializeUser(e.user),r.monitorElements()}),r}var r=n.prototype;return r.saveElements=function(e,t){var n=t.addedElements,r=t.changedElements,i=t.deletedElements,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this;return(0,o.Z)(function(){var t,o,u,c,l,d,f,h;return(0,A.__generator)(this,function(A){switch(A.label){case 0:if(s.isZombie)return[2];return c=(u=(0,ew.y7)(e)).syncableElements,l=u.zIndexMap,(d=a?c:(0,ei.Z)(n).concat((0,ei.Z)(r))).forEach(function(e){s.elements.set(e.id,e),s.syncedElementVersions.set(e.id,e.version),s.pendingElements.add(e.id),e.zIndex=l[e.id]}),i.forEach(function(e){if(!s.elements.has(e.id)){s.pendingElements.delete(e.id);return}s.elements.delete(e.id),s.pendingElements.delete(e.id),s.elementsRef.child(e.id).remove(function(e){e&&console.error(e)})}),[4,null===(o=(t=s).savePendingChangesThrottled)||void 0===o?void 0:o.call(t,s.useSafeUpdates||a&&s.collaborators.size>0)];case 1:return(A.sent()||s.useSafeUpdates)&&s.queueSaveAllElements(),d.length>0&&!a&&(s.emit(s.Events.CHANGE),null===(h=(f=s).debouncedSetUpdatedAt)||void 0===h||h.call(f)),[2]}})})()},r.savePointer=function(e){var t;!this.isUserReady||this.isReadOnly||e.pointersMap.size>1||(this.lastPointer=e.pointer,this.schedulePointerRemoval(),null===(t=this.savePointerThrottled)||void 0===t||t.call(this,e))},r.saveSelection=function(){var e;null===(e=this.updateSelectionThrottled)||void 0===e||e.call(this)},r.dispose=function(){var e,t,n,r,i;this.isZombie=!0,this.removeAllListeners(),this.unsubscribe(),null===(e=this.savePointerThrottled)||void 0===e||e.cancel(),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.cancel(),null===(n=this.updateElementsThrottled)||void 0===n||n.cancel(),null===(r=this.updateSelectionThrottled)||void 0===r||r.cancel(),null===(i=this.savePendingChangesThrottled)||void 0===i||i.cancel(),this.schedulePointerRemoval.cancel(),this.queueSaveAllElements.cancel(),this.savePointerThrottled=void 0,this.updateCollaboratorsThrottled=void 0,this.updateElementsThrottled=void 0,this.updateSelectionThrottled=void 0,this.savePendingChangesThrottled=void 0,this.workspaceRef.off(),this.connectionRef.off(),this.userRef.off(),this.elementsRef.off(),this.collaboratorsRef.off(),this.isUserReady&&(this.schedulePointerRemoval.cancel(),this.removePointer(),this.userRef.onDisconnect().update(eC).catch(F.T))},r.initializeSetUpdatedAt=function(){var e=this;this.debouncedSetUpdatedAt=ea()(function(){e.lastUpdatedAtRef.set(eE.TIMESTAMP).catch(F.T)},5e3,{maxWait:1e4,leading:!0,trailing:!0})},r.savePendingChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.useSafeUpdates,t=this;return(0,o.Z)(function(){var n,r;function i(e){r=!0,"disconnect"===e.message||(0,F.T)(e)}return(0,A.__generator)(this,function(o){switch(o.label){case 0:return n=[],r=!1,t.pendingElements.forEach(function(o){var a=t.elements.get(o);if((0,ew.QY)(a)){if(!e){if((0,eg.ng)(a)){t.elements.delete(a.id);var s=t.elementsRef.child(a.id).remove(function(e){e&&i(e)}).catch(i);n.push(s);return}var l=U.q9.toDatabase((0,c.Z)((0,u.Z)({},a),{modifiedAt:eE.TIMESTAMP,modifiedBy:t.sessionId,userId:t.userId})),A=t.elementsRef.child(a.id).set(l).catch(i);n.push(A);return}var d=t.elementsRef.child(a.id).transaction(function(e){return(0,eg.ng)(a)?(t.elements.delete(a.id),null):(e=e&&U.q9.fromDatabase({key:a.id,val:function(){return e}}),(0,ew.i8)(a,e)===a)?U.q9.toDatabase((0,c.Z)((0,u.Z)({},a),{modifiedAt:eE.TIMESTAMP,modifiedBy:t.sessionId,userId:t.userId})):void 0},function(e){e&&(r=!0,"disconnect"===e.message||(0,F.T)(e))},!1).catch(function(e){r=!0,"disconnect"===e.message||(0,F.T)(e)});n.push(d)}}),t.pendingElements.clear(),[4,Promise.all(n)];case 1:return o.sent(),[2,r]}})})()},r.initializeUser=function(e){var t=this,n={displayName:e.displayName,color:e.color,modifiedAt:eE.TIMESTAMP};this.userRef.transaction(function(e){return ed(n)},function(e,n){t.isUserReady=!0,t.triggerReady(),!e&&n&&t.subscribe(t.connectionRef,"value",function(e){!0===e.val()?t.userRef.onDisconnect().update(eC).catch(F.T):t.removePointer()})})},r.triggerReady=function(){this.isUserReady&&this.isElementsReady&&!this.isZombie&&(this.updateAdaptiveMethods(),this.emit(this.Events.READY),this.monitorCollaborators())},r.updateSelection=function(){var e=this.excalidrawApi.getState(),t=e.selectedElementIds,n=e.editingElement,r=ed({pointer:this.lastPointer,selectedElementIds:t,editingElementId:n?n.id:null,modifiedAt:eE.TIMESTAMP});this.userRef.update(r).catch(F.T)},r.doSavePointer=function(e){if(!this.isReadOnly){this.lastPointer=e.pointer;var t=this.excalidrawApi.getState(),n=t.selectedElementIds,r=t.editingElement,i=ed({pointer:e.pointer,selectedElementIds:n,editingElementId:r?r.id:null,modifiedAt:eE.TIMESTAMP});this.userRef.update(i).catch(F.T)}},r.removePointer=function(){this.userRef.update(eC).catch(F.T)},r.monitorElements=function(){var e=this;this.subscribe(this.elementsRef,"child_added",function(t){var n,r=U.q9.fromDatabase(t);!r.isDeleted&&(r.modifiedBy!==e.sessionId&&(e.elements.set(r.id,r),e.syncedElementVersions.set(r.id,r.version),e.isElementsReady&&(null===(n=e.updateElementsThrottled)||void 0===n||n.call(e))),e.isElementsReady&&e.updateAdaptiveMethods())}),this.subscribe(this.elementsRef,"child_changed",function(t){var n=U.q9.fromDatabase(t);if(!n.isDeleted&&n.modifiedBy!==e.sessionId){var r,i,o,a,s=e.excalidrawApi.getState(),u=n,c=n.id===(null===(r=s.resizingElement)||void 0===r?void 0:r.id)||n.id===(null===(i=s.draggingElement)||void 0===i?void 0:i.id);(0,ep.Sf)(u)&&(0,ep.Sf)(s.editingElement)&&u.id===(null===(o=s.editingElement)||void 0===o?void 0:o.id)&&(u=(0,ev.BE)(u,{text:s.editingElement.text,html:s.editingElement.html,slate:s.editingElement.slate})),!c&&(e.elements.set(n.id,u),e.syncedElementVersions.set(n.id,n.version),e.isElementsReady&&(null===(a=e.updateElementsThrottled)||void 0===a||a.call(e)))}}),this.subscribe(this.elementsRef,"child_removed",function(t){var n,r=U.q9.fromDatabase(t);e.elements.get(r.id)&&(e.elements.delete(r.id),null===(n=e.updateElementsThrottled)||void 0===n||n.call(e))}),this.elementsRef.once("value").then(function(){e.handleInitialElements()}).catch(F.T)},r.handleInitialElements=function(){var e=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(t){switch(t.label){case 0:if(e.isElementsReady)return[2];return e.isElementsReady=!0,[4,e.fixElementsOnLoad().catch(F.T)];case 1:return t.sent(),e.updateScene({isInitialRender:!0,elements:e.elements}),e.excalidrawApi.zoomToFitElements(e.excalidrawApi.getSceneElements()),e.excalidrawApi.history.clearAllButCurrent(),e.triggerReady(),[2]}})})()},r.fixElementsOnLoad=function(){var e=this;return(0,o.Z)(function(){var t,n,r,i,o,a,s;return(0,A.__generator)(this,function(l){switch(l.label){case 0:t=!0,n=!1,r=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),i=e.elements.values()[Symbol.iterator](),l.label=2;case 2:if(t=(o=i.next()).done)return[3,5];if(!function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),"diagram"===e.type&&"isBeingGenerated"in e!=!1&&!!e.isBeingGenerated&&!!e.modifiedAt&&!!e.isBeingGenerated&&(e.isBeingGenerated=!1,e.forceAiMode=!1,(0,ey.L)("ai_diagram","repair_generation_status",{diagramType:e.diagramType}),!0)}(a=o.value))return[3,4];return[4,e.elementsRef.child(a.id).set(U.q9.toDatabase((0,c.Z)((0,u.Z)({},a),{modifiedAt:eE.TIMESTAMP})))];case 3:l.sent(),l.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return s=l.sent(),n=!0,r=s,[3,8];case 7:try{t||null==i.return||i.return()}finally{if(n)throw r}return[7];case 8:return[2]}})})()},r.updateAdaptiveMethods=function(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this,s=function(e){var t=e.elements.size,n=!0,r=!1,i=void 0;try{for(var o,a=e_[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,er.Z)(o.value,2),u=s[0],c=s[1];if(t<=u)return c}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return 100}({elements:this.elements});if(o||this.sceneUpdateBufferTime!==s||!this.updateElementsThrottled){null===(e=this.savePointerThrottled)||void 0===e||e.flush(),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.flush(),null===(n=this.updateElementsThrottled)||void 0===n||n.flush(),null===(r=this.updateSelectionThrottled)||void 0===r||r.flush(),null===(i=this.savePendingChangesThrottled)||void 0===i||i.flush(),this.sceneUpdateBufferTime=s;var u=0===this.collaborators.size?3e4:s;this.savePointerThrottled=eu()(function(e){return a.doSavePointer(e)},u),this.updateCollaboratorsThrottled=eu()(this.updateCollaborators.bind(this),s,{trailing:!0}),this.updateElementsThrottled=eu()(this.updateElements.bind(this),s,{trailing:!0}),this.updateSelectionThrottled=eu()(this.updateSelection.bind(this),s,{trailing:!0}),this.savePendingChangesThrottled=eu()(this.savePendingChanges.bind(this),s,{trailing:!0})}},r.monitorCollaborators=function(){this.subscribe(this.collaboratorsRef,"child_added",this.handleCollaboratorAdd.bind(this)),this.subscribe(this.collaboratorsRef,"child_removed",this.handleCollaboratorRemoved.bind(this))},r.handleCollaboratorAdd=function(e){var t,n=e.key;if(n!==this.userId){var r=ef(e);null==r.modifiedAt||r.modifiedAt<Date.now()-6e4||(this.subscribe(this.collaboratorsRef.child(n),"value",this.handleCollaboratorChanged.bind(this)),this.collaborators.set(n,r),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this),this.updateAdaptiveMethods(!0))}},r.handleCollaboratorChanged=function(e){var t,n=e.key;if(n!==this.userId){var r=ef(e);r&&r.pointer&&(this.collaborators.set(n,r),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this))}},r.handleCollaboratorRemoved=function(e){var t,n=e.key;n!==this.userId&&(this.collaborators.delete(n),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this),this.updateAdaptiveMethods(!0))},r.updateCollaborators=function(){this.updateScene({collaborators:this.collaborators})},r.updateElements=function(){this.updateScene({elements:this.elements})},r.updateScene=function(e){var t=e.elements,n=e.collaborators,r=e.isInitialRender,i=void 0!==r&&r,o={commitToHistory:i,isInitialRender:i};if(t){var a=(0,em.W)(Array.from(t.values()));a.length===t.size?(o.elements=a,this.excalidrawApi.history.syncElements(o.elements)):console.warn("Elements not the right length")}n&&(o.collaborators=n),this.excalidrawApi.updateScene(o)},r.subscribe=function(e,t,n){this.isZombie||(this.subscriptions.push({ref:e,eventType:t,callback:n}),e.on(t,n))},r.unsubscribe=function(){this.subscriptions.forEach(function(e){var t=e.ref,n=e.eventType,r=e.callback;t.off(n,r)}),this.subscriptions.length=0},n}(g.Z),eI="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ex(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%eI.length;t=eI[n]+t,e-=n,e/=eI.length}return eI[t.length+9]+t}function eT(e){if(0===e.length||e[0]!==eI[e.length+8])throw Error("Invalid revision id!");for(var t=0,n=1;n<e.length;n++)t*=eI.length,t+=eI.indexOf(e[n]);return t}var eS=n(79117),ek=n(48223);function eN(e){return f.Fs.ref("workspaces/".concat(e,"/slate/operations"))}function eD(){return f.Fs.ref(".info/connected")}function eO(e){return f.Fs.ref("workspaces/".concat(e,"/slate/error"))}var eR=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r,i=e.workspaceId,s=e.userId,l=e.clientId;(0,a.Z)(this,n),(r=t.call(this)).Events=ek.C,r.opsQueue=[],r.onConnectionChange=function(e){var t=e.val();r.isConnected=t,r.emit(r.Events.CONNECTION_CHANGED,t)},r.onServerError=function(e){var t=e.val();if(t){var n=t.message,i=(0,eA.Z)(t,["message"]);if(!(r.lastKnownErrorId&&eT(i.opId)<=eT(r.lastKnownErrorId))){r.lastKnownErrorId=i.opId;var o=(0,eS.EG)(Error(n),"ApplyOpServer",i);r.emit(r.Events.BAD_DATA,o)}}},r.makeOpsEntry=function(e){return{ops:e,clientId:r.clientId,userId:r.userId,time:new Date().toISOString()}},r.handleConnection=function(e){if(e){var t,n,i,o=(t=r.workspaceId,n={lastOpId:r.lastKnownId},i=eN(t).orderByKey(),(null==n?void 0:n.lastOpId)&&(i=i.startAfter(n.lastOpId)),i);o.on("child_added",r.receiveData),r.once(r.Events.CONNECTION_CHANGED,function(){o.off("child_added",r.receiveData)})}};var d=(0,b.Z)(r);return r.listenForErrors=/*#__PURE__*/(0,o.Z)(function(){var e,t,n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:return[4,eO(d.workspaceId).get()];case 1:return(e=r.sent()).exists()&&(n=null===(t=e.val())||void 0===t?void 0:t.opId)&&(d.lastKnownErrorId=n),eO(d.workspaceId).on("value",d.onServerError),[2]}})}),r.receiveData=function(e){var t=U.oO.fromDatabase(e);r.handleData(t)},r.handleData=function(e){if(e.id>r.lastKnownId&&(r.lastKnownId=e.id,e.clientId!==r.clientId)){var t=r.clientId<e.clientId?"right":"left",n=(0,er.Z)((0,eS.YV)(r.opsQueue,e.ops,t),2),i=n[0],o=n[1];r.opsQueue=i,r.emit(r.Events.OPS_ADDED,(0,c.Z)((0,u.Z)({},e),{ops:o}))}},r.workspaceId=i,r.userId=s,r.clientId=l,r.lastKnownId=ex(0),r.lastKnownErrorId=void 0,r.isConnected=!1,r}var r=n.prototype;return r.initialize=function(){this.on(this.Events.CONNECTION_CHANGED,this.handleConnection),eD().on("value",this.onConnectionChange)},r.destroy=function(){eD().off("value",this.onConnectionChange),eO(this.workspaceId).off("value",this.onServerError),this.off(this.Events.CONNECTION_CHANGED,this.handleConnection)},r.hasPendingOps=function(){return 0!==this.opsQueue.length},r.sendOps=function(e){var t=this;return(0,o.Z)(function(){var n,r,i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:if(n=function(){var e,n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:return e=eN(t.workspaceId).child(o),n=0,[4,new Promise(function(r,i){e.transaction(function(e){if(null==e){var r=t.makeOpsEntry(t.opsQueue);return n=t.opsQueue.length,U.oO.toDatabase((0,c.Z)((0,u.Z)({},r),{id:o}))}var i=(0,U.A1)(e.ops);t.handleData((0,c.Z)((0,u.Z)({},e),{id:o,ops:i}))},function(e,a){a?(t.opsQueue.splice(0,n),n=0,t.lastKnownId=o):e?e&&"permission_denied"===e.message&&i(e):o=ex((t.lastKnownId?eT(t.lastKnownId):0)+1),r()},!1)})];case 1:return r.sent(),[2]}})},i=0===t.opsQueue.length,(r=t.opsQueue).push.apply(r,(0,ei.Z)(e)),!1===i)return[2];o=ex((t.lastKnownId?eT(t.lastKnownId):0)+1),a.label=1;case 1:if(!t.opsQueue.length)return[3,3];return[5,(0,A.__values)(n())];case 2:return a.sent(),[3,1];case 3:return[2]}})})()},r.fetchValue=function(){var e=this;return(0,o.Z)(function(){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,q.Z.get("workspace/".concat(e.workspaceId,"/notes"))];case 1:return t=n.sent(),e.listenForErrors(),t.lastOpId&&(e.lastKnownId=t.lastOpId),[2,t]}})})()},n}(g.Z),eF=Object.assign(new g.Z,{workspaces:{canShareWorkspace:!0}}),eL=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return n.prototype.getElementsByIds=function(e,t){return(0,o.Z)(function(){var n,r;return(0,A.__generator)(this,function(i){switch(i.label){case 0:return n=f.Fs.ref("workspaces/".concat(e,"/whiteboard/elements")),[4,Promise.all(t.map(function(e){return n.child(e).once("value").then(function(e){return U.q9.fromDatabase(e)})}))];case 1:return r=i.sent(),[2,(0,em.W)(r.filter(function(e){return!!e}))]}})})()},n}(g.Z),eP=n(37164),eU=n(19198),eM=n(44335),ej=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).Events=eM.w,r.stateId=(0,eP.x0)(),r.isInitiated=!1,r._isDestroyed=!1,r._initPromise=r.initialize(e),r}var r=n.prototype;return r.initialize=function(e){var t=this;return(0,o.Z)(function(){var n,r,i,o,a,s,c,l,d,h,p,g,v,m,y,b,w,_,E,C;return(0,A.__generator)(this,function(A){switch(A.label){case 0:if(n=e.user,i=void 0===(r=e.attachedFiles)?[]:r,o=e.teamId,a=e.workspaceId,s=e.contextId,c=e.diagramElementId,l=e.inputClassification,d=(0,eA.Z)(e,["user","attachedFiles","teamId","workspaceId","contextId","diagramElementId","inputClassification"]),h=f.RZ.collection("auto-diagram-requests").doc(),t.requestId=h.id,!(i.length>0&&o))return[3,9];p=[],g=!0,v=!1,m=void 0,A.label=1;case 1:A.trys.push([1,6,7,8]),y=i[Symbol.iterator](),A.label=2;case 2:if(g=(b=y.next()).done)return[3,5];return w=b.value,_=(0,eP.x0)(),E=(0,eU.K)(_,o),[4,f.tO.ref(E).put(w)];case 3:A.sent(),p.push({storageId:_,type:w.type.startsWith("image/")?"image":"file",mimeType:w.type,filename:w.name}),A.label=4;case 4:return g=!0,[3,2];case 5:return[3,8];case 6:return C=A.sent(),v=!0,m=C,[3,8];case 7:try{g||null==y.return||y.return()}finally{if(v)throw m}return[7];case 8:d.attachments=p,A.label=9;case 9:return[4,h.set({id:h.id,args:d,userId:n,stateId:t.stateId,teamId:o,workspaceId:a,contextId:s,diagramElementId:c,inputClassification:l,createdAt:Date.now()})];case 10:return A.sent(),t.ref=f.RZ.collection("auto-diagram-requests").doc(h.id),t._unsub=t.ref.onSnapshot(function(e){var n=e.data();if(!n){t.emit(t.Events.DELETE,e.id);return}t.emit(t.Events.UPDATE,(0,u.Z)({id:e.id},n))}),[2]}})})()},r.initiate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(!t._initPromise)throw Error("Not initialized!");return t.isInitiated=!0,[4,t._initPromise];case 1:return n.sent(),[2,q.Z.post("ai/diagram",(0,u.Z)({requestId:t.requestId},e))]}})})()},r.handleGetDiagramType=function(){var e=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(t){switch(t.label){case 0:if(!e.requestId)throw Error("RequestId is undefined");return[4,e._initPromise];case 1:return t.sent(),[2,q.Z.post("ai/getDiagramType",{requestId:e.requestId})]}})})()},r.initiateImageToDiagram=function(){var e=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(t){switch(t.label){case 0:if(!e._initPromise)throw Error("Not initialized!");return[4,e._initPromise];case 1:return t.sent(),[2,q.Z.post("ai/imageToDiagram",{requestId:e.requestId})]}})})()},r.updateDiagramCode=function(e){var t,n=this;return f.RZ.runTransaction((t=(0,o.Z)(function(t){var r,i,o,a,s;return(0,A.__generator)(this,function(l){switch(l.label){case 0:if(!n.ref)throw Error("Not initialized!");return[4,t.get(n.ref)];case 1:if(!(o=(i=l.sent()).exists?i.data():void 0))throw Error("Document does not exist!");return s={diagrams:null===(r=o.diagrams)||void 0===r?void 0:r.map(function(t,n){return(0,c.Z)((0,u.Z)({},t),{code:null!==(a=e[n])&&void 0!==a?a:t.code})})},t.update(n.ref,s),[2]}})}),function(e){return t.apply(this,arguments)}))},r.clean=function(){var e;this._isDestroyed||(null===(e=this._unsub)||void 0===e||e.call(this),this._isDestroyed=!0,this.isInitiated=!1)},n}(g.Z),eZ=n(14885),eQ=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,"auto-diagram-requests")}return n}(eZ.g),eH=n(11389),eV=n(34067),eK=n(40052),eG=n(53788),ez=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,"ai-context",{allowNotFound:!0,storeTeamSubscription:!0})}var r=n.prototype;return r.fetchByTeam=function(e){return Promise.all([(0,eH.Z)((0,eV.Z)(n.prototype),"fetchByTeam",this).call(this,e),(0,eK.q)({teamId:e})]).then(function(e){var t=(0,er.Z)(e,2),n=t[0],r=t[1];return(0,ei.Z)(n).concat((0,ei.Z)(r))})},r.fetchById=function(e){var t=this,r=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(i){return(0,eG.fo)(e)?[2,(0,eK.i)({contextId:e})]:[2,(0,eH.Z)((0,eV.Z)(n.prototype),"fetchById",t).call(r,e)]})})()},r.subscribeByTeam=function(e,t){var r=(0,eK.q)({teamId:e});return(0,eH.Z)((0,eV.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(e){r.then(function(n){t((0,ei.Z)(e).concat((0,ei.Z)(n)))})})},n}(eZ.g),eW=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.call(this)).monitorDao=new eZ.g("monitors",{addCreatedAt:!0,addUpdatedAt:!0}),e.gitAiRequestDao=new eZ.g("git-ai-requests",{addCreatedAt:!0,addUpdatedAt:!0}),e.monitorEventDao=new eZ.g("monitor-events",{addCreatedAt:!0,addUpdatedAt:!0}),e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.subscribeToMonitorHistory=function(e,t){return this.monitorEventDao.subscribeByParams(e,t)},r.createMonitor=function(e){return(0,o.Z)(function(){return(0,A.__generator)(this,function(t){switch(t.label){case 0:return[4,q.Z.post("eraserbot/monitors",e)];case 1:return[2,t.sent().monitorId]}})})()},r.updateMonitor=function(e,t){return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){return[2,q.Z.put("eraserbot/monitors/".concat(e),t)]})})()},r.execute=function(e){return(0,o.Z)(function(){var t,n;return(0,A.__generator)(this,function(r){switch(r.label){case 0:if(!("currentThreadId"in e&&e.currentThreadId))return[3,2];return t=e.currentThreadId,n=(0,eA.Z)(e,["currentThreadId"]),[4,q.Z.put("eraserbot/gitAiRequests/".concat(t),n)];case 1:return r.sent(),[2,{threadId:t}];case 2:if("monitorId"in e&&"prNumber"in e)return[2,q.Z.post("eraserbot/monitors/".concat(e.monitorId,"/execute"),{prNumber:e.prNumber})];return[2,q.Z.post("eraserbot/execute",e)]}})})()},r.manuallyEditThread=function(e,t){return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){return[2,q.Z.put("eraserbot/gitAiRequests/".concat(e),(0,c.Z)((0,u.Z)({},t),{inputs:(0,c.Z)((0,u.Z)({},t.inputs),{isManual:!0})}))]})})()},r.fixThread=function(e,t){return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){return[2,q.Z.put("eraserbot/gitAiRequests/".concat(e),(0,c.Z)((0,u.Z)({},t),{isFix:!0}))]})})()},r.subscribeToGitAiRequests=function(e,t){var n=e.teamId,r=e.userId,i=e.monitorId,o={};return n&&(o.teamId=n),r&&(o.createdBy=r),i&&n&&(o.monitorId=i),this.gitAiRequestDao.subscribeByParams(o,t)},r.executeMonitor=function(e){var t=e.monitorId,n=e.prNumber;return(0,o.Z)(function(){return(0,A.__generator)(this,function(e){return[2,q.Z.post("eraserbot/monitors/".concat(t,"/execute"),{prNumber:n})]})})()},r.subscribeToGitAiRequest=function(e,t){var n=e.requestId;return this.gitAiRequestDao.subscribeById(n,function(e){return t(e)})},r.fetchGitAiRequest=function(e){var t=this;return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(g.Z),eq=n(99669),eY="folders",e$=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,"folders",{parentCollection:"teams",firestoreTimestampFields:["createdAt","updatedAt"],addCreatedAt:!0,addUpdatedAt:!0,storeTeamSubscription:!0})}var r=n.prototype;return r.subscribeByTeam=function(e,t){var r=eq.J.getItem(eY);return(null==r?void 0:r.teamId)===e&&t(r.folders),(0,eH.Z)((0,eV.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(n){eq.J.setItem(eY,{teamId:e,folders:n}),t(n)})},r.fetchById=function(e,t){var r,i,o=t.teamId;return o===(null===(r=this._cachedTeamSubscription)||void 0===r?void 0:r.teamId)&&(null===(i=this._cachedTeamSubscription)||void 0===i?void 0:i.currentDocs)?Promise.resolve(this._cachedTeamSubscription.currentDocs.find(function(t){return t.id===e})):(0,eH.Z)((0,eV.Z)(n.prototype),"fetchById",this).call(this,e,{teamId:o})},r.updateFolderOrders=function(e,t,n){var r=this;return(0,o.Z)(function(){var i,o,a,s,u,c,l,d,h;return(0,A.__generator)(this,function(A){switch(A.label){case 0:i=0,o=f.RZ.batch(),a=!0,s=!1,u=void 0;try{for(c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)h=(d=l.value).order,o.set(r.getDocRef(d.id,e),{order:h,parentFolderId:n},{merge:!0}),h>i&&(i=h)}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return[4,o.commit()];case 1:return A.sent(),[2]}})})()},n}(eZ.g),eX=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return n.prototype.listOpenPrs=function(e,t){return(0,o.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,q.Z.get("gitOrganizations/".concat(e,"/repos/").concat(encodeURIComponent(t),"/prs"))];case 1:return[2,n.sent()]}})})()},n}(g.Z),eJ=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,"long-running-operations")}return n}(eZ.g),e0=n(42091),e1=function(e){var t=e.children,n=(0,i.useMemo)(function(){return{appSettings:eF,promptHistory:new y,currentUser:new G,comments:new $,folders:new e$,workspaces:new en,canvasElements:new eL,aiDiagramming:new eQ,eraserBot:new eW,aiContext:new ez,git:new eX,longRunningOperations:new eJ,makeCanvasAccessor:function(e){return new eB(e)},makeNotesAccessor:function(e){return new eR(e)},makeAiDiagramGenerationService:function(e){return new ej(e)}}},[]);return/*#__PURE__*/(0,r.jsx)(e0.$,{dataLayer:n,children:t})}},38528:function(e,t,n){"use strict";n.d(t,{D:function(){return W}});var r=n(52322),i=n(2784),o=n(42091),a=n(90731),s=Object.assign(new a.Z,{workspaces:{canShareWorkspace:!1}}),u=n(90581),c=n(21218),l=n(70865),A=n(96670),d=n(39309),f=n(37164),h=n(35120),p=n(78950),g={},v=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.createHistory=function(e,t,n){var r=(0,A.Z)((0,l.Z)({id:(0,f.x0)()},e),{history:t&&n?[{userInput:t,userId:n,timestamp:Date.now()}]:[]});return g[r.id]=r,Promise.resolve(r)},r.getHistoryById=function(e){return Promise.resolve(g[e])},r.getHistoryBySearchParams=function(e){return Promise.resolve(Object.values(g).find(function(t){return t.elementId===e.elementId}))},r.getHistoryDataStream=function(e){return p.h.makeStreamFactory(function(e){return(0,h.of)(g[e])})(e)},r.addEntry=function(e,t,n){return g[e].history.push({userInput:t,userId:n,timestamp:Date.now()}),Promise.resolve()},r.removeLastEntry=function(e){return g[e].history.pop(),Promise.resolve()},n}(a.Z),m=n(28055),y=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.apply(this,arguments),e.Events=m.S,e.user={id:"auth-user-id",color:"#00a9e5",displayName:"Lorem Ipsum",isAnonymous:!1},e.updateCurrentUserEmail=function(t){if(!e.user)throw Error("No user signed in");return e.user.email=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.updateCurrentUserDisplayName=function(t){if(!e.user)throw Error("No user signed in");return e.user.displayName=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.updateCurrentUserPhotoUrl=function(t){if(!e.user)throw Error("No user signed in");return e.user.photoURL=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.resetProviderEmail=function(){if(!e.user)throw Error("No user signed in");return e.user.email=void 0,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e}var r=n.prototype;return r.setDisplayNameForCurrentSession=function(e){this.user&&(this.user.displayName=e,this.emit(this.Events.AuthUserChanged,this.user),this.emit(this.Events.UserChanged,this.user))},r.getAuthUser=function(){return this.user},r.getCurrentUser=function(){return this.user},r.getCoachMarksDataStream=function(){return p.h.makeStreamFactory(function(){return(0,h.of)({})})(null)},r.getActivationsDataStream=function(){return p.h.makeStreamFactory(function(){return(0,h.of)({})})(null)},r.markActivation=function(){return Promise.resolve()},r.markCoachmark=function(){return Promise.resolve()},n}(a.Z),b={},w={},_=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.getThreadDataStream=function(e){return p.h.makeStreamFactory(function(){return(0,h.of)(b[e])})(e)},r.getCommentsDataStream=function(e){return p.h.makeStreamFactory(function(){return(0,h.of)(w[e])})(e)},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId,i={id:(0,f.x0)(),workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1};return b[i.id]=i,Promise.resolve(i)},r.getThreadById=function(e){return Promise.resolve(b[e])},r.addCommentToThread=function(e,t){var n={id:(0,f.x0)(),authorMemberId:t.authorMemberId,text:t.text,createdAt:Date.now()};return w[e]||(w[e]=[]),w[e].push(n),Promise.resolve()},r.setThreadResolvedState=function(e,t){var n=b[e];if(!n)throw Error("Thread not found");return n.isResolved=t,Promise.resolve()},r.setThreadAsReadByCurrentUser=function(e,t){var n=b[e];if(!n)throw Error("Thread not found");var r=new y().getCurrentUser();return r&&(n.readByMemberIds||(n.readByMemberIds=[]),n.readByMemberIds.push(r.id)),Promise.resolve()},r.editComment=function(e,t,n){var r=w[e];if(!r)throw Error("Thread not found");var i=r.findIndex(function(e){return e.id===t});if(-1===i)throw Error("Comment not found");return r[i].text=n,r[i].updatedAt=Date.now(),Promise.resolve()},n}(a.Z),E=n(27805),C=n(50930),B=n(97847),I=n(99950),x=n(8042),T=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).Events=I.v,r.excalidrawApi=e.excalidrawApi,r.workspaceId=e.workspaceId,setTimeout(function(){r.excalidrawApi.updateScene({elements:r.elements}),r.emit(r.Events.READY)},100),r}var r=n.prototype;return r.saveElements=function(e,t,n){var r=t.addedElements,i=t.changedElements,o=t.deletedElements,a=this.elements.reduce(function(e,t){return e.set(t.id,t),e},new Map),s=(0,B.y7)(e),u=s.syncableElements,c=s.zIndexMap,l=n?u:(0,C.Z)(r).concat((0,C.Z)(i));l.forEach(function(e){a.set(e.id,e),e.zIndex=c[e.id]}),o.forEach(function(e){a.delete(e.id)}),this.elements=Array.from(a.values()),this.excalidrawApi.updateScene({elements:this.elements}),l.length>0&&!n&&this.emit(this.Events.CHANGE)},r.saveSelection=function(){},r.savePointer=function(e){},r.dispose=function(){},(0,E.Z)(n,[{key:"elements",get:function(){return x.E.canvasElementsByWorkspaceId[this.workspaceId]||[]},set:function(e){x.E.canvasElementsByWorkspaceId[this.workspaceId]=e}}]),n}(a.Z),S=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.Z)(this,n),(e=t.call(this))._opts=r,e.data={},e.data={},e._opts=r,e}var r=n.prototype;return r.create=function(e){var t,n=null!==(t=e.id)&&void 0!==t?t:(0,f.x0)(),r=(0,A.Z)((0,l.Z)({},e),{id:n});return this._opts.addCreatedAt&&(r.createdAt=Date.now()),this._opts.addUpdatedAt&&(r.updatedAt=Date.now()),this.data[n]=r,Promise.resolve(n)},r.fetchById=function(e){return Promise.resolve(this.data[e])},r.updateById=function(e,t){var n=(0,l.Z)({},this.data[e]||{},t);return this._opts.addUpdatedAt&&(n.updatedAt=Date.now()),this.data[e]=n,Promise.resolve()},r.deleteById=function(e){return delete this.data[e],Promise.resolve()},r.subscribe=function(e){return e(Object.values(this.data)),function(){}},r.subscribeById=function(e,t){return t(this.data[e]),function(){}},r.subscribeByTeam=function(e,t){return t(Object.values(this.data)),function(){}},r.subscribeByParams=function(e,t){return t(Object.values(this.data)),function(){}},r.fetchByTeam=function(e){return Promise.resolve(Object.values(this.data))},n}(a.Z),k=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}return n.prototype.updateFolderOrders=function(e,t,n){return Promise.resolve()},n}(S),N=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.apply(this,arguments),e.getWorkspaceTeamInfo=function(){return Promise.resolve(void 0)},e.getWorkspaceLiveUserIds=function(){return Promise.resolve([])},e.isWorkspaceMember=function(){return Promise.resolve(!0)},e.markWorkspaceAsVisited=function(){return Promise.resolve()},e.validateAccess=function(){return Promise.resolve({read:!0,write:!0})},e}var r=n.prototype;return r.getWorkspaceDataStream=function(e){var t;return p.h.makeStreamFactory(function(e){var n=e.workspaceId;return(0,h.of)(null!==(t=x.E.workspaceById[n])&&void 0!==t?t:null)})(e)},r.getIsWorkspaceMemberDataStream=function(e){return p.h.makeStreamFactory(function(){return(0,h.of)(!0)})(e)},n}(a.Z),D=n(48223),O=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.apply(this,arguments),e.Events=D.C,e.isConnected=!0,e}var r=n.prototype;return r.initialize=function(){},r.fetchValue=function(){return Promise.resolve({children:[],lastOpId:void 0,timestamp:Date.now()})},r.sendOps=function(e){return Promise.resolve()},r.hasPendingOps=function(){return!1},r.destroy=function(){},n}(a.Z),R=n(98788),F=n(22970),L=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return n.prototype.getElementsByIds=function(e,t){return(0,R.Z)(function(){return(0,F.__generator)(this,function(n){return[2,Promise.resolve((x.E.canvasElementsByWorkspaceId[e]||[]).filter(function(e){return t.includes(e.id)}))]})})()},n}(a.Z),P=n(44335),U=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).params=e,r.Events=P.w,r.requestId=(0,f.x0)(),r.stateId=(0,f.x0)(),r}var r=n.prototype;return r.initiate=function(){var e=this,t=x.E.aiDiagramGenerator(this.params),n={id:this.requestId,createdAt:Date.now(),diagrams:[t],args:{}};return setTimeout(function(){e.emit(e.Events.UPDATE,(0,A.Z)((0,l.Z)({},n),{phase:"generate"}))},100),setTimeout(function(){e.emit(e.Events.UPDATE,(0,A.Z)((0,l.Z)({},n),{phase:"complete"}))},200),Promise.resolve({requestId:this.requestId})},r.initiateImageToDiagram=function(){return Promise.resolve({requestId:this.requestId,code:"",diagramType:null})},r.updateDiagramCode=function(){return Promise.resolve()},r.clean=function(){},n}(a.Z),M=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return n}(S),j=n(40052),Z=n(53788),Q=n(70621),H=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.fetchById=function(e){return(0,R.Z)(function(){return(0,F.__generator)(this,function(t){if((0,Z.fo)(e))return[2,(0,j.i)({contextId:e})];throw new Q.dR("AI Context not found")})})()},r.subsribeByTeamId=function(e,t){return(0,j.q)({teamId:e}).then(t),function(){}},n}(S),V=n(98537),K=/*#__PURE__*/n.n(V),G=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.call(this)).monitorDao=new S,e.gitAiRequestDao=new S,e.monitorEventDao=new S,e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.subscribeToMonitorHistory=function(e,t){var n=e.monitorId,r=e.teamId;return this.monitorEventDao.subscribeByParams({monitorId:n,teamId:r},t)},r.createMonitor=function(e){var t=this;return(0,R.Z)(function(){return(0,F.__generator)(this,function(n){return[2,t.monitorDao.create((0,A.Z)((0,l.Z)({},e),{createdBy:"auth-user-id",updatedBy:"auth-user-id",enabled:!0}))]})})()},r.updateMonitor=function(e,t){var n=this;return(0,R.Z)(function(){var r;return(0,F.__generator)(this,function(i){switch(i.label){case 0:return[4,n.monitorDao.fetchById(e)];case 1:if(!(r=i.sent()))throw Error("Monitor not found");if("enabled"in t)return[2,n.monitorDao.updateById(e,{enabled:t.enabled})];return[2,n.monitorDao.updateById(e,(0,A.Z)((0,l.Z)({},t),{config:K()(r.config,t.config)}))]}})})()},r.execute=function(){return(0,R.Z)(function(){return(0,F.__generator)(this,function(e){return[2,{threadId:"123"}]})})()},r.manuallyEditThread=function(){return(0,R.Z)(function(){return(0,F.__generator)(this,function(e){return[2,{done:!0}]})})()},r.fixThread=function(){return(0,R.Z)(function(){return(0,F.__generator)(this,function(e){return[2,{done:!0}]})})()},r.subscribeToGitAiRequests=function(e,t){return this.gitAiRequestDao.subscribeByParams({createdBy:e.userId},t)},r.subscribeToGitAiRequest=function(e,t){var n=e.requestId;return this.gitAiRequestDao.subscribeById(n,t)},r.fetchGitAiRequest=function(e){var t=this;return(0,R.Z)(function(){return(0,F.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(a.Z),z=/*#__PURE__*/function(e){(0,c.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return n.prototype.listOpenPrs=function(e,t){return(0,R.Z)(function(){return(0,F.__generator)(this,function(e){return[2,[]]})})()},n}(a.Z),W=function(e){var t=e.children,n=(0,i.useMemo)(function(){return{appSettings:s,promptHistory:new v,currentUser:new y,comments:new _,folders:new k,workspaces:new N,canvasElements:new L,aiDiagramming:new M,aiContext:new H,eraserBot:new G,git:new z,longRunningOperations:new S,makeCanvasAccessor:function(e){return new T(e)},makeNotesAccessor:function(){return new O},makeAiDiagramGenerationService:function(e){return new U(e)}}},[]);return/*#__PURE__*/(0,r.jsx)(o.$,{dataLayer:n,children:t})}},42091:function(e,t,n){"use strict";n.d(t,{$:function(){return s},i:function(){return a}});var r=n(52322),i=n(2784),o=n(45403),a=/*#__PURE__*/(0,i.createContext)({}),s=function(e){var t=e.children,n=e.dataLayer;return(0,i.useEffect)(function(){(0,o.tu)(n)},[n]),/*#__PURE__*/(0,r.jsx)(a.Provider,{value:n,children:t})}},56380:function(e,t,n){"use strict";n.d(t,{qz:function(){return c}});var r=n(87394),i=n(52322),o=n(19275),a=n(2784),s={setModalStates:function(){},modalStates:{isCommandKModalOpen:!1,isFileSearchModalOpen:!1}},u=/*#__PURE__*/(0,a.createContext)(s),c=function(){return(0,a.useContext)(u)};t.ZP=function(e){var t=e.children,n=(0,r.Z)((0,o.R)(s.modalStates),2),a=n[0],c=n[1];return/*#__PURE__*/(0,i.jsx)(u.Provider,{value:{modalStates:a,setModalStates:c},children:t})}},23630:function(e,t,n){"use strict";n.d(t,{Yl:function(){return f},eX:function(){return u}});var r=n(52322),i=n(2784),o=n(45455),a=/*#__PURE__*/n.n(o),s=n(5632),u="dashboard-coachmark",c=["element","elements","openDiagramSidebar","layout","action","origin","name","embed","templateId","presetId","elementData","autoDiagramId","gitAiThreadId",u,"theme","ref","state","settings","showPromoCodeOption","aiOutline"],l=function(){var e=(0,s.useRouter)();return(0,i.useMemo)(function(){if(!e.isReady)return{};var t={};return c.forEach(function(n){var r=e.query[n];Array.isArray(r)&&(r=r[0]),r&&(t[n]=r)}),t},[e.isReady,e.query])},A=["theme"],d=/*#__PURE__*/(0,i.createContext)({}),f=function(e){var t=e.children,n=l(),o=(0,i.useMemo)(function(){return n},[n]);return(0,i.useEffect)(function(){a()(n)||function(e){var t=new URL(location.origin+location.pathname),n=!0,r=!1,i=void 0;try{for(var o,a=A[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&t.searchParams.set(s,e[s])}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}window.history.replaceState(null,"",t.toString())}(n)},[n]),/*#__PURE__*/(0,r.jsx)(d.Provider,{value:o,children:t})};t.ZP=d},41406:function(e,t,n){"use strict";n.d(t,{N:function(){return O},Z:function(){return R}});var r=n(98788),i=n(47842),o=n(70865),a=n(96670),s=n(87394),u=n(22970),c=n(52322),l=n(5632),A=n(20810),d=n(39739),f=n(2784),h=n(47864),p=n(35120),g=n(12335),v=n(4264),m=n(26932),y=n(1118),b=n(77984),w=n(21746),_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,f.useState)(e),n=t[0],r=t[1];return[n,{on:(0,f.useCallback)(function(){r(!0)},[]),off:(0,f.useCallback)(function(){r(!1)},[]),toggle:(0,f.useCallback)(function(){r(function(e){return!e})},[])}]},E=n(11269),C=n(96933),B=n(42541),I=n(66140),x=n(66842),T=n(18698),S=n(89960),k=(0,w.kr)(void 0),N={restrictSearchableAttributes:["title","noteText","whiteboardTexts","ownerName"]},D=function(){var e=(0,T.ZP)(),t=(0,f.useState)(),i=t[0],o=t[1];return(0,f.useEffect)(function(){(0,r.Z)(function(){return(0,u.__generator)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return[4,Promise.resolve().then(n.t.bind(n,43931,23))];case 1:o((0,t.sent().default)(I.O9.appId,e).initIndex(I.O9.workspacesIndex)),t.label=2;case 2:return[2]}})})()},[e]),i},O=function(e){var t=e.children,n=(0,E.LP)(),r=D(),u=(0,s.Z)(_(!1),2),w=u[0],I=u[1],T=I.on,O=I.off,R=(0,f.useState)({}),F=R[0],L=R[1],P=(0,l.useRouter)(),U=(0,C.II)(),M=(0,f.useState)(!1),j=M[0],Z=M[1],Q=(0,f.useState)([]),H=Q[0],V=Q[1],K=(0,f.useState)(""),G=K[0],z=K[1],W=(0,f.useCallback)(function(){G.length&&P.query[x.KU]!==G&&P.replace({query:(0,a.Z)((0,o.Z)({},P.query),(0,i.Z)({},x.KU,G))},void 0,{shallow:!0})},[G,P]),q=(0,f.useMemo)(function(){if(!n)return"";var e="teamId:".concat(n);return e+=" AND isWorkspaceArchived:".concat((null==F?void 0:F.isArchived)?"true":"false"),void 0!==F.folderId&&(F.folderId?e+=" AND folderId:".concat(F.folderId):e+=" AND folderId:UNSORTED"),F.isOwner&&U&&(e+=" AND ownerId:".concat(U)),F.isPrivate&&U&&(e+=" AND isPrivate:true"),e},[n,F.folderId,null==F?void 0:F.isArchived,F.isOwner,F.isPrivate,U]),Y=(0,A.m)(function(e){return e.pipe((0,g.w)(function(e){var t=(0,s.Z)(e,3),n=t[0],r=t[1],i=t[2];return n&&""!==r?(B.Z.trackEvent("search","search",{query:r}),(0,h.H)(300).pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,m.yG)(e);return(0,y.e)(function(t,r){(n?(0,v.z)(e,t,n):(0,v.z)(e,t)).subscribe(r)})}(function(){return{isLoading:!0,hits:[]}}),(0,g.w)(function(){return n.search(r,(0,o.Z)({filters:i},N))}),(0,b.U)(function(e){return{isLoading:!1,hits:e.hits}}))):(0,p.of)({isLoading:!0,hits:[]})}))},[r,G,q]);(0,d.m)(Y,(0,f.useCallback)(function(e){var t=e.isLoading,n=e.hits;Z(t),V(n)},[]),S.T);var $=(0,f.useCallback)(function(){z(""),O(),L({})},[O]),X=(0,f.useMemo)(function(){return{hits:H,query:G,isLoading:j,onSearchBarOpen:T,onSearchBarClose:$,isSearchBarOpen:w,onInputChange:z,setPassedFilters:L,saveRouteToHistory:W}},[H,G,j,T,$,w,W]);return/*#__PURE__*/(0,c.jsx)(k.Provider,{value:X,children:t})},R=k},27804:function(e,t,n){"use strict";n.d(t,{H:function(){return d}});var r=n(70865),i=n(52322),o=n(2784),a=n(66230),s=n(57695),u=n(42541),c=n(98627),l=n(41721),A={userUpdateService:a.H,analyticsService:u.Z,featureAccessService:c.j},d=function(e){var t=e.children,a=(0,o.useState)(l.W),u=a[0],c=a[1];(0,o.useEffect)(function(){Promise.all([n.e(4526),n.e(4581)]).then(n.bind(n,82957)).then(function(e){c(e.value)})},[]);var d=(0,o.useMemo)(function(){return(0,r.Z)({},A,u)},[u]);return/*#__PURE__*/(0,i.jsx)(s.Hk.Provider,{value:d,children:t})}},41721:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(98788),i=n(22970),o=n(90581),a=/*#__PURE__*/function(){function e(){var t,n,a,s;(0,o.Z)(this,e),this.uploadCustomIcon=(t=(0,r.Z)(function(e){return(0,i.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e){return t.apply(this,arguments)}),this.updateIconName=(n=(0,r.Z)(function(e,t){return(0,i.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e,t){return n.apply(this,arguments)}),this.updateIconFile=(a=(0,r.Z)(function(e,t){return(0,i.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e,t){return a.apply(this,arguments)}),this.deleteIcon=(s=(0,r.Z)(function(e){return(0,i.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e){return s.apply(this,arguments)}),this.sanitizeSVG=function(e){return e}}return e.prototype.subscribeByTeam=function(e,t){return t([]),function(){}},e}();function s(){return function(){}}var u={canvasLinkService:{createCanvasLinkFromCanvasElements:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,"example-link"]})}),getWorkspaceTitle:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,"example-title"]})}),getWorkspaceDocumentHeaderText:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,"example-header"]})}),getCanvasLinkIdFromElementIds:function(){return"example-id"},fetchCanvasLinkById:function(){return Promise.resolve(void 0)}},whiteboardElementService:{validateAccess:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,{read:!0,write:!0}]})}),fetchByIds:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,[]]})}),fetchLocalElements:function(){return[]},fetchAllElementsForWorkspace:/*#__PURE__*/(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2,[]]})}),subscribeToAdd:s,subscribeToChange:s,subscribeToDelete:s,subscribeIfAccess:s},customIconsService:new a}},57695:function(e,t,n){"use strict";n.d(t,{Hk:function(){return m},Su:function(){return y}});var r,i,o,a=n(90581),s=n(70865),u=n(2784),c=n(98788),l=n(22970),A=n(70599),d=n(96387),f={teams:{fetchById:(r=(0,c.Z)(function(e){return(0,l.__generator)(this,function(t){return[2,{id:e,name:"Eraser Labs",ownerId:"villa-incognito",plan:{planType:A.k9.Pro}}]})}),function(e){return r.apply(this,arguments)}),subscribeById:function(e,t){return t({id:e,name:"Eraser Labs",ownerId:"villa-incognito",plan:{planType:A.k9.Pro}}),function(){}}},workspaces:{count:/*#__PURE__*/(0,c.Z)(function(){return(0,l.__generator)(this,function(e){return[2,1]})}),subscribeToCount:function(e,t,n){return n(1),function(){}}},customIcons:{count:/*#__PURE__*/(0,c.Z)(function(){return(0,l.__generator)(this,function(e){return[2,1]})}),subscribeToCount:function(e,t,n){return n(1),function(){}}},aggregateTeamUsage:{fetchByTeamAndMonth:(i=(0,c.Z)(function(e){return(0,l.__generator)(this,function(t){return[2,{id:"".concat(e.teamId,"-").concat(e.month),teamId:e.teamId,month:null!==(o=e.month)&&void 0!==o?o:(0,d.Cl)(),totalSpendInCents:0,actions:{teamWide:{},perUser:{}},updatedAt:Date.now()}]})}),function(e){return i.apply(this,arguments)}),subscribeByTeamAndMonth:function(e,t){var n=e.teamId,r=e.month,i=void 0===r?(0,d.Cl)():r;return t({id:"".concat(n,"-").concat(i),teamId:n,month:i,totalSpendInCents:0,actions:{teamWide:{},perUser:{}},updatedAt:Date.now()}),function(){}}}},h=n(41721),p=n(17726);function g(){return Promise.resolve(void 0)}var v={userUpdateService:{updateUserProfile:g,updateUserSettings:g,updateUserKnownPerson:g,createOrUpdateUserProfile:g,updateUserSurvey:g},analyticsService:new/*#__PURE__*/(function(){function e(){(0,a.Z)(this,e),this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.trackEvent=function(){},t.registerIntegration=function(){},t._addToCache=function(){},t.identify=function(){},t.updateSessionProperties=function(){},t.dispose=function(){},e}()),featureAccessService:new p.Z(f)},m=/*#__PURE__*/(0,u.createContext)((0,s.Z)({},v,h.W)),y=function(){return(0,u.useContext)(m)}},38423:function(e,t,n){"use strict";n.d(t,{f:function(){return Q},A:function(){return Z}});var r,i=n(98788),o=n(87394),a=n(22970),s=n(52322),u=n(2784),c=n(18149),l=/*#__PURE__*/n.n(c),A=n(5632),d=n(20810),f=n(39739),h=n(19184),p=n(77984),g=n(99054),v=n(39369),m=n(12335),y=n(62355),b=n(1118),w=n(67394),_=n(51058),E=n(96933),C=n(57398),B=n(85341),I=n(42389),x=n(10186),T=n(24618),S=n(71059),k=n(20097),N=n(99669),D=n(89960),O=n(45594),R=n(405),F=n(45262),L=n(42541),P=n(60379),U=n(67640),M=(r=(0,i.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(i){switch(i.label){case 0:if(!(t=(0,P.yh)()))return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,U.Z.post("workspace/transfer",{token:t,teamId:e})];case 2:return n=i.sent(),L.Z.trackEvent("workspace","transfer",{count:n}),(0,F.f)(),(0,P.wR)(),[3,4];case 3:return r=i.sent(),(0,D.T)(r),[3,4];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),j="team-id";function Z(){N.J.removeItem(j)}var Q=function(e){var t,n,r=e.children,c=(0,E.II)(),L=(0,A.useRouter)(),P=(0,E.g5)(),U=(0,u.useState)((0,O.rj)()),Q=U[0],H=U[1],V=(0,u.useState)(),K=V[0],G=V[1],z=(0,u.useState)(),W=z[0],q=z[1],Y=(0,u.useState)(function(){return N.J.getItem(j)||void 0}),$=Y[0],X=Y[1],J=(0,u.useState)(new Map),ee=J[0],et=J[1];(0,u.useEffect)(function(){var e,t=function(e){var t=(0,O.rj)(e);t&&H(t)};return null===(e=L.events)||void 0===e||e.on("routeChangeStart",t),function(){var e;null===(e=L.events)||void 0===e||e.off("routeChangeStart",t)}},[L.events]);var en=(0,u.useCallback)(function(e){l()(W,e)||q(e)},[W]),er=(0,u.useCallback)(function(e,t){N.J.setItem(j,e),X(e),(null==t?void 0:t.shouldResetFolder)&&L.replace("/all")},[L]),ei=(0,d.m)(function(e){return e.pipe((0,p.U)(function(e){var t=(0,o.Z)(e,2),n=t[0];return t[1]?null:n}),(0,g.h)(function(e){return null!=e}),(0,v.x)(),(0,m.w)(function(e){return(0,C.Z)(e)}))},[$,P]),eo=(0,d.m)(function(e){return e.pipe((0,p.U)(function(e){var t=(0,o.Z)(e,2),n=t[0];return t[1]?null:n}),(0,g.h)(function(e){return null!=e}),(0,v.x)(),(0,m.w)(function(e){return(0,I.BS)(x.Z.userTeams(e),"id").pipe((0,T.pA)([]),(0,T.VK)(),(0,T.Fb)([]))}))},[c,P]),ea=(0,d.m)(function(){return eo.pipe((0,y.z)(function(e){return(0,h.D)(e)}),(0,y.z)(function(e){return(0,C.Z)(e.id)}),function(e,t){var n;return(0,b.e)((n=arguments.length>=2,function(r,i){var o=n,a=t,s=0;r.subscribe((0,w.x)(i,function(t){var n=s++;a=o?e(a,t,n):(o=!0,t),i.next(a)},void 0))}))}(function(e,t){var n=new Map(e);return t&&n.set(t.id,t),n},new Map))}),es=(0,d.m)(function(e){return e.pipe((0,p.U)(function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return n?null:r}),(0,g.h)(function(e){return null!=N.J.getItem(F.B)&&null!=e}),(0,v.x)(),(0,_.P)(),(0,m.w)(M))},[P,$]);(0,f.m)(ei,en,D.T),(0,f.m)(eo,G,D.T),(0,f.m)(ea,et,D.T),(0,f.m)(es,void 0,D.T);var eu=(0,u.useCallback)(function(){Z(),X(void 0),q(void 0)},[]);(0,S.Z)(function(){var e=null!=K,t=!(null==K?void 0:K.length),n=$&&e&&void 0===K.find(function(e){return e.id===$});if($&&e&&n){eu();return}$||t||K.some(function(e){if(e.role===k.i.Admin)return er(e.id),!0})||er(K[0].id)},[K,$,eu,er]);var ec=(0,u.useMemo)(function(){return new Set(null==K?void 0:K.map(function(e){return e.id}))},[K]),el=(0,u.useMemo)(function(){return new Set(Array.from(null!==(n=null==ee?void 0:ee.values())&&void 0!==n?n:[]).map(function(e){return null==e?void 0:e.name}).filter(function(e){return!!e}))},[ee]),eA=(0,u.useCallback)((t=(0,i.Z)(function(e,t){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:if(t.name){if(n=t.name,W&&n===W.name);else if(el.has(n))throw new R.c("That team name is already in use.")}return[4,(0,B.Z)(e,t)];case 1:return[2,r.sent()]}})}),function(e,n){return t.apply(this,arguments)}),[el,W]);return/*#__PURE__*/(0,s.jsx)(R.G.Provider,{value:{userTeams:K,resetTeam:eu,updateTeam:eA,switchTeam:er,userTeamIds:ec,currentTeam:W,currentTeamId:$,currentTeamPlan:null==W?void 0:W.plan,lastVisitedWorkspaceId:Q,userTeamsById:ee},children:r})}},405:function(e,t,n){"use strict";n.d(t,{G:function(){return s},c:function(){return u}});var r=n(90581),i=n(21218),o=n(20624),a=n(39309),s=(0,n(21746).kr)(void 0),u=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return n}((0,o.Z)(Error))},44371:function(e,t,n){"use strict";n.d(t,{Hq:function(){return v},ZP:function(){return m},a1:function(){return h}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(62202),u=n(98156),c=/*#__PURE__*/n.n(u),l=function(e){var t=e.message;return t?/*#__PURE__*/(0,o.jsx)("div",{className:c().container,"data-testid":"toast",children:/*#__PURE__*/(0,o.jsx)("span",{children:t})}):null},A=function(e){return null===e?null:function(t){if("function"==typeof e){var n=e(t);return/*#__PURE__*/(0,o.jsx)(l,(0,i.Z)((0,r.Z)({},t),{message:n}))}return/*#__PURE__*/(0,o.jsx)(l,(0,i.Z)((0,r.Z)({},t),{message:e}))}},d=function(e){return function(t,n){var i;if("custom"===e)i=s.ZP[e](t,(0,r.Z)({},n));else if("blank"===e)i=(0,s.ZP)(A(t),(0,r.Z)({},n));else{var o=A(t);i=o?s.ZP[e](o,(0,r.Z)({},n)):""}return i}},f=function(e,t){return"function"==typeof e?e(t):e},h=function(e,t){return d("blank")(e,t)};h.error=d("error"),h.custom=d("custom"),h.success=d("success"),h.loading=d("loading"),h.remove=s.ZP.remove,h.dismiss=s.ZP.dismiss,h.promise=function(e,t,n){var i=h.loading(t.loading,(0,r.Z)({},n,null==n?void 0:n.loading));return e.then(function(e){return h.success(f(t.success,e),(0,r.Z)({id:i},n,null==n?void 0:n.success)),e}).catch(function(e){h.error(f(t.error,e),(0,r.Z)({id:i},n,null==n?void 0:n.error))}),e};var p={className:c().blank,error:{className:c().error},loading:{className:c().loading},success:{className:c().success}},g=/*#__PURE__*/(0,a.createContext)(h),v=function(e){var t=e.children;return/*#__PURE__*/(0,o.jsxs)(g.Provider,{value:h,children:[t,/*#__PURE__*/(0,o.jsx)(s.x7,{"data-testid":"toaster",position:"bottom-left",reverseOrder:!1,toastOptions:p})]})},m=g},43653:function(e,t,n){"use strict";n.d(t,{S:function(){return o},_:function(){return i}});var r=n(21746),i=(0,r.kr)(void 0),o=(0,r.kr)(void 0)},38947:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r=(0,n(21746).kr)({getWorkspace:function(){return Promise.resolve(void 0)}})},51105:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var l=function(e){return /*#__PURE__*/u.createElement("svg",c({width:11,height:11,viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.2 9.748V0h.733v9.748l1.574-1.574.519.519-2.2 2.2a.367.367 0 01-.519 0l-2.2-2.2.519-.519L2.2 9.748zM11 2.933H6.6V2.2H11v.733zM9.533 5.867H6.6v-.734h2.933v.734zM8.067 8.8H6.6v-.733h1.467V8.8z",fill:"currentColor"})))},A=n(88404),d=n(3635),f=n(75594),h=/*#__PURE__*/n.n(f);function p(e){var t=e.column,n=e.children,r=e.orderBy,i=e.orderDir,o=e.updateOrder,a=t.id,u=t.flex,c=t.orderKey,f=t.headerClassName,p=r&&c===r;return/*#__PURE__*/(0,s.jsx)("div",{className:(0,d.Z)(h().item,f),style:{flex:null!=u?u:1},children:/*#__PURE__*/(0,s.jsxs)("div",{onClick:function(){c&&o(c)},className:(0,d.Z)(h().headItem,p&&h().headItemActive,!!(c&&r)&&h().headItemSortable),"data-testid":"table-header-".concat(a),children:[/*#__PURE__*/(0,s.jsx)(A.J,{icon:l,style:{display:p?"flex":"none",transform:"asc"===i?"rotate(180deg)":void 0},"data-testid":"table-header-".concat(a,"-icon-").concat(i)}),n]})})}var g=n(17371),v=/*#__PURE__*/n.n(g),m=function(e){var t=e.className,n=e.columns,r=e.hideBorder,u=(0,a.Z)(e,["className","columns","hideBorder"]);return/*#__PURE__*/(0,s.jsx)("div",{className:(0,d.Z)(v().tableHeader,r&&v().noBorder,t),children:Object.values(n).map(function(e){return/*#__PURE__*/(0,s.jsx)(p,(0,o.Z)((0,i.Z)({column:e},u),{children:e.title}),e.id)})})}},69071:function(e,t,n){"use strict";n.d(t,{f:function(){return c}});var r=n(70865),i=n(96670),o=n(50930),a=n(2784),s=n(11929),u=n(27196);function c(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startLoading,n=(0,a.useState)({result:void 0,loading:null!=t&&t,error:null}),i=n[0],s=n[1],u=(0,a.useRef)(e);u.current=e;var c=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s({result:void 0,loading:!0,error:null}),u.current.apply(u,(0,o.Z)(t)).then(function(e){s({result:e,loading:!1,error:null})}).catch(function(e){s({result:void 0,loading:!1,error:e})})},[]);return(0,r.Z)({execute:c},i)}t.Z=function(e,t){var n=(0,s.UK)(e,t);return(0,i.Z)((0,r.Z)({},n),{execute:(0,u.W6)(n.execute),set:(0,u.W6)(n.set),merge:(0,u.W6)(n.merge),reset:(0,u.W6)(n.reset)})}},95114:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){var t=(0,r.useRef)();return void 0===t.current&&(t.current=e()),t.current}},95634:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(function(){var t=function(t){"Escape"===t.key&&(null==e||e(t))};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}},[e])}},19275:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(70865),i=n(2784),o=function(e){var t=(0,i.useState)(e),n=t[0],o=t[1];return[n,(0,i.useCallback)(function(e){return o(function(t){return(0,r.Z)({},t,e)})},[]),o]}},91979:function(e,t,n){"use strict";n.d(t,{j:function(){return f}});var r,i,o,a=n(98788),s=n(22970),u=n(10732),c=n(67078),l=n(88995).Z,A=n(10186),d=n(24618),f={addRepository:(r=(0,a.Z)(function(e,t,n){var r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return[4,A.Z.teamGitHubRepositories(e,t).where("name","==",n.name).get()];case 1:if((r=i.sent()).docs.length>0)return[2,r.docs[0].id];return[4,A.Z.teamGitHubRepositories(e,t).add(n)];case 2:return[2,i.sent().id]}})}),function(e,t,n){return r.apply(this,arguments)}),removeRepository:(i=(0,a.Z)(function(e,t,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,A.Z.teamGitHubRepository(e,t,n).delete()];case 1:return r.sent(),[2]}})}),function(e,t,n){return i.apply(this,arguments)}),observeRepositories:function(e,t){return(0,u.BS)(A.Z.teamGitHubRepositories(e,t),"id")},observeOrganizations:function(e){return(0,u.BS)(A.Z.teamGitHubOrganizations(e),"id")},configureOrganization:function(e){var t,n=e.type,r=e.name,i=e.installationId;return t="Organization"===n?"https://github.com/organizations/".concat(r,"/settings/installations/").concat(i):"https://github.com/settings/installations/".concat(i),window.open(t,"_blank")},updateRepository:(o=(0,a.Z)(function(e){var t,n,r,i;return(0,s.__generator)(this,function(o){switch(o.label){case 0:return t=e.teamId,n=e.organizationId,r=e.repositoryId,i=e.payload,[4,A.Z.teamGitHubRepository(t,n,r).withConverter(l).set(i,{merge:!0})];case 1:return o.sent(),[2]}})}),function(e){return o.apply(this,arguments)}),observeRepositoryWorkspaces:function(e){var t=e.organizationId,n=e.repositoryId,r=e.teamId,i=e.orderBy,o=e.orderDir,a=A.Z.workspaces.withConverter(c.BV).where("teamId","==",r).where("isArchived","==",!1).where("gitHubRepository.repositoryId","==",n).where("gitHubRepository.organizationId","==",t).orderBy(i,o);return(0,u.BS)(a)},observeRepositoryOperationStatus:function(e){return(0,u._1)(A.Z.gitHubRepositoryOperationStatus(e)).pipe((0,d.BX)())}}},33562:function(e,t,n){"use strict";n.d(t,{b1:function(){return u},lq:function(){return c}});var r=n(70865),i=n(52322),o=n(2784),a=n(61049),s=/*#__PURE__*/n.n(a),u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return/*#__PURE__*/(0,o.createElement)(t,{},e)},/*#__PURE__*/(0,i.jsx)(o.Fragment,(0,r.Z)({},e)))}};function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return function(e,t){if(null!=e){if(s()(e)){e(t);return}try{e.current=t}catch(n){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}}(t,e)})}}},11269:function(e,t,n){"use strict";n.d(t,{Ad:function(){return A},DJ:function(){return o},K:function(){return g},LP:function(){return d},MV:function(){return l},Rs:function(){return f},S5:function(){return s},T3:function(){return c},Zj:function(){return h},lh:function(){return a},mZ:function(){return u},p3:function(){return v},vn:function(){return p}});var r=n(21746),i=n(405),o=function(){return(0,r.Sz)(i.G,function(e){return e||{}})},a=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.userTeams})},s=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.lastVisitedWorkspaceId})},u=function(){return(0,r.Sz)(i.G,function(e){return e.userTeamIds})},c=function(e){return u().has(e)},l=function(){return(0,r.Sz)(i.G,function(e){return void 0!==(null==e?void 0:e.userTeams)})},A=function(){return(0,r.Sz)(i.G,function(e){var t;return!(null==(t=null==e?void 0:e.userTeams)?void 0:t.length)})},d=function(){return(0,r.Sz)(i.G,function(e){var t;return null==e?void 0:null===(t=e.currentTeam)||void 0===t?void 0:t.id})},f=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.currentTeam})},h=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.resetTeam})},p=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.currentTeamPlan})},g=function(){return(0,r.Sz)(i.G,function(e){return null==e?void 0:e.userTeamsById})},v=function(){return[f(),(0,r.Sz)(i.G,function(e){return e.switchTeam}),h()]}},14670:function(e,t,n){"use strict";n.d(t,{Sh:function(){return A},lU:function(){return l},q8:function(){return d}});var r=n(90581),i=n(2784),o=n(10097),a=n(67078),s=n(50389),u=n(52826),c=new/*#__PURE__*/(function(){function e(){(0,r.Z)(this,e)}return e.prototype.subscribeByTeamId=function(e,t){var n,r,i=this;if(e===this.currentTeamId&&this.currentSubscription)return this.currentSubscription.cbs.push(t),this.currentSubscription.members&&t(this.currentSubscription.members),function(){i.currentSubscription&&(i.currentSubscription.cbs=i.currentSubscription.cbs.filter(function(e){return e!==t}))};e!==this.currentTeamId&&(null===(n=this.currentSubscription)||void 0===n||null===(r=n.unsub)||void 0===r||r.call(n)),this.currentTeamId=e,this.currentSubscription={members:void 0,cbs:[t]};var s=o.RZ.collection("teams").doc(e).collection("members").withConverter(a.q0).onSnapshot(function(t){var n=t.docs.map(function(e){return e.data()});if(i.currentTeamId!==e){console.warn("[TeamMemberService] Team changed while subscribing to team members. We probably forgot to unsubscribe.");return}if(!i.currentSubscription){console.warn("[TeamMemberService] No subscription found while subscribing to team members.");return}i.currentSubscription.members=n,i.currentSubscription.cbs.forEach(function(e){return e(n)})});return this.currentSubscription.unsub=s,function(){i.currentSubscription&&(i.currentSubscription.cbs=i.currentSubscription.cbs.filter(function(e){return e!==t}))}},e}()),l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,i.useState)(),o=r[0],a=r[1];(0,i.useEffect)(function(){e&&c.subscribeByTeamId(e,a)},[e]);var u=n.internalOnly;return(0,i.useMemo)(function(){if(o)return o.filter(function(e){return(!t||e.id!==t)&&(!u||!!(0,s.pc)(e))})},[o,t,u])},A=function(e,t,n){var r,i=l(e,t,n);return(0,u.Kb)(null!==(r=null==i?void 0:i.map(function(e){return e.id}))&&void 0!==r?r:[],e)},d=function(e,t,n){var r=l(e,t,n);return(0,u.BV)(null==r?void 0:r.map(function(e){return e.id}))};t.ZP=l},25487:function(e,t,n){"use strict";n.d(t,{Pm:function(){return _},S3:function(){return M},VH:function(){return Q},Wu:function(){return U},Zo:function(){return P},w7:function(){return B}});var r,i=n(98788),o=n(47842),a=n(70865),s=n(96670),u=n(22970),c=n(2784),l=n(58410),A=n(52982),d=n(38423),f=n(42541),h=n(49864),p=n(60379),g=n(41217),v=n(32472),m=n(10097),y=n(89960),b=n(45403),w=["google.com","microsoft.com"];function _(e){return"string"==typeof e&&w.includes(e)}function E(e){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)(function(e){var t,n,r=arguments;return(0,u.__generator)(this,function(i){return(t=r.length>1&&void 0!==r[1]?r[1]:{},m.I8.useDeviceLanguage(),n=m.I8.currentUser?m.I8.currentUser.toJSON():null,t.asModal)?[2,m.I8.signInWithPopup(e).then(function(e){return U(e,n),e}).catch(M)]:[2,m.I8.signInWithRedirect(e).catch(M).then(function(){})]})})).apply(this,arguments)}function B(){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return(0,d.A)(),h.b.add({name:v.iL,value:"false"}),[4,m.I8.signOut()];case 1:return e.sent(),[2]}})})).apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)(function(){var e,t=arguments;return(0,u.__generator)(this,function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,E(Q("google.com"),e)]})})).apply(this,arguments)}function S(){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)(function(){var e,t=arguments;return(0,u.__generator)(this,function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,E(Q("microsoft.com"),e)]})})).apply(this,arguments)}function N(e){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(function(e){return(0,u.__generator)(this,function(t){return[2,m.ZP.auth().sendPasswordResetEmail(e)]})})).apply(this,arguments)}function O(e,t){return R.apply(this,arguments)}function R(){return(R=(0,i.Z)(function(e,t){var n,r,i=arguments;return(0,u.__generator)(this,function(o){return n=i.length>2&&void 0!==i[2]?i[2]:e,r=m.I8.currentUser?m.I8.currentUser.toJSON():null,(0,g.jj)({displayName:n}),[2,m.ZP.auth().createUserWithEmailAndPassword(e,t).then(function(e){return U(e,r,n),e}).catch(M)]})})).apply(this,arguments)}function F(e,t){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(function(e,t){return(0,u.__generator)(this,function(n){return[2,m.ZP.auth().signInWithEmailAndPassword(e,t).catch(M)]})})).apply(this,arguments)}var P=(r={},(0,o.Z)(r,"google.com","google"),(0,o.Z)(r,"microsoft.com","microsoft"),(0,o.Z)(r,"password","email"),r);function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if((null==e?void 0:e.user)&&(null==e?void 0:null===(r=e.additionalUserInfo)||void 0===r?void 0:r.isNewUser)){var r,i,o,a,s,u=null!==(o=null!==(i=null==t?void 0:t.uid)&&void 0!==i?i:(0,p.ES)())&&void 0!==o?o:"",c=h.b.getByName(v.IF),l=e.user.uid,A=e.user.email,d=null!==(a=P[e.additionalUserInfo.providerId])&&void 0!==a?a:"",g=n||e.user.displayName||"";f.Z.identify({analyticsId:c||u,id:l,email:A,displayName:g,isAnonymous:!1,emailVerified:null!==(s=e.user.emailVerified)&&void 0!==s&&s}),f.Z.trackEvent("account","create",{userId:e.user.uid,email:e.user.email,authMethod:d,oldUserId:u})}}function M(e){var t=(0,l.J5)(e),n=t.statusCode,r=t.message;throw n>=500&&(0,y.T)(e),Error(r!==e.message?r:"Error")}function j(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)(function(e,t){var n,r;return(0,u.__generator)(this,function(i){switch(i.label){case 0:if(!(n=m.ZP.auth().currentUser)||!n.email)throw Error("No user signed in");i.label=1;case 1:return i.trys.push([1,4,,5]),r=m.ZP.auth.EmailAuthProvider.credential(n.email,t),[4,n.reauthenticateWithCredential(r)];case 2:return i.sent(),[4,n.updatePassword(e)];case 3:return i.sent(),[3,5];case 4:return M(i.sent()),[3,5];case 5:return[2]}})})).apply(this,arguments)}function Q(e){if("google.com"===e){var t=new m.ZP.auth.GoogleAuthProvider;return t.setCustomParameters({prompt:"select_account"}),t}return new m.ZP.auth.OAuthProvider("microsoft.com")}t.ZP=function(){var e=(0,c.useContext)(A.Z),t=(0,b.Pe)();return(0,s.Z)((0,a.Z)({},e),{signIn:E,signOut:B,updateUserEmail:t.currentUser.updateCurrentUserEmail,signInWithGoogle:x,updateUserDisplayName:t.currentUser.updateCurrentUserDisplayName,updateUserPhotoUrl:t.currentUser.updateCurrentUserPhotoUrl,updateUserPassword:j,signInWithMicrosoft:S,sendPasswordResetEmail:N,signInWithEmailAndPassword:F,createUserWithEmailAndPassword:O,resetProviderEmail:t.currentUser.resetProviderEmail})}},34224:function(e,t,n){"use strict";var r=n(2784),i=n(2595);t.Z=function(){var e=(0,i.Z)();return(0,r.useCallback)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Copied to clipboard";navigator.clipboard.writeText(t).then(function(){return e.success(n)}).catch(function(){return e("An error has occured")})},[])}},45403:function(e,t,n){"use strict";n.d(t,{IA:function(){return l},Pe:function(){return c},tu:function(){return s},z6:function(){return u}});var r,i=n(2784),o=n(42091),a=n(11269),s=function(e){r=e},u=function(){if(!r)throw Error("DataLayer not initialized");return r},c=function(){return(0,i.useContext)(o.i)};function l(e){var t=(0,i.useState)(),n=t[0],r=t[1],o=c(),s=(0,a.LP)(),u=(0,i.useRef)(e);return(0,i.useEffect)(function(){if(!s){r(void 0);return}r(void 0);var e,t=u.current(o),n=null===(e=t.subscribeByTeam)||void 0===e?void 0:e.call(t,s,r);return function(){null==n||n()}},[s]),n}},57685:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(2784),i=n(23630),o=function(){return(0,r.useContext)(i.ZP)}},16962:function(e,t,n){"use strict";n.d(t,{Dv:function(){return a},MO:function(){return l},O6:function(){return s},Rx:function(){return o},Sr:function(){return c},nR:function(){return u}});var r=n(21746),i=n(41406),o=function(){return(0,r.Sz)(i.Z,function(e){return{onInputChange:e.onInputChange,query:e.query,saveRouteToHistory:e.saveRouteToHistory}})},a=function(){return(0,r.Sz)(i.Z,function(e){return e.query.length>0})},s=function(){return(0,r.Sz)(i.Z,function(e){return e.hits})},u=function(){return(0,r.Sz)(i.Z,function(e){return e.isLoading})},c=function(){return(0,r.Sz)(i.Z,function(e){return{setPassedFilters:e.setPassedFilters}})},l=function(){return(0,r.Sz)(i.Z,function(e){return{onSearchBarClose:e.onSearchBarClose,onSearchBarOpen:e.onSearchBarOpen,isSearchBarOpen:e.isSearchBarOpen}})}},2595:function(e,t,n){"use strict";var r=n(2784),i=n(44371);t.Z=function(){return(0,r.useContext)(i.ZP)}},96933:function(e,t,n){"use strict";n.d(t,{Fl:function(){return h},II:function(){return A},Mg:function(){return u},TF:function(){return c},TZ:function(){return p},ZE:function(){return d},aF:function(){return f},fC:function(){return l},g5:function(){return g},pC:function(){return v}});var r,i=n(21746),o=n(43653),a=n(27196),s=n(57695),u=function(e){return void 0!==e},c=function(e){return null===(r=null==e?void 0:e.isAnonymous)||void 0===r||r},l=function(){return(0,i.qp)(o._)},A=function(){return(0,i.Sz)(o._,function(e){return null==e?void 0:e.id})},d=function(){return(0,i.Sz)(o._,function(e){return null==e?void 0:e.displayName})},f=function(){return(0,i.qp)(o.S)},h=function(){var e;return null===(e=f())||void 0===e?void 0:e.userSettings},p=function(){return(0,i.Sz)(o.S,u)},g=function(){return(0,i.Sz)(o._,c)},v=function(){var e=A(),t=(0,s.Su)().userUpdateService;return(0,a.W6)(function(n){return e?t.updateUserSettings(e,n):Promise.resolve()})}},52826:function(e,t,n){"use strict";n.d(t,{ZP:function(){return B},Kb:function(){return C},Gr:function(){return w},BV:function(){return _},_K:function(){return b}});var r,i,o=n(2784),a=n(89960),s=n(23143),u=n(98788),c=n(22970),l=n(67078),A=n(10186),d=n(50930),f=n(10097),h=n(93586),p=/*#__PURE__*/n.n(h);f.ZP.database.ServerValue;var g=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t=(0,u.Z)(function(t){var r,i,o,a=arguments;return(0,c.__generator)(this,function(s){switch(s.label){case 0:for(i=Array((r=a.length)>1?r-1:0),o=1;o<r;o++)i[o-1]=a[o];if(!(t.length<=n))return[3,2];return[4,e.apply(void 0,[t].concat((0,d.Z)(i)))];case 1:return[2,s.sent()];case 2:return[4,Promise.all(p()(t,n).map(function(t){return e.apply(void 0,[t].concat((0,d.Z)(i)))}))];case 3:return[2,s.sent().flat()]}})}),function(e){return t.apply(this,arguments)}};function v(e){return A.Z.profile(e).withConverter(l.Zd).get().then(function(e){return e.data()})}var m=g((r=(0,u.Z)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:if(!e.length)return[2,[]];if(!(e.length>1))return[3,2];return[4,m(e)];case 1:return[2,n.sent()];case 2:return[4,v(e[0])];case 3:return[2,(t=n.sent())?[t]:[]];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),1),y=g((i=(0,u.Z)(function(e,t){return(0,c.__generator)(this,function(n){switch(n.label){case 0:if(!e.length)return[2,[]];return[4,A.Z.knownPeople.withConverter(l.UK).where("userId","in",e).where("teamId","==",t).get()];case 1:return[2,n.sent().docs.map(function(e){return e.data()})]}})}),function(e,t){return i.apply(this,arguments)})),b=new Map,w=function(e,t){var n,r=(0,o.useState)(e&&null!==(n=b.get(e))&&void 0!==n?n:null),i=r[0],u=r[1];return(0,o.useEffect)(function(){if(e){if(e===s.Pq){u(s.ff);return}if(t){var n;return n=function(t){b.set(e,t),u(t)},A.Z.profile(e).withConverter(l.Zd).onSnapshot(function(e){var t=e.data();t&&n(t)})}v(e).then(function(t){t&&(b.set(e,t),u(t))}).catch(function(t){(0,a.T)(Error("Failed to fetch user profile for ".concat(e),{cause:t}))})}},[e,t]),i},_=function(e){var t,n=(0,o.useState)(!1),r=n[0],i=n[1],a=null!==(t=null==e?void 0:e.filter(function(e){return!b.has(e)}))&&void 0!==t?t:[];return(0,o.useEffect)(function(){!r&&a.length&&(i(!0),m(a).then(function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;b.set(s.id,s)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}i(!1)}))},[a,r]),(0,o.useMemo)(function(){return null==e?void 0:e.map(function(e){return b.get(e)}).filter(Boolean)},[e,r])},E=new Map,C=function(e,t){var n,r=(0,o.useState)(!1),i=r[0],s=r[1],u=null!==(n=null==e?void 0:e.filter(function(e){return!E.has(e)}))&&void 0!==n?n:[];return(0,o.useEffect)(function(){!i&&u.length&&t&&(s(!0),y(u,t).then(function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,c=i.value;E.set(null!==(a=c.userId)&&void 0!==a?a:c.id,c)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var l=!0,A=!1,d=void 0;try{for(var f,h=u[Symbol.iterator]();!(l=(f=h.next()).done);l=!0)!function(){var t=f.value;e.find(function(e){return(null==e?void 0:e.userId)===t})||E.set(t,null)}()}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}s(!1)}).catch(function(e){(0,a.T)(Error("Failed to fetch known people for ".concat(u),{cause:e}))}))},[u,t,i]),(0,o.useMemo)(function(){return null==e?void 0:e.map(function(e){return E.get(e)}).filter(Boolean)},[e,i])},B=w},39183:function(e,t,n){"use strict";n.d(t,{JP:function(){return A},Rx:function(){return f},S$:function(){return g},Z0:function(){return m},aq:function(){return p},bm:function(){return u},cF:function(){return c},mT:function(){return l},sx:function(){return v},t6:function(){return y},u0:function(){return d},vP:function(){return h}});var r=n(2784),i=n(21746),o=n(38947),a=n(32472),s=function(e){return void 0!==e},u=function(){return(0,i.Sz)(o.e,function(e){return e})},c=function(){return(0,i.Sz)(o.e,function(e){return e.workspace})},l=function(){return(0,i.Sz)(o.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.id})},A=function(){return(0,i.Sz)(o.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.teamId})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.SF,t=(0,i.Sz)(o.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.title});return(0,r.useMemo)(function(){return t&&t.trim().length>0?t:e},[t,e])},f=function(){return(0,i.Sz)(o.e,function(e){return s(e.workspace)&&void 0!==e.access})},h=function(){return(0,i.Sz)(o.e,function(e){var t=e.workspace;return s(t)&&null!==t})},p=function(){return(0,i.Sz)(o.e,function(e){return e.environment})},g=function(){return"integration"===p()},v=function(){return(0,i.Sz)(o.e,function(e){return e.access})},m=function(){return(0,i.Sz)(o.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.folderId})},y=function(){return(0,i.Sz)(o.e,function(e){return e.workspace&&e.access&&!e.access.isReadOnly&&!e.workspace.isArchived})};t.ZP=c},25300:function(e,t,n){"use strict";var r=n(98788),i=n(42838),o=n(70865),a=n(26297),s=n(22970),u=n(5632),c=/*#__PURE__*/n.n(u),l=n(69071),A=n(11269),d=n(51516),f=n(2595),h=n(96933),p=n(3552),g=n(24066),v=n(27196),m=n(70599),y=n(57695);t.Z=function(){var e,t,n=(0,f.Z)(),u=(0,h.II)(),b=(0,A.LP)(),w=(0,d.Y)().openSettingsModal,_=(0,y.Su)().analyticsService,E=(0,l.Z)((e=(0,r.Z)(function(e,t){var n,r,i,o,a,u,l,A,d=arguments;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return i=void 0===(r=(n=d.length>2&&void 0!==d[2]?d[2]:{}).redirect)||r,a=void 0===(o=n.query)?{}:o,[4,(0,p.M)(e,t,"new")];case 1:if(u=s.sent(),!i)return[3,3];return l="/workspace/".concat(u.id),(A=new URLSearchParams(a).toString())&&(l+="?".concat(A)),[4,c().push(l)];case 2:s.sent(),s.label=3;case 3:return[2,u]}})}),function(t,n){return e.apply(this,arguments)})),C=function(e){return(0,i.Z)(e,g.W)?(_.trackEvent("payment","open_billing_pane",{featureName:m.M$.Workspaces,source:"paywallNotification"}),w({openedPane:"plans",paywallError:e,paywallFeature:m.M$.Workspaces}),n.dismiss(),null):"Error creating file"};return{loading:E.loading,request:(0,v.W6)((t=(0,r.Z)(function(e,t){var r,i,c,l,A,d,f,h=arguments;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=h.length>2&&void 0!==h[2]?h[2]:{},E.loading||!u)return[2];return c=void 0===(i=t.title)?"":i,l=(0,a.Z)(t,["title"]),A=r.toastMessages,d=r.toastOptions,f=(0,o.Z)({teamId:b,ownerId:u,title:c},l),[4,n.promise(E.execute(f,e,r),null!=A?A:{loading:"Creating file",success:"Created file",error:C},null!=d?d:{success:{duration:1e3}})];case 1:return[2,s.sent()]}})}),function(e,n){return t.apply(this,arguments)}))}}},24930:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r,i=n(42838),o=n(2784),a=n(62202),s=n(69071),u=n(42541),c=n(98788),l=n(22970),A=n(67078),d=n(10097),f=n(10186),h=n(70599),p=n(98627),g=(r=(0,c.Z)(function(e){var t,n,r,i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(t=e.file,n=e.folderId,r=e.teamId,i=f.Z.team(r).withConverter(A.ML),o=f.Z.workspace(t.id).withConverter(A.BV),!0!==t.isArchived)return[3,2];return[4,p.j.validateLimitedFeature({featureName:h.M$.Workspaces,teamArg:r})];case 1:a.sent(),a.label=2;case 2:var s;return[4,d.RZ.runTransaction((s=(0,c.Z)(function(e){return(0,l.__generator)(this,function(t){switch(t.label){case 0:if(!i)return[3,2];return[4,e.get(i)];case 1:if(!t.sent().data())throw Error("Team ".concat(r," not found"));t.label=2;case 2:return e.update(o,{folderId:n,teamId:r,isArchived:!1}),[2]}})}),function(e){return s.apply(this,arguments)}))];case 3:return[2,a.sent()]}})}),function(e){return r.apply(this,arguments)}),v=n(51516),m=n(24066),y=function(){var e=(0,s.Z)(g),t=(0,v.Y)().openSettingsModal;return(0,o.useCallback)(function(n){var r=n.file,o=n.folderId,s=n.onClose,c=n.teamId;null==s||s(),void 0!==o&&c&&a.ZP.promise(e.execute({file:r,folderId:o,teamId:c}),{loading:"Moving file",success:"Moved file",error:function(e){return(0,i.Z)(e,m.W)?(t({paywallError:e,paywallFeature:h.M$.Workspaces,openedPane:"plans"}),a.ZP.dismiss(),null):"Error moving file"}}).then(function(){return u.Z.trackEvent("folders","move_workspace",{eventSource:"modal"})})},[e,t])}},26758:function(e,t,n){"use strict";n.d(t,{o:function(){return b}});var r,i=n(42838),o=n(96933),a=n(2784),s=n(98788),u=n(22970),c=n(35532),l=n(10186),A=n(70599),d=n(98627),f=c.Z.firestore.FieldValue,h=function(e,t,n){return l.Z.workspace(e).update({isArchived:!0,archivedAt:f.serverTimestamp(),archivedBy:n})},p=(r=(0,s.Z)(function(e,t,n){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,d.j.validateLimitedFeature({featureName:A.M$.Workspaces,teamArg:t})];case 1:return n.sent(),[4,l.Z.workspace(e).update({isArchived:!1})];case 2:return[2,n.sent()]}})}),function(e,t,n){return r.apply(this,arguments)}),g=n(69071),v=n(2595),m=n(51516),y=n(24066),b=function(e){var t=e.workspaceId,n=e.isArchived,r=e.currentTeamId,s=e.workspaceTeamId,u=(0,v.Z)(),c=(0,o.II)(),l=(0,g.Z)(h),d=(0,g.Z)(p),f=(0,m.Y)().openSettingsModal;return(0,a.useCallback)(function(){if(!(r&&s&&r===s)){u.error("You need to be on the correct team to do that.");return}var e=l,o="Archiving a file",a="File has been archived successfully";n&&(e=d,o="Restoring a file",a="File has been restored successfully"),u.promise(e.execute(t,r,c),{loading:o,success:a,error:function(e){return(0,i.Z)(e,y.W)?(f({paywallError:e,paywallFeature:A.M$.Workspaces,openedPane:"plans"}),u.dismiss(),null):"Error ".concat(o)}},{success:{duration:1e3}})},[l,n,t,d,r,c,s,f])}},2600:function(e,t,n){"use strict";n.d(t,{X:function(){return g}});var r=n(42838),i=n(70865),o=n(96670),a=n(5632),s=/*#__PURE__*/n.n(a),u=n(69071),c=n(2595),l=n(24066),A=n(70599),d=n(42541),f=n(51516),h=n(67640),p=function(e){return h.Z.post("workspace/copy",e)},g=function(){var e=(0,c.Z)(),t=(0,u.Z)(p),n=(0,f.Y)().openSettingsModal;return{loading:t.loading,request:function(a){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.workspaceId,f=a.teamId;if(c&&f&&!t.loading){a.isFromTemplate&&d.Z.trackEvent("template","use",{templateId:c,teamId:f});var h=u.reload,p=u.openInNewTab,g=u.stayOnPage;e.promise(t.execute((0,o.Z)((0,i.Z)({},a),{workspaceId:c,teamId:f})),{success:"Duplicated file",loading:"Duplicating file",error:function(t){return(0,r.Z)(t,l.W)?(n({openedPane:"plans",paywallError:t,paywallFeature:A.M$.Workspaces}),e.dismiss(),null):"Error duplicating file"}},{success:{duration:1e3}}).then(function(e){if(e){var t="/workspace/".concat(e.workspaceId);if(h&&p)window.open(location.origin+t,"_blank");else if(h)location.replace(window.location.origin+t);else if(!g)return s().push(t)}})}}}}},27038:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(98788),i=n(22970),o=n(67640);function a(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(e){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return t=window.location.hostname.includes("qa--pr")?"?redirectDomain="+window.location.hostname:"",[4,o.Z.get("sso/redirect/".concat(encodeURIComponent(e)).concat(t))];case 1:return[2,n.sent().url]}})})).apply(this,arguments)}},60238:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=5},10185:function(e,t,n){"use strict";n.d(t,{N:function(){return u},Q:function(){return s}});var r=n(5632),i=["all","folder","github","search","private","history","archived","unsorted","templates","created-by-me","ai-context","eraserbot","git-diagram"],o=/^\/dashboard\/([\w-]+)/,a=function(e){return i.includes(e)},s=function(){var e=(0,r.useRouter)();if(e.pathname.startsWith("/folder"))return{tabId:"folder",query:e.query};var t=u(e.pathname);return"string"==typeof t&&a(t)?{tabId:t,query:e.query}:{tabId:"all",query:e.query}};function u(e){if(e.startsWith("/folder"))return"folder";var t,n=null===(t=e.match(o))||void 0===t?void 0:t[1];return"string"==typeof n&&a(n)?n:"all"}},48696:function(e,t,n){"use strict";n.d(t,{MZ:function(){return a},N0:function(){return c},wK:function(){return s}});var r=n(21746),i=n(27729),o=n(10185),a=function(){var e,t=(0,o.Q)(),n=t.tabId,r=t.query;if("folder"===n){var i=r.folderId;return null!==(e=Array.isArray(i)?i[0]:i)&&void 0!==e?e:""}},s=function(){var e=a();return(0,r.Sz)(i.ZP,function(t){var n=t.foldersMap,r=t.isLoaded;return e?r?n[e]||(console.info("Folder: ".concat(e," not found. Redirecting...")),null):void 0:null})},u=/\/folder\/([^?^/]+)/,c=function(e){var t;return null===(t=e.match(u))||void 0===t?void 0:t[1]}},74010:function(e,t,n){"use strict";var r=n(21746),i=n(27729);t.Z=function(){return(0,r.qp)(i.ZP)}},59296:function(e,t,n){"use strict";var r,i;n.d(t,{L:function(){return r}}),(i=r||(r={})).Folder="FOLDER",i.Workspace="WORKSPACE"},85580:function(e,t,n){"use strict";n.d(t,{Q:function(){return h},z:function(){return p}});var r=n(87394),i=n(2784),o=n(9311),a=n(34569),s=n(74010),u=n(59296),c=n(11269),l=n(24930),A=function(e){var t=e.folderId,n=(0,l.Z)(),r=(0,c.LP)();return(0,i.useCallback)(function(e,i){var o=i.getItemType();r&&o===u.L.Workspace&&n({teamId:r,folderId:t,file:e,eventSource:"drag_and_drop"})},[t,n,r])},d=n(75194),f=n(60238),h=function(e){var t=(0,d.d)(),n=(0,r.Z)((0,o.c)({item:e,type:u.L.Folder,canDrag:function(){return!t},collect:function(e){return{isDraggingFolder:e.isDragging()}}}),3);return{isDraggingFolder:n[0].isDraggingFolder,dragRef:n[1],previewRef:n[2]}},p=function(e){var t=e.rootRef,n=e.targetFolder,o=e.onFolderReorder,c=n.id,l=(0,s.Z)().getFolderPath,d=(0,i.useState)("none"),h=d[0],p=d[1],g=A({folderId:n.id}),v=(0,i.useCallback)(function(e,t){t.getItemType()===u.L.Workspace?g(e,t):o&&o({draggingFolder:e,targetFolder:n,folderDropSide:h})},[g,o,n,h]),m=(0,r.Z)((0,a.L)({accept:[u.L.Workspace,u.L.Folder],canDrop:function(e,t){switch(t.getItemType()){case u.L.Folder:return n.id!==e.id;case u.L.Workspace:return!e.isPrivate&&e.folderId!==c;default:return!0}},drop:v,hover:function(e,r){var i=r.canDrop(),o=r.getClientOffset(),a=r.getItem(),s=r.getItemType()===u.L.Folder;if(!(null==t?void 0:t.current)||!o||!i||!s){p("none");return}var c=t.current.getBoundingClientRect(),A=c.top,d=c.height,h=o.y-A<d/2,g=d/4;o.y-A>g&&o.y-A<d-g&&a.parentFolderId!==n.id?l(n.id).length<f.p&&p("on"):h?p("before"):h?p("none"):p("after")},collect:function(e){var t=e.getItemType(),n=e.isOver()&&e.canDrop();return{isDroppingFolder:n&&t===u.L.Folder,isDroppingWorkspace:n&&t===u.L.Workspace}}},[c,v]),2),y=m[0],b=y.isDroppingFolder,w=y.isDroppingWorkspace;return{dropRef:m[1],isDroppingFolder:b,isDroppingWorkspace:w,folderDropSide:h}}},49678:function(e,t,n){"use strict";n.d(t,{Hz:function(){return a},JN:function(){return s},ZN:function(){return A},am:function(){return c},bx:function(){return d},p6:function(){return u}});var r=n(70865),i=n(96670),o=n(50930),a=function(e){if(!e)return{};var t={},n={},o=function(e){n[e.id].sort(function(e,t){return e.order-t.order}).forEach(function(t){e.children.push(t),o(t)})},a=e.filter(function(e){return!e.parentFolderId}).map(function(e){return(0,i.Z)((0,r.Z)({},e),{children:[]})}).sort(function(e,t){return e.order-t.order});return e.forEach(function(e){if(n[e.id]||(n[e.id]=[]),e.parentFolderId){var t=(0,i.Z)((0,r.Z)({},e),{children:[]});n[e.parentFolderId]?n[e.parentFolderId].push(t):n[e.parentFolderId]=[t]}}),a.forEach(function(e){t[e.id]=e,o(e)}),t},s=function(e){var t=[],n=function(e){t.push(e),e.children.sort(function(e,t){return e.order-t.order}).forEach(function(e){return n(e)})};return Object.values(e).forEach(n),t},u=function(e,t){var n=[],r=Object.values(t),i=function(t){return n.push(t),t.id===e||!!t.children.some(i)||(n.pop(),!1)};return r.find(i),n},c=function(e){var t=[],n=[],r=Object.values(e).sort(function(e,t){return e.order-t.order}),i=function(e){n.push(e),t.push((0,o.Z)(n)),e.children.forEach(i),n.pop()};return r.forEach(i),t},l=function(e,t){var n=Object.values(t),r=function(t){if(t.id===e)return t;var n=!0,i=!1,o=void 0;try{for(var a,s=t.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=r(u);if(c)return c}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=r(c);if(l)return l}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}},A=function(e,t){var n=[],r=[],i=l(e,t);if(!i)return n;var a=function(e){r.push(e),n.push((0,o.Z)(r)),e.children.forEach(a),r.pop()};return a(i),n},d=function(e,t){var n=t.orderBy;return e&&e.length?["title","createdAt","updatedAt"].includes(n)?("title"===n&&(n="name"),(0,o.Z)(e).sort(function(e,r){var i=0;if(n in e&&n in r&&e[n]&&r[n])switch(n){case"name":i=e.name.localeCompare(r.name);break;case"createdAt":i=(e.createdAt||0)-(r.createdAt||0);break;case"updatedAt":i=(e.updatedAt||0)-(r.updatedAt||0);break;default:i=(e.order||0)-(r.order||0)}return"desc"===t.orderDir?-i:i})):e:[]}},76170:function(e,t,n){"use strict";n.d(t,{k:function(){return h}});var r,i=n(70865),o=n(26297),a=n(52322),s=n(2784);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var c=function(e){return /*#__PURE__*/s.createElement("svg",u({fill:"currentColor",width:800,height:800,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/s.createElement("path",{d:"M234.415 153.533l-27.33-102.485a8 8 0 00-15.22-.748L170.229 108H85.772L64.135 50.3a8 8 0 00-15.22.748l-27.33 102.485a12.028 12.028 0 004.764 12.958l94.82 65.645a12.057 12.057 0 0013.662 0l94.82-65.645a12.028 12.028 0 004.764-12.958zm-9.318 6.381l-94.82 65.645a4.019 4.019 0 01-4.554 0l-94.82-65.645a4.011 4.011 0 01-1.589-4.32L56.644 53.11l22.61 60.295A4 4 0 0083 116h90a4 4 0 003.745-2.596l22.611-60.295 27.33 102.485a4.011 4.011 0 01-1.589 4.32z",stroke:"currentColor",strokeWidth:8})))},l=n(81337),A=n(16060),d=n(99587),f=n(68377);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,f.Dx)(e);t.dark;var r=(0,o.Z)(t,["dark"]);if(t.dark)switch(n){case"gitlab":return/*#__PURE__*/(0,a.jsx)(d.Z,(0,i.Z)({},r));case"github":return/*#__PURE__*/(0,a.jsx)(A.Z,(0,i.Z)({},r))}else switch(n){case"gitlab":return/*#__PURE__*/(0,a.jsx)(c,(0,i.Z)({},r));case"github":return/*#__PURE__*/(0,a.jsx)(l.Z,(0,i.Z)({},r))}}},41008:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(52322),i=n(46131),o=n(90087),a=n(99587),s=n(95162),u=n(88404),c=n(62866),l=n(28563),A=n(48123),d=function(e){var t=e.onGitHubClick,n=e.onGitLabClick,d=e.asLink,f=e.title,h=void 0===f?"Connect new git org":f,p=(0,c.QR)();return/*#__PURE__*/(0,r.jsxs)(c.GI,{controller:p,children:[/*#__PURE__*/(0,r.jsx)(c.GI.Toggle,{children:void 0!==d&&d?/*#__PURE__*/(0,r.jsx)(A.h,{children:h}):/*#__PURE__*/(0,r.jsxs)(s.ZP,{variant:s.ZP.Variants.OUTLINE,children:[/*#__PURE__*/(0,r.jsx)(u.J,{icon:i.Z,style:{marginRight:8}}),h]})}),/*#__PURE__*/(0,r.jsxs)(c.GI.Menu,{children:[t?/*#__PURE__*/(0,r.jsx)(l.Z,{icon:/*#__PURE__*/(0,r.jsx)(u.J,{icon:o.Z}),onClick:function(){p.closePopup(),t()},explanation:"Add a GitHub Organization",children:"GitHub"}):null,n?/*#__PURE__*/(0,r.jsx)(l.Z,{icon:/*#__PURE__*/(0,r.jsx)(u.J,{icon:a.Z}),onClick:function(){p.closePopup(),n()},explanation:"Add a GitLab Organization",children:"GitLab"}):null]})]})}},68377:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"github",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(e),r=t.long?"gitlab"===n?"merge request":"pull request":"gitlab"===n?"MR":"PR";return t.plural?"".concat(r,"s"):r}function i(e){var t;return null==e?"github":"string"==typeof e?e:null!==(t=null==e?void 0:e.provider)&&void 0!==t?t:"github"}function o(e){var t=[];switch(e.provider){case"gitlab":t.push("https://gitlab.com/".concat(e.orgName));break;case"github":t.push("https://github.com/".concat(e.orgName))}return e.repoName&&(t.push(e.repoName),e.prNumber&&t.push("gitlab"===e.provider?"-/merge_requests/".concat(e.prNumber):"/pull/".concat(e.prNumber)),e.commitSha&&t.push("gitlab"===e.provider?"diffs?commit_id=".concat(e.commitSha):"commit/".concat(e.commitSha))),t.join("/")}function a(e){return"github"===e}function s(e){switch(e){case"github":return"GitHub";case"gitlab":return"GitLab";default:return e}}function u(e,t){return e&&t?e.reduce(function(e,n){var r=null!==(s=null==t?void 0:t.get(n.id))&&void 0!==s?s:[],i=!0,o=!1,a=void 0;try{for(var s,u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;l.disabled||e.push({organizationId:n.id,organizationName:n.name,repositoryId:l.id,repositoryName:l.name,provider:n.provider})}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return e},[]):[]}n.d(t,{Dx:function(){return i},QO:function(){return s},VT:function(){return o},Z9:function(){return r},qX:function(){return a},uT:function(){return u}})},39033:function(e,t,n){"use strict";n.d(t,{Ii:function(){return $},DZ:function(){return Y},k3:function(){return q}});var r,i,o,a,s,u,c,l=n(98788),A=n(70865),d=n(96670),f=n(87394),h=n(22970),p=n(52322),g=n(2784),v=n(30686),m=n(37164),y=n(20810),b=n(34394),w=n(77984),_=n(12335),E=n(1118),C=n(67394),B=n(97674),I=n(69676),x=n(15562),T=n(26932),S=n(43806),k=n(98156),N=/*#__PURE__*/n.n(k),D=n(85957),O=n(67640),R=n(48834).lW,F=(r=(0,l.Z)(function(e){var t;return(0,h.__generator)(this,function(n){return t="git/".concat(e.teamId,"/").concat(e.organizationId,"/repositories"),e.fromDB&&(t+="?fromDB=true"),[2,O.Z.get(t)]})}),function(e){return r.apply(this,arguments)}),L=(i=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,O.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/branchNames"))]})}),function(e){return i.apply(this,arguments)}),P=(o=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,O.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/defaultBranchName"))]})}),function(e){return o.apply(this,arguments)}),U={batchPull:(a=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,(0,D.Z)("gitHub-batchPull",e)]})}),function(e){return a.apply(this,arguments)}),batchPush:(s=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,(0,D.Z)("gitHub-batchPush",e)]})}),function(e){return s.apply(this,arguments)}),listRepositoryBranches:L,getLatestCommitForFile:(u=(0,l.Z)(function(e){var t;return(0,h.__generator)(this,function(n){return t=R.from(e.filePath).toString("base64"),[2,O.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/").concat(t,"/latestCommit"))]})}),function(e){return u.apply(this,arguments)}),getRepositoryDefaultBranchName:P,listRepositoriesForOrganization:F},M=function(e,t,n,r){var i=screen.width/2-n/2,o=screen.height/2-r/2;return window.open(t,e,"\n      status=no,\n      toolbar=no,\n      menubar=no,\n      location=no,\n      resizable=no,\n      scrollbars=no,\n      directories=no,\n      copyhistory=no,\n      top=".concat(o,",\n      left=").concat(i,",\n      width=").concat(n,",\n      height=").concat(r,"\n    "))},j={installApp:(c=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,O.Z.get("git/auth/install?teamId=".concat(e))];case 1:return[2,M("Connect your GitHub organization to Eraser",t.sent().redirectUrl,1030,600)];case 2:return console.error("Failed to initiate GitHub installation:",t.sent()),[2,null];case 3:return[2]}})}),function(e){return c.apply(this,arguments)})},Z=n(91979),Q=n(11269),H=n(2595),V=n(63842),K=function(e){var t=e.error;if(!t)return/*#__PURE__*/(0,p.jsx)(p.Fragment,{children:"A server occurred. Please try again later."});if(!t.documentationUrl)return/*#__PURE__*/(0,p.jsx)(p.Fragment,{children:t.message});var n=t.message.endsWith(".")?t.message:"".concat(t.message,".");return/*#__PURE__*/(0,p.jsxs)("span",{children:[n,"\xa0",/*#__PURE__*/(0,p.jsx)(V.d,{href:t.documentationUrl,style:{display:"block"},children:/*#__PURE__*/(0,p.jsx)("small",{children:"Learn more"})})]})},G=n(42541),z=n(24618),W=/*#__PURE__*/(0,g.createContext)({organizations:null,repositoriesMap:null,installApp:function(){},openHelpModal:function(){},configureOrganization:function(){},removeOrganization:function(){},batchPush:function(){return Promise.resolve(void 0)},batchPull:function(){return Promise.resolve(void 0)},updateRepository:function(){return Promise.resolve(void 0)},subscribeToEventBus:function(){return new v.v},addRepository:function(){return Promise.resolve("")},getDefaultBranchName:function(){return Promise.resolve("")},listRepositoryBranches:function(){return Promise.resolve([])},getLatestCommitForFile:function(){return Promise.resolve(void 0)},listRepositoriesForOrganization:function(){return Promise.resolve([])},bulkCreateOrganizations:function(){return Promise.resolve()}}),q=function(){return(0,g.useContext)(W)},Y=function(e,t){var n=q().subscribeToEventBus;(0,g.useEffect)(function(){var r=n(e,t);return function(){r.off(e,t)}},[e,n,t])},$=function(e){var t,n,r,i,o,a,s,u,c,k,D=e.children,R=(0,H.Z)(),F=(0,Q.LP)(),L=(0,g.useRef)(new v.v),P=(0,y.m)(function(e){return e},[F]).pipe((0,w.U)(function(e){return(0,f.Z)(e,1)[0]}),(0,z.BX)()),M=(0,y.m)(function(){return P.pipe((0,_.w)(function(e){return Z.j.observeOrganizations(e)}))}),V=(0,y.m)(function(){return M.pipe((0,w.U)(function(e){return e.map(function(e){return e.id})}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,T.jO)(e);return(0,E.e)(function(t,r){for(var i=e.length,o=Array(i),a=e.map(function(){return!1}),s=!1,u=function(t){(0,B.Xf)(e[t]).subscribe((0,C.x)(r,function(e){o[t]=e,!s&&!a[t]&&(a[t]=!0,(s=a.every(I.y))&&(a=null))},x.Z))},c=0;c<i;c++)u(c);t.subscribe((0,C.x)(r,function(e){if(s){var t=(0,h.__spreadArray)([e],(0,h.__read)(o));r.next(n?n.apply(void 0,(0,h.__spreadArray)([],(0,h.__read)(t))):t)}}))})}(P),(0,_.w)(function(e){var t=(0,f.Z)(e,2),n=t[0],r=t[1];return(0,S.a)(n.map(function(e){return Z.j.observeRepositories(r,e)})).pipe((0,w.U)(function(e){return e.reduce(function(e,t,r){return e.set(n[r],t)},new Map)}))}))}),q=(0,b.p)(M,null),Y=(0,b.p)(V,null),$=(t=(0,l.Z)(function(){var e,t;return(0,h.__generator)(this,function(n){switch(n.label){case 0:return G.Z.trackEvent("gitHub-dashboard","add_organization_click"),[4,j.installApp(F)];case 1:return e=n.sent(),t=setInterval(function(){e?e.closed&&(clearInterval(t),L.current.emit("onInstallWindowClosed")):clearInterval(t)},300),[2]}})}),function(){return t.apply(this,arguments)}),X=function(e){var t=e.organizationId,n=e.organizationName,r=null==q?void 0:q.find(function(e){return e.id===t});r&&(Z.j.configureOrganization(r),G.Z.trackEvent("gitHub-dashboard","configure_organization",{organizationName:n}))},J=(n=(0,l.Z)(function(e){var t,n,r,i,o,a,s,u,c,l,A,d=arguments;return(0,h.__generator)(this,function(f){switch(f.label){case 0:return r=void 0!==(n=(t=d.length>1&&void 0!==d[1]?d[1]:{}).addMissing)&&n,o=void 0!==(i=t.fromDB)&&i,[4,U.listRepositoriesForOrganization({organizationId:e,teamId:F,fromDB:o})];case 1:if(a=f.sent().map(function(e){return e.name}),!((null==Y?void 0:Y.size)&&r)||(c=null===(s=Y.get(e))||void 0===s?void 0:s.map(function(e){return e.name}),A=null!==(l=null===(u=null==q?void 0:q.find(function(t){return t.id===e}))||void 0===u?void 0:u.name)&&void 0!==l?l:"",!c))return[3,3];return[4,Promise.all(a.filter(function(e){return!c.includes(e)}).map(function(t){return ee({repositoryName:t,organizationId:e,organizationName:A,enableSync:!1})}))];case 2:return f.sent(),[2,a];case 3:return[2,a]}})}),function(e){return n.apply(this,arguments)}),ee=(r=(0,l.Z)(function(e){var t,n,r,i,o;return(0,h.__generator)(this,function(a){switch(a.label){case 0:return t=e.organizationId,n=e.organizationName,r=e.repositoryName,i=e.enableSync,[4,Z.j.addRepository(F,t,{name:r,enableSync:i})];case 1:return o=a.sent(),G.Z.trackEvent("gitHub-dashboard","add_repository",{repositoryName:r,organizationName:n}),[2,o]}})}),function(e){return r.apply(this,arguments)}),et=(i=(0,l.Z)(function(e,t){return(0,h.__generator)(this,function(n){switch(n.label){case 0:return[4,U.listRepositoryBranches({repositoryId:t,organizationId:e,teamId:F})];case 1:return[2,n.sent()]}})}),function(e,t){return i.apply(this,arguments)}),en=(o=(0,l.Z)(function(e,t){return(0,h.__generator)(this,function(n){switch(n.label){case 0:return[4,U.getRepositoryDefaultBranchName({repositoryId:t,organizationId:e,teamId:F})];case 1:return[2,n.sent()]}})}),function(e,t){return o.apply(this,arguments)}),er=(a=(0,l.Z)(function(e){var t,n,r,i,o,a,s,u,c;return(0,h.__generator)(this,function(l){switch(l.label){case 0:t=e.byType,n=e.organizationName,r=e.repositoryName,i=(0,m.x0)(),l.label=1;case 1:switch(l.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return a=e.workspaceIds,[4,U.batchPull({byType:t,workspaceIds:a,teamId:F})];case 3:case 5:return o=l.sent(),[3,7];case 4:return s=e.organizationId,u=e.repositoryId,[4,U.batchPull({byType:t,repositoryId:u,organizationId:s,teamId:F})];case 6:case 9:return[2,null];case 7:if(G.Z.trackEvent("gitHub-dashboard","batch_pull",{byType:t,repositoryName:r,organizationName:n}),o)return[2,o.operationId];return[3,9];case 8:return c=l.sent(),R.error(/*#__PURE__*/(0,p.jsx)(K,{error:c.details}),{id:i}),[3,9]}})}),function(e){return a.apply(this,arguments)}),ei=(s=(0,l.Z)(function(e){var t,n,r,i,o,a,s,u,c,l,f,g,v,y,b,w,_;return(0,h.__generator)(this,function(h){switch(h.label){case 0:t=e.byType,n=e.prInfo,r=e.filePath,i=e.branchName,o=e.commitMessage,a=e.repositoryName,s=e.organizationName,u=e.defaultBranchName,c=(0,m.x0)(),f={prInfo:n,branchName:i,commitMessage:o},h.label=1;case 1:switch(h.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return v=e.workspaceIds,g="Eraser file pushed to GitHub",R.loading("Pushing Eraser file to GitHub",{id:c}),[4,U.batchPush((0,A.Z)({byType:t,workspaceIds:v},f))];case 3:case 5:return l=h.sent(),[3,7];case 4:return y=e.organizationId,b=e.repositoryId,g="Eraser files pushed to GitHub",R.loading("Pushing Eraser files to GitHub",{id:c}),[4,U.batchPush((0,d.Z)((0,A.Z)({byType:t},f),{repositoryId:b,organizationId:y,teamId:F}))];case 6:case 9:return[2];case 7:return 206===l.status?(w="PR creation failed: ".concat(l.prError.message),R(g="".concat(g,". ").concat(w),{id:c,icon:"",className:N().warning})):R.success(g,{id:c}),G.Z.trackEvent("gitHub-dashboard","batch_push",{byType:t,filePath:r,branchName:i,commitMessage:o,repositoryName:a,organizationName:s,prTitle:null==n?void 0:n.title,isDefaultBranch:i===u}),[3,9];case 8:return _=h.sent(),R.error(/*#__PURE__*/(0,p.jsx)(K,{error:_.details}),{id:c}),[3,9]}})}),function(e){return s.apply(this,arguments)}),eo=(u=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return[4,U.getLatestCommitForFile((0,d.Z)((0,A.Z)({},e),{teamId:F}))];case 1:return[2,t.sent()]}})}),function(e){return u.apply(this,arguments)}),ea=L.current.on.bind(L.current),es=(c=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return[4,O.Z.post("gitOrganizations",e)];case 1:return t.sent(),[2]}})}),function(e){return c.apply(this,arguments)}),eu=(k=(0,l.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:if("github"===e.provider)return[2,X({organizationId:e.id,organizationName:e.name})];return[4,O.Z.delete("gitOrganizations/".concat(e.id))];case 1:return t.sent(),[2]}})}),function(e){return k.apply(this,arguments)});return/*#__PURE__*/(0,p.jsx)(W.Provider,{value:{batchPull:er,batchPush:ei,updateRepository:Z.j.updateRepository,installApp:$,openHelpModal:function(){return L.current.emit("openHelpModal")},addRepository:ee,organizations:q,repositoriesMap:Y,subscribeToEventBus:ea,getDefaultBranchName:en,configureOrganization:X,listRepositoryBranches:et,getLatestCommitForFile:eo,listRepositoriesForOrganization:J,bulkCreateOrganizations:es,removeOrganization:eu},children:D})}},59380:function(e,t,n){"use strict";n.d(t,{$m:function(){return o},dr:function(){return a},k_:function(){return s}});var r=n(10185),i=n(39033),o=function(){var e=(0,r.Q)(),t=e.tabId,n=e.query,i=n.repositoryName,o=n.organizationName;return"github"===t?{organizationName:o,repositoryName:i}:{organizationName:void 0,repositoryName:void 0}},a=function(){var e=o().organizationName,t=(0,i.k3)().organizations;if(t&&e)return t.find(function(t){return t.name===e})},s=function(){var e,t=(0,i.k3)().repositoriesMap,n=o().repositoryName,r=a();if(t&&r&&n)return null===(e=t.get(r.id))||void 0===e?void 0:e.find(function(e){return e.name===n})}},1158:function(e,t,n){"use strict";n.d(t,{Qs:function(){return i},T5:function(){return a},aO:function(){return o}});var r=n(39033),i=function(e){var t=(0,r.k3)().organizations;return null==t?void 0:t.find(function(t){return t.id===e})},o=function(e,t){var n,i=(0,r.k3)().repositoriesMap;return null===(n=null==i?void 0:i.get(null!=e?e:""))||void 0===n?void 0:n.find(function(e){return e.id===t})},a=function(e){var t=e||{},n=t.repositoryId,r=t.organizationId;return{organization:i(r),repository:o(r,n)}}},41516:function(e,t,n){"use strict";n.d(t,{N:function(){return m}});var r=n(70865),i=n(96670),o=n(52322),a=n(52826),s=n(4742),u=/*#__PURE__*/n.n(s),c=n(51992),l=n(95114),A=n(13529),d=/*#__PURE__*/n.n(A),f=function(e){var t=e.size,n=void 0===t?28:t,a=e.skeletonThemeProps,s=(0,l.Z)(function(){return u()([75,100,125])});return/*#__PURE__*/(0,o.jsx)(c.yB,(0,i.Z)((0,r.Z)({color:"#eeeeee",highlightColor:"#f2f2f2"},a),{children:/*#__PURE__*/(0,o.jsxs)("div",{className:d().skeleton,children:[/*#__PURE__*/(0,o.jsx)(c.ZP,{count:1,width:n,height:n,circle:!0,className:d().avatar}),/*#__PURE__*/(0,o.jsx)(c.ZP,{count:1,width:s,height:n/2,className:d().name})]})}))},h=n(54848),p=n(3635),g=n(94999),v=/*#__PURE__*/n.n(g),m=function(e){var t=e.userId,n=e.avatarSize,s=e.skeletonThemeProps,u=e.classNames,c=(0,a.ZP)(t),l=/*#__PURE__*/(0,o.jsx)(f,{skeletonThemeProps:s,size:n});return c&&(l=/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)(h.Z,(0,i.Z)((0,r.Z)({className:v().avatar},c),{size:n,isNoTooltip:!0})),/*#__PURE__*/(0,o.jsx)("div",{className:(0,p.Z)(v().name,null==u?void 0:u.name),children:c.displayName})]})),/*#__PURE__*/(0,o.jsx)("div",{className:v().member,children:l})}},4406:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(50930),i=n(52322),o=n(2784),a=n(27875),s=/*#__PURE__*/n.n(a),u=n(89473),c=n(41516),l=n(47330),A=n(80498),d=n(3635),f=n(26486),h=/*#__PURE__*/n.n(f),p=function(e){var t=e.userIds,n=e.avatarSize;return/*#__PURE__*/(0,i.jsx)("div",{className:(0,d.Z)(h().members),children:t.map(function(e){return/*#__PURE__*/(0,i.jsx)(c.N,{userId:e,avatarSize:n,classNames:{name:h().memberName},skeletonThemeProps:{color:"var(--grey-1300-constant)",highlightColor:"var(--grey-1100-constant)"}},e)})})},g=/*#__PURE__*/(0,o.memo)(function(e){var t=e.userIds,n=e.avatarSize,r=e.isInviteOpen,a=(0,o.useRef)(null),s=(0,A.Z)(),u=s.isOpen,c=s.onOpen,d=s.onClose,f=(0,o.useCallback)(function(e){e.stopPropagation(),e.preventDefault(),u?d():c()},[u,d,c]);return/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("span",{ref:a,onMouseEnter:c,onMouseLeave:d,className:h().moreMembers,onTouchEnd:f,style:{width:n,height:n},children:/*#__PURE__*/(0,i.jsxs)("span",{children:["+",t.length]})}),/*#__PURE__*/(0,i.jsx)(l.Z,{disableArrow:!0,placement:"bottom",targetNode:a.current,className:h().listPopper,visible:u&&!r,children:/*#__PURE__*/(0,i.jsx)(p,{userIds:t,avatarSize:n})})]})}),v=n(54848),m=n(30678),y=n(60706),b=/*#__PURE__*/n.n(y),w={refreshRate:0,handleHeight:!1,refreshMode:"debounce"},_=function(e,t,n){if(e.length>=n||!t)return e.map(function(e){return{userId:e,type:"realUser"}});var i=n-e.length;return(0,r.Z)(e.map(function(e){return{userId:e,type:"realUser"}})).concat((0,r.Z)(Array(i).fill(0).map(function(e,t){return{userId:"dummy-".concat(t),type:"dummy"}})))},E=/*#__PURE__*/(0,o.memo)(function(e){var t=e.isOpen,n=e.userIds,r=e.max,a=void 0===r?6:r,c=e.onClick,l=e.className,A=e.isStaticSize,f=e.avatarSize,h=void 0===f?28:f,p=e.tooltipSubTextById,y=e.avatarDummyThreshold,E=e.showDummyAvatars,C=e.horizontalAlign,B=(0,u.NB)(w),I=B.width,x=B.ref,T=h+4,S=a;I&&!A&&(S=s()(Math.floor(I/(T-5)),1,a));var k=(0,o.useMemo)(function(){return[n.slice(0,S),n.slice(S)]},[n,S]),N=k[0],D=k[1];if(0===N.length)return null;var O=_(N,void 0!==E&&E,void 0===y?3:y);return/*#__PURE__*/(0,i.jsxs)("div",{className:(0,d.Z)(b().container,l),onClick:c,children:[/*#__PURE__*/(0,i.jsx)("div",{ref:x,className:(0,d.Z)(b().avatars,b()["align-".concat(void 0===C?"start":C)]),children:O.map(function(e){var t=e.type,n=e.userId;/*#__PURE__*/return(0,i.jsx)("span",{className:b().avatarContainer,children:"realUser"===t?/*#__PURE__*/(0,i.jsx)(m.s,{userId:n,size:h,className:(0,d.Z)(b().avatar,b().userAvatar),tooltipSubText:null==p?void 0:p[n]}):/*#__PURE__*/(0,i.jsx)(v.Z,{isNoTooltip:!0,fallback:"\xa0",size:h,color:"var(--grey-700)",className:b().avatar})},n)})}),D.length>0&&/*#__PURE__*/(0,i.jsx)(g,{userIds:D,isInviteOpen:t,avatarSize:h},"more")]})})},66838:function(e,t,n){"use strict";n.d(t,{G:function(){return h},z:function(){return d}});var r=n(47842),i=n(70865),o=n(96670),a=n(52322),s=n(27729),u=n(28563),c=n(3635),l=n(94280),A=/*#__PURE__*/n.n(l),d="data-move-modal-item-index",f=function(){return/*#__PURE__*/(0,a.jsx)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 9",children:/*#__PURE__*/(0,a.jsx)("path",{fill:"#fff",d:"M4 6.78L1.687 4.467a.664.664 0 10-.94.94l2.786 2.786c.26.26.68.26.94 0l7.054-7.053a.664.664 0 10-.94-.94L4 6.78z"})})},h=function(e){var t=e.name,n=e.icon,l=e.index,h=e.isActive,p=e.onClick,g=e.selected,v=e.disabled,m=e.className,y=e.onEnterPress,b=e.setActiveIndex,w=t||s.Yp,_=isNaN(l)?{}:(0,r.Z)({},d,l);return/*#__PURE__*/(0,a.jsxs)(u.Z,(0,o.Z)((0,i.Z)({icon:n,title:w},_),{isDisabled:v,isSelected:g,onKeyDown:function(e){"Enter"===e.key&&(null==y||y(),e.preventDefault(),e.stopPropagation())},focusOnMouseEnter:!1,onMouseEnter:b,onClick:v?void 0:p,className:(0,c.Z)(A().listItem,h&&A().isActive,m),children:[w,v&&" (current)",g&&/*#__PURE__*/(0,a.jsx)("span",{className:A().checkMark,children:/*#__PURE__*/(0,a.jsx)(f,{})})]}))}},57517:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(5632),i=n(2784),o=function(){var e=(0,r.useRouter)();return{goToTab:(0,i.useCallback)(function(t,n){"folder"===t&&n?e.query.folderId!==n&&e.push("/folder/".concat(n)):e.push("/dashboard/".concat(t))},[e])}}},51516:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(70865),i=n(96670),o=n(87394),a=n(2784),s=n(2732),u=(0,s.cn)({key:"settingsModalState",default:{isOpen:!1,openedPane:"members",paywallError:void 0,paywallFeature:void 0,scrollTarget:void 0}}),c=function(){var e=(0,o.Z)((0,s.FV)(u),2),t=e[0],n=e[1],c=(0,a.useCallback)(function(e){var t;n((0,i.Z)((0,r.Z)({},e),{isOpen:!0,openedPane:null!==(t=null==e?void 0:e.openedPane)&&void 0!==t?t:"members"}))},[n]),l=(0,a.useCallback)(function(){n(function(e){return(0,i.Z)((0,r.Z)({},e),{scrollTarget:void 0})})},[n]),A=(0,a.useCallback)(function(){n({isOpen:!1,openedPane:void 0})},[n]);return{setOpenedPane:(0,a.useCallback)(function(e,t,r){n({isOpen:!0,openedPane:e,paywallError:void 0,paywallFeature:"fixedSeatCount"===t?void 0:t,scrollTarget:r})},[n]),openSettingsModal:c,closeSettingsModal:A,clearScrollState:l,openedPane:t.openedPane,isSettingsModalOpen:t.isOpen,paywallError:t.paywallError,scrollTarget:t.scrollTarget,paywallFeature:t.paywallFeature}}},42896:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(52322),i=n(3635),o=n(8911),a=/*#__PURE__*/n.n(o),s=n(58241),u=/*#__PURE__*/n.n(s),c=function(e){var t=e.disabled,n=e.onClick,o=e.classNames;return/*#__PURE__*/(0,r.jsx)("div",{onClick:n,className:(0,i.Z)(null==o?void 0:o.root,a().newTemplateCard,u().templateCard,t&&a().disabled),children:/*#__PURE__*/(0,r.jsx)("span",{className:a().newTemplateCardTitle,children:"Create New Template"})})}},41832:function(e,t,n){"use strict";n.d(t,{w:function(){return L}});var r,i,o,a,s=n(52322),u=n(5632),c=n(2784),l=n(3635),A=n(66804),d=n(62866),f=n(40758),h=n(57448),p=n(48845);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(e){return /*#__PURE__*/c.createElement("svg",g({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/c.createElement("path",{d:"M6 11.2v-10M1.2 4V1.2h9.6V4m-8 6.8h6",stroke:"currentColor"})))},m=n(96584),y=n(32472),b=n(35937);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var _=function(e){return /*#__PURE__*/c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:77,height:76,viewBox:"0 0 77 76",fill:"none"},e),i||(i=/*#__PURE__*/c.createElement("path",{d:"M10.398 2.467h59.2A4.933 4.933 0 0174.532 7.4v59.2m-22.2-49.333h4.933m17.267 26.567l-14.8-14.79-7.634 6.64-20.966-24.65L23.998 18",stroke:"var(--grey-1200)",strokeWidth:4.933})),o||(o=/*#__PURE__*/c.createElement("path",{d:"M41.233 71.533h4.934m-19.734 0h4.934m-19.734 0h4.934M3 62.9h4.933M3 48.1h4.933M3 33.3h4.933M54.8 71.533h4.933M3 20.35h4.933",stroke:"var(--grey-800)",strokeWidth:4.933})),a||(a=/*#__PURE__*/c.createElement("path",{stroke:"var(--grey-1200)",strokeWidth:4.93,d:"M2.243 5.757l68 68"})))},E=n(55929),C=n(95162),B=n(26758),I=n(11269),x=n(2600),T=n(54039),S=n(77622),k=n(4126),N=n(1429),D=n(2595),O=n(58241),R=/*#__PURE__*/n.n(O),F=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t]||i[t]!==r)return{};var o=(0,S.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,b.V)(o),")")}},L=function(e){var t,n=e.template,r=e.isLoading,i=e.onPreviewClick,o=e.onUseTemplate,a=e.classNames,g=(0,u.useRouter)(),b=(0,D.Z)(),w=(0,k.F)().theme,S=n.isArchived,O=(0,I.LP)(),L=(0,c.useState)(!1),P=L[0],U=L[1],M=(0,c.useState)(!1),j=M[0],Z=M[1],Q=(0,c.useState)(!1),H=Q[0],V=Q[1],K=(0,c.useState)(n.title),G=K[0],z=K[1],W=(0,x.X)(),q=W.request,Y=W.loading,$=(0,B.o)({currentTeamId:O,isArchived:!!S,workspaceId:n.id,workspaceTeamId:n.teamId}),X=function(){U(!0),g.push("/workspace/".concat(n.id))},J=function(){j||Z(!0)},ee=function(){Z(!1),n.title!==G&&(0,T.e)(n.id,{title:G})},et=F(n,w),en=!!n.templateVersionId;return/*#__PURE__*/(0,s.jsxs)("div",{className:(0,l.Z)((void 0===a?{}:a).root,R().templateCard,(r||Y||P)&&R().disabled),children:[/*#__PURE__*/(0,s.jsxs)("div",{onClick:en?i:X,className:R().imageContainer,style:et,children:[!et.backgroundImage&&/*#__PURE__*/(0,s.jsx)("div",{className:R().fallbackContainer,children:/*#__PURE__*/(0,s.jsxs)("div",{children:[/*#__PURE__*/(0,s.jsx)(_,{}),"No thumbnail available"]})}),/*#__PURE__*/(0,s.jsxs)("div",{className:R().tooltip,children:[en?/*#__PURE__*/(0,s.jsx)(C.ZP,{variant:C.ZP.Variants.TRANSPARENT,onClick:i,children:et.backgroundImage?"Preview":"Load Preview"}):/*#__PURE__*/(0,s.jsx)(C.ZP,{variant:C.ZP.Variants.TRANSPARENT,onClick:X,children:"Edit"}),!S&&en&&/*#__PURE__*/(0,s.jsx)(C.ZP,{onClick:function(e){e.stopPropagation(),o(n)},children:"Use Template"}),!S&&!en&&/*#__PURE__*/(0,s.jsx)(C.ZP,{onClick:function(e){e.preventDefault(),e.stopPropagation(),H||n.templateVersionId||(V(!0),(0,N.X)({templateWorkspaceId:n.id,teamId:n.teamId}).then(function(){V(!1),b.success("Template published")},function(){V(!1),b.error("Error publishing")}))},isLoading:H,tooltipDisabled:H,title:"Templates must be published before they can be used.",children:"Publish"})]})]}),/*#__PURE__*/(0,s.jsxs)("div",{className:R().titleWrapper,children:[/*#__PURE__*/(0,s.jsxs)("div",{className:"rowCentered gapLarge",children:[!j&&/*#__PURE__*/(0,s.jsx)("span",{className:R().title,onClick:J,children:null!==(t=n.title)&&void 0!==t?t:y.k1}),j&&/*#__PURE__*/(0,s.jsx)(E.Z,{autoFocus:!0,value:G,className:R().renameInput,onBlur:ee,onKeyDown:function(e){"Enter"===e.key?ee():"Escape"===e.key&&(e.stopPropagation(),Z(!1),z(n.title))},onChange:function(e){return z(e.currentTarget.value)}})]}),/*#__PURE__*/(0,s.jsxs)(A.Ng,{children:[!S&&/*#__PURE__*/(0,s.jsx)(d.Wx,{label:"Use Template",icon:/*#__PURE__*/(0,s.jsx)(h.Z,{}),onClick:function(){return o(n)},isDisabled:!en}),!S&&/*#__PURE__*/(0,s.jsx)(d.Wx,{onClick:X,label:"Edit Template",icon:/*#__PURE__*/(0,s.jsx)(p.Z,{})}),S&&/*#__PURE__*/(0,s.jsx)(d.Wx,{label:"Restore Template",icon:/*#__PURE__*/(0,s.jsx)(h.Z,{}),onClick:$}),/*#__PURE__*/(0,s.jsx)(d.Wx,{onClick:J,label:"Rename",icon:/*#__PURE__*/(0,s.jsx)(v,{})}),!S&&/*#__PURE__*/(0,s.jsx)(d.Wx,{onClick:function(){q({workspaceId:n.id,teamId:n.teamId})},label:"Duplicate",icon:/*#__PURE__*/(0,s.jsx)(m.Z,{})}),!S&&/*#__PURE__*/(0,s.jsx)(A.KE,{space:"medium"}),!S&&/*#__PURE__*/(0,s.jsx)(d.Wx,{onClick:$,label:"Archive",icon:/*#__PURE__*/(0,s.jsx)(f.Z,{})})]})]})]})}},4120:function(e,t,n){"use strict";n.d(t,{E:function(){return f}});var r=n(52322),i=n(58317),o=n(52826),a=n(15673),s=/*#__PURE__*/n.n(a),u=n(3635),c=n(55324),l=/*#__PURE__*/n.n(c),A=function(e){if(e.isArchived&&e.archivedAt)return e.archivedBy;if(e.updatedAt){var t;return null===(t=l()(e.contributors,"contributedAt"))||void 0===t?void 0:t.userId}return e.createdAt?e.ownerId:void 0},d=function(e){return new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(e)},f=function(e){var t,n=e.template,a=e.classNames,c=void 0===a?{}:a,l=A(n),f=(0,o.ZP)(l);return(n.isArchived&&n.archivedAt?t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Archived on ",d(n.archivedAt.toMillis())]}):n.updatedAt?t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Updated on ",d(n.updatedAt.toMillis())]}):n.createdAt&&(t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Updated on ",d(n.createdAt.toMillis())]})),t)?/*#__PURE__*/(0,r.jsxs)("span",{className:(0,u.Z)(s().metadataContent,c.content),children:[t,/*#__PURE__*/(0,r.jsxs)("span",{children:["\xa0by\xa0",f&&/*#__PURE__*/(0,r.jsx)(i.P8,{isSelected:!1,profile:f,display:f.displayName,classNames:{avatar:s().avatar,label:(0,u.Z)(s().avatarName,c.avatarName)}})]})]}):null}},57225:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(52322),i=n(95162),o=n(5632),a=n(96237),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.successMessage,n=(0,o.useRouter)();return/*#__PURE__*/(0,r.jsxs)("div",{className:s().successToastWrapper,children:[/*#__PURE__*/(0,r.jsx)("span",{children:t}),/*#__PURE__*/(0,r.jsx)(i.ZP,{variant:i.ZP.Variants.TRANSPARENT,onClick:function(){return n.push("/dashboard/templates")},children:"Manage Templates"})]})}},68583:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(26340),i=function(e){var t=e.isArchived;return(0,r.Z)({isTemplate:!0,isArchived:t,orderBy:"createdAt",orderDir:"desc"})}},4126:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(2784),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){n(window.matchMedia("(prefers-color-scheme: dark)").matches);var e=function(e){n("dark"==(e.matches?"dark":"light"))};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}},[]),t},o=n(57685),a=n(96933),s=n(57695),u=function(){var e,t=(0,a.aF)(),n=(0,o.K)(),u=(0,a.TZ)(),c=(0,s.Su)().userUpdateService,l=i(),A=n.theme||(null==t?void 0:null===(e=t.userSettings)||void 0===e?void 0:e.theme)||"system",d=(0,r.useMemo)(function(){return!A||"system"===A&&u?l?"dark":"light":A},[A,l,u]),f=(0,r.useMemo)(function(){return"dark"===d},[d]),h=(0,r.useCallback)(function(){(null==t?void 0:t.id)&&c.updateUserSettings(t.id,{theme:f?"light":"dark"})},[f,null==t?void 0:t.id]);return{theme:d,themeSetting:A,isDarkMode:f,toggleTheme:h,setThemeSetting:(0,r.useCallback)(function(e){(null==t?void 0:t.id)&&c.updateUserSettings(t.id,{theme:e})},[null==t?void 0:t.id])}}},13942:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ft}});var r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,N,D,O,R,F,L,P,U,M,j,Z,Q,H,V={};n.r(V),n.d(V,{FILE:function(){return td},HTML:function(){return tp},TEXT:function(){return th},URL:function(){return tf}});var K=n(98788),G=n(70865),z=n(22970),W=n(52322),q=n(2732),Y=n(2784),$=n(61099),X=/*#__PURE__*/n.n($),J=n(12041),ee=n(97729),et=/*#__PURE__*/n.n(ee),en=n(5632),er=/*#__PURE__*/n.n(en),ei=n(45293),eo="dnd-core/INIT_COORDS",ea="dnd-core/BEGIN_DRAG",es="dnd-core/PUBLISH_DRAG_SOURCE",eu="dnd-core/HOVER",ec="dnd-core/DROP",el="dnd-core/END_DRAG";function eA(e,t){return{type:eo,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e){return"object"===ed(e)}var eh={type:eo,payload:{clientOffset:null,sourceClientOffset:null}};function ep(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em=/*#__PURE__*/function(){var e;function t(e,n){var r=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}return e=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e,t,n,r,i,o=this,a=this.store.dispatch,s={beginDrag:(e=this,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=n.clientOffset,o=n.getSourceClientOffset,a=e.getMonitor(),s=e.getRegistry();e.dispatch(eA(i)),(0,ei.k)(!a.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,ei.k)(s.getSource(e),"Expected sourceIds to be registered.")});var u=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,a);if(null===u){e.dispatch(eh);return}var c=null;if(i){if(!o)throw Error("getSourceClientOffset must be defined");(0,ei.k)("function"==typeof o,"When clientOffset is provided, getSourceClientOffset must be a function."),c=o(u)}e.dispatch(eA(i,c));var l=s.getSource(u).beginDrag(a,u);if(null!=l)return(0,ei.k)(ef(l),"Item must be an object."),s.pinSource(u),{type:ea,payload:{itemType:s.getSourceType(u),item:l,sourceId:u,clientOffset:i||null,sourceClientOffset:c||null,isSourcePublic:!!(void 0===r||r)}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:es}}),hover:(n=this,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.clientOffset;(0,ei.k)(Array.isArray(e),"Expected targetIds to be an array.");var i=e.slice(0),o=n.getMonitor(),a=n.getRegistry();return function(e,t,n){(0,ei.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,ei.k)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];(0,ei.k)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);(0,ei.k)(o,"Expected targetIds to be registered.")}}(i,o,a),function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];ep(t.getTargetType(i),n)||e.splice(r,1)}}(i,a,o.getItemType()),function(e,t,n){e.forEach(function(e){n.getTarget(e).hover(t,e)})}(i,o,a),{type:eu,payload:{targetIds:i,clientOffset:r||null}}}),drop:(r=this,function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.getMonitor(),i=r.getRegistry();(0,ei.k)(n.isDragging(),"Cannot call drop while not dragging."),(0,ei.k)(!n.didDrop(),"Cannot call drop twice during one drag operation."),((e=n.getTargetIds().filter(n.canDropOnTarget,n)).reverse(),e).forEach(function(e,o){var a,s,u,c=(u=s=(a=i.getTarget(e))?a.drop(n,e):void 0,(0,ei.k)(void 0===u||ef(u),"Drop result must either be an object or undefined."),void 0===s&&(s=0===o?{}:n.getDropResult()),s),l={type:ec,payload:{dropResult:ev(ev({},t),c)}};r.dispatch(l)})}),endDrag:(i=this,function(){var e=i.getMonitor(),t=i.getRegistry();(0,ei.k)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return null!=n&&(t.getSource(n,!0).endDrag(e,n),t.unpinSource()),{type:el}})};return Object.keys(s).reduce(function(e,t){var n=s[t];return e[t]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=n.apply(o,t);void 0!==i&&a(i)},e},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function ey(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var eb="function"==typeof Symbol&&Symbol.observable||"@@observable",ew=function(){return Math.random().toString(36).substring(7).split("").join(".")},e_={INIT:"@@redux/INIT"+ew(),REPLACE:"@@redux/REPLACE"+ew(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ew()}},eE=function(e,t){return e===t};function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eI={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null},ex="dnd-core/ADD_SOURCE",eT="dnd-core/ADD_TARGET",eS="dnd-core/REMOVE_SOURCE",ek="dnd-core/REMOVE_TARGET";function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null},eR=[],eF=[];function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eU(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e,t,n,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case eu:break;case ex:case eT:case ek:case eS:return eR;default:return eF}var i=r.payload,o=i.targetIds,a=void 0===o?[]:o,s=i.prevTargetIds,u=void 0===s?[]:s,c=(e=new Map,t=function(t){e.set(t,e.has(t)?e.get(t)+1:1)},a.forEach(t),u.forEach(t),n=[],e.forEach(function(e,t){1===e&&n.push(t)}),n);if(!(c.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eE;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(a,u)))return eR;var l=u[u.length-1],A=a[a.length-1];return l!==A&&(l&&c.push(l),A&&c.push(A)),c}(t.dirtyHandlerIds,{type:n.type,payload:eP(eP({},n.payload),{},{prevTargetIds:(e=[],"dragOperation.targetIds".split(".").reduce(function(t,n){return t&&t[n]?t[n]:e||null},t))})}),dragOffset:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eI,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case eo:case ea:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case eu:if(e=n.clientOffset,t=i.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y)return n;return eB(eB({},n),{},{clientOffset:i.clientOffset});case el:case ec:return eI;default:return n}}(t.dragOffset,n),refCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ex:case eT:return e+1;case eS:case ek:return e-1;default:return e}}(t.refCount,n),dragOperation:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case ea:return eD(eD({},n),{},{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case es:return eD(eD({},n),{},{isSourcePublic:!0});case eu:return eD(eD({},n),{},{targetIds:i.targetIds});case ek:if(-1===n.targetIds.indexOf(i.targetId))return n;return eD(eD({},n),{},{targetIds:(e=n.targetIds,t=i.targetId,e.filter(function(e){return e!==t}))});case ec:return eD(eD({},n),{},{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case el:return eD(eD({},n),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}(t.dragOperation,n),stateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}(t.stateId)}}function eM(e,t){return{x:e.x-t.x,y:e.y-t.y}}eR.__IS_NONE__=!0,eF.__IS_ALL__=!0;var ej=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.registry=n}return e=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;(0,ei.k)("function"==typeof e,"listener must be a function."),(0,ei.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId;return this.store.subscribe(function(){var n,o,a=t.store.getState(),s=a.stateId;try{s!==i&&(s!==i+1||(n=a.dirtyHandlerIds,o=r,n!==eR&&(n===eF||void 0===o||o.filter(function(e){return n.indexOf(e)>-1}).length>0)))&&e()}finally{i=s}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,ei.k)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,ei.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,ei.k)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&ep(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,ei.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!ep(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){var e,t,n,r;return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset,t&&n&&r?eM({x:t.x+r.x,y:t.y+r.y},n):null}},{key:"getDifferenceFromInitialOffset",value:function(){var e,t,n;return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?eM(t,n):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),eZ=0;function eQ(e){return(eQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eH(e,t){if(t&&Array.isArray(e)){e.forEach(function(e){return eH(e,!1)});return}(0,ei.k)("string"==typeof e||"symbol"===eQ(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function eV(e){eK.length||f(),eK[eK.length]=e}(a=d||(d={})).SOURCE="SOURCE",a.TARGET="TARGET";var eK=[],eG=0;function ez(){for(;eG<eK.length;){var e=eG;if(eG+=1,eK[e].call(),eG>1024){for(var t=0,n=eK.length-eG;t<n;t++)eK[t]=eK[t+eG];eK.length-=eG,eG=0}}eK.length=0,eG=0}var eW=void 0!==n.g?n.g:self,eq=eW.MutationObserver||eW.WebKitMutationObserver;function eY(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}f="function"==typeof eq?(r=1,i=new eq(ez),o=document.createTextNode(""),i.observe(o,{characterData:!0}),function(){r=-r,o.data=r}):eY(ez),eV.requestFlush=f,eV.makeRequestCallFromTimer=eY;var e$=[],eX=[],eJ=eV.makeRequestCallFromTimer(function(){if(eX.length)throw eX.shift()});function e0(e){var t;(t=e$.length?e$.pop():new e1).task=e,eV(t)}var e1=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){e0.onerror?e0.onerror(e):(eX.push(e),eJ())}finally{this.task=null,e$[e$.length]=this}},e}();function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e4(e){switch(e[0]){case"S":return d.SOURCE;case"T":return d.TARGET;default:(0,ei.k)(!1,"Cannot parse handler ID: ".concat(e))}}function e3(e,t){var n=e.entries(),r=!1;do{var i,o=n.next(),a=o.done;if((function(e){if(Array.isArray(e))return e}(i=o.value)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(i,2)||function(e,t){if(e){if("string"==typeof e)return e2(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e2(e,2)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;r=!!a}while(!r);return!1}var e5=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}return e=[{key:"addSource",value:function(e,t){eH(e),(0,ei.k)("function"==typeof t.canDrag,"Expected canDrag to be a function."),(0,ei.k)("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),(0,ei.k)("function"==typeof t.endDrag,"Expected endDrag to be a function.");var n=this.addHandler(d.SOURCE,e,t);return this.store.dispatch({type:ex,payload:{sourceId:n}}),n}},{key:"addTarget",value:function(e,t){eH(e,!0),(0,ei.k)("function"==typeof t.canDrop,"Expected canDrop to be a function."),(0,ei.k)("function"==typeof t.hover,"Expected hover to be a function."),(0,ei.k)("function"==typeof t.drop,"Expected beginDrag to be a function.");var n=this.addHandler(d.TARGET,e,t);return this.store.dispatch({type:eT,payload:{targetId:n}}),n}},{key:"containsHandler",value:function(e){return e3(this.dragSources,e)||e3(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,ei.k)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return(0,ei.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,ei.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,ei.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return e4(e)===d.SOURCE}},{key:"isTargetId",value:function(e){return e4(e)===d.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,ei.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:eS,payload:{sourceId:e}}),e0(function(){t.dragSources.delete(e),t.types.delete(e)})}},{key:"removeTarget",value:function(e){(0,ei.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:ek,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,ei.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,ei.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(eZ++).toString();switch(e){case d.SOURCE:return"S".concat(t);case d.TARGET:return"T".concat(t);default:throw Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===d.SOURCE?this.dragSources.set(r,n):e===d.TARGET&&this.dropTargets.set(r,n),r}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),e6=n(34566),e8=["children"];function e9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e7=0,te=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),tt=(0,Y.memo)(function(e){var t,n,r=e.children,i=function(e){if(Array.isArray(e))return e}(n="manager"in(t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,e8))?[{dragDropManager:t.manager},!1]:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t[te]||(t[te]={dragDropManager:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,function e(t,n,r){if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(ey(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw Error(ey(1));return r(e)(t,n)}if("function"!=typeof t)throw Error(ey(2));var i,o=t,a=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function A(){if(c)throw Error(ey(3));return a}function d(e){if("function"!=typeof e)throw Error(ey(4));if(c)throw Error(ey(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw Error(ey(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(ey(7));if(void 0===e.type)throw Error(ey(8));if(c)throw Error(ey(9));try{c=!0,a=o(a,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:e_.INIT}),(i={dispatch:f,subscribe:d,getState:A,replaceReducer:function(e){if("function"!=typeof e)throw Error(ey(10));o=e,f({type:e_.REPLACE})}})[eb]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(ey(11));function t(){e.next&&e.next(A())}return t(),{unsubscribe:d(t)}}})[eb]=function(){return this},e},i}(eU,i&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))),a=new ej(o,new e5(o)),s=new em(o,a),u=e(s,n,r);return s.receiveBackend(u),s}(e,t,n,r)}),t[te]}(t.backend,t.context,t.options,t.debugMode),!t.context])||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return e9(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e9(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1];return(0,Y.useEffect)(function(){if(a){var e=tn();return++e7,function(){0==--e7&&(e[te]=null)}}},[]),(0,W.jsx)(e6.L.Provider,Object.assign({value:o},{children:r}),void 0)});function tn(){return void 0!==n.g?n.g:window}function tr(e){var t=null;return function(){return null==t&&(t=e()),t}}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),ti(this,"entered",[]),ti(this,"isNodeInDocument",void 0),this.isNodeInDocument=e}return e=[{key:"enter",value:function(e){var t,n,r,i,o,a=this,s=this.entered.length;return this.entered=(t=this.entered.filter(function(t){return a.isNodeInDocument(t)&&(!t.contains||t.contains(e))}),n=[e],r=new Set,i=function(e){return r.add(e)},t.forEach(i),n.forEach(i),o=[],r.forEach(function(e){return o.push(e)}),o),0===s&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=this.entered.filter(this.isNodeInDocument).filter(function(t){return t!==e}),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),ta=tr(function(){return/firefox/i.test(navigator.userAgent)}),ts=tr(function(){return!!window.safari});function tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tc=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),tu(this,"xs",void 0),tu(this,"ys",void 0),tu(this,"c1s",void 0),tu(this,"c2s",void 0),tu(this,"c3s",void 0);for(var r,i,o,a=e.length,s=[],u=0;u<a;u++)s.push(u);s.sort(function(t,n){return e[t]<e[n]?-1:1});for(var c=[],l=[],A=[],d=0;d<a-1;d++)r=e[d+1]-e[d],i=n[d+1]-n[d],l.push(r),c.push(i),A.push(i/r);for(var f=[A[0]],h=0;h<l.length-1;h++){var p=A[h],g=A[h+1];if(p*g<=0)f.push(0);else{r=l[h];var v=l[h+1],m=r+v;f.push(3*m/((m+v)/p+(m+r)/g))}}f.push(A[A.length-1]);for(var y=[],b=[],w=0;w<f.length-1;w++){o=A[w];var _=f[w],E=1/l[w],C=_+f[w+1]-o-o;y.push((o-_-C)*E),b.push(C*E*E)}this.xs=e,this.ys=n,this.c1s=f,this.c2s=y,this.c3s=b}return e=[{key:"interpolate",value:function(e){var t,n=this.xs,r=this.ys,i=this.c1s,o=this.c2s,a=this.c3s,s=n.length-1;if(e===n[s])return r[s];for(var u=0,c=a.length-1;u<=c;){var l=n[t=Math.floor(.5*(u+c))];if(l<e)u=t+1;else{if(!(l>e))return r[t];c=t-1}}var A=e-n[s=Math.max(0,c)],d=A*A;return r[s]+i[s]*A+o[s]*d+a[s]*A*d}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tl(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function tA(e){return{x:e.clientX,y:e.clientY}}var td="__NATIVE_FILE__",tf="__NATIVE_URL__",th="__NATIVE_TEXT__",tp="__NATIVE_HTML__";function tg(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},"");return null!=r?r:n}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tm=(tv(h={},td,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),tv(h,tp,{exposeProperties:{html:function(e,t){return tg(e,t,"")}},matchesTypes:["Html","text/html"]}),tv(h,tf,{exposeProperties:{urls:function(e,t){return tg(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),tv(h,th,{exposeProperties:{text:function(e,t){return tg(e,t,"")}},matchesTypes:["Text","text/plain"]}),h);function ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tb=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),ty(this,"item",void 0),ty(this,"config",void 0),this.config=e,this.item={},this.initializeExposedProperties()}return e=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach(function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach(function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tw(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(tm).filter(function(e){return tm[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}function t_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tE=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),t_(this,"ownerDocument",null),t_(this,"globalContext",void 0),t_(this,"optionsArgs",void 0),this.globalContext=e,this.optionsArgs=n}return e=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(t){tI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tx=/*#__PURE__*/function(){var e;function t(e,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),tI(this,"options",void 0),tI(this,"actions",void 0),tI(this,"monitor",void 0),tI(this,"registry",void 0),tI(this,"enterLeaveCounter",void 0),tI(this,"sourcePreviewNodes",new Map),tI(this,"sourcePreviewNodeOptions",new Map),tI(this,"sourceNodes",new Map),tI(this,"sourceNodeOptions",new Map),tI(this,"dragStartSourceIds",null),tI(this,"dropTargetIds",[]),tI(this,"dragEnterTargetIds",[]),tI(this,"currentNativeSource",null),tI(this,"currentNativeHandle",null),tI(this,"currentDragSourceNode",null),tI(this,"altKeyPressed",!1),tI(this,"mouseMoveTimeoutTimer",null),tI(this,"asyncEndDragFrameId",null),tI(this,"dragOverTargetIds",null),tI(this,"getSourceClientOffset",function(e){var t=i.sourceNodes.get(e);return t&&tl(t)||null}),tI(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),tI(this,"isNodeInDocument",function(e){return!!(e&&i.document&&i.document.body&&i.document.body.contains(e))}),tI(this,"endDragIfSourceWasRemovedFromDOM",function(){var e=i.currentDragSourceNode;!(null==e||i.isNodeInDocument(e))&&i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),tI(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),tI(this,"handleTopDragStart",function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=tA(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,o=tw(r);if(i.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=i.monitor.getSourceId(),s=i.sourceNodes.get(a),u=i.sourcePreviewNodes.get(a)||s;if(u){var c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x=i.getCurrentSourcePreviewNodeOptions(),T=x.anchorX,S=x.anchorY,k=x.offsetX,N=x.offsetY,D=(c={anchorX:T,anchorY:S},l={offsetX:k,offsetY:N},f=tl((d="IMG"===u.nodeName&&(ta()||!(null!==(A=document.documentElement)&&void 0!==A&&A.contains(u))))?s:u),h={x:n.x-f.x,y:n.y-f.y},p=s.offsetWidth,g=s.offsetHeight,v=c.anchorX,m=c.anchorY,_=(y=d?u.width:p,b=d?u.height:g,ts()&&d&&(b/=window.devicePixelRatio,y/=window.devicePixelRatio),w={dragPreviewWidth:y,dragPreviewHeight:b}).dragPreviewWidth,E=w.dragPreviewHeight,C=l.offsetX,B=l.offsetY,{x:0===C||C?C:new tc([0,.5,1],[h.x,h.x/p*_,h.x+_-p]).interpolate(v),y:0===B||B?B:(I=new tc([0,.5,1],[h.y,h.y/g*E,h.y+E-g]).interpolate(m),ts()&&d&&(I+=(window.devicePixelRatio-1)*E),I)});r.setDragImage(u,D.x,D.y)}}try{null==r||r.setData("application/json",{})}catch(e){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(o)i.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}}),tI(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),tI(this,"handleTopDragEnterCapture",function(e){if(i.dragEnterTargetIds=[],!(!i.enterLeaveCounter.enter(e.target)||i.monitor.isDragging())){var t=e.dataTransfer,n=tw(t);n&&i.beginDragNativeItem(n,t)}}),tI(this,"handleTopDragEnter",function(e){var t=i.dragEnterTargetIds;i.dragEnterTargetIds=[],i.monitor.isDragging()&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:tA(e)}),t.some(function(e){return i.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))}),tI(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),tI(this,"handleTopDragOver",function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:tA(e)}),(t||[]).some(function(e){return i.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))}),tI(this,"handleTopDragLeaveCapture",function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),tI(this,"handleTopDropCapture",function(e){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=i.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else tw(e.dataTransfer)&&e.preventDefault();i.enterLeaveCounter.reset()}),tI(this,"handleTopDrop",function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:tA(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),tI(this,"handleSelectStart",function(e){var t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())}),this.options=new tE(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new to(this.isNodeInDocument)}return e=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return tB({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return tB({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(V).some(function(t){return V[t]===e})}},{key:"beginDragNativeItem",value:function(e,t){var n;this.clearCurrentDragSourceNode(),this.currentNativeSource=((n=new tb(tm[e])).loadDataTransfer(t),n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),tT=function(e,t,n){return new tx(e,t,n)};(s=p||(p={})).mouse="mouse",s.touch="touch",s.keyboard="keyboard";var tS={Left:1},tk={Left:0};function tN(e){return void 0===e.button||e.button===tk.Left}function tD(e){return!!e.targetTouches}function tO(e,t){return tD(e)?1===e.targetTouches.length?tO(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?tO(e.touches[0]):void 0:{x:e.clientX,y:e.clientY}}var tR=function(){var e=!1;try{addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function tF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tL=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),tF(this,"args",void 0),tF(this,"context",void 0),this.args=e,this.context=n}return e=[{key:"delay",get:function(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}},{key:"enableHoverOutsideTarget",get:function(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}},{key:"enableKeyboardEvents",get:function(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}},{key:"enableMouseEvents",get:function(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}},{key:"enableTouchEvents",get:function(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayTouchStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"delayMouseStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayMouseStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.context)&&void 0!==e&&e.document?this.context.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tU=(tP(g={},p.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),tP(g,p.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),tP(g,p.keyboard,{keydown:"keydown"}),g),tM=/*#__PURE__*/function(){var e;function t(e,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),tP(this,"options",void 0),tP(this,"actions",void 0),tP(this,"monitor",void 0),tP(this,"sourceNodes",void 0),tP(this,"sourcePreviewNodes",void 0),tP(this,"sourcePreviewNodeOptions",void 0),tP(this,"targetNodes",void 0),tP(this,"_mouseClientOffset",void 0),tP(this,"_isScrolling",void 0),tP(this,"listenerTypes",void 0),tP(this,"moveStartSourceIds",void 0),tP(this,"waitingForDelay",void 0),tP(this,"timeout",void 0),tP(this,"dragOverTargetIds",void 0),tP(this,"draggedSourceNode",void 0),tP(this,"draggedSourceNodeRemovalObserver",void 0),tP(this,"lastTargetTouchFallback",void 0),tP(this,"getSourceClientOffset",function(e){var t=i.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}}(t)}),tP(this,"handleTopMoveStartCapture",function(e){tN(e)&&(i.moveStartSourceIds=[])}),tP(this,"handleMoveStart",function(e){Array.isArray(i.moveStartSourceIds)&&i.moveStartSourceIds.unshift(e)}),tP(this,"handleTopMoveStart",function(e){if(tN(e)){var t=tO(e);t&&(tD(e)&&(i.lastTargetTouchFallback=e.targetTouches[0]),i._mouseClientOffset=t),i.waitingForDelay=!1}}),tP(this,"handleTopMoveStartDelay",function(e){if(tN(e)){var t=e.type===tU.touch.start?i.options.delayTouchStart:i.options.delayMouseStart;i.timeout=setTimeout(i.handleTopMoveStart.bind(i,e),t),i.waitingForDelay=!0}}),tP(this,"handleTopMoveCapture",function(){i.dragOverTargetIds=[]}),tP(this,"handleMove",function(e,t){i.dragOverTargetIds&&i.dragOverTargetIds.unshift(t)}),tP(this,"handleTopMove",function(e){if(i.timeout&&clearTimeout(i.timeout),i.document&&!i.waitingForDelay){var t,n,r=i.moveStartSourceIds,o=i.dragOverTargetIds,a=i.options.enableHoverOutsideTarget,s=tO(e,i.lastTargetTouchFallback);if(s){if(i._isScrolling||!i.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;for(var o=180*Math.atan2(r-t,n-e)/Math.PI+180,a=0;a<i.length;++a)if((null==i[a].start||o>=i[a].start)&&(null==i[a].end||o<=i[a].end))return!0;return!1}(i._mouseClientOffset.x||0,i._mouseClientOffset.y||0,s.x,s.y,i.options.scrollAngleRanges)){i._isScrolling=!0;return}if(!i.monitor.isDragging()&&i._mouseClientOffset.hasOwnProperty("x")&&r&&(t=i._mouseClientOffset.x||0,n=i._mouseClientOffset.y||0,Math.sqrt(Math.pow(Math.abs(s.x-t),2)+Math.pow(Math.abs(s.y-n),2))>(i.options.touchSlop?i.options.touchSlop:0))&&(i.moveStartSourceIds=void 0,i.actions.beginDrag(r,{clientOffset:i._mouseClientOffset,getSourceClientOffset:i.getSourceClientOffset,publishSource:!1})),i.monitor.isDragging()){var u=i.sourceNodes.get(i.monitor.getSourceId());i.installSourceNodeRemovalObserver(u),i.actions.publishDragSource(),e.cancelable&&e.preventDefault();var c=(o||[]).map(function(e){return i.targetNodes.get(e)}).filter(function(e){return!!e}),l=i.options.getDropTargetElementsAtPoint?i.options.getDropTargetElementsAtPoint(s.x,s.y,c):i.document.elementsFromPoint(s.x,s.y),A=[];for(var d in l)if(l.hasOwnProperty(d)){var f=l[d];for(A.push(f);f;)(f=f.parentElement)&&-1===A.indexOf(f)&&A.push(f)}var h=A.filter(function(e){return c.indexOf(e)>-1}).map(function(e){return i._getDropTargetId(e)}).filter(function(e){return!!e}).filter(function(e,t,n){return n.indexOf(e)===t});if(a)for(var p in i.targetNodes){var g=i.targetNodes.get(p);if(u&&g&&g.contains(u)&&-1===h.indexOf(p)){h.unshift(p);break}}h.reverse(),i.actions.hover(h,{clientOffset:s})}}}}),tP(this,"_getDropTargetId",function(e){for(var t=i.targetNodes.keys(),n=t.next();!1===n.done;){var r=n.value;if(e===i.targetNodes.get(r))return r;n=t.next()}}),tP(this,"handleTopMoveEndCapture",function(e){if(i._isScrolling=!1,i.lastTargetTouchFallback=void 0,void 0===e.buttons||(e.buttons&tS.Left)==0){if(!i.monitor.isDragging()||i.monitor.didDrop()){i.moveStartSourceIds=void 0;return}e.cancelable&&e.preventDefault(),i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.drop(),i.actions.endDrag()}}),tP(this,"handleCancelOnEscape",function(e){"Escape"===e.key&&i.monitor.isDragging()&&(i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.endDrag())}),this.options=new tL(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(p.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(p.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(p.keyboard)}return e=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var e=this.options.rootElement;e&&((0,ei.k)(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var e=this.options.rootElement;e&&(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,r){var i=tR?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var o=tU[r][t];o&&e.addEventListener(o,n,i)})}},{key:"removeEventListener",value:function(e,t,n,r){var i=tR?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var o=tU[r][t];o&&e.removeEventListener(o,n,i)})}},{key:"connectDragSource",value:function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),function(){n.sourceNodes.delete(e),n.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=this.options.rootElement;if(!this.document||!r)return function(){};var i=function(i){if(n.document&&r&&n.monitor.isDragging()){switch(i.type){case tU.mouse.move:o={x:i.clientX,y:i.clientY};break;case tU.touch.move:o={x:i.touches[0].clientX,y:i.touches[0].clientY}}var o,a=null!=o?n.document.elementFromPoint(o.x,o.y):void 0,s=a&&t.contains(a);if(a===t||s)return n.handleMove(i,e)}};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,t),function(){n.document&&(n.targetNodes.delete(e),n.removeEventListener(n.document.body,"move",i))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())}),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();tP(tM,"isSetUp",void 0);var tj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new tM(e,t,n)};n(76476);var tZ=n(58410),tQ=n(97238);function tH(){return(tH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tV(e,t){return(tV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var tK={templateTitle:"",noindex:!1,nofollow:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},tG=function(e,t,n){void 0===t&&(t=[]);var r=void 0===n?{}:n,i=r.defaultWidth,o=r.defaultHeight;return t.reduce(function(t,n,r){return t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":0"+r,property:"og:"+e,content:n.url})),n.alt&&t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":alt0"+r,property:"og:"+e+":alt",content:n.alt})),n.secureUrl&&t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":secure_url0"+r,property:"og:"+e+":secure_url",content:n.secureUrl.toString()})),n.type&&t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":type0"+r,property:"og:"+e+":type",content:n.type.toString()})),n.width?t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:n.width.toString()})):i&&t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:i.toString()})),n.height?t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:n.height.toString()})):o&&t.push(/*#__PURE__*/Y.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:o.toString()})),t},[])},tz=function(e){var t,n,r,i,o,a=[];e.titleTemplate&&(tK.templateTitle=e.titleTemplate);var s="";e.title?(s=e.title,tK.templateTitle&&(s=tK.templateTitle.replace(/%s/g,function(){return s}))):e.defaultTitle&&(s=e.defaultTitle),s&&a.push(/*#__PURE__*/Y.createElement("title",{key:"title"},s));var u=e.noindex||tK.noindex||e.dangerouslySetAllPagesToNoIndex,c=e.nofollow||tK.nofollow||e.dangerouslySetAllPagesToNoFollow,l="";if(e.robotsProps){var A=e.robotsProps,d=A.nosnippet,f=A.maxSnippet,h=A.maxImagePreview,p=A.maxVideoPreview,g=A.noarchive,v=A.noimageindex,m=A.notranslate,y=A.unavailableAfter;l=(d?",nosnippet":"")+(f?",max-snippet:"+f:"")+(h?",max-image-preview:"+h:"")+(g?",noarchive":"")+(y?",unavailable_after:"+y:"")+(v?",noimageindex":"")+(p?",max-video-preview:"+p:"")+(m?",notranslate":"")}if(u||c?(e.dangerouslySetAllPagesToNoIndex&&(tK.noindex=!0),e.dangerouslySetAllPagesToNoFollow&&(tK.nofollow=!0),a.push(/*#__PURE__*/Y.createElement("meta",{key:"robots",name:"robots",content:(u?"noindex":"index")+","+(c?"nofollow":"follow")+l}))):a.push(/*#__PURE__*/Y.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+l})),e.description&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"description",name:"description",content:e.description})),e.mobileAlternate&&a.push(/*#__PURE__*/Y.createElement("link",{rel:"alternate",key:"mobileAlternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach(function(e){a.push(/*#__PURE__*/Y.createElement("link",{rel:"alternate",key:"languageAlternate-"+e.hrefLang,hrefLang:e.hrefLang,href:e.href}))}),e.twitter&&(e.twitter.cardType&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"twitter:card",name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"twitter:site",name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:e.twitter.handle}))),e.facebook&&e.facebook.appId&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:e.facebook.appId})),(null!=(t=e.openGraph)&&t.title||s)&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:title",property:"og:title",content:(null==(i=e.openGraph)?void 0:i.title)||s})),(null!=(n=e.openGraph)&&n.description||e.description)&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:description",property:"og:description",content:(null==(o=e.openGraph)?void 0:o.description)||e.description})),e.openGraph){if((e.openGraph.url||e.canonical)&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:url",property:"og:url",content:e.openGraph.url||e.canonical})),e.openGraph.type){var b=e.openGraph.type.toLowerCase();a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:type",property:"og:type",content:b})),"profile"===b&&e.openGraph.profile?(e.openGraph.profile.firstName&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:e.openGraph.profile.firstName})),e.openGraph.profile.lastName&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:e.openGraph.profile.lastName})),e.openGraph.profile.username&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"profile:username",property:"profile:username",content:e.openGraph.profile.username})),e.openGraph.profile.gender&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"profile:gender",property:"profile:gender",content:e.openGraph.profile.gender}))):"book"===b&&e.openGraph.book?(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"book:author:0"+t,property:"book:author",content:e}))}),e.openGraph.book.isbn&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"book:isbn",property:"book:isbn",content:e.openGraph.book.isbn})),e.openGraph.book.releaseDate&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"book:release_date",property:"book:release_date",content:e.openGraph.book.releaseDate})),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"book:tag:0"+t,property:"book:tag",content:e}))})):"article"===b&&e.openGraph.article?(e.openGraph.article.publishedTime&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:published_time",property:"article:published_time",content:e.openGraph.article.publishedTime})),e.openGraph.article.modifiedTime&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:e.openGraph.article.modifiedTime})),e.openGraph.article.expirationTime&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:e.openGraph.article.expirationTime})),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:author:0"+t,property:"article:author",content:e}))}),e.openGraph.article.section&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:section",property:"article:section",content:e.openGraph.article.section})),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"article:tag:0"+t,property:"article:tag",content:e}))})):("video.movie"===b||"video.episode"===b||"video.tv_show"===b||"video.other"===b)&&e.openGraph.video&&(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach(function(e,t){e.profile&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:actor:0"+t,property:"video:actor",content:e.profile})),e.role&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:actor:role:0"+t,property:"video:actor:role",content:e.role}))}),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:director:0"+t,property:"video:director",content:e}))}),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:writer:0"+t,property:"video:writer",content:e}))}),e.openGraph.video.duration&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:duration",property:"video:duration",content:e.openGraph.video.duration.toString()})),e.openGraph.video.releaseDate&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:release_date",property:"video:release_date",content:e.openGraph.video.releaseDate})),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach(function(e,t){a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:tag:0"+t,property:"video:tag",content:e}))}),e.openGraph.video.series&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"video:series",property:"video:series",content:e.openGraph.video.series})))}e.defaultOpenGraphImageWidth&&(tK.defaultOpenGraphImageWidth=e.defaultOpenGraphImageWidth),e.defaultOpenGraphImageHeight&&(tK.defaultOpenGraphImageHeight=e.defaultOpenGraphImageHeight),e.openGraph.images&&e.openGraph.images.length&&a.push.apply(a,tG("image",e.openGraph.images,{defaultWidth:tK.defaultOpenGraphImageWidth,defaultHeight:tK.defaultOpenGraphImageHeight})),e.defaultOpenGraphVideoWidth&&(tK.defaultOpenGraphVideoWidth=e.defaultOpenGraphVideoWidth),e.defaultOpenGraphVideoHeight&&(tK.defaultOpenGraphVideoHeight=e.defaultOpenGraphVideoHeight),e.openGraph.videos&&e.openGraph.videos.length&&a.push.apply(a,tG("video",e.openGraph.videos,{defaultWidth:tK.defaultOpenGraphVideoWidth,defaultHeight:tK.defaultOpenGraphVideoHeight})),e.openGraph.audio&&a.push.apply(a,tG("audio",e.openGraph.audio)),e.openGraph.locale&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:locale",property:"og:locale",content:e.openGraph.locale})),e.openGraph.site_name&&a.push(/*#__PURE__*/Y.createElement("meta",{key:"og:site_name",property:"og:site_name",content:e.openGraph.site_name}))}return e.canonical&&a.push(/*#__PURE__*/Y.createElement("link",{rel:"canonical",href:e.canonical,key:"canonical"})),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach(function(e){var t,n,r;a.push(/*#__PURE__*/Y.createElement("meta",tH({key:"meta:"+(null!=(t=null!=(n=null!=(r=e.keyOverride)?r:e.name)?n:e.property)?t:e.httpEquiv)},e)))}),null!=(r=e.additionalLinkTags)&&r.length&&e.additionalLinkTags.forEach(function(e){var t;a.push(/*#__PURE__*/Y.createElement("link",tH({key:"link"+(null!=(t=e.keyOverride)?t:e.href)+e.rel},e)))}),a},tW=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tV(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.titleTemplate,r=e.defaultTitle,i=e.dangerouslySetAllPagesToNoIndex,o=e.dangerouslySetAllPagesToNoFollow,a=e.description,s=e.canonical,u=e.facebook,c=e.openGraph,l=e.additionalMetaTags,A=e.twitter,d=e.defaultOpenGraphImageWidth,f=e.defaultOpenGraphImageHeight,h=e.defaultOpenGraphVideoWidth,p=e.defaultOpenGraphVideoHeight,g=e.mobileAlternate,v=e.languageAlternates,m=e.additionalLinkTags,y=e.robotsProps;return /*#__PURE__*/Y.createElement(et(),null,tz({title:t,titleTemplate:n,defaultTitle:r,dangerouslySetAllPagesToNoIndex:void 0!==i&&i,dangerouslySetAllPagesToNoFollow:void 0!==o&&o,description:a,canonical:s,facebook:u,openGraph:c,additionalMetaTags:l,twitter:A,defaultOpenGraphImageWidth:d,defaultOpenGraphImageHeight:f,defaultOpenGraphVideoWidth:h,defaultOpenGraphVideoHeight:p,mobileAlternate:g,languageAlternates:v,additionalLinkTags:m,robotsProps:y}))},t}(Y.Component);/*#__PURE__*/Y.Component,RegExp("["+Object.keys(Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"})).join("")+"]","g");var tq=n(99642),tY=/*#__PURE__*/n.n(tq),t$=n(66140),tX={type:"website",title:"Eraser  AI co-pilot for technical design",description:"Deliver accurate, consistent designs faster.",images:[{url:"".concat(t$.l2.url).concat(tY()),width:1200,height:630,alt:"Eraser"}]},tJ={site:"@EraserLabs",cardType:"summary_large_image"},t0=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{og:tX}).og;return/*#__PURE__*/(0,W.jsx)(tW,{openGraph:e||tX,description:e?e.description:tX.description,twitter:tJ})},t1=n(57821),t2=n(22805),t4=function(){var e=(0,Y.useCallback)(function(e){e.preventDefault()},[]);return(0,t2.Z)({"command+s":e}),null},t3=n(33562),t5=n(96670),t6=n(54073),t8=/*#__PURE__*/n.n(t6),t9=n(96933),t7=n(52826),ne=n(42541),nt=n(49864),nn=n(32472),nr=n(11269),ni=n(70599),no=/*#__PURE__*/(0,Y.createContext)(ne.Z),na=function(){(0,Y.useEffect)(function(){var e=t8()(function(){ne.Z.updateSessionProperties({screenWidth:window.innerWidth,screenHeight:window.innerHeight})},500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},ns=function(e){ne.Z.trackEvent(null,"page_view",{page_title:document.title,page_location:document.location.href,page_path:e})},nu=n(52982),nc=n(15683),nl=n(54118),nA=n(38423),nd=n(44371);/*! js-cookie v3.0.1 | MIT */function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var nh=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=nf({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",nf({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,nf({},this.attributes,t))},withConverter:function(t){return e(nf({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),np=n(21746),ng=n(71059),nv=n(10097),nm=n(89960),ny=n(29259),nb=/*#__PURE__*/n.n(ny),nw="__session",n_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nh,t=e.get(nw);if(!t)return null;var n=decodeURIComponent(t);try{var r=JSON.parse(n);return nb()(r)?r:null}catch(e){return null}},nE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expires:365};try{nh.set(nw,JSON.stringify(e),t)}catch(e){}},nC={getItem:function(e,t){var n=n_(t);return n?n[e]:null},setItem:function(e,t,n){var r=n_();r||(r={}),r[e]=t,nE(r,n)}},nB="userSessionToken",nI=(0,np.kr)(void 0),nx=n(57685),nT=n(60379),nS=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t};(0,K.Z)(function(e){var t,n=arguments;return(0,z.__generator)(this,function(r){switch(r.label){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1]))return[3,1];return t=btoa(e),[3,3];case 1:return[4,new Promise(function(t,n){var r=new Blob("string"==typeof e?[new TextEncoder().encode(e)]:[e]),i=new FileReader;i.onload=function(e){if(!e.target||"string"!=typeof e.target.result)return n(Error("couldn't convert to byte string"));t(e.target.result)},i.readAsBinaryString(r)})];case 2:t=btoa.apply(void 0,[r.sent()]),r.label=3;case 3:return[2,t]}})});var nk=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?atob(e):(t=atob(e),new TextDecoder("utf-8").decode(nS(t)))},nN=n(19179),nD=n(43653),nO=n(45403),nR=n(85591),nF=n(80498),nL=n(26297),nP=n(4126),nU=n(1607),nM=/*#__PURE__*/n.n(nU),nj=n(2643),nZ=n(35637),nQ=n(19705),nH=/*#__PURE__*/n.n(nQ),nV=n(89563),nK=n(95343),nG=/*#__PURE__*/n.n(nK),nz=n(3635),nW="keyboard-shortcuts-scroll-container",nq=n(50930),nY=n(12982),n$=/*#__PURE__*/n.n(nY),nX=n(9850),nJ=/*#__PURE__*/n.n(nX),n0=n(6901),n1=function(){return[{label:"General",sections:[{label:"Global",shortcuts:[{keys:["Control|Alt N"],description:"New file"},{keys:["Control|Alt Shift N"],description:"New private file"},{keys:["CtrlOrCmd P"],description:"Switch file"},{keys:n0.Um?["Control|Alt Option ArrowLeft"]:["CtrlOrCmd Control|Alt ArrowLeft"],description:"Go to dashboard"},{keys:n0.Um?["Control|Alt Option ArrowRight"]:["CtrlOrCmd Control|Alt ArrowRight"],description:"Go to last file"},{keys:["CtrlOrCmd /"],description:"Keyboard shortcuts"}]},{label:"Dashboard",shortcuts:[{keys:["/"],description:"Search"},{keys:["A"],description:"All files"},{keys:["P"],description:"Private files"},{keys:["E"],description:"Archived (from all files)"},{keys:["Control|Alt 1"],description:"All (from all files)"},{keys:["Control|Alt 2"],description:"Recent files (from all files)"},{keys:["Control|Alt 3"],description:"Created by me (from all files)"},{keys:["Control|Alt 4"],description:"View folders (from all files)"},{keys:["Control|Alt 5"],description:"Unsorted (from all files)"},{keys:["[","]"],description:"Focus previous / next folder"}]}]},{label:"Document",sections:[{label:"Formatting and Blocks",shortcuts:[{keys:["CtrlOrCmd Option 1"],description:"H1 heading",markdown:"# text"},{keys:["CtrlOrCmd Option 2"],description:"H2 heading",markdown:"## text"},{keys:["CtrlOrCmd Option 3"],description:"H3 heading",markdown:"### text"},{keys:["CtrlOrCmd Shift 8"],description:"Bulleted list",markdown:"* text"},{keys:["CtrlOrCmd Shift 7"],description:"Checkbox",markdown:"[] text"},{keys:["CtrlOrCmd Shift 9"],description:"Numbered list",markdown:"1. text"},{keys:["CtrlOrCmd B"],markdown:"**text**",description:"Bold"},{keys:["CtrlOrCmd I"],description:"Italicize",markdown:"*text*"},{keys:["CtrlOrCmd U"],description:"Underline",markdown:""},{keys:["CtrlOrCmd Shift X"],description:"Strikethrough",markdown:"~text~"},{keys:["CtrlOrCmd Shift C"],description:"Inline code",markdown:"`text`"},{keys:["CtrlOrCmd Shift \\"],description:"Code block",markdown:"```"},{keys:["CtrlOrCmd K"],description:"Create or edit link",markdown:""},{keys:["CtrlOrCmd Shift M"],description:"Comment on selected text",markdown:""},{description:"Text divider",markdown:"---"},{description:"Blockquote",markdown:"> text"},{description:"Mention a colleague",markdown:"@name"},{description:"Link to another file",markdown:"+filename"}]},{label:"Edit",shortcuts:[{keys:["AltOrOption ArrowUp","AltOrOption ArrowDown"],description:"Move item up / down",markdown:""},{keys:["Tab"],description:"List  Indent",markdown:""},{keys:["Shift Tab"],description:"List  Un-indent",markdown:""},{keys:["CtrlOrCmd Enter"],description:"Checkbox  Check/uncheck",markdown:""},{keys:["Shift Enter"],description:"Line break",markdown:""},{keys:["Enter"],description:"New paragraph",markdown:""},{keys:["CtrlOrCmd Z"],description:"Undo",markdown:""},{keys:["CtrlOrCmd Shift Z"],description:"Redo",markdown:""},{keys:["CtrlOrCmd Alt T"],description:"Insert Table",markdown:""},{keys:["CtrlOrCmd Shift +"],description:"Insert table row",markdown:""},{keys:["CtrlOrCmd Shift -"],description:"Remove table row",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption +"],description:"Insert table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption -"],description:"Remove table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowUp"],description:"Move table row up",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowDown"],description:"Move table row down",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowLeft"],description:"Move table column left",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowRight"],description:"Move table column right",markdown:""}]}]},{label:"Canvas",sections:[{label:"View",shortcuts:[{keys:["CtrlOrCmd +"],description:"Zoom in"},{keys:["CtrlOrCmd -"],description:"Zoom out"},{keys:["Space Drag"],description:"Move canvas"},{keys:["Shift 2"],description:"Zoom to fit selected element(s)"}]},{label:"Tool",shortcuts:[{keys:["\\"],description:"Open insert menu"},{keys:["V","1"],description:"Selection"},{keys:["R","2"],description:"Rectangle"},{keys:["O","3"],description:"Ellipse"},{keys:["A","4"],description:"Arrow"},{keys:["L","5"],description:"Line"},{keys:["D","6"],description:"Free draw"},{keys:["T","7"],description:"Text"},{keys:["F"],description:"Figure"},{keys:["C"],description:"Comment"}]},{label:"Edit",shortcuts:[{keys:["Del"],description:"Delete"},{keys:["CtrlOrCmd C"],description:"Copy"},{keys:["CtrlOrCmd V"],description:"Paste"},{keys:["CtrlOrCmd Z"],description:"Undo"},{keys:["CtrlOrCmd Shift Z"],description:"Redo"},{keys:["CtrlOrCmd D"],description:"Duplicate"},{keys:["CtrlOrCmd G"],description:"Group"},{keys:["CtrlOrCmd Shift G"],description:"Ungroup"},{keys:["Shift F"],description:"Create figure from selection"},{keys:["CtrlOrCmd Shift F"],description:"Remove figure"},{keys:["CtrlOrCmd AltOrOption F"],description:"Resize figure to fit"},{keys:["Shift Click"],description:"Add to selection"},{keys:["CtrlOrCmd Drag"],description:"Select within background shape"},{keys:["CtrlOrCmd Click"],description:"Select within group"},{keys:["AltOrOption Drag"],description:"Drag a copy of selected elements"},{keys:["CtrlOrCmd"],description:"Prevent snapping and binding"},{keys:["["],description:"Send back"},{keys:["]"],description:"Send front"},{keys:["CtrlOrCmd ["],description:"Send backward"},{keys:["CtrlOrCmd ]"],description:"Send forward"},{keys:["Shift AltOrOption C"],description:"Copy to clipboard as PNG"}]},{label:"Flowchart",shortcuts:[{keys:["CtrlOrCmd ArrowRight"],description:"Add a connected shape"},{keys:["CtrlOrCmd ArrowRight ArrowRight"],description:"Add multiple connected shapes"},{keys:["Tab"],description:"Change shape"},{keys:["AltOrOption ArrowRight"],description:"Navigate to closest element"}]},{label:"Text",shortcuts:[{keys:["Enter"],description:"Add text to shape"},{keys:["Esc"],description:"Leave text edit mode"},{keys:["CtrlOrCmd Shift >"],description:"Increment font size"},{keys:["CtrlOrCmd Shift <"],description:"Decrement font size"}]}]},{label:"File",sections:[{label:"Manage",shortcuts:[{keys:["Control|Alt M"],description:"Move file"},{keys:["CtrlOrCmd D"],description:"Duplicate file"},{keys:["CtrlOrCmd E"],description:"Archive file"}]},{label:"Layout",shortcuts:[{keys:["Control|Alt 1"],description:"Document layout"},{keys:["Control|Alt 2"],description:"Both layout"},{keys:["Control|Alt 3"],description:"Canvas layout"},{keys:["Control|Alt C"],description:"Show or hide comments"}]},{label:"Comments",shortcuts:[{keys:["@"],description:"Mention a colleague"},{keys:["CtrlOrCmd Enter"],description:"Submit comment"},{keys:["AltOrOption R"],description:"Resolve comment"},{keys:["AltOrOption D"],description:"Delete comment"}]}]}].map(function(e){var t=e.sections.map(function(t){var n,r,i;return(0,t5.Z)((0,G.Z)({},t),{group:e.label,id:(r=(n=(0,t5.Z)((0,G.Z)({},t),{group:e.label})).group,i=n.label,"".concat(r,"-").concat(i))})});return(0,t5.Z)((0,G.Z)({},e),{sections:t})})},n2=t8()(function(e){ne.Z.trackEvent("help_center","keyboard_shortcuts_search",{searchTerm:e})},500),n4=function(){return/*#__PURE__*/(0,W.jsxs)("div",{className:nH().noResults,children:[/*#__PURE__*/(0,W.jsx)("p",{children:"It seems we don't do that (yet)."}),/*#__PURE__*/(0,W.jsx)("p",{children:"Try another search term."})]})},n3=function(e){var t=e.combinations,n=(0,Y.useCallback)(function(e){return e.map(function(e,t){return/*#__PURE__*/(0,W.jsxs)(Y.Fragment,{children:[0!==t&&/*#__PURE__*/(0,W.jsx)("span",{className:nH().shortcutDivider,children:"or"}),/*#__PURE__*/(0,W.jsx)(nV.P,{keys:e.split(" "),shortcutStyle:"pills"})]},"combination-".concat(e))})},[]);return t&&t.length?/*#__PURE__*/(0,W.jsx)("div",{className:"rowCentered",children:n(t)}):null},n5=function(e){var t=e.section,n=e.headers;return/*#__PURE__*/(0,W.jsxs)("div",{className:nH().shortcutsTable,id:t.id,children:[/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(nG().medium,nG().semiBold),children:t.label}),/*#__PURE__*/(0,W.jsxs)("table",{className:nH().table,children:[/*#__PURE__*/(0,W.jsx)("thead",{children:/*#__PURE__*/(0,W.jsx)("tr",{children:n.map(function(e,t){return/*#__PURE__*/(0,W.jsx)("th",{className:(0,nz.Z)(nG().small,nG().semiBold),children:/*#__PURE__*/(0,W.jsx)("p",{children:e})},"header-".concat(e,"-").concat(t))})})}),/*#__PURE__*/(0,W.jsx)("tbody",{children:t.shortcuts.map(function(e){return/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:e.description}),/*#__PURE__*/(0,W.jsx)("td",{children:/*#__PURE__*/(0,W.jsx)(n3,{combinations:e.keys})}),/*#__PURE__*/(0,W.jsx)("td",{children:e.markdown})]},"row-".concat(e.description))})})]})]})},n6=function(e){var t,n,r,i,o=(t=e.searchTerm,n=(0,Y.useMemo)(n1,[]),r=(0,Y.useMemo)(function(){return n.flatMap(function(e){return e.sections.flatMap(function(e){return e.shortcuts.map(function(t){var n,r,i;return{shortcut:t,section:e,searchMatches:(r=t.description.toLowerCase().replace(/-\//," ").split(/\s+/),i=(null!==(n=t.keys)&&void 0!==n?n:[]).flatMap(function(e){return e.toLowerCase().split(/\s+/)}),(0,nq.Z)(r).concat((0,nq.Z)(i)))}})})})},[n]),i=(0,Y.useMemo)(function(){return n.flatMap(function(e){return e.sections})},[n]),(0,Y.useMemo)(function(){if(!t)return i;var e=t.toLowerCase(),n=r.filter(function(t){return t.searchMatches.some(function(t){return t.match(e)})}),o=i.filter(function(t){return t.label.toLowerCase().match(e)||t.group.toLowerCase().match(e)}),a=nJ()(o);return n.forEach(function(e){var t=e.section,n=e.shortcut;if(!o.some(function(e){return e.label===t.label})){var r=a.find(function(e){return e.label===t.label});r?r.shortcuts.push(n):a.push((0,t5.Z)((0,G.Z)({},t),{shortcuts:[n]}))}}),a},[t,r,i]));return/*#__PURE__*/(0,W.jsx)("div",{className:nM().paneContainer,id:nW,children:o.length?o.map(function(e){return/*#__PURE__*/(0,W.jsx)(n5,{section:e,headers:e.shortcuts.some(function(e){return!!e.markdown})?["","","Markdown Syntax"]:[" "," "," "]},e.id)}):/*#__PURE__*/(0,W.jsx)(n4,{})})},n8=n(1551),n9=/*#__PURE__*/n.n(n8),n7=n(28563),re=n(27196),rt=function(e){var t=e.section,n=e.isSelected,r=e.onClick,i=e.onAcquiredFocus,o=(0,Y.useRef)(null),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,Y.useState)(t),r=n[0],i=n[1];return(0,Y.useEffect)(function(){var t=null==e?void 0:e.current;if(t){var n=function(){return i(!0)},r=function(){return i(!1)};return t.addEventListener("focus",n),t.addEventListener("blur",r),function(){t&&(t.removeEventListener("focus",n),t.removeEventListener("blur",r))}}},[e]),{isFocused:r}}(o).isFocused,s=(0,re.D9)(a);return(0,Y.useEffect)(function(){a&&!s&&i(t.id)},[a,s,i,t.id]),/*#__PURE__*/(0,W.jsx)(n7.Z,{ref:o,onClick:r,label:t.label,isSelected:n,focusOnMouseEnter:!1,focusSelectedOnMount:!1})},rn=function(e){var t=e.activeSectionId,n=e.setActiveSectionId,r=(0,Y.useMemo)(n1,[]);return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(n9().sideBarRoot,nH().navContainer),children:r.map(function(e){return/*#__PURE__*/(0,W.jsxs)(Y.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(n9().sideBarHeader,nG().small,nG().semiBold,nH().navHeader),children:e.label}),e.sections.map(function(e){return/*#__PURE__*/(0,W.jsx)(rt,{section:e,isSelected:e.id===t,onClick:function(){return n(e.id)},onAcquiredFocus:n},e.id)})]},e.label)})})},rr=function(e){var t,n,r,i,o,a,s,u,c,l,A,d,f,h,p,g,v=e.isOpen,m=e.onOpen,y=e.onClose,b=e.initialSearchTerm,w=(0,nL.Z)(e,["isOpen","onOpen","onClose","initialSearchTerm"]),_=(0,Y.useState)(0),E=_[0],C=_[1],B=(0,Y.useState)(),I=B[0],x=B[1],T=(t=!!v,r=(n=(0,Y.useState)(null!=b?b:""))[0],i=n[1],o=(0,Y.useMemo)(n1,[]),a=(0,Y.useMemo)(function(){return o.flatMap(function(e){return e.sections})},[o]),u=(s=(0,Y.useState)(b?void 0:o[0].sections[0].id))[0],c=s[1],l=(0,Y.useCallback)(function(e){i(e),e&&(n2(e),c(void 0))},[]),A=(0,Y.useRef)(),d=(0,Y.useRef)(),f=(0,Y.useCallback)(function(e){A.current=e,c(e)},[]),h=(0,Y.useCallback)(function(e){if(!r&&(f(e),e)){var t,n=document.getElementById(e);d.current=e,null==n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),ne.Z.trackEvent("help_center","keyboard_shortcuts_nav",{section:null===(t=a.find(function(t){return t.id===e}))||void 0===t?void 0:t.label})}},[r,a,f]),p=(0,Y.useRef)(),g=(0,Y.useRef)(!1),(0,Y.useLayoutEffect)(function(){if(t){var e=document.getElementById(nW),n=function(e){if(e.target){var t,n,r=null!==(t=p.current)&&void 0!==t?t:0,i=null!==(n=e.target.scrollTop)&&void 0!==n?n:0;d.current||(g.current=i<r),p.current=i}};return null==e||e.addEventListener("scroll",n),function(){null==e||e.removeEventListener("scroll",n)}}},[t]),(0,Y.useLayoutEffect)(function(){if(t){var e=new IntersectionObserver(function(e){var t=e.find(function(e){return e.isIntersecting});if(t){var n=t.target.id,r=d.current;if(r){n===r&&(d.current=void 0);return}f(n)}else{var i=e[0].target;if(i.id!==A.current)return;if(i.id===d.current){d.current=void 0;return}var o=g.current?-1:1,s=n$()(a,{id:i.id}),u=a[s+o];u&&f(u.id)}},{root:document.getElementById(nW),threshold:.6});return a.forEach(function(t){var n=document.getElementById(t.id);n&&e.observe(n)}),function(){e.disconnect()}}},[a,t,f]),{searchTerm:r,setSearchTerm:l,activeSectionId:u,setActiveSectionId:h}),S=T.searchTerm,k=T.setSearchTerm,N=(0,nP.F)().theme,D=(0,Y.useCallback)(function(){return C(performance.now()),S&&S!==b&&k(""),m()},[m,S,k,b]),O=(0,Y.useCallback)(function(e){var t=Math.round((performance.now()-E)/1e3);return C(0),x(void 0),ne.Z.trackEvent("help_center","keyboard_shortcuts_view",{timeSpentInSeconds:t,origin:null!=e?e:"button"}),null==y?void 0:y()},[y,E]);if((0,t2.Z)({"mod+/":function(){v?O(I):(x("keyboard"),D())}}),!v)return null;var R=/*#__PURE__*/(0,W.jsxs)("div",{className:"rowCentered spaceBetween",children:["Keyboard Shortcuts and Markdown Syntax",/*#__PURE__*/(0,W.jsx)(nZ.Z,{searchTerm:S,setSearchTerm:k,className:nH().searchInput,autoFocus:!0})]});return/*#__PURE__*/(0,W.jsx)(nj.Z,(0,t5.Z)((0,G.Z)({},w),{isOpen:v,onClose:O,theme:N,bottomGradient:!0,className:nM().modalRoot,title:R,showTitleSeparator:!0,size:nj.Z.Sizes.XL,closeButtonVariant:"text",children:/*#__PURE__*/(0,W.jsxs)("div",{className:nM().container,children:[/*#__PURE__*/(0,W.jsx)(rn,(0,G.Z)({},T)),/*#__PURE__*/(0,W.jsx)(n6,(0,G.Z)({},T))]})}))},ri=n(39033),ro=n(27804),ra=n(56380),rs=n(68608),ru=n(56060),rc=n(45932),rl=n(98916),rA=[ru.c.InviteTeamMember],rd=[ru.c.OpenInsertMenu,ru.c.AddFigure,ru.c.GenerateAiDiagram,ru.c.GenerateDiagramWithCode],rf=/*#__PURE__*/(0,Y.createContext)({setupItems:[],tutorialItems:[],allItems:[],completedItems:[]}),rh=n(57517),rp=n(64442),rg=n(15765),rv=/*#__PURE__*/(0,Y.createContext)({isMouseMoving:{current:!1}}),rm=function(){return(0,Y.useContext)(rv)},ry=n(89813),rb=n(67640);function rw(){return(rw=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){return e?[2,e.getIdToken()]:[2,void 0]})})).apply(this,arguments)}function r_(e){try{v=function(e){return rw.apply(this,arguments)}(e)}catch(e){(0,nm.T)(e)}}rb.Z.init(function(){return Promise.race([v,(0,ry.Z)(1e3)])}),nv.I8.onAuthStateChanged(r_),nv.I8.onIdTokenChanged(r_);var rE=n(87394),rC=n(19275),rB=n(1158),rI=n(95162),rx=n(11747),rT=n(66804),rS=n(97420),rk=n(62866),rN=n(55929),rD=n(45026),rO=/*#__PURE__*/n.n(rD),rR=function(e){return e.replace(/^\//,"")},rF=function(e){return e.includes("/")},rL=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,i=void 0===r?{}:r,o=(0,nL.Z)(e,["onClose","onCreate","initialDto"]),a=(0,rE.Z)((0,rC.R)({fileName:i.fileName||"",filePath:i.filePath||"/",repositoryId:i.repositoryId||"",organizationId:i.organizationId||""}),2),s=a[0],u=a[1],c=(0,rB.T5)({repositoryId:s.repositoryId,organizationId:s.organizationId}),l=c.organization,A=c.repository,d=(0,ri.k3)(),f=d.organizations,h=d.repositoriesMap,p=l&&A?"".concat(l.name,"/").concat(A.name):void 0,g=!p||!s.filePath||!s.fileName||rF(s.fileName);return/*#__PURE__*/(0,W.jsxs)(nj.Z,(0,t5.Z)((0,G.Z)({},o),{title:"New GitHub file",onClose:t,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:rO().repositoryWrapper,children:[/*#__PURE__*/(0,W.jsx)(rS.A,{labelClassNames:{root:rO().repositoryLabel},children:"Repository"}),/*#__PURE__*/(0,W.jsx)(rT.Lt,{takeWidthOfToggle:!0,title:p,selected:p,noSelectionTitle:"Select repository ...",classNames:{menu:rO().dropdownMenu},toggleClassNames:{button:rO().dropdownToggleRoot,root:rO().toggleRoot},children:(f&&h?f.flatMap(function(e){var t=h.get(e.id);return t?t.map(function(t){return{organization:e,repository:t}}):[]}):[]).map(function(e){var t=e.organization,n=e.repository;return/*#__PURE__*/(0,W.jsx)(rk.Wx,{label:"".concat(t.name,"/").concat(n.name),onClick:function(){return u({organizationId:t.id,repositoryId:n.id})}},n.id)})})]}),/*#__PURE__*/(0,W.jsx)(rN.Z,{label:"File path",value:s.filePath,placeholder:"Enter path ...",onChange:function(e){return u({filePath:e.currentTarget.value})}}),/*#__PURE__*/(0,W.jsx)(rN.Z,{autoFocus:!0,label:"File name",value:s.fileName,placeholder:"Name your file ...",onChange:function(e){return u({fileName:e.currentTarget.value})}}),rF(s.fileName)&&/*#__PURE__*/(0,W.jsx)("small",{children:"File name cannot include slash character."}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{disabled:g,onClick:function(){var e,t=rR(s.filePath),r=(e=rR(s.fileName)).toLocaleLowerCase().endsWith(".md")?e:"".concat(e,".md");n((0,t5.Z)((0,G.Z)({},s),{filePath:t,fileName:r}))},variant:rI.ZP.Variants.REGULAR,children:"Create File"})]})]}))},rP=n(76784),rU=n(25300),rM=n(2600),rj=n(59380),rZ=n(48696),rQ=n(10185),rH=/*#__PURE__*/(0,Y.createContext)({openGitHubModal:function(){},isCreatingWorkspace:!1,setCreationState:function(){},openTemplatesModal:function(){},createNewWorkspace:function(){}}),rV=(0,t3.b1)(ro.H,nl.o,nu.H,function(e){var t=e.children,n=(0,Y.useState)(),r=n[0],i=n[1],o=(0,Y.useState)(),a=o[0],s=o[1],u=(0,nx.K)(),c=(0,nO.Pe)();return(0,Y.useEffect)(function(){return i(c.currentUser.getAuthUser()),c.currentUser.on(c.currentUser.Events.AuthUserChanged,i),function(){c.currentUser.off(c.currentUser.Events.AuthUserChanged,i)}},[]),(0,ng.Z)(function(){(null==u?void 0:u.name)&&c.currentUser.setDisplayNameForCurrentSession(nk(u.name))},[null==u?void 0:u.name]),(0,Y.useEffect)(function(){nN.IU&&nv.I8.getRedirectResult().then(function(e){var t=e.user,n=e.additionalUserInfo;null!=t&&(null==n?void 0:n.isNewUser)&&ne.Z.trackEvent("account","create",{userId:t.uid,email:t.email,oldUserId:(0,nT.ES)(),authMethod:"google.com"===n.providerId?"google":"microsoft"})}).catch(nm.T)},[]),(0,Y.useEffect)(function(){return s(c.currentUser.getCurrentUser()),c.currentUser.on(c.currentUser.Events.UserChanged,s),function(){c.currentUser.off(c.currentUser.Events.UserChanged,s)}},[]),/*#__PURE__*/(0,W.jsx)(nD._.Provider,{value:r,children:/*#__PURE__*/(0,W.jsx)(nD.S.Provider,{value:a,children:t})})},function(e){var t=e.children,n=(0,Y.useState)(),r=n[0],i=n[1];return(0,ng.Z)(function(){return nv.I8.onAuthStateChanged(function(e){e&&e.getIdToken().then(function(e){i(e),nC.setItem(nB,e,{secure:!0})}).catch(nm.T)})}),(0,ng.Z)(function(){return nv.I8.onIdTokenChanged(function(e){e&&e.getIdToken().then(function(e){i(e),nh.set(nB,e,{secure:!0})}).catch(nm.T)})}),/*#__PURE__*/(0,W.jsx)(nI.Provider,{value:r,children:t})},nc.jH,nA.f,function(e){var t=e.children,n=(0,en.useRouter)(),r=(0,nr.Rs)(),i=(0,t9.aF)(),o=(0,t9.fC)(),a=(0,t7.ZP)(null==o?void 0:o.id,!0);(0,Y.useEffect)(function(){var e,t,n={referrer:document.referrer,screenWidth:window.innerWidth,screenHeight:window.innerHeight};r&&(n.teamId=r.id,n.teamPaymentPlan=null!==(t=null===(e=r.plan)||void 0===e?void 0:e.planType)&&void 0!==t?t:ni.k9.Free),ne.Z.updateSessionProperties(n)},[r]),na(),(0,Y.useEffect)(function(){if(a&&o&&i&&a.id===o.id&&null!=a.displayName){var e,t,n=function(e){var t={tools:null===(o=e.surveyData)||void 0===o?void 0:o.tools,useCases:null===(a=e.surveyData)||void 0===a?void 0:a.useCases,role:null===(s=e.surveyData)||void 0===s?void 0:s.role},n=!0,r=!1,i=void 0;try{for(var o,a,s,u,c,l,A,d,f=(null!==(A=null===(u=e.surveyData)||void 0===u?void 0:u.tools)&&void 0!==A?A:[])[Symbol.iterator]();!(n=(d=f.next()).done);n=!0){var h=d.value;t["tools.".concat(h)]=!0}}catch(e){r=!0,i=e}finally{try{n||null==f.return||f.return()}finally{if(r)throw i}}var p=!0,g=!1,v=void 0;try{for(var m,y,b=(null!==(m=null===(c=e.surveyData)||void 0===c?void 0:c.useCases)&&void 0!==m?m:[])[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;t["useCases.".concat(w)]=!0}}catch(e){g=!0,v=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw v}}return(null===(l=e.surveyData)||void 0===l?void 0:l.customToolsInput)&&(t["tools.custom"]=e.surveyData.customToolsInput),t}(i);ne.Z.identify((0,t5.Z)((0,G.Z)({},n),{id:o.id,email:null!==(e=o.email)&&void 0!==e?e:"",displayName:a.displayName,emailVerified:null!==(t=o.emailVerified)&&void 0!==t&&t,isAnonymous:o.isAnonymous,analyticsId:a.analyticsId,signUpOrigin:a.signUpOrigin,signUpCampaign:a.signUpCampaign,signUpTemplate:a.signUpTemplate,signUpPage:a.signUpPage}))}},[a,i,o]);var s=null==a?void 0:a.analyticsId;return(0,Y.useEffect)(function(){s&&nt.b.add({name:nn.IF,value:s})},[s]),(0,Y.useEffect)(function(){return ns(n.asPath),n.events.on("routeChangeComplete",ns),function(){n.events.off("routeChangeComplete",ns)}},[n.events]),/*#__PURE__*/(0,W.jsx)(no.Provider,{value:ne.Z,children:t})},nd.Hq,ri.Ii,function(e){var t=e.children,n=(0,nF.Z)(),r=n.isOpen,i=n.onOpen,o=n.onClose,a=(0,Y.useMemo)(function(){return{isKeyboardShortcutsOpen:r,openKeyboardShortcuts:i,closeKeyboardShortcuts:o}},[r,i,o]);return/*#__PURE__*/(0,W.jsxs)(nR.Z.Provider,{value:a,children:[t,/*#__PURE__*/(0,W.jsx)(rr,{isOpen:r,onOpen:i,onClose:o})]})},rs.dq,ra.ZP,function(e){var t,n=e.children,r=(0,t9.aF)(),i=(0,rl.b)(),o=i.loading,a=i.activations,s=(0,Y.useMemo)(function(){var e,t=rA.slice(),n=(null==r?void 0:null===(e=r.surveyData)||void 0===e?void 0:e.tools)||[];return n.includes(rc.Ib.GITHUB)&&t.push(ru.c.GitHubSync),n.includes(rc.Ib.VS_CODE)&&t.push(ru.c.VsCodeExtensionDownload),n.includes(rc.Ib.NOTION)&&t.push(ru.c.GetStartedNotionIntegrationClicked),n.includes(rc.Ib.CONFLUENCE)&&t.push(ru.c.GetStartedConfluenceIntegrationClicked),t},[r]),u=(0,Y.useMemo)(function(){return rd.concat(s)},[rd,s]),c=(0,Y.useMemo)(function(){return u.filter(function(e){return a[e]})},[a,u]),l=(0,Y.useState)(c.length),A=(l[0],l[1]);return(0,Y.useEffect)(function(){o||A(c.length)},[o]),(0,Y.useEffect)(function(){var e;(null==r?void 0:null===(e=r.userSettings)||void 0===e?void 0:e.isGettingStartedEnabled)&&A(function(e){return c.length===e||o?e:(ne.Z.trackEvent("get_started_checklist","progress",{completed:c.length}),c.length)})},[c,o,null==r?void 0:null===(t=r.userSettings)||void 0===t?void 0:t.isGettingStartedEnabled]),/*#__PURE__*/(0,W.jsx)(rf.Provider,{value:{setupItems:s,tutorialItems:rd,allItems:u,completedItems:c},children:n})},function(e){var t=e.children,n=(0,en.useRouter)(),r=(0,nr.LP)(),i=(0,nP.F)().toggleTheme,o=(0,Y.useRef)(!1),a=(0,rp.l)().register,s=(0,rh.i)().goToTab,u=(0,rg.Q6)(ni.AC.PrivateWorkspaces,r);return(0,Y.useEffect)(function(){a("toggleDarkMode",i),a("goToDashboard",{action:function(){return s("all")},isHidden:function(){return"/dashboard/all"===n.pathname}}),a("goToArchive",{action:function(){return s("archived")},isHidden:function(){return"/dashboard/archived"===n.pathname}}),a("goToTemplates",{action:function(){return s("templates")},isHidden:function(){return"/dashboard/templates"===n.pathname}}),a("goToPrivateFiles",{action:function(){return s("private")},isHidden:function(){return!u||"/dashboard/private"===n.pathname}})},[a,s,i,n.pathname,u]),/*#__PURE__*/(0,W.jsx)(rv.Provider,{value:{isMouseMoving:o},children:t})},function(e){var t=e.children,n=(0,nr.LP)(),r=(0,rZ.MZ)(),i=(0,rp.l)().register,o=(0,rQ.Q)().tabId,a=(0,rU.Z)(),s=a.loading,u=a.request,c=(0,Y.useRef)({}),l=((0,rj.k_)()||{}).id,A=((0,rj.dr)()||{}).id,d=(0,rM.X)(),f=d.request,h=d.loading,p=(0,rg.Q6)(ni.AC.PrivateWorkspaces,n),g=(0,nF.Z)(),v=g.onOpen,m=g.isOpen,y=g.onClose,b=(0,nF.Z)(),w=b.onOpen,_=b.isOpen,E=b.onClose,C=s||h,B=(0,Y.useCallback)(function(e){c.current=e},[]),I=(0,Y.useCallback)(function(){var e,t,n=c.current,r=n.gitHub,i=n.template,o=n.folderId,a=n.isPrivate,s=n.isNewTemplate,l=n.eventSource;if(r){var A=r.fileName,d=r.filePath,h=r.repositoryId,p=r.organizationId,g=d.length?"".concat(d,"/").concat(A):A;e=A.replace(/\.md$/,""),t={filePath:g,repositoryId:h,organizationId:p}}var v={title:e,folderId:o,isPrivate:a,gitHubRepository:t,isTemplate:s};i?f({workspaceOverrides:v,isFromTemplate:!0,teamId:i.teamId,workspaceId:i.id,versionId:i.templateVersionId}):u(void 0===l?"header_button":l,v)},[f,u]);return(0,Y.useEffect)(function(){i("newPrivateFile",{isHidden:function(){return!p},action:function(){B({isPrivate:!0,eventSource:"command_k"}),I()}}),i("newGitHubFile",function(){l&&A?B({eventSource:"command_k",gitHub:{fileName:"",filePath:"",repositoryId:l,organizationId:A}}):B({eventSource:"command_k"}),v()}),i("newFile",{isHidden:function(){return"private"===o},action:function(){B({folderId:r,eventSource:"command_k"}),I()}}),i("newFileFromTemplate",function(){l&&A?B({gitHub:{fileName:"",filePath:"",repositoryId:l,organizationId:A}}):B({folderId:r,isPrivate:"private"===o}),w()})},[o,i,r,l,A,v,B,w,I,p]),/*#__PURE__*/(0,W.jsxs)(rH.Provider,{value:{openGitHubModal:v,setCreationState:B,openTemplatesModal:w,createNewWorkspace:I,isCreatingWorkspace:C},children:[t,_&&/*#__PURE__*/(0,W.jsx)(rP.U,{isOpen:!0,mountedIn:"other",templateToPreview:null,isLoading:h,onUseTemplate:function(e){B((0,t5.Z)((0,G.Z)({},c.current),{template:e})),c.current.gitHub?v():I()},onClose:E}),m&&/*#__PURE__*/(0,W.jsx)(rL,{isOpen:!0,onClose:y,onCreate:function(e){B((0,t5.Z)((0,G.Z)({},c.current),{gitHub:e})),I()},initialDto:c.current.gitHub})]})});rV.displayName="AppContextProviders";var rK=n(23630),rG=function(e){var t=(0,Y.useRef)(!0),n=(0,Y.useCallback)(function(){t.current?t.current=!1:e()},[e]);(0,Y.useEffect)(function(){return nv.Fs.ref("force-client-version").on("value",n),function(){nv.Fs.ref("force-client-version").off("value",n)}},[n])},rz="eraserTheme",rW=n(80003),rq=function(){var e=(0,nP.F)(),t=e.theme,n=e.toggleTheme,r=e.isDarkMode,i=(0,Y.useCallback)(function(){n(),ne.Z.trackEvent("dark_mode","toggle_theme",{source:"global_shortcut",theme:r?"light":"dark"})},[n,r]);return(0,t2.Z)({"shift+alt+d":i},{stopCallback:null}),(0,Y.useEffect)(function(){t&&(nh.remove("eraserTheme"),nC.setItem(rz,t)),r?window.document.documentElement.classList.add(rW.W):window.document.documentElement.classList.remove(rW.W)},[t,r]),null};n(79827),n(48538);var rY=n(53788),r$=n(51516),rX=n(57695);function rJ(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,Y.useRef)(e);r.current=e;var i=(0,Y.useRef)(n);i.current=n;var o=(0,Y.useRef)(t);o.current=t,(0,Y.useEffect)(function(){if("undefined"!=typeof document){var e=function(e){var t;o.current&&"Enter"===e.key&&(!i.current||e.metaKey||e.ctrlKey)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),null===(t=r.current)||void 0===t||t.call(r))};return document.addEventListener("keydown",e,!0),function(){document.removeEventListener("keydown",e,!0)}}})}var r0=n(89735),r1=/*#__PURE__*/n.n(r0),r2=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,i=void 0===r?{}:r,o=e.isOpen,a=(0,nL.Z)(e,["onClose","onCreate","initialDto","isOpen"]),s=(0,rE.Z)((0,rC.R)({name:i.name||"",description:i.description||""}),2),u=s[0],c=s[1];(0,Y.useEffect)(function(){o&&c({name:i.name||"",description:i.description||""})},[o,i.name,i.description,c]);var l=!u.name.trim(),A=function(){n({name:u.name.trim(),description:u.description.trim()})};return rJ(A,!!o),/*#__PURE__*/(0,W.jsxs)(nj.Z,(0,t5.Z)((0,G.Z)({},a),{isOpen:o,title:"New Reference Library",onClose:t,children:[/*#__PURE__*/(0,W.jsx)("p",{className:r1().description,children:"Reference libraries help your team organize and reuse diagrams."}),/*#__PURE__*/(0,W.jsx)(rN.Z,{autoFocus:!0,label:"Name",name:"library-name",value:u.name,placeholder:"Acme Corp Architecture Library",onChange:function(e){return c({name:e.currentTarget.value})}}),/*#__PURE__*/(0,W.jsx)(rN.Z,{label:"Description",name:"library-description",value:u.description,placeholder:"Briefly describe the diagrams this library will contain",onChange:function(e){return c({description:e.currentTarget.value})}}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{className:r1().buttonGroup,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{disabled:l,onClick:A,variant:rI.ZP.Variants.REGULAR,children:"Create library"})]})]}))},r4=n(13535),r3=/*#__PURE__*/n.n(r4),r5=function(e){var t=e.onClose,n=e.onRename,r=e.currentName,i=e.isOpen,o=e.loading,a=(0,nL.Z)(e,["onClose","onRename","currentName","isOpen","loading"]),s=(0,rE.Z)((0,rC.R)({name:r}),2),u=s[0],c=s[1];(0,Y.useEffect)(function(){i&&c({name:r})},[i,r,c]);var l=!u.name.trim(),A=function(){n({name:u.name.trim()})};return rJ(A,!!i),/*#__PURE__*/(0,W.jsxs)(nj.Z,(0,t5.Z)((0,G.Z)({},a),{isOpen:i,title:"Rename library",onClose:t,children:[/*#__PURE__*/(0,W.jsx)(rN.Z,{autoFocus:!0,label:"Name",value:u.name,onChange:function(e){return c({name:e.currentTarget.value})}}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{className:r3().buttonGroup,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{disabled:l,onClick:A,variant:rI.ZP.Variants.REGULAR,isLoading:o,children:"Save"})]})]}))},r6=n(9067),r8=/*#__PURE__*/n.n(r6),r9=function(e){var t=e.onClose,n=e.onDelete,r=e.libraryName,i=e.loading,o=e.isOpen,a=(0,nL.Z)(e,["onClose","onDelete","libraryName","loading","isOpen"]);return rJ(n,!!o),/*#__PURE__*/(0,W.jsxs)(nj.Z,(0,t5.Z)((0,G.Z)({},a),{isOpen:o,title:"Delete reference library and diagrams?",onClose:t,children:[/*#__PURE__*/(0,W.jsxs)("p",{className:r8().description,children:["Selecting confirm will delete the reference library ",/*#__PURE__*/(0,W.jsx)("strong",{children:r})," and delete all the containing diagrams."]}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{className:r8().buttonGroup,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:n,variant:rI.ZP.Variants.DANGER,isLoading:i,children:"Confirm"})]})]}))},r7=n(88138),ie=function(e){var t,n,r=e.children,i=(0,nr.LP)(),o=(0,r$.Y)().openSettingsModal,a=(0,rX.Su)().analyticsService,s=(0,rg.Q6)(ni.AC.CustomAiContext,i),u=(0,nO.IA)(function(e){return e.aiContext}),c=(0,Y.useState)(),l=c[0],A=c[1],d=(0,Y.useState)(!1),f=d[0],h=d[1],p=(0,Y.useState)(!1),g=p[0],v=p[1],m=(0,Y.useState)(!1),y=m[0],b=m[1],w=(0,Y.useState)(!1),_=w[0],E=w[1],C=null==u?void 0:u.find(function(e){return e.id===l}),B=(0,Y.useCallback)(function(){a.trackEvent("payment","open_billing_pane",{source:"customAiManager"}),o({openedPane:"plans",paywallFeature:ni.M$.PremiumCredits})},[a,o]),I=(0,Y.useCallback)(function(e){if(("custom"===e||"new-library"===e)&&!s){A(void 0),B();return}if("new-library"===e){h(!0);return}A(e)},[B,s]),x=(0,Y.useCallback)((t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:if(!i)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,rb.Z.post("team/".concat(i,"/aiContexts"),{name:e.name,description:e.description,type:rY.r2.DiagramLibrary,exampleDiagrams:[],isBuiltIn:!1,referenceDiagrams:[],statements:[],teamId:i})];case 2:return A(t.sent().id),[3,5];case 3:return t.sent(),[3,5];case 4:return h(!1),[7];case 5:return[2]}})}),function(e){return t.apply(this,arguments)}),[i]),T=(0,Y.useCallback)((n=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:if(!i||!C)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),E(!0),[4,rb.Z.put("team/".concat(i,"/aiContexts/").concat(C.id),(0,t5.Z)((0,G.Z)({},C),{name:e.name}))];case 2:return t.sent(),v(!1),[3,5];case 3:return t.sent(),[3,5];case 4:return E(!1),[7];case 5:return[2]}})}),function(e){return n.apply(this,arguments)}),[i,C]),S=(0,Y.useCallback)(/*#__PURE__*/(0,K.Z)(function(){var e;return(0,z.__generator)(this,function(t){switch(t.label){case 0:if(!i||!C)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),E(!0),A(void 0),[4,rb.Z.delete("team/".concat(i,"/aiContexts/").concat(C.id))];case 2:return t.sent(),b(!1),u&&u.length>1&&(e=u.filter(function(e){return e.id!==C.id})).length>0&&A(e[0].id),[3,5];case 3:return t.sent(),[3,5];case 4:return E(!1),[7];case 5:return[2]}})}),[i,C,u]),k=(0,Y.useMemo)(function(){return{aiContexts:u,selectedContextId:l,selectedContext:C,isNewLibraryModalOpen:f,isRenameModalOpen:g,isDeleteModalOpen:y,canCreateNewReference:s,handleSelectContext:I,handleUpgradeClick:B,handleCreateLibrary:x,handleRenameLibrary:T,handleDeleteLibrary:S,setIsNewLibraryModalOpen:h,setIsRenameModalOpen:v,setIsDeleteModalOpen:b}},[u,l,C,f,g,y,s,I,B,x,T,S]);return/*#__PURE__*/(0,W.jsxs)(r7.sK.Provider,{value:k,children:[r,f&&/*#__PURE__*/(0,W.jsx)(r2,{isOpen:f,onClose:function(){h(!1)},onCreate:x}),C&&/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(r5,{isOpen:g,onClose:function(){return v(!1)},currentName:C.name,onRename:T,loading:_}),/*#__PURE__*/(0,W.jsx)(r9,{isOpen:y,onClose:function(){return b(!1)},libraryName:C.name,onDelete:S,loading:_})]})]})},it=n(66161),ir=n(53327),ii=n(64870),io=n(47842),ia=n(37944),is=n(43667),iu=n(51992),ic=n(27729),il=n(12171),iA=n(74010),id=n(27750);function ih(){return(ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var ip=function(e){return /*#__PURE__*/Y.createElement("svg",ih({width:16,height:15,viewBox:"0 0 16 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),m||(m=/*#__PURE__*/Y.createElement("path",{fill:"currentColor",d:"M9.382 2.53H8.16L6.307.676 6.16.53H1.953a1.5 1.5 0 00-1.5 1.5v9.429l1-1V2.03a.5.5 0 01.5-.5h3.793L7.6 3.384l.146.146h.637l1-1zm-2.929 10h7.5a.5.5 0 00.5-.5v-7.5l.936-.936a1.5 1.5 0 01.064.436v8a1.5 1.5 0 01-1.5 1.5h-8.5l1-1z",clipRule:"evenodd",fillRule:"evenodd"})),y||(y=/*#__PURE__*/Y.createElement("path",{stroke:"currentColor",d:"M1.1 14.176l13-13"})))};function ig(){return(ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var iv=function(e){return /*#__PURE__*/Y.createElement("svg",ig({width:17,height:15,viewBox:"0 0 17 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),b||(b=/*#__PURE__*/Y.createElement("path",{fill:"currentColor",d:"M1.445 2.105a.5.5 0 01.5-.5h3.793l1.854 1.854.146.146h6.207a.5.5 0 01.5.5v1.5h1v-1.5a1.5 1.5 0 00-1.5-1.5H8.152L6.3.751 6.152.605H1.945a1.5 1.5 0 00-1.5 1.5v10a1.5 1.5 0 001.5 1.5h5.5v-1h-5.5a.5.5 0 01-.5-.5v-10z",clipRule:"evenodd",fillRule:"evenodd"})),w||(w=/*#__PURE__*/Y.createElement("path",{stroke:"currentColor",d:"M12.945 7.605v7m-3.5-3.5h7"})))},im=n(88404),iy=n(86588),ib=n(60238),iw=n(56820),i_=/*#__PURE__*/n.n(iw),iE=function(){var e,t,n,r=(0,en.useRouter)(),i=(0,rZ.wK)(),o=(0,Y.useRef)(null),a=(0,rp.l)().register,s=(0,iA.Z)(),u=s.getFolderPath,c=s.createFolder,l=s.renameFolder,A=u(null==i?void 0:i.id),d=(0,Y.useCallback)(function(){var e,t;o.current.focus(),null===(e=document.getSelection())||void 0===e||e.selectAllChildren(o.current),null===(t=document.getSelection())||void 0===t||t.collapseToEnd()},[]),f=function(e){var t=e.currentTarget.textContent;t!==(null==i?void 0:i.name)&&(e.currentTarget.blur(),l(null!=t?t:"",null==i?void 0:i.id))},h=function(e){r.push("/folder/".concat(e))},p=null==i?void 0:i.teamId,g=(0,Y.useCallback)(function(){var e;c({name:"",parentFolderId:null!==(e=null==i?void 0:i.id)&&void 0!==e?e:null,origin:"header",shouldOpen:!1})},[c,null==i?void 0:i.id]);return((0,Y.useEffect)(function(){a("renameFolder",d),A.length<ib.p&&p&&a("newFolder",g)},[a,d,g,A.length,p]),i)?/*#__PURE__*/(0,W.jsxs)("div",{className:i_().folderTitleRoot,children:[/*#__PURE__*/(0,W.jsxs)(il.c,{children:[(e="#dots#",t=[],(n=A.slice(0,-1)).length<=3?t=n:(t.push(n[0]),t.push({id:e,name:"..."}),t.push(n[n.length-1]),t.push(n[n.length-2])),t.map(function(t){return/*#__PURE__*/(0,W.jsx)(il.c.Item,{isReadOnly:!0,value:t.name||ic.Yp,href:"/folder/".concat(t.id),isDisabled:t.id===e,mode:t.id===e?"edit":"link",onLinkClick:function(){return h(t.id)}},t.id)})),/*#__PURE__*/(0,W.jsx)(il.c.Item,{ref:o,isReadOnly:!1,value:null==i?void 0:i.name,onBlur:f,onEnter:f,placeholder:ic.Yp,onLinkClick:function(){return h(i.id)}})]}),/*#__PURE__*/(0,W.jsx)(id.Z,{folder:i,mountedIn:"folderView",dots:{visible:!0},onStartRenaming:d,className:i_().folderDropdown}),A.length<ib.p?/*#__PURE__*/(0,W.jsx)(iy.Z,{text:"New folder",contentClassName:i_().iconTooltip,children:/*#__PURE__*/(0,W.jsx)(im.J,{width:15,height:13,onClick:g,color:"grey-1000",icon:iv,className:(0,nz.Z)(i_().newFolderIcon)})}):/*#__PURE__*/(0,W.jsx)(iy.Z,{text:"Max ".concat(ib.p," layers of folders"),contentClassName:i_().iconTooltip,children:/*#__PURE__*/(0,W.jsx)(im.J,{width:15,height:13,onClick:g,color:"grey-1000",icon:ip,className:i_().disabledFolderIcon})})]}):/*#__PURE__*/(0,W.jsx)(iu.yB,{color:"var(--grey-500)",children:/*#__PURE__*/(0,W.jsx)(iu.ZP,{width:"100px"})})},iC=n(39323),iB=/*#__PURE__*/n.n(iC),iI=[{url:"all",title:"All"},{url:"recents",title:"Recents"},{url:"created-by-me",title:"Created by Me"},{url:"folders",title:"Folders"},{url:"unsorted",title:"Unsorted"}],ix=function(e){var t,n=e.title,r=e.isActive,i=e.index,o=e.onClick;return(0,t2.Z)((t={},(0,io.Z)(t,"ctrl+".concat(i),{windows:!1,callback:o}),(0,io.Z)(t,"alt+".concat(i),{macOS:!1,callback:o}),t)),/*#__PURE__*/(0,W.jsx)(iy.Z,{text:/*#__PURE__*/(0,W.jsx)(nV.P,{className:iB().topNavShortcut,keys:["Control|Alt",String(i)]}),tooltipPopperProps:{placement:"bottom"},children:/*#__PURE__*/(0,W.jsx)("button",{className:(0,nz.Z)(iB().topNavTab,r&&iB().active),onClick:o,"data-testid":"dasbhoard-header-nav-".concat(n.toLowerCase()),children:/*#__PURE__*/(0,W.jsx)("span",{children:n})})})},iT=/*#__PURE__*/(0,Y.memo)(function(){var e=(0,en.useRouter)(),t=(0,rQ.Q)().tabId,n=(0,rZ.wK)(),r="archived"===t,i="private"===t;return"search"===t||"github"===t||"templates"===t||"ai-context"===t||"eraserbot"===t||"git-diagram"===t?null:/*#__PURE__*/(0,W.jsxs)(ia.x,{children:[(null==n?void 0:n.id)?/*#__PURE__*/(0,W.jsx)(ia.x.Title,{children:/*#__PURE__*/(0,W.jsx)(iE,{})}):i?/*#__PURE__*/(0,W.jsxs)(ia.x.Title,{children:[/*#__PURE__*/(0,W.jsx)("span",{style:{marginRight:6},children:"\uD83D\uDD12"})," Private"]}):r?/*#__PURE__*/(0,W.jsx)(ia.x.Title,{children:"Archive"}):/*#__PURE__*/(0,W.jsx)("div",{className:iB().topNav,children:iI.map(function(t,n){var r;return/*#__PURE__*/(0,W.jsx)(ix,{index:n+1,title:t.title,isActive:(r=t.url,e.asPath.indexOf(r)>=0||e.asPath.indexOf("/dashboard/".concat(r))>=0),onClick:function(){return e.push(t.url)}},t.url)})}),/*#__PURE__*/(0,W.jsx)(is.q,{showRightSide:!i&&!r,searchBarProps:{isOwner:"created-by-me"===t,folderId:"unsorted"===t?null:null==n?void 0:n.id}})]})}),iS=function(e){var t=e.hideSplashOnLoad,n=void 0===t||t,r=e.children,i=(0,nr.DJ)().currentTeamId,o=(0,nr.mZ)(),a=(0,nr.MV)(),s=(0,en.useRouter)(),u=o&&0===o.size;return((0,ng.Z)(function(){if(a){if(u){s.push("/team/join");return}n&&(0,t1.hf)()}},[a,u,n,s]),i&&!a)?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:r}):a&&!u&&i?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:r}):null},ik=n(41406),iN=n(16962),iD=n(31592),iO=/*#__PURE__*/n.n(iD),iR=n(91232),iF=n(89911),iL=n(2595),iP=n(69071),iU=n(6021),iM=n(87076),ij=n(90910),iZ=/*#__PURE__*/n.n(ij),iQ=n(59858),iH=n(75426),iV=function(e){var t,n=e.onClose,r=e.isOpen,i=e.onSwitchTeam,o=(0,Y.useState)(),a=o[0],s=o[1],u=(0,t9.aF)(),c=(0,iL.Z)(),l=(0,iP.Z)(iU.Z),A=(0,iQ.Z)();(0,Y.useEffect)(function(){s(void 0)},[r]);var d=(0,Y.useCallback)((t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!a||!u)return[2];return[4,c.promise(l.execute(a,u.id,{origin:"dashboard",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return t.sent(),i(a),n(),[2]}})}),function(e){return t.apply(this,arguments)}),[a,u,l.execute,i,n]);return/*#__PURE__*/(0,W.jsx)(nj.Z,{title:"Join Team",className:iZ().teamJoinModal,onClose:n,isOpen:r,hideCloseButton:!0,children:A?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(iM.D,{teamsToJoin:A}),/*#__PURE__*/(0,W.jsxs)("form",{onSubmit:d,children:[/*#__PURE__*/(0,W.jsx)(iM.Z,{className:iZ().teams,onSelectionChange:s,teamsToJoin:A}),/*#__PURE__*/(0,W.jsxs)("div",{className:iZ().buttons,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,size:rI.ZP.Sizes.LARGE,onClick:n,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.REGULAR,size:rI.ZP.Sizes.LARGE,type:"submit",disabled:!a,"data-testid":"join-team-button",children:"Join Team"})]})]})]}):/*#__PURE__*/(0,W.jsx)(iH.Z,{})})},iK=n(61649),iG=n(54229),iz=n(405),iW=function(e){var t=e.teamId,n=e.displayName,r=e.onClick,i=e.isSelected,o=e.isCurrent,a=(0,nL.Z)(e,["teamId","displayName","onClick","isSelected","isCurrent"]),s=(0,np.Sz)(iz.G,function(e){var n,r;return null===(r=null==e?void 0:null===(n=e.userTeamsById)||void 0===n?void 0:n.get(t))||void 0===r?void 0:r.name}),u=(0,Y.useCallback)(function(){return null==r?void 0:r(t)},[t,r]);return/*#__PURE__*/(0,W.jsxs)(n7.Z,(0,t5.Z)((0,G.Z)({isLoading:!s&&!n,isSelected:i,onClick:u},a),{children:[n||s,o&&/*#__PURE__*/(0,W.jsx)("small",{style:{opacity:.4},children:o?" (current team)":""})]}))},iq=function(e){var t=e.teams,n=e.selectedTeamId,r=e.onSwitch,i=(0,nL.Z)(e,["teams","selectedTeamId","onSwitch"]);return t&&t.length?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:t.map(function(e){var t=e.id,o=e.displayName,a=n===t;return/*#__PURE__*/(0,W.jsx)(iW,(0,G.Z)({isSelected:a,teamId:t,displayName:o,onClick:r},i),t)})}):null},iY=n(27198),i$=n(34315),iX=/*#__PURE__*/n.n(i$),iJ=n(95184),i0=function(e){var t=e.teamName;return/*#__PURE__*/(0,W.jsxs)("span",{className:iX().currentTeam,children:[/*#__PURE__*/(0,W.jsx)("span",{className:iX().currentTeamLogo,children:/*#__PURE__*/(0,W.jsx)(iF.$q,{})}),/*#__PURE__*/(0,W.jsx)("span",{className:iX().currentTeamName,children:t||""})]})},i1=function(){var e=(0,nF.Z)(),t=e.onOpen,n=e.onClose,r=e.isOpen,i=(0,t9.aF)(),o=(0,nr.lh)(),a=(0,iN.MO)().onSearchBarClose,s=(0,r$.Y)().openSettingsModal,u=(0,rE.Z)((0,nr.p3)(),2),c=u[0],l=u[1],A=(0,Y.useCallback)(function(e){l(e,{shouldResetFolder:!0}),a()},[l,a]),d=(0,en.useRouter)(),f=(0,Y.useCallback)(function(){d.push("/auth/logout")},[d]);return(0,t2.Z)({"shift+alt+s":function(){return s()}},{stopCallback:null}),/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(iV,{isOpen:r,onClose:n,onSwitchTeam:A}),/*#__PURE__*/(0,W.jsxs)(rT.Lt,{minWidth:210,title:/*#__PURE__*/(0,W.jsx)(i0,{teamName:null==c?void 0:c.name}),toggleClassNames:{button:iX().sidebarDropdown,caret:iX().sidebarDropdownCaret},children:[/*#__PURE__*/(0,W.jsx)(iq,{teams:o||[],onSwitch:A,selectedTeamId:null==c?void 0:c.id}),/*#__PURE__*/(0,W.jsx)(rT.KE,{}),/*#__PURE__*/(0,W.jsx)(n7.Z,{onClick:t,label:"Join or Create Team",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:iG.Z})}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Settings",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:iJ.Z}),onClick:function(){return s({openedPane:"members"})},rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["Shift","AltOrOption","S"]})}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Logout",onClick:f,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:iK.Z})}),/*#__PURE__*/(0,W.jsx)(rT.KE,{}),/*#__PURE__*/(0,W.jsx)(iY.Z,{user:i,style:{margin:"10px 7px"}})]})]})},i2=n(9622);function i4(){return(i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var i3=function(e){return /*#__PURE__*/Y.createElement("svg",i4({width:15,height:9,viewBox:"0 0 15 9",xmlns:"http://www.w3.org/2000/svg"},e),_||(_=/*#__PURE__*/Y.createElement("path",{d:"M0 .5h15m-15 8h15m-15-4h15",fill:"none",stroke:"currentColor"})))};function i5(){return(i5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var i6=function(e){return /*#__PURE__*/Y.createElement("svg",i5({width:13,height:11,viewBox:"0 0 13 11",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=/*#__PURE__*/Y.createElement("circle",{cx:5,cy:5,r:4.25,fill:"none",stroke:"currentColor",strokeWidth:1.5})),C||(C=/*#__PURE__*/Y.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",d:"M9.061 8L11 9.939"})))},i8=n(93664),i9=/*#__PURE__*/n.n(i8),i7=function(e){var t=e.onSidebarToggle,n=(0,Y.useState)(!1),r=n[0],i=n[1];return/*#__PURE__*/(0,W.jsxs)("div",{className:i9().mobileHeader,children:[/*#__PURE__*/(0,W.jsx)("button",{className:i9().toggleButton,onClick:t,children:/*#__PURE__*/(0,W.jsx)(im.J,{icon:i3})}),/*#__PURE__*/(0,W.jsx)(i1,{}),/*#__PURE__*/(0,W.jsx)("button",{className:i9().toggleButton,onClick:function(){return i(!0)},children:/*#__PURE__*/(0,W.jsx)(im.J,{icon:i6})}),/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(i9().searchContainer,r&&i9().searchContainerActive),children:[/*#__PURE__*/(0,W.jsx)(iR.Z,{}),/*#__PURE__*/(0,W.jsx)("button",{className:i9().toggleButton,onClick:function(){return i(!1)},children:/*#__PURE__*/(0,W.jsx)(im.J,{icon:i2.Z})})]})]})},oe=n(59509),ot=n(56318),on=n(85580),or=n(18001),oi=/*#__PURE__*/n.n(or),oo=n(37214),oa=n(49678),os=function(e){var t=e.depth,n=e.folder,r=e.onClick,i=e.position,o=e.activeTab,a=e.onKeyDown,s=e.accordionButton,u=(0,Y.useRef)(null),c=(0,on.Q)(n),l=c.isDraggingFolder,A=c.dragRef,d=c.previewRef,f=(0,iA.Z)(),h=f.folders,p=f.folderTree,g=f.getFolderPath,v=f.createFolder,m=f.updateFolderOrder,y=f.updateFolder,b=(0,Y.useCallback)(function(){v({name:"",parentFolderId:n.id,origin:"sidebar",shouldOpen:!1})},[v,n.id]),w=(0,Y.useCallback)(function(e){var t=e.targetFolder,n=e.folderDropSide,r=e.draggingFolder;if(h){if("on"===n){if(g(t.id).length+(0,oa.ZN)(r.id,p).reduce(function(e,t){return e>t.length?e:t.length},0)>ib.p)return;y(r.id,{parentFolderId:t.id})}else{var i=t.order+("before"===n?-1:0),o=t.parentFolderId;m(r.id,o,i)}}},[h,p,g,m,y]),_=(0,on.z)({targetFolder:n,rootRef:u,onFolderReorder:w}),E=_.dropRef,C=_.isDroppingWorkspace,B=_.isDroppingFolder,I=_.folderDropSide;return/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",onClick:r,tabHeight:"medium",isActive:o,onKeyDown:a,tabPosition:i,isDragging:l,content:/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[s,/*#__PURE__*/(0,W.jsx)("span",{className:oi().folderName,"data-testid":"sidebar-folder-".concat(n.name||ic.Yp),children:n.name||ic.Yp}),t<ib.p-1&&o&&/*#__PURE__*/(0,W.jsx)(iy.Z,{text:"New sub folder",contentClassName:(0,nz.Z)(oi().subfolderTooltip),children:/*#__PURE__*/(0,W.jsx)("button",{type:"button",onClick:b,className:oi().newFolderIcon,children:/*#__PURE__*/(0,W.jsx)(im.J,{width:15,height:13,color:"grey-1000",icon:iv})})})]}),dragRefs:{containerRef:u,previewRef:d,dragRef:A,dropRef:E},dropTarget:C?"on":B?I:"none"})},ou=n(95634),oc=n(34006),ol=/*#__PURE__*/n.n(oc),oA=function(e){var t=e.label,n=e.onSave,r=e.className,i=(0,Y.useRef)(null),o=(0,Y.useState)(null!=t?t:""),a=o[0],s=o[1];(0,Y.useEffect)(function(){setTimeout(function(){var e;null===(e=i.current)||void 0===e||e.focus()},50)},[]);var u=(0,Y.useCallback)(function(e){"Enter"===e.key&&n(e.target.value)},[n]),c=(0,Y.useCallback)(function(){n(a)},[n,a]),l=(0,Y.useCallback)(function(e){var t=e.target.value;t.length>ic.JR||s(t)},[]);return(0,ou.Z)(c),/*#__PURE__*/(0,W.jsx)("input",{value:a,ref:i,onBlur:c,onKeyUp:u,onChange:l,placeholder:t?"":ic.Yp,className:(0,nz.Z)(ol().input,r)})},od=n(26514),of=/*#__PURE__*/n.n(od),oh=function(e){var t,n=e.index,r=e.depth,i=e.folder,o=e.currentFolderId,a=e.sameLevelFolders,s=(0,iA.Z)(),u=s.openFolder,c=s.closeFolder,l=s.openFolders,A=s.switchFolder,d=s.toggleFolder,f=s.renamingFolder,h=s.renameFolder,p=i.children,g=i.parentFolderId,v=!!(null==p?void 0:p.length),m=!g,y=l.has(i.id),b=f&&i.id===f.id&&"sidebar"===f.origin&&(!g||l.has(g));return/*#__PURE__*/(0,W.jsxs)("div",{className:of().accordionContainer,children:[/*#__PURE__*/(0,W.jsx)("div",{className:of().parentFolder,children:b?/*#__PURE__*/(0,W.jsx)(oA,{label:i.name,onSave:h,className:(0,nz.Z)(of().active,of().renamingFolder,!!i.parentFolderId&&of().nested)},i.id):/*#__PURE__*/(0,W.jsx)(os,{depth:r,folder:i,onKeyDown:function(e){"ArrowRight"===e.key?u(i.id):"ArrowLeft"===e.key&&c(i.id)},activeTab:o===i.id,accordionButton:m||v?/*#__PURE__*/(0,W.jsx)(ot.j,{isExpanded:y,onClick:function(e){v&&(e.stopPropagation(),d(i.id))},isIconVisible:v}):null,onClick:function(){return A("folder",i.id)},position:(t=a.length,0===n?"first":n===t-1?"last":"inBetween")},i.id)}),/*#__PURE__*/(0,W.jsx)("div",{className:of().childFolders,style:{display:y?"block":"none"},children:null==p?void 0:p.map(function(e,t){return/*#__PURE__*/(0,W.jsx)(oh,{index:t,folder:e,depth:r+1,sameLevelFolders:p,currentFolderId:o},e.id)})})]})},op=n(39231),og=n(9563),ov=/*#__PURE__*/n.n(og),om=function(e){var t=e.title,n=e.iconProps,r=void 0===n?{icon:op.Z}:n,i=e.className,o=e.onClick,a=e.iconToolTipProps;return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(ov().sectionTitle,i),children:[/*#__PURE__*/(0,W.jsx)("span",{children:t}),function(){if(!o)return null;var e=/*#__PURE__*/(0,W.jsx)("button",{onClick:o,className:ov().iconButton,children:/*#__PURE__*/(0,W.jsx)(im.J,(0,t5.Z)((0,G.Z)({},r),{color:"grey-1000",className:ov().icon}))});return a?/*#__PURE__*/(0,W.jsx)(iy.Z,(0,t5.Z)((0,G.Z)({},a),{contentClassName:ov().tooltipRoot,children:e})):e}()]})},oy=n(605),ob=/*#__PURE__*/n.n(oy),ow=function(){var e=(0,en.useRouter)(),t=(0,rp.l)().register,n=(0,rZ.MZ)(),r=(0,iA.Z)(),i=r.topLevelFolders,o=r.switchFolder,a=r.closeFolder,s=r.createFolder,u=(0,Y.useCallback)(function(){s({name:"",parentFolderId:void 0,origin:"sidebar",shouldOpen:!0})},[s]);(0,Y.useEffect)(function(){n||t("newFolder",u)},[t,n,u]);var c=function(t){var r=["/dashboard/all","/dashboard/recents","/dashboard/created-by-me","/dashboard/folders","/dashboard/unsorted"].concat((0,nq.Z)(i)),s=e.asPath.split("?")[0],u=(r.findIndex(function(e){return"string"==typeof e?e===s:e.id===n})+("next"===t?1:-1)+r.length)%r.length,c=r[u];if(c){if("string"==typeof c){e.push(c);return}n&&a(n),o("folder",c.id)}};return(0,t2.Z)({"alt+shift+f":u,"]":function(){return c("next")},"[":function(){return c("prev")}}),/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(om,{title:"Team folders",onClick:u,className:ob().noMarginTop,iconProps:{icon:iv,width:15,height:13},iconToolTipProps:{text:"New folder",placement:"right"}}),/*#__PURE__*/(0,W.jsx)("div",{className:ob().foldersList,"data-testid":"sidebar-folders-list",children:i.map(function(e,t){return/*#__PURE__*/(0,W.jsx)(oh,{depth:0,index:t,folder:e,currentFolderId:n,sameLevelFolders:i},e.id)})})]})},o_=n(99283),oE=n(81337),oC=n(29340),oB=n(46131),oI=n(57448),ox=function(e){var t=e.teamId,n=e.tabId,r=(0,ri.k3)().repositoriesMap,i=(0,rg.Q6)(ni.AC.PrivateWorkspaces,t);if("ai-context"===n||"eraserbot"===n)return[];var o=[],a={key:"newTemplate",icon:/*#__PURE__*/(0,W.jsx)(oI.Z,{}),label:"New from Template",shortcutKeys:["Control|Alt","T"]},s=Array.from((null==r?void 0:r.entries())||[]).some(function(e){return e[1].length>0});return(i||s)&&o.push({key:"new",label:"New File",icon:/*#__PURE__*/(0,W.jsx)(oB.Z,{}),shortcutKeys:["Control|Alt","N"]}),"templates"!==n&&o.push(a),i&&"private"!==n&&o.push({key:"private",icon:/*#__PURE__*/(0,W.jsx)(oC.Z,{}),label:"New Private File",shortcutKeys:["Control|Alt","Shift","N"]}),s&&o.push({key:"gitSynced",icon:/*#__PURE__*/(0,W.jsx)(oE.Z,{}),label:"New Github File",shortcutKeys:["Control|Alt","CtrlOrCmd","N"]}),o},oT=n(84771),oS=/*#__PURE__*/n.n(oT),ok=function(e,t){var n,r,i=(0,rj.k_)(),o=(0,rj.dr)();return"private"===e?(n="New Private File",r=["Control|Alt","Shift","N"]):i&&o?(n="New GitHub File",r=["Control|Alt","CtrlOrCmd","N"]):"templates"===e?(n="New Template",r=["Control|Alt","T"]):"ai-context"===e?(n="New Reference",r=[]):"eraserbot"===e?(n="New Monitor",r=[]):(n="New File",r=["Control|Alt","N"]),/*#__PURE__*/(0,W.jsxs)("span",{className:oS().newFileText,children:[n,/*#__PURE__*/(0,W.jsx)(nV.P,{className:oS().shortcut,keys:r})]})},oN=n(75280),oD=function(){var e=(0,en.useRouter)(),t=(0,rZ.MZ)(),n=(0,rk.QR)(),r=(0,rQ.Q)().tabId,i=(0,Y.useContext)(rH),o=i.openGitHubModal,a=i.setCreationState,s=i.createNewWorkspace,u=i.openTemplatesModal,c=i.isCreatingWorkspace,l=(0,rX.Su)().analyticsService,A=(0,r$.Y)().openSettingsModal,d=(0,t9.II)(),f=(0,nr.LP)(),h=(0,nO.IA)(function(e){return e.aiContext}),p=(0,rg.Bv)({featureName:ni.M$.PremiumCredits,userId:d,teamId:f,immediateCallbackWithLimit:!0}),g=(0,rg.Q6)(ni.AC.CustomAiContext,f),v=e.query.contextId,m="private"===r,y="templates"===r,b="ai-context"===r,w="eraserbot"===r,_=((0,rj.k_)()||{}).id,E=((0,rj.dr)()||{}).id,C=!!(null==p?void 0:p.limit),B=ox({teamId:f,tabId:r}),I=B.length>0,x=_&&E,T=ok(r,e.query),S=b&&(!C||b&&v&&!g),k=function(){x?a({gitHub:{fileName:"",filePath:"",repositoryId:_,organizationId:E}}):y?a({isNewTemplate:!0}):a({folderId:t,isPrivate:m}),u()},N=function(e){return"private"===e||"new"===e&&m?(a({isPrivate:!0,eventSource:"header_shortcut"}),s()):"gitSynced"===e?(a({eventSource:"header_shortcut"}),o()):"new"===e&&x?(a({eventSource:"header_shortcut",gitHub:{fileName:"",filePath:"",repositoryId:_,organizationId:E}}),o()):"newTemplate"===e?k():(a({folderId:t,eventSource:"header_shortcut"}),s())};return(0,t2.Z)({"alt+n":{macOS:!1,callback:function(){return N("new")}},"ctrl+n":{windows:!1,callback:function(){return N("new")}},"alt+ctrl+n":{macOS:!1,callback:function(){return N("gitSynced")}},"alt+t":{macOS:!1,callback:function(){return N("newTemplate")}},"alt+shift+n":{macOS:!1,callback:function(){return N("private")}},"ctrl+t":{windows:!1,callback:function(){return N("newTemplate")}},"ctrl+meta+n":{windows:!1,callback:function(){return N("gitSynced")}},"ctrl+shift+n":{windows:!1,callback:function(){return N("private")}}}),/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:/*#__PURE__*/(0,W.jsxs)("div",{className:oS().buttonsRoot,children:[/*#__PURE__*/(0,W.jsxs)(rI.ZP,{onClick:function(){if(x)return a({eventSource:"header_button",gitHub:{fileName:"",filePath:"",repositoryId:_,organizationId:E}}),o();if(m)return a({isPrivate:!0,eventSource:"header_button"}),s();if(y)return a({isNewTemplate:!0}),s();if(b){if(!g)return l.trackEvent("payment","open_billing_pane",{source:"aiContextSidebar",featureName:ni.AC.CustomAiContext}),A({openedPane:"plans",paywallFeature:ni.AC.CustomAiContext});if(v&&h){var n=h.find(function(e){return e.id===v});if(n&&!n.isBuiltIn)return e.push("/dashboard/ai-context/new?libraryId=".concat(v))}return e.push("/dashboard/ai-context/new")}if(w){a({folderId:t,eventSource:"header_button"}),e.push("/dashboard/eraserbot/monitors/new");return}return a({folderId:t,eventSource:"header_button"}),s()},size:rI.ZP.Sizes.LARGE,"data-testid":"new-file-button",isLoading:c,variant:rI.ZP.Variants.REGULAR,className:(0,nz.Z)(oS().leftButton,I&&oS().leftButtonSplit),tooltipClassName:oS().leftButton,title:S?"Contact us for access":void 0,children:[T," ",S&&/*#__PURE__*/(0,W.jsx)(oN.Z,{variant:"primary",inverted:!0,className:"marginLeftLarge"})]}),I&&/*#__PURE__*/(0,W.jsxs)(rk.GI,{controller:n,children:[/*#__PURE__*/(0,W.jsx)(rk.GI.Toggle,{children:/*#__PURE__*/(0,W.jsx)(rI.ZP,{className:oS().rightButton,disabled:c,children:/*#__PURE__*/(0,W.jsx)(o_.Z,{})})}),/*#__PURE__*/(0,W.jsx)(rk.GI.Menu,{placement:"top-start",children:B.map(function(e){var r=e.key,i=e.label,u=e.icon,c=e.shortcutKeys;return/*#__PURE__*/(0,W.jsx)(rk.Wx,{icon:u,label:i,onClick:function(){return(n.closePopup(),"private"===r)?(a({isPrivate:!0,eventSource:"header_button"}),s()):"gitSynced"===r?(a({eventSource:"header_button"}),o()):"newTemplate"===r?k():(a({folderId:t,eventSource:"header_button"}),s())},rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:c})},r)})})]})]})})},oO=n(39202),oR=n(93995),oF=n(40758),oL=n(20790),oP=n(42946),oU=n(73064),oM=/*#__PURE__*/n.n(oU),oj=function(e){var t=e.activeTab,n=e.onTabChange,r=(0,nr.LP)(),i=(0,t9.II)(),o=(0,r$.Y)().openSettingsModal,a=(0,ri.k3)().organizations,s=(0,rg.Q6)(ni.AC.PrivateWorkspaces,r),u=(0,rg.Bv)({featureName:ni.M$.PremiumCredits,teamId:r,userId:i,immediateCallbackWithLimit:!0}),c=function(){n("github")},l=function(){n("templates"),ne.Z.trackEvent("templates_page","sidebar_tab")},A=function(){n("ai-context")},d=function(){s?n("private"):(o({openedPane:"plans",paywallFeature:ni.AC.PrivateWorkspaces}),ne.Z.trackEvent("payment","open_billing_pane",{source:"privateFilesSidebar",featureName:ni.AC.PrivateWorkspaces}))},f=function(){n("eraserbot")},h=function(){n("archived")},p=function(){n("git-diagram")};return((0,t2.Z)({p:function(){return d()},g:function(){return c()},e:function(){return h()},t:function(){return l()},c:function(){return A()},b:function(){return f()},d:function(){return p()}}),r)?/*#__PURE__*/(0,W.jsxs)("div",{className:oM().root,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:oM().footerTabsContainer,children:[/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",content:/*#__PURE__*/(0,W.jsxs)("div",{className:oM().gitHubLabelContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{children:"Eraserbot"}),/*#__PURE__*/(0,W.jsx)(oR.vw,{className:oM().gitHubBadge})]}),onClick:f,icon:/*#__PURE__*/(0,W.jsx)(oP.Z,{width:14,height:14,viewBox:"0 0 24 24"}),isActive:"eraserbot"===t,shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["B"]})}),oO.g.isFeatureEnabled("git_diagram")&&/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",content:"Git Diagrammer",onClick:p,icon:/*#__PURE__*/(0,W.jsx)(oE.Z,{}),isActive:"git-diagram"===t,shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["D"]})}),/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",content:(null==u?void 0:u.limit)?"AI References":/*#__PURE__*/(0,W.jsxs)("div",{className:oM().pricingPlanTabContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{children:"AI References"}),/*#__PURE__*/(0,W.jsx)(oN.Z,{})]}),onClick:A,icon:/*#__PURE__*/(0,W.jsx)(oL.Z,{width:14,height:14}),isActive:"ai-context"===t,shortcut:(null==u?void 0:u.limit)?/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["C"]}):void 0}),/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",content:"Team Templates",onClick:l,icon:/*#__PURE__*/(0,W.jsx)(oI.Z,{}),isActive:"templates"===t,shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["T"]})}),!(null==a?void 0:a.length)&&/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",onClick:c,content:/*#__PURE__*/(0,W.jsxs)("div",{className:oM().gitHubLabelContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{children:"Github Sync"}),/*#__PURE__*/(0,W.jsx)(oR.vw,{className:oM().gitHubBadge})]}),isActive:"github"===t,icon:/*#__PURE__*/(0,W.jsx)(oE.Z,{}),shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["G"]})}),/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",onClick:d,content:s?"Private Files":/*#__PURE__*/(0,W.jsxs)("div",{className:oM().pricingPlanTabContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{children:"Private Files"}),/*#__PURE__*/(0,W.jsx)(oN.Z,{})]}),icon:/*#__PURE__*/(0,W.jsx)(oC.Z,{}),isActive:"private"===t,shortcut:s?/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["P"]}):void 0}),/*#__PURE__*/(0,W.jsx)(oo.M,{textSize:"medium",tabHeight:"small",content:"Archive",icon:/*#__PURE__*/(0,W.jsx)(oF.Z,{}),isActive:"archived"===t,onClick:h,shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["E"]})})]}),/*#__PURE__*/(0,W.jsx)(oD,{})]}):null},oZ=n(79183),oQ=n(52365),oH=/*#__PURE__*/n.n(oQ),oV=n(34569),oK=n(59296),oG=function(e){var t=e.workspace,n=e.targetRepositoryId,r=e.targetOrganizationId;if(t.isPrivate||t.isArchived)return!1;if(!t.gitHubRepository)return!0;var i=t.gitHubRepository,o=i.organizationId,a=i.repositoryId;return o!==r||a!==n},oz=function(e){var t=e.onWorkspaceDrop,n=e.targetRepositoryId,r=e.targetOrganizationId,i=(0,Y.useCallback)(function(e,n){n.getItemType()===oK.L.Workspace&&t(e)},[t]),o=(0,rE.Z)((0,oV.L)({drop:i,accept:[oK.L.Workspace,oK.L.Folder],canDrop:function(e,t){return t.getItemType()===oK.L.Workspace&&oG({targetRepositoryId:n,targetOrganizationId:r,workspace:e})},collect:function(e){var t=e.getItemType();return{isDroppingWorkspace:e.isOver()&&e.canDrop()&&t===oK.L.Workspace}}},[i]),2),a=o[0].isDroppingWorkspace;return{dropRef:o[1],isDroppingWorkspace:a}},oW=function(e){var t=e.onWorkspaceDrop,n=e.organization,r=e.repository,i=e.onClick,o=e.isActive,a=oz({onWorkspaceDrop:t,targetRepositoryId:r.id,targetOrganizationId:n.id}),s=a.dropRef,u=a.isDroppingWorkspace;return/*#__PURE__*/(0,W.jsx)(oo.M,{isExpandable:!0,textSize:"medium",onClick:i,tabHeight:"medium",isActive:o,dragRefs:{dropRef:s},content:/*#__PURE__*/(0,W.jsxs)("span",{className:oi().repositoryName,children:[n.name,"/",r.name]}),dropTarget:u?"on":void 0,accordionButtonProps:{isIconVisible:!1,isExpanded:!1}})},oq=n(70039),oY=function(){var e=(0,en.useRouter)(),t=(0,nF.Z)(),n=t.isOpen,r=t.onClose,i=t.onOpen,o=(0,rj.dr)(),a=(0,ri.k3)(),s=a.organizations,u=a.repositoriesMap,c=(0,rj.$m)(),l=c.organizationName,A=c.repositoryName,d=(0,Y.useState)({}),f=d[0],h=d[1],p=(0,Y.useState)({}),g=p[0],v=p[1],m=(0,Y.useCallback)(function(e,t){"toggle"===t?v((0,t5.Z)((0,G.Z)({},g),(0,io.Z)({},e,!g[e]))):g[e]!==t&&v((0,t5.Z)((0,G.Z)({},g),(0,io.Z)({},e,t)))},[g]);(0,Y.useEffect)(function(){o&&A&&m(o.id,!0)},[o,A,m]);var y=function(t,n){e.push("/github/".concat(t.name,"/").concat(n.name))};return(null==s?void 0:s.length)?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(om,{title:/*#__PURE__*/(0,W.jsxs)("span",{className:oH().badgeWrapper,children:["Github Sync ",/*#__PURE__*/(0,W.jsx)(oZ.Z,{className:oH().badge})]})}),/*#__PURE__*/(0,W.jsx)("div",{className:oH().integrationsList,children:null==s?void 0:s.flatMap(function(e){var t;return t=e.id,s&&u&&u.has(t)?u.get(t).filter(function(e){return!e.disabled&&e.enableSync}).map(function(e){var n=s.find(function(e){return e.id===t});return{isActive:l===n.name&&A===e.name,repository:e,organization:n,onClick:function(){return y(n,e)},onWorkspaceDrop:function(n){i(),h({workspace:n,organizationId:t,repositoryId:e.id})}}}):[]}).map(function(e,t){return/*#__PURE__*/(0,W.jsx)(oW,(0,G.Z)({},e),"".concat(e.organization.id,"-").concat(e.repository.name))})}),n&&f.workspace&&f.organizationId&&f.repositoryId&&/*#__PURE__*/(0,W.jsx)(oq.b,{isOpen:!0,onClose:function(){r(),h({})},workspace:f.workspace,repositoryId:f.repositoryId,organizationId:f.organizationId})]}):null};function o$(){return(o$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var oX=function(e){return /*#__PURE__*/Y.createElement("svg",o$({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),B||(B=/*#__PURE__*/Y.createElement("path",{d:"M1.7.5A1.2 1.2 0 00.5 1.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 004.3.5H1.7zM7.7.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 0010.3.5H7.7zM1.7 6.5A1.2 1.2 0 00.5 7.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H1.7zM7.7 6.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H7.7z",fill:"currentColor"})))},oJ=n(75194),o0=n(24289),o1=/*#__PURE__*/n.n(o0),o2=n(76794),o4=n(1031),o3=/*#__PURE__*/n.n(o4),o5=n(88859),o6=function(e){var t=e.className,n=(0,nr.LP)(),r=(0,rg.Bv)({featureName:ni.M$.Workspaces,teamId:n}),i=(0,r$.Y)().openSettingsModal,o=(0,Y.useCallback)(function(){i({openedPane:"plans",paywallFeature:ni.M$.Workspaces}),ne.Z.trackEvent("payment","open_billing_pane",{source:"upgradeCard",featureName:ni.M$.Workspaces})},[i]);if(!r||r.limit===o5.fY)return null;var a=r.limit,s=r.current;return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(o3().workspaceLimitCard,t),children:[/*#__PURE__*/(0,W.jsx)("h4",{children:"Eraser Free Trial"}),/*#__PURE__*/(0,W.jsx)("div",{className:o3().progressWrapper,children:/*#__PURE__*/(0,W.jsx)(o2.Z,{className:o3().progress,featureName:ni.M$.Workspaces,current:s,limit:a,shortExplanation:!0})}),/*#__PURE__*/(0,W.jsx)("span",{children:"Upgrade your plan for unlimited files & more features"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{className:o3().upgradeBtn,onClick:o,children:"Upgrade"})]})},o8=function(e){var t=e.activeTab,n=e.sidebarOpenMobile,r=e.onSidebarClose,i=(0,oJ.d)(),o=(0,rZ.wK)(),a=(0,iA.Z)().switchFolder,s=(0,nr.S5)();(0,Y.useEffect)(function(){r()},[o,r]);var u=i?(0,nz.Z)(o1().mobileSidebar,n&&o1().mobileSidebarOpen):void 0,c=(0,Y.useCallback)(function(e){a(e),setTimeout(function(){return r()},100)},[r,a]),l=(0,Y.useCallback)(function(){c("all")},[c]),A=(0,Y.useCallback)(function(){c("history")},[c]),d=(0,Y.useCallback)(function(){c("private")},[c]),f=(0,Y.useCallback)(function(){s&&er().push("/workspace/".concat(s))},[s]);(0,t2.Z)({a:l,h:A,p:d,"ctrl+alt+right":f});var h=["all","recents","created-by-me","folders","unsorted"].includes(t);return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[i&&n&&/*#__PURE__*/(0,W.jsx)("div",{className:o1().sidebarOverlay,onClick:r}),/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(o1().container,u),children:[!i&&/*#__PURE__*/(0,W.jsx)("div",{className:o1().sidebarMenuContainer,children:/*#__PURE__*/(0,W.jsx)(i1,{})}),/*#__PURE__*/(0,W.jsx)("div",{className:o1().topSection,children:/*#__PURE__*/(0,W.jsx)(oo.M,{content:"All Files",onClick:l,isActive:h,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:oX}),shortcut:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["A"]}),classNames:{root:o1().topSectionTab,content:o1().topSectionTabContent}})}),/*#__PURE__*/(0,W.jsxs)("div",{className:o1().foldersWrapper,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:o1().listContainer,children:[/*#__PURE__*/(0,W.jsx)(ow,{}),/*#__PURE__*/(0,W.jsx)(oY,{})]}),!i&&/*#__PURE__*/(0,W.jsx)(o6,{})]}),!i&&/*#__PURE__*/(0,W.jsx)(oj,{onTabChange:c,activeTab:t})]})]})},o9=n(44498),o7=n(66230),ae=n(31583),at=n(95757),an=n(53047),ar=/*#__PURE__*/n.n(an);function ai(){return(ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var ao=function(e){return /*#__PURE__*/Y.createElement("svg",ai({width:13,height:7,viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=/*#__PURE__*/Y.createElement("path",{d:"M6 4.6C2 4.6.4.6.4.6m5.6 4c4 0 5.6-4 5.6-4M6 4.6v2M.8 5l1.6-1.6m7.2 0L11.2 5",fill:"none",stroke:"currentColor"})))},aa={modifiers:[{name:"offset",options:{offset:[0,20]}}]},as=(x={},(0,io.Z)(x,ru.c.OpenInsertMenu,"Use the Insert menu"),(0,io.Z)(x,ru.c.AddFigure,"Make a Figure"),(0,io.Z)(x,ru.c.GenerateAiDiagram,"Generate an AI diagram"),(0,io.Z)(x,ru.c.GenerateDiagramWithCode,"Make a diagram with code"),(0,io.Z)(x,ru.c.InviteTeamMember,"Invite a team member"),(0,io.Z)(x,ru.c.GitHubSync,"Sync Eraser with GitHub"),(0,io.Z)(x,ru.c.VsCodeExtensionDownload,"Download VS Code extension"),(0,io.Z)(x,ru.c.GetStartedNotionIntegrationClicked,"Install our Eraser plugin in Notion"),(0,io.Z)(x,ru.c.GetStartedConfluenceIntegrationClicked,"Install our Eraser plugin in Confluence"),x),au=(T={},(0,io.Z)(T,ru.c.OpenInsertMenu,"Hundreds of icons built in to Eraser"),(0,io.Z)(T,ru.c.AddFigure,"Create structure on your canvas"),(0,io.Z)(T,ru.c.GenerateAiDiagram,"Make a diagram in seconds from a prompt"),(0,io.Z)(T,ru.c.GenerateDiagramWithCode,"Use our simple syntax to make beautiful diagrams"),(0,io.Z)(T,ru.c.InviteTeamMember,"Eraser is built for teams"),(0,io.Z)(T,ru.c.GitHubSync,"Store your docs and diagrams next to code"),(0,io.Z)(T,ru.c.VsCodeExtensionDownload,"Diagram in your IDE"),(0,io.Z)(T,ru.c.GetStartedNotionIntegrationClicked,"Integrate with Notion"),(0,io.Z)(T,ru.c.GetStartedConfluenceIntegrationClicked,"Integrate with Confluence"),T),ac=/*#__PURE__*/(0,Y.memo)(function(){var e=function(e){return e.map(function(e){return/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(ar().checklistItem,a[e]&&ar().isComplete),children:/*#__PURE__*/(0,W.jsxs)("a",{"data-action":e,onClick:m,children:[/*#__PURE__*/(0,W.jsx)("i",{children:/*#__PURE__*/(0,W.jsx)(ae.Z,{})}),/*#__PURE__*/(0,W.jsx)(iy.Z,{text:au[e],popperProps:aa,placement:"right",children:as[e]}),/*#__PURE__*/(0,W.jsx)(im.J,{className:ar().arrow,icon:at.Z})]})},e)})},t=(0,nO.Pe)(),n=(0,t9.aF)(),r=(0,t9.Fl)(),i=(0,rl.b)(),o=i.loading,a=i.activations,s=(0,r$.Y)().openSettingsModal,u=(0,oJ.d)(),c=null==r?void 0:r.isGetStartedChecklistCollapsed,l=(0,Y.useContext)(rf),A=l.setupItems,d=l.tutorialItems,f=l.allItems,h=l.completedItems,p=f.length+1,g=h.length===f.length,v=(0,Y.useCallback)(function(){o7.H.updateUserSettings(n.id,{isGetStartedChecklistCollapsed:!c}),ne.Z.trackEvent("get_started_checklist","collapse")},[n,c]),m=(0,Y.useCallback)(function(e){var n=e.currentTarget.getAttribute("data-action");switch(ne.Z.trackEvent("get_started_checklist","item_clicked",{item:n}),n){case ru.c.InviteTeamMember:s({openedPane:"members"});break;case ru.c.GitHubSync:s({openedPane:"gitConnect"});break;case ru.c.VsCodeExtensionDownload:t.currentUser.markActivation(ru.c.VsCodeExtensionDownload),window.open("https://marketplace.visualstudio.com/items?itemName=EraserLabs.eraserlabs","_blank");break;case ru.c.GetStartedNotionIntegrationClicked:t.currentUser.markActivation(ru.c.GetStartedNotionIntegrationClicked),window.open("https://www.notion.so/integrations/eraser","_blank");break;case ru.c.GetStartedConfluenceIntegrationClicked:t.currentUser.markActivation(ru.c.GetStartedConfluenceIntegrationClicked),window.open("https://marketplace.atlassian.com/apps/1232673/eraser-for-confluence?tab=overview&hosting=cloud","_blank");break;case ru.c.OpenInsertMenu:window.open("/tutorial/insert-menu","_blank");break;case ru.c.AddFigure:window.open("/tutorial/make-a-figure","_blank");break;case ru.c.GenerateAiDiagram:window.open("/tutorial/ai-diagram","_blank");break;case ru.c.GenerateDiagramWithCode:window.open("/tutorial/diagram-with-code","_blank");break;default:return}},[s]),y=(0,Y.useCallback)(function(){ne.Z.trackEvent("get_started_checklist","hide",{isComplete:g}),o7.H.updateUserSettings(n.id,{isGettingStartedEnabled:!1})},[n,g]);return u||!n||o||(null==r?void 0:r.isGettingStartedEnabled)!==!0?null:/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(ar().getStartedChecklist,c&&ar().isCollapsed),children:[/*#__PURE__*/(0,W.jsxs)("div",{className:ar().header,children:[/*#__PURE__*/(0,W.jsxs)("h4",{children:["Get started",/*#__PURE__*/(0,W.jsx)(rT.Ng,{toggleClassNames:{button:ar().threeDotMenu},children:/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Hide Get started checklist",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:ao}),onClick:y})})]}),/*#__PURE__*/(0,W.jsxs)(oR.Ct,{className:ar().progressBadge,variant:"success",children:[h.length+1," of ",p]}),/*#__PURE__*/(0,W.jsx)(iy.Z,{contentClassName:ar().toggleBtnWrapper,text:c?"Expand checklist":"Minimize checklist",placement:"right",popperProps:aa,children:/*#__PURE__*/(0,W.jsx)("button",{className:ar().toggleBtn,onClick:v,"data-testid":"get-started-minimize"})})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:ar().progressWrapper,children:[/*#__PURE__*/(0,W.jsx)(o9.k,{className:ar().progressBar,current:h.length+1,limit:p,fullColor:"var(--green-success)"}),/*#__PURE__*/(0,W.jsxs)("span",{children:[h.length+1," of ",p]})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:ar().checklist,children:[/*#__PURE__*/(0,W.jsx)("h5",{children:"Tutorials"}),e(d),/*#__PURE__*/(0,W.jsx)("h5",{className:ar().setup,children:"Setup"}),/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(ar().checklistItem,ar().isComplete),children:[/*#__PURE__*/(0,W.jsx)("i",{children:/*#__PURE__*/(0,W.jsx)(ae.Z,{})}),/*#__PURE__*/(0,W.jsx)("span",{children:"Create or join an Eraser team"})]}),e(A),g&&/*#__PURE__*/(0,W.jsx)("div",{className:ar().allCompletedView,children:/*#__PURE__*/(0,W.jsxs)("div",{className:ar().contentWrap,children:[/*#__PURE__*/(0,W.jsx)("h6",{children:"\uD83C\uDF89"}),/*#__PURE__*/(0,W.jsx)("span",{children:"All tutorials complete"}),/*#__PURE__*/(0,W.jsx)(rI.zx,{className:ar().hideBtn,onClick:y,children:"Hide Checklist"})]})})]})]})}),al=n(70621),aA=n(81961),ad=n(66093),af=n(11504),ah=/*#__PURE__*/n.n(af),ap=!!(null==window?void 0:window.Cypress),ag=function(e){var t=e.title,n=e.body,r=e.linkUrl,i=e.linkCta,o=e.launchId,a=e.videoId,s=e.showConfetti,u=e.hideForExistingUsers,c=void 0===u||u,l=(0,en.useRouter)(),A=(0,nc.Ii)(),d=A.coachmarks,f=A.markCoachmark,h=(0,Y.useState)(!1),p=h[0],g=h[1],v=(0,Y.useState)(!1),m=v[0],y=v[1],b=(0,t9.fC)(),w=null==d?void 0:d[aA.G.LaunchAnnouncement],_=null!==d;(0,Y.useEffect)(function(){var e,t,n,r=Date.now(),i=null!==(t=null==b?void 0:null===(e=b.createdAt)||void 0===e?void 0:e.getTime())&&void 0!==t?t:r,a=null!==(n=null==w?void 0:w.lastShownAt)&&void 0!==n?n:r;if(oO.g.isFeatureEnabled("product_announcement")&&!p&&!m&&_&&(!(i>r-864e5)||!c)){if(!w){g(!0);return}g(!w.isShown||w.lastShownValue!==o&&r-a>864e5)}},[w,o,m,p,b,_,c]);var E=(0,Y.useCallback)(function(){f(aA.G.LaunchAnnouncement,!0,o),y(!0),g(!1)},[f,o]),C=null==r?void 0:r.startsWith("/"),B=r&&(l.asPath.startsWith(r)||(null==r?void 0:r.startsWith(l.asPath))),I=(0,Y.useCallback)(function(){C&&r?l.push(r):r&&window.open(r,"_blank")},[r,C,l]);return!p||m||ap?null:/*#__PURE__*/(0,W.jsxs)("div",{className:ah().announcement,children:[/*#__PURE__*/(0,W.jsx)("h3",{className:ah().title,children:t}),/*#__PURE__*/(0,W.jsxs)("div",{className:ah().body,children:[n,!!a&&/*#__PURE__*/(0,W.jsx)(ad.n,{videoId:a,openExternal:!0,className:"marginTopLarge"})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:ah().footer,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.OUTLINE,className:ah().button,onClick:E,"data-testid":"launch-announcement-dismiss",children:"Got It"}),!!(i&&r&&!B)&&/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.REGULAR,onClick:I,children:i})]}),(void 0===s||s)&&/*#__PURE__*/(0,W.jsxs)("div",{className:ah().confetti,children:[/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece}),/*#__PURE__*/(0,W.jsx)("div",{className:ah().confettiPiece})]})]})},av=function(){var e=(0,nr.Rs)(),t=(0,en.useRouter)();if(!e)return null;var n="".concat(e.name," Workspaces  Eraser");return t.pathname.includes("/git-diagram")?n="Git Diagrammer  Eraser":t.pathname.includes("/eraserbot")&&(n="EraserBot"),/*#__PURE__*/(0,W.jsx)(et(),{children:/*#__PURE__*/(0,W.jsx)("title",{children:n})})},am=function(e){var t=e.children,n=(0,en.useRouter)(),r=(0,oJ.d)(),i=(0,iN.Rx)(),o=i.query,a=i.onInputChange,s=(0,rQ.Q)().tabId,u=o.length>0,c="search"===s,l="github"===s,A=(0,nF.Z)(),d=A.onClose,f=A.isOpen,h=A.onToggle;(0,Y.useEffect)(function(){u&&a("")},[n.pathname]);var p=function(e){var t=(0,al.T0)(e);t&&(0,tZ.XD)({statusCode:t.statusCode,title:t.message,location:"dashboard",error:e})};return/*#__PURE__*/(0,W.jsxs)("div",{className:iO().dashboardPage,"data-is-ready":"true",children:[/*#__PURE__*/(0,W.jsx)(tQ.Z,{fallback:function(){return null},onError:p,children:/*#__PURE__*/(0,W.jsx)(o8,{activeTab:s,onSidebarClose:d,sidebarOpenMobile:f})}),/*#__PURE__*/(0,W.jsx)(tQ.Z,{fallback:function(){return null},onError:p,children:/*#__PURE__*/(0,W.jsxs)("div",{className:iO().dashboardBody,children:[r&&/*#__PURE__*/(0,W.jsx)(i7,{onSidebarToggle:h}),/*#__PURE__*/(0,W.jsx)(iT,{}),u&&!(c||l)?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(oe.S,{}),/*#__PURE__*/(0,W.jsx)(oe.Z,{})]}):t,/*#__PURE__*/(0,W.jsx)(ac,{}),/*#__PURE__*/(0,W.jsx)(ag,{title:"\uD83D\uDE80 Support Eraser on Product Hunt",body:"We are launching codebase diagrams on Product Hunt today. If you have been enjoying Eraser, please upvote and comment so more users can find us.",linkUrl:"https://www.producthunt.com/posts/eraser-ai-2",linkCta:"Support Eraser",launchId:"product-hunt-git-diagram",videoId:"eU9cnSMknDQ",hideForExistingUsers:!1})]})})]})},ay=function(e){var t=e.children,n=(0,en.useRouter)(),r=n.pathname.includes("/eraserbot/monitors")||n.pathname.includes("/git-diagram")||n.pathname.includes("/ai-context/new")||n.pathname.includes("/ai-context/")&&n.pathname.endsWith("/edit")?t:/*#__PURE__*/(0,W.jsx)(am,{children:t});return/*#__PURE__*/(0,W.jsx)(it.Z,{hideSplashOnLoad:!1,children:/*#__PURE__*/(0,W.jsx)(iS,{children:/*#__PURE__*/(0,W.jsx)(ie,{children:/*#__PURE__*/(0,W.jsxs)(ic.yR,{children:[/*#__PURE__*/(0,W.jsxs)(ik.N,{children:[/*#__PURE__*/(0,W.jsx)(av,{}),/*#__PURE__*/(0,W.jsx)(ii.ZP,{children:r})]}),/*#__PURE__*/(0,W.jsx)(ir.Z,{stickTo:"right"})]})})})})};(0,K.Z)(function(){return(0,z.__generator)(this,function(e){return[2,{props:{og:(0,t5.Z)((0,G.Z)({},tX),{description:"Create diagrams, wireframes, technical specs with your team. Your all-in-one technical ideation tool."})}}]})});var ab=n(34484);function aw(){return(aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var a_=function(e){return /*#__PURE__*/Y.createElement("svg",aw({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"key_svg__feather key_svg__feather-key"},e),S||(S=/*#__PURE__*/Y.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))},aE=n(45944);function aC(){return(aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var aB=function(e){return /*#__PURE__*/Y.createElement("svg",aC({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=/*#__PURE__*/Y.createElement("path",{d:"M3.8 11.4V11a2.4 2.4 0 012.4-2.4h1.6a2.4 2.4 0 012.4 2.4v.4M7 3.8A1.6 1.6 0 107 7a1.6 1.6 0 000-3.2zm0 8.8A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",stroke:"currentColor",strokeLinecap:"square"})))};function aI(){return(aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var ax=function(e){return /*#__PURE__*/Y.createElement("svg",aI({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N||(N=/*#__PURE__*/Y.createElement("path",{d:"M3.2 4.6h1.6m1.6 0h2.4M3.2 7h1.6m1.6 0h2.4M6.4 9.4h2.4m-7.6-8h9.6v11.2l-1.6-.8-1.6.8-1.6-.8-1.6.8-1.6-.8-1.6.8V1.4z",stroke:"currentColor",strokeLinejoin:"round"})))};function aT(){return(aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var aS=function(e){return /*#__PURE__*/Y.createElement("svg",aT({width:12,height:11,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D||(D=/*#__PURE__*/Y.createElement("path",{d:"M6.349 8.916a.75.75 0 00-.698 0l-1.767.93a.75.75 0 01-1.088-.791l.337-1.968a.75.75 0 00-.215-.664L1.488 5.03a.75.75 0 01.416-1.28l1.975-.286a.75.75 0 00.565-.41l.883-1.79a.75.75 0 011.345 0l.884 1.79a.75.75 0 00.565.41l1.975.286a.75.75 0 01.416 1.28l-1.43 1.393a.75.75 0 00-.215.664l.337 1.968a.75.75 0 01-1.088.79l-1.767-.929z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))},ak=n(59244);function aN(){return(aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var aD=function(e){return /*#__PURE__*/Y.createElement("svg",aN({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O||(O=/*#__PURE__*/Y.createElement("path",{d:"M0 11.6h12m-7.6-2V4.8m3.2 4.8V2.4m3.2 7.2V0M1.2 7.2v2.4",stroke:"currentColor"})))},aO=n(50389),aR=function(){var e=(0,nr.Rs)(),t=(0,r$.Y)(),n=t.openedPane,r=t.setOpenedPane,i=(0,rg.Q6)(ni.AC.ApiAccess,null==e?void 0:e.id),o=(0,rg.Q6)(ni.AC.AiImport,null==e?void 0:e.id);if(!e)return null;var a=(0,aO.aX)(e);return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(n9().sideBarRoot),children:[/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(n9().sideBarHeader,nG().small,nG().semiBold),children:"Team"}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Team Members",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:iG.Z}),isSelected:"members"===n,onClick:function(){return r("members")}}),/*#__PURE__*/(0,W.jsx)(n7.Z,{onClick:function(){r("plans"),ne.Z.trackEvent("payment","open_billing_pane",{source:"settingsModalSidebar"})},label:"Plans & Billing",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:ax}),isSelected:"plans"===n}),!a&&/*#__PURE__*/(0,W.jsx)(n7.Z,{onClick:function(){return r("usage")},label:"AI Usage",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:aD}),isSelected:"usage"===n}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Git Connect",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:aE.Z}),isSelected:"gitConnect"===n,onClick:function(){return r("gitConnect")}}),/*#__PURE__*/(0,W.jsx)(n7.Z,{onClick:function(){return r("custom-icons")},label:"Custom Icons",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:aS}),className:n9().svgAutoHeight,isSelected:"custom-icons"===n,rightElement:a?/*#__PURE__*/(0,W.jsx)(oR.y6,{}):void 0}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"API Tokens",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:a_}),isSelected:"api-tokens"===n,onClick:function(){return r("api-tokens")},rightElement:i?void 0:/*#__PURE__*/(0,W.jsx)(oR.y6,{})}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Import",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:ak.Z}),isSelected:"import"===n,onClick:function(){return r("import")},rightElement:o?void 0:/*#__PURE__*/(0,W.jsx)(oR.y6,{})}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Team Settings",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:iJ.Z}),isSelected:"team-settings"===n,onClick:function(){return r("team-settings")}}),/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(n9().sideBarHeader,nG().small,nG().semiBold),children:"Personal"}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Profile",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:aB}),isSelected:"profile"===n,onClick:function(){return r("profile")}}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Appearance",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:ab.Z}),isSelected:"appearance"===n,onClick:function(){return r("appearance")}})]})},aF={getRef:function(){return nv.RZ.collection("api-tokens")},create:function(e){var t=e.name,n=e.teamId;return(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getRef().add({name:t,teamId:n,createdAt:Date.now(),isDisabled:!1,scopes:["render","autoDiagram:create"]})];case 1:return[2,e.sent().id]}})}).apply(this)},updateById:function(e,t){return(0,K.Z)(function(){return(0,z.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getRef().doc(e).set(t,{merge:!0})];case 1:return n.sent(),[2]}})}).apply(this)},subscribe:function(e,t){var n=e.teamId;return this.getRef().where("teamId","==",n).onSnapshot(function(e){t(e.docs.map(function(e){return(0,G.Z)({id:e.id},e.data())}))})}},aL=function(e){var t=(0,Y.useState)(void 0),n=t[0],r=t[1];return(0,Y.useEffect)(function(){if(e)return aF.subscribe({teamId:e},r)},[e]),n},aP=n(14670),aU=function(e){var t,n=e.isAdmin,r=(0,iL.Z)(),i=(0,nr.LP)(),o=(0,Y.useState)(!1),a=o[0],s=o[1],u=(t=(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:if(!i)return[2];return s(!0),[4,aF.create({teamId:i,name:"Eraser API Token"}).catch(function(e){r.error("API token create failed: ".concat(e.message))})];case 1:return e.sent(),s(!1),[2]}})}),function(){return t.apply(this,arguments)});return/*#__PURE__*/(0,W.jsx)(rI.ZP,{disabled:!i||!n,isLoading:a,onClick:n?u:void 0,size:rI.ZP.Sizes.SMALL,variant:rI.ZP.Variants.REGULAR,title:n?null:"Only team admins can create a token",children:"Generate Token"})},aM=n(34224),aj=n(85617),aZ=n(79658),aQ=/*#__PURE__*/n.n(aZ),aH=function(e){var t=e.apiToken,n=e.isAdmin,r=(0,aM.Z)(),i=(0,nF.Z)(),o=i.isOpen,a=i.onClose,s=i.onOpen;return/*#__PURE__*/(0,W.jsxs)("div",{className:aQ().root,children:[/*#__PURE__*/(0,W.jsx)("div",{className:aQ().label,children:t.name}),/*#__PURE__*/(0,W.jsx)("div",{className:aQ().token,children:/*#__PURE__*/(0,W.jsx)(rN.Z,{readOnly:!0,value:t.id,className:aQ().inputField,button:/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:function(){return r(t.id,"Copied token")},className:aQ().copyButton,variant:rI.ZP.Variants.REVERSED,children:"Copy Token"})})}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:n?s:void 0,variant:rI.ZP.Variants.OUTLINE,disabled:!n,title:n?null:"Only team admins can delete tokens",children:"Delete"}),/*#__PURE__*/(0,W.jsx)(aj.Z,{isOpen:o,onCancel:a,title:"Delete API Token?",onConfirm:function(){a(),aF.updateById(t.id,{isDisabled:!0})},description:'Are you sure you want to delete the token "'.concat(t.name,'" ?')})]})},aV=n(26942),aK=n(62451),aG=n(47519),az=n(85964),aW=n(88219),aq=/*#__PURE__*/n.n(aW),aY=function(){var e,t=(0,nr.Rs)(),n=null==t?void 0:t.id,r=null==t?void 0:null===(e=t.plan)||void 0===e?void 0:e.payAsYouGoEnabled,i=aL(n),o=(0,rg.Q6)(ni.AC.ApiAccess,n),a=(0,rg.Bv)({featureName:ni.M$.MonthlyAiDiagramApiCalls,teamId:n}),s=(0,rg.Bv)({featureName:ni.M$.PremiumApiCalls,teamId:n}),u=(0,r$.Y)().setOpenedPane,c=(0,t9.II)(),l=(0,aP.ZP)(n,void 0,{internalOnly:!0}),A=(0,aO.GX)(l,c,aO.H0),d=!i,f=i?i.filter(function(e){return!e.isDisabled}):[],h=f.length>0,p=o&&!!(r||(null==a?void 0:a.limit)||(null==s?void 0:s.limit));return/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:["Eraser's API allows generating diagrams programmatically, using the same engine that drives\xa0",/*#__PURE__*/(0,W.jsx)(aV.dL,{href:"https://eraser.io/diagramgpt",children:"DiagramGPT"}),"\xa0and Eraser's\xa0",/*#__PURE__*/(0,W.jsx)(aV.dL,{href:"https://docs.eraser.io/docs/diagram-as-code",children:"diagram-as-code"}),"\xa0and AI Diagramming features. API calls require a valid API token which is shared by all team members.\xa0",/*#__PURE__*/(0,W.jsx)(aV.dL,{href:"https://docs.eraser.io/reference/api-token",children:"See documentation"}),"."]}),p?/*#__PURE__*/(0,W.jsxs)("div",{className:aq().tokensContainer,children:[d&&/*#__PURE__*/(0,W.jsx)(aK.Z,{}),!h&&!d&&/*#__PURE__*/(0,W.jsxs)("div",{className:aq().emptyTokenContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{className:aq().label,children:"API Token"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{className:aq().inputField,placeholder:"No Token",readOnly:!0}),/*#__PURE__*/(0,W.jsx)(aU,{isAdmin:A})]}),h&&!d&&f.filter(function(e){return!e.isDisabled}).map(function(e){return/*#__PURE__*/(0,W.jsx)(aH,{apiToken:e,isAdmin:A},e.id)})]}):o?/*#__PURE__*/(0,W.jsx)(aG.U,{className:"marginTopLarge",children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:["API access is only available if usage-based-pricing is enabled. ",/*#__PURE__*/(0,W.jsx)(aV.h$,{onClick:function(){return u("plans",ni.AC.ApiAccess,az.$)},children:"Enable here"})]})}):/*#__PURE__*/(0,W.jsx)(aG.U,{className:"marginTopLarge",children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:["API access is only available on ",/*#__PURE__*/(0,W.jsx)(aV.h$,{onClick:function(){return u("plans",ni.AC.ApiAccess)},children:"Paid Plans"}),"."]})})]})},a$=n(72888),aX=/*#__PURE__*/n.n(a$),aJ=function(){var e=(0,nP.F)(),t=e.themeSetting,n=e.theme,r=e.setThemeSetting,i="dark"===t,o="light"===t,a="system"===t;return/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsxs)("p",{className:aX().subTitle,children:["Toggle between Light & Dark mode at any time with\xa0",/*#__PURE__*/(0,W.jsx)(nV.P,{shortcutStyle:"pills",className:aX().keyboardShortcuts,keys:["Shift","AltOrOption","D"]}),". Your personal settings do not affect what others see."]}),/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(aX().radioCardsWrapper,"dark"===n&&aX().dark),children:[/*#__PURE__*/(0,W.jsxs)("label",{className:(0,nz.Z)(aX().radioCard,o&&aX().checked),children:[/*#__PURE__*/(0,W.jsx)("input",{type:"radio",checked:o,onChange:function(){return r("light")}}),/*#__PURE__*/(0,W.jsxs)("div",{className:aX().labelWrapper,children:[/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelTitle,children:"Light"}),/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelDescription,children:"A traditional white board look"})]})]}),/*#__PURE__*/(0,W.jsxs)("label",{className:(0,nz.Z)(aX().radioCard,i&&aX().checked),children:[/*#__PURE__*/(0,W.jsx)("input",{type:"radio",checked:i,onChange:function(){return r("dark")}}),/*#__PURE__*/(0,W.jsxs)("div",{className:aX().labelWrapper,children:[/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelTitle,children:"Dark"}),/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelDescription,children:"A modern night-time aesthetic"})]})]}),/*#__PURE__*/(0,W.jsxs)("label",{className:(0,nz.Z)(aX().radioCard,a&&aX().checked),children:[/*#__PURE__*/(0,W.jsx)("input",{type:"radio",checked:a,onChange:function(){return r("system")}}),/*#__PURE__*/(0,W.jsxs)("div",{className:aX().labelWrapper,children:[/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelTitle,children:"Auto"}),/*#__PURE__*/(0,W.jsx)("span",{className:aX().labelDescription,children:"Use system preferences"})]})]})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:aX().imageWrapper,children:[/*#__PURE__*/(0,W.jsx)("img",{alt:"Light mode screenshot",src:"/static/images/settingsModal/lightBg.svg",className:(0,nz.Z)(aX().image,"dark"===n&&aX().hidden)}),/*#__PURE__*/(0,W.jsx)("img",{alt:"Dark mode screenshot",src:"/static/images/settingsModal/darkBg.svg",className:(0,nz.Z)(aX().image,"dark"!==n&&aX().hidden)})]})]})},a0=function(){var e=new URL(window.location.href);return e.search="?settings=plans",e.toString()},a1=function(e){var t,n,r,i,o=e.team,a=(0,t9.II)(),s=(0,aP.ZP)(null==o?void 0:o.id,void 0,{internalOnly:!0}),u=(0,aO.GX)(s,a),c=null!==(i=null==o?void 0:null===(t=o.plan)||void 0===t?void 0:t.planType)&&void 0!==i?i:ni.k9.Free,l=(0,aO.GX)(s,a,aO.H0);return!!o&&!!u&&(c===ni.k9.Free||(null===(n=o.plan)||void 0===n?void 0:null===(r=n.stripe)||void 0===r?void 0:r.status)===ni.yh.active&&l)},a2=n(48860),a4=n(74762),a3=/*#__PURE__*/n.n(a4),a5=function(e){var t=e.children,n=e.isDarkMode,r=e.isCurrent;return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(a3().root,r&&a3().isCurrent,n&&a3().isDarkMode),children:/*#__PURE__*/(0,W.jsxs)("div",{className:a3().content,children:[r&&/*#__PURE__*/(0,W.jsx)(oR.Ct,{variant:"primary",className:a3().badge,children:"Current plan"}),t]})})};function a6(){return(a6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var a8=function(e){return /*#__PURE__*/Y.createElement("svg",a6({width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R||(R=/*#__PURE__*/Y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.828 2.4L4.463 9.766.297 5.6l.566-.566 3.6 3.6 6.8-6.8.565.566z",fill:"#2866DF"})))},a9=n(23616),a7=/*#__PURE__*/n.n(a9),se=t$.CF.pricingURL,st=function(e){var t=e.features,n=e.secondaryFeatures,r=e.onLearnMoreClick;return/*#__PURE__*/(0,W.jsxs)("div",{className:a7().benefitsContainer,children:[/*#__PURE__*/(0,W.jsx)("ul",{className:a7().featureList,children:t.map(function(e){return/*#__PURE__*/(0,W.jsxs)("li",{children:[/*#__PURE__*/(0,W.jsx)(im.J,{icon:a8}),/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(e.isHighlighted&&a7().isHighlighted),children:e.label}),e.description&&/*#__PURE__*/(0,W.jsx)("span",{className:a7().bulletListItemDescription,children:e.description})]},e.label)})}),/*#__PURE__*/(0,W.jsx)("ul",{className:a7().secondaryFeatureList,children:null==n?void 0:n.map(function(e){return/*#__PURE__*/(0,W.jsxs)("li",{children:[/*#__PURE__*/(0,W.jsx)(im.J,{icon:a8}),"string"==typeof e?e:/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(e.isHighlighted&&a7().isHighlighted),children:e.label})]},"string"==typeof e?e:e.label)})}),r&&/*#__PURE__*/(0,W.jsx)("a",{className:"linkLight",href:se,style:{marginLeft:"24px"},target:"_blank",rel:"noreferrer",children:"Learn More"})]})},sn=n(5406),sr=/*#__PURE__*/n.n(sn),si=function(e){var t=e.annualPrice,n=e.monthlyPrice;return/*#__PURE__*/(0,W.jsxs)("div",{className:sr().priceTag,children:[/*#__PURE__*/(0,W.jsxs)("p",{children:[/*#__PURE__*/(0,W.jsxs)("span",{className:sr().priceTagNumber,children:["$",t]}),/*#__PURE__*/(0,W.jsx)("span",{className:sr().priceTagText,children:"per member / month"})]}),/*#__PURE__*/(0,W.jsxs)("p",{className:sr().smallSemiBold,children:["billed annually or $",n,"/monthly"]})]})},so=n(21949),sa=/*#__PURE__*/n.n(so),ss=function(e){var t=e.children;return/*#__PURE__*/(0,W.jsxs)("div",{className:sa().root,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,(0,t5.Z)((0,G.Z)({},e),{className:(0,nz.Z)(e.className,sa().mainButton),children:t})),/*#__PURE__*/(0,W.jsx)(rI.ZP,(0,t5.Z)((0,G.Z)({},e),{isLoading:!1,className:(0,nz.Z)(e.className,sa().hiddenButton),children:t}))]})},su=n(97023),sc=/*#__PURE__*/n.n(su),sl=(F={},(0,io.Z)(F,ni.k9.Free,0),(0,io.Z)(F,ni.k9.Pro,1),(0,io.Z)(F,ni.k9.Business,2),(0,io.Z)(F,ni.k9.Enterprise,3),F),sA=function(e){var t=e.currentPlan,n=e.actionsState,r=e.cardPlanType,i=e.canChangePlan,o=e.onUpgradeClick,a=e.onDowngradeClick,s=e.onManagePlanClick,u=e.subscriptionStatus,c=e.willCancelAtPeriodEnd,l=u===ni.yh.paused,A=u===ni.yh.canceled;return i&&r===ni.k9.Enterprise?/*#__PURE__*/(0,W.jsx)(ss,{"data-testid":"billing-plan-management-button",onClick:function(){return s(ni.k9.Enterprise)},isLoading:!1,children:"Contact us"}):i&&(t===ni.k9.Free&&l||t!==ni.k9.Free&&t===r)||t===ni.k9.Free&&r===ni.k9.Free&&(l||A)?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(ss,{variant:rI.tr.TRANSPARENT,"data-testid":"billing-plan-management-button",onClick:function(){return s(r)},isLoading:n.isManagementButtonLoading===r,children:"Billing & Invoices"}),l&&t===ni.k9.Free&&/*#__PURE__*/(0,W.jsx)("small",{className:sc().failedPayment,children:"Payment failed. Check payment method."})]}):!i||r===ni.k9.Free||t===r||l||sl[r]<sl[t]?!i||t===ni.k9.Free||t===r||sl[r]>sl[t]||r===ni.k9.Free&&c?null:/*#__PURE__*/(0,W.jsx)(ss,{variant:rI.tr.TRANSPARENT,"data-testid":"billing-plan-downgrade-button",isLoading:n.isDowngradeLoading===r,onClick:function(){return a({planType:r,hasPromoCode:!0})},children:"Downgrade"}):/*#__PURE__*/(0,W.jsx)(ss,{"data-testid":"billing-plan-upgrade-button",isLoading:n.isUpgradeLoading===r,onClick:function(){return o({hasPromoCode:!0,planType:r})},children:"Upgrade"})},sd=(0,q.cn)({key:"paymentState",default:{subscriptionCancellationInfo:null}}),sf=n(79170),sh=n(60885),sp=/*#__PURE__*/n.n(sh),sg=/*#__PURE__*/(0,Y.memo)(function(e){var t=e.className,n=e.value,r=e.min,i=void 0===r?-1/0:r,o=e.max,a=void 0===o?1/0:o,s=e.placeholder,u=e.defaultValue,c=e.onChange,l=e.onBlur,A=e.disabled,d=void 0!==A&&A,f=(0,Y.useRef)(null),h=(0,Y.useState)(n||u),p=h[0],g=h[1];(0,Y.useEffect)(function(){"number"==typeof n&&g(n)},[n]);var v=(0,Y.useMemo)(function(){return"number"!=typeof n?s:void 0===p?"":p.toString()},[n,p,s]),m=(0,Y.useCallback)(function(e){return Math.min(Math.max(e||0,i),a)},[a,i]),y=(0,Y.useCallback)(function(){p===n||d||c(m(p))},[p,c,n,m,d]),b=(0,Y.useCallback)(function(e){"number"!=typeof n&&u&&c(u),e.target.select()},[u,c,n]),w=(0,Y.useCallback)(function(){y(),null==l||l()},[y,l]),_=(0,Y.useCallback)(function(e){var t=e.currentTarget.value.replace(/[^\d]/g,"");if(""===t){g(void 0);return}g(Number(t))},[]),E=(0,Y.useCallback)(function(e){"Enter"===e.key&&(y(),e.preventDefault())},[y]);return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(sp().container,t),children:[/*#__PURE__*/(0,W.jsx)("input",{ref:f,className:sp().input,type:"text",value:v,onFocus:b,onBlur:w,onChange:_,onKeyDown:E,disabled:d}),/*#__PURE__*/(0,W.jsx)("span",{className:sp().dollarSign,children:"$"})]})}),sv=n(63842),sm=n(40145),sy=/*#__PURE__*/n.n(sm),sb=o5.ZP.free.features.featureLimits,sw=o5.ZP.pro.features.featureLimits,s_=o5.ZP.business.features.featureLimits,sE=function(e){var t,n,r,i,o,a,s,u,c,l=e.isDarkMode,A=e.currentPlan,d=e.aiDiagramAccess,f=e.premiumCreditsAccess,h=e.workspaceAccess,p=e.customIconsAccess,g=e.subscriptionStatus,v=e.highlightedFeature,m=e.teamMemberCount,y=void 0===m?1:m,b=e.currentMonthlySpend,w=void 0===b?0:b,_=e.billingVersioning,E=e.onManageBillingClick,C=e.onPlanChange,B=e.canChangePlan,I=e.onTeamPlanLimitsChange,x=A.planType,T=(0,q.sJ)(sd).subscriptionCancellationInfo,S=(0,rE.Z)((0,rC.R)({isUpgradeLoading:null,isDowngradeLoading:null,isManagementButtonLoading:null}),2),k=S[0],N=S[1],D=(0,Y.useCallback)(function(e){var t=e||{hasPromoCode:!1,planType:ni.k9.Pro},n=t.planType,r=void 0===n?ni.k9.Pro:n,i=t.hasPromoCode,o=void 0!==i&&i;N({isUpgradeLoading:r}),ne.Z.trackEvent("payment","billing_plan_upgrade",{planType:r,hasPromoCode:o,source:"billingPlanPane"}),C({hasPromoCode:o,planType:r}).finally(function(){return N({isUpgradeLoading:null})})},[N,C]),O=(0,Y.useCallback)(function(e){var t=e.planType,n=e.hasPromoCode;N({isDowngradeLoading:t}),ne.Z.trackEvent("payment","billing_plan_downgrade",{source:"billingPlanPane"}),(t===ni.k9.Free?E():C({planType:t,hasPromoCode:void 0!==n&&n})).finally(function(){return N({isDowngradeLoading:null})})},[E,C,N]),R=(0,Y.useCallback)(function(e){if(e===ni.k9.Enterprise){window.open("https://cal.com/shin-kim/eraser-enterprise-plan","_blank");return}N({isManagementButtonLoading:e}),ne.Z.trackEvent("payment","billing_plan_manage",{source:"billingPlanPane"}),E().finally(function(){return N({isManagementButtonLoading:null})})},[N,E]),F=(0,Y.useCallback)(function(){ne.Z.trackEvent("payment","billing_plan_learn_more",{source:"billingPlanPane"})},[]),L=(0,Y.useCallback)(function(e,t,n){return A.planType===ni.k9.Free&&n&&(null==e?void 0:e.limit)||t},[A]),P=(null==_?void 0:null===(t=_[ni.k9.Business])||void 0===t?void 0:t.version)==="v1",U=(0,Y.useState)(null!==(n=null==A?void 0:A.maxMonthlySpend)&&void 0!==n?n:50),M=U[0],j=U[1],Z=(0,Y.useState)(null!==(r=null==A?void 0:A.payAsYouGoEnabled)&&void 0!==r&&r),Q=Z[0],H=Z[1],V={currentPlan:A.planType,actionsState:k,canChangePlan:B,onUpgradeClick:D,onDowngradeClick:O,onManagePlanClick:R,subscriptionStatus:g,willCancelAtPeriodEnd:null!==(i=null==T?void 0:T.willCancelAtPeriodEnd)&&void 0!==i&&i},K=v===ni.M$.AiDiagramAndOutlineCredits,z=v===ni.M$.MonthlyAiDiagramApiCalls||v===ni.M$.PremiumApiCalls||v===ni.AC.ApiAccess,$=v===ni.M$.PremiumCredits||v===ni.AC.CustomAiContext,X=[{label:L(d,sb[ni.M$.AiDiagramAndOutlineCredits],!0)+" Standard AI Credits",current:L(d,sb[ni.M$.AiDiagramAndOutlineCredits],!0),description:"one-time use",isHighlighted:K},{label:"".concat(L(f,sb[ni.M$.PremiumCredits],!0)," Premium AI Credits"),description:"one-time use",isHighlighted:$}],J=[{label:"".concat(L(d,sw[ni.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:K},{label:"".concat(L(d,sw[ni.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:$},{label:"AI API Access",description:"With usage-based pricing",isHighlighted:z}],ee=[{label:"".concat(L(d,s_[ni.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:K},{label:"".concat(L(d,s_[ni.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:$},{label:"AI API Access",description:"With usage-based pricing",isHighlighted:z}],et=[{label:"Unlimited Standard AI",description:"per month per member",isHighlighted:K},{label:"More Premium AI",description:"per month per member",isHighlighted:$},{label:"AI API Access",description:"more calls",isHighlighted:z}],en="".concat(y," ").concat(1===y?"Member":"Members");return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("div",{className:sy().container,children:[/*#__PURE__*/(0,W.jsxs)(a5,{isDarkMode:l,isCurrent:x===ni.k9.Free,children:[/*#__PURE__*/(0,W.jsx)("div",{className:sy().title,children:o5.ZP.free.label}),/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(nG().medium,"c-g10"),style:{visibility:x===ni.k9.Free?"visible":"hidden"},children:en}),/*#__PURE__*/(0,W.jsx)(st,{features:X,secondaryFeatures:[{label:"".concat(L(h,sb[ni.M$.Workspaces])," Team Files"),isHighlighted:v===ni.M$.Workspaces},"Standard AI References","Github Sync","Unlimited Members","Unlimited Guests","Diagram-as-Code","Realtime Collaboration","Commenting"]}),/*#__PURE__*/(0,W.jsx)("div",{className:sy().buttonContainer,children:/*#__PURE__*/(0,W.jsx)(sA,(0,t5.Z)((0,G.Z)({},V),{cardPlanType:ni.k9.Free}))})]}),/*#__PURE__*/(0,W.jsxs)(a5,{isDarkMode:l,isCurrent:x===ni.k9.Pro,children:[/*#__PURE__*/(0,W.jsx)("div",{className:sy().title,children:o5.ZP.pro.label}),/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(nG().medium,"c-g10"),style:{visibility:x===ni.k9.Pro?"visible":"hidden"},children:en}),/*#__PURE__*/(0,W.jsx)(st,{features:J,secondaryFeatures:["Everything in Free",{label:"Unlimited Team Files",isHighlighted:v===ni.M$.Workspaces},{label:"Security Controls",isHighlighted:v===ni.AC.NoLinkAccess},{label:"".concat(L(p,sw[ni.M$.CustomIcons])," Custom Icons"),isHighlighted:v===ni.M$.CustomIcons},{label:"PDF Export",isHighlighted:v===ni.AC.ExportPDF},{label:"Better Quality Export",isHighlighted:v===ni.AC.ExportQualityControls||v===ni.AC.ExportWatermarkToggle},{label:"Private Files",isHighlighted:v===ni.AC.PrivateWorkspaces}],onLearnMoreClick:F}),/*#__PURE__*/(0,W.jsx)(si,{monthlyPrice:12,annualPrice:10}),/*#__PURE__*/(0,W.jsx)("div",{className:sy().buttonContainer,children:/*#__PURE__*/(0,W.jsx)(sA,(0,t5.Z)((0,G.Z)({},V),{cardPlanType:ni.k9.Pro}))})]}),/*#__PURE__*/(0,W.jsxs)(a5,{isDarkMode:l,isCurrent:x===ni.k9.Business,children:[/*#__PURE__*/(0,W.jsx)("div",{className:sy().title,children:o5.ZP.business.label}),/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(nG().medium,"c-g10"),style:{visibility:x===ni.k9.Business?"visible":"hidden"},children:en}),/*#__PURE__*/(0,W.jsx)(st,{features:ee,secondaryFeatures:["Everything in Pro",{label:"SAML SSO",isHighlighted:v===ni.AC.SSO},{label:"".concat(L(p,s_[ni.M$.CustomIcons])," Custom Icons"),isHighlighted:v===ni.M$.CustomIcons}],onLearnMoreClick:F}),/*#__PURE__*/(0,W.jsx)(si,{monthlyPrice:P?24:35,annualPrice:P?20:25}),/*#__PURE__*/(0,W.jsx)("div",{className:sy().buttonContainer,children:/*#__PURE__*/(0,W.jsx)(sA,(0,t5.Z)((0,G.Z)({},V),{cardPlanType:ni.k9.Business}))})]}),/*#__PURE__*/(0,W.jsxs)(a5,{isDarkMode:l,isCurrent:x===ni.k9.Enterprise,children:[/*#__PURE__*/(0,W.jsx)("div",{className:sy().title,children:o5.ZP.enterprise.label}),/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(nG().medium,"c-g10"),style:{visibility:x===ni.k9.Enterprise?"visible":"hidden"},children:en}),/*#__PURE__*/(0,W.jsx)(st,{features:et,secondaryFeatures:["Everything in Business",{label:"Custom AI References",isHighlighted:$},"Flexible Deployment","Premium Support"],onLearnMoreClick:F}),/*#__PURE__*/(0,W.jsx)("div",{className:sy().priceTagContainer,children:/*#__PURE__*/(0,W.jsx)("span",{children:"Inquire for pricing"})}),/*#__PURE__*/(0,W.jsx)("div",{className:sy().buttonContainer,children:/*#__PURE__*/(0,W.jsx)(sA,(0,t5.Z)((0,G.Z)({},V),{cardPlanType:ni.k9.Enterprise}))})]})]}),/*#__PURE__*/(0,W.jsxs)("div",{id:az.$,className:sy().usageBasedSection,children:[/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(nG().header),children:"Usage-based pricing"}),/*#__PURE__*/(0,W.jsx)(sf.Z,{label:"Enable usage-based pricing",labelSide:"right",checked:Q,onChange:function(e){H(e.target.checked),null==I||I({maxMonthlySpend:M,payAsYouGoEnabled:e.target.checked})},disabled:x===ni.k9.Free||!B,className:"marginTopSmall marginBottomMedium"}),/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"c-g10 marginBottomNone marginTopMedium"),children:["Usage-based pricing allows you to pay for extra AI credits or API calls beyond your plan limits. ",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"https://eraser.io/docs/usage-based-pricing",children:"Learn more"})]})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:"row alignEnd gapMedium",children:[/*#__PURE__*/(0,W.jsx)(rS.A,{label:"Monthly spend limit",style:{width:150},children:/*#__PURE__*/(0,W.jsx)(sg,{value:M,min:5,max:1e4,onChange:j,disabled:!A.payAsYouGoEnabled||x===ni.k9.Free||!B})}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:function(){null==I||I({maxMonthlySpend:M,payAsYouGoEnabled:Q})},isLoading:e.savingTeamPlanLimits,disabled:!A.payAsYouGoEnabled||x===ni.k9.Free||!B,children:"Save"})]}),(Q||w>0)&&/*#__PURE__*/(0,W.jsx)(rS.A,{label:"Current spend",children:/*#__PURE__*/(0,W.jsxs)("span",{className:sy().currentSpend,children:["$",w.toFixed(2),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g9 marginLeftSmall",children:[" / ",(null!==(o=A.maxMonthlySpend)&&void 0!==o?o:0).toFixed(2)]})]})}),/*#__PURE__*/(0,W.jsx)("div",{children:/*#__PURE__*/(0,W.jsx)(rS.A,{label:"Rates",children:/*#__PURE__*/(0,W.jsxs)("div",{className:"column gapSmall",children:[/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:[/*#__PURE__*/(0,W.jsx)("span",{className:sy().pricingAction,children:"Standard AI credits"}),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g9",children:["$",null!==(a=a2.uJ[ni.M$.AiDiagramAndOutlineCredits])&&void 0!==a?a:0," / 100 credits"]})]}),/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:[/*#__PURE__*/(0,W.jsx)("span",{className:sy().pricingAction,children:"Premium AI credits"}),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g9",children:["$",null!==(s=a2.uJ[ni.M$.PremiumCredits])&&void 0!==s?s:0," / 100 credits"]})]}),/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:[/*#__PURE__*/(0,W.jsx)("span",{className:sy().pricingAction,children:"Standard API calls"}),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g9",children:["$",null!==(u=a2.uJ[ni.M$.MonthlyAiDiagramApiCalls])&&void 0!==u?u:0," / 100 calls"]})]}),/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:[/*#__PURE__*/(0,W.jsx)("span",{className:sy().pricingAction,children:"Premium API calls"}),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g9",children:["$",null!==(c=a2.uJ[ni.M$.PremiumApiCalls])&&void 0!==c?c:0," / 100 calls"]})]})]})})})]})]})};function sC(e){var t=(0,rX.Su)().featureAccessService,n=(0,Y.useState)(null),r=n[0],i=n[1];return(0,Y.useEffect)(function(){if(i(null),e){if(!t.subscribeToTeamUsage){console.warn("No ability to subscribe to team usage");return}var n,r=null===(n=t.subscribeToTeamUsage)||void 0===n?void 0:n.call(t,e,function(e){i(e)});return function(){return r()}}},[e,t.subscribeToTeamUsage]),r}var sB=function(e){try{if(e){var t=new URL(e);if(null==t?void 0:t.host.endsWith("stripe.com"))return t.toString()}}catch(e){(0,nm.T)(e)}return null},sI=function(e){var t,n,r,i,o,a=e.highlightedFeature,s=(0,iL.Z)(),u=(0,nP.F)().isDarkMode,c=(0,t9.II)(),l=(0,nr.LP)(),A=(0,nr.Rs)(),d=(0,nx.K)(),f=a0(),h=(0,rX.Su)().analyticsService,p=a1({team:A}),g=(0,nr.DJ)().updateTeam,v=(0,rg.Bv)({featureName:ni.M$.Workspaces,teamId:l}),m=(0,rg.Bv)({featureName:ni.M$.AiDiagramAndOutlineCredits,userId:c,teamId:l}),y=(0,rg.Bv)({featureName:ni.M$.PremiumCredits,userId:c,teamId:l}),b=(0,rg.Bv)({featureName:ni.M$.CustomIcons,userId:c,teamId:l}),w=(0,aP.ZP)(l,void 0,{internalOnly:!0}),_="true"===d.showPromoCodeOption,E=(0,Y.useState)(!1),C=E[0],B=E[1],I=(0,Y.useCallback)((t=(0,K.Z)(function(e){var t,n;return(0,z.__generator)(this,function(r){switch(r.label){case 0:return t=e.planType,n=e.hasPromoCode,[4,rb.Z.post("payment/createUrl",{teamId:l,planType:t,returnUrl:f,allowPromoCode:n}).catch(function(e){var t;return(0,nm.T)(e),s.error(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Could not access billing page."),{redirectUrl:null}}).then(function(e){var t=sB(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,r.sent()]}})}),function(e){return t.apply(this,arguments)}),[l,f]),x=(0,Y.useCallback)(/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,rb.Z.post("payment/createManagementUrl",{teamId:l,returnUrl:f}).catch(function(e){var t;return(0,nm.T)(e),s.error(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Could not load subscription."),{redirectUrl:null}}).then(function(e){var t=sB(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,e.sent()]}})}),[l,f]),T=(0,Y.useCallback)(function(e){B(!0),h.trackEvent("payment","manage_limits",e),null==g||g(l,{plan:e}).then(function(){B(!1)})},[l,g,h]),S=sC(l);return/*#__PURE__*/(0,W.jsx)(sE,{isDarkMode:u,currentPlan:null!==(i=null==A?void 0:A.plan)&&void 0!==i?i:{planType:ni.k9.Free},onPlanChange:I,canChangePlan:p,workspaceAccess:v,aiDiagramAccess:m,premiumCreditsAccess:y,customIconsAccess:b,showPromoCodeOption:_,onManageBillingClick:x,billingVersioning:null==A?void 0:A.useBillingVersioning,subscriptionStatus:null==A?void 0:null===(n=A.plan)||void 0===n?void 0:null===(r=n.stripe)||void 0===r?void 0:r.status,highlightedFeature:a,teamMemberCount:null==w?void 0:w.length,onTeamPlanLimitsChange:T,savingTeamPlanLimits:C,currentMonthlySpend:(null!==(o=null==S?void 0:S.totalSpendInCents)&&void 0!==o?o:0)/100})},sx=(u=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:return[4,rb.Z.get("payment/getSubscriptionCancellationInfo?teamId=".concat(e))];case 1:return[2,t.sent()]}})}),function(e){return u.apply(this,arguments)}),sT=function(e){var t,n,r=(0,rE.Z)((0,q.FV)(sd),2),i=r[0],o=r[1],a=i.subscriptionCancellationInfo,s=null==e?void 0:e.id,u=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:null===(n=t.stripe)||void 0===n?void 0:n.stripeSubscriptionId;return(0,Y.useEffect)(function(){s&&u&&null===a&&(o({subscriptionCancellationInfo:void 0}),sx(s).then(function(e){return o({subscriptionCancellationInfo:e})}).catch(function(){return o({subscriptionCancellationInfo:a})}))},[s,u,o,a]),{paymentState:i}},sS=n(75203),sk=n(30678),sN=n(58869),sD=n(48123),sO=n(28316),sR=function(e){var t=e.children,n=(0,Y.useRef)(null),r=(0,Y.useState)(1),i=r[0],o=r[1],a=n.current;return((0,Y.useLayoutEffect)(function(){if(!a&&i<1024){var e;n.current=null!==(e=document.getElementById("SETTINGS_MODAL_TITLE_SLOT"))&&void 0!==e?e:null,setTimeout(function(){o(function(e){return 2*e})},i)}else o(1)},[i,a]),a)?/*#__PURE__*/sO.createPortal(t,a):null},sF=function(e){var t,n,r=e.paywallError,i=e.paywallFeature,o=e.scrollTarget,a=(0,nr.Rs)();if(!a)return null;var s=null!==(n=null==a?void 0:null===(t=a.plan)||void 0===t?void 0:t.planType)&&void 0!==n?n:ni.k9.Free;return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(sI,{highlightedFeature:i}),/*#__PURE__*/(0,W.jsx)(sL,{paywallError:r,team:a,currentPlan:s,scrollTarget:o})]})},sL=function(e){var t=e.paywallError,n=e.team,r=e.currentPlan,i=void 0===r?ni.k9.Free:r,o=e.scrollTarget,a=sT(n).paymentState,s=null!==(b=(0,aP.ZP)(n.id,void 0,{internalOnly:!0}))&&void 0!==b?b:[],u=s.find(function(e){return(0,aO.H0)(e)}),c=a1({team:n}),l=(0,r$.Y)().clearScrollState,A=(null!==(w=null===(v=a.subscriptionCancellationInfo)||void 0===v?void 0:v.cancelAt)&&void 0!==w?w:0)*1e3,d=null===(m=a.subscriptionCancellationInfo)||void 0===m?void 0:m.willCancelAtPeriodEnd,f=!c&&u?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:["Contact",/*#__PURE__*/(0,W.jsx)(sk.Z,{userId:u.id,size:20}),"to upgrade."]}):null,h=(0,Y.useCallback)(function(){var e=document.getElementById(az.$);if(e)return e.scrollIntoView({behavior:"smooth",block:"end"}),!0},[]);if((0,Y.useLayoutEffect)(function(){if(o===az.$){function e(){return(e=(0,K.Z)(function(){var e;return(0,z.__generator)(this,function(t){switch(t.label){case 0:e=void 0,t.label=1;case 1:if(e)return[3,3];return e=h(),[4,(0,ry.Z)(5)];case 2:return t.sent(),[3,1];case 3:return l(),[2]}})})).apply(this,arguments)}(function(){e.apply(this,arguments)})()}},[h,o,l]),t){var p=i!==ni.k9.Free&&c&&(0,a2.OX)(t.data.featureName);return/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:sN.Z.Variants.Error,children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone rowCentered gapSmall"),children:[/*#__PURE__*/(0,W.jsx)("b",{children:t.message}),null!=f?f:t.hint,!!p&&/*#__PURE__*/(0,W.jsx)(sD.h,{onClick:h,children:"Manage usage and limits"})]})})})}if((null===(y=n.plan)||void 0===y?void 0:y.fixedSeatCount)&&s.length>=n.plan.fixedSeatCount){var g=s.length>n.plan.fixedSeatCount;return/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:g?sN.Z.Variants.Error:sN.Z.Variants.Warning,children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:[/*#__PURE__*/(0,W.jsx)("b",{children:g?"You have exceeded your plan's seat limit":"You have reached your plan's maximum number of seats"})," Contact ",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})," to add seats."]})})})}if(d&&A)return/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:sN.Z.Variants.Transparent,children:/*#__PURE__*/(0,W.jsxs)("span",{className:"gapSmall rowCentered",children:[/*#__PURE__*/(0,W.jsx)(im.J,{icon:sS.Z,width:16,height:16,strokeWidth:2}),/*#__PURE__*/(0,W.jsxs)("p",{className:nG().medium,children:["Pending changes are scheduled for"," ",new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric"}).format(new Date(A))," ","to switch from the ",o5.ZP[i].label.toLowerCase()," plan to"," ",o5.ZP.free.label.toLowerCase()," plan.",f]})]})})});if(i!==ni.k9.Enterprise){var v,m,y,b,w,_,E=(0,nz.Z)(nG().medium,"marginBottomNone"),C=(null===(_=n.plan)||void 0===_?void 0:_.payAsYouGoEnabled)?/*#__PURE__*/(0,W.jsxs)("p",{className:E,children:["Usage based pricing is enabled. ",/*#__PURE__*/(0,W.jsx)(sD.h,{onClick:h,children:"Manage usage and limits"})]}):/*#__PURE__*/(0,W.jsxs)("p",{className:E,children:["Need more AI credits or API calls? Enable ",/*#__PURE__*/(0,W.jsx)(sD.h,{onClick:h,children:"usage-based pricing"})," to pay as you go.",i===ni.k9.Free&&" (Requires a paid plan)"]});return/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:sN.Z.Variants.Transparent,children:C})})}return null},sP=n(44885),sU=n(90087),sM=n(99587),sj=n(23428),sZ=n(41008),sQ=function(e){var t=e.onGitHubConnect,n=e.onGitLabConnect,r=e.renderCustomContent;return/*#__PURE__*/(0,W.jsxs)(sj.u,{children:[/*#__PURE__*/(0,W.jsxs)(sj.u.IconTray,{children:[/*#__PURE__*/(0,W.jsx)(im.J,{icon:sU.Z,width:24,height:24}),/*#__PURE__*/(0,W.jsx)(im.J,{icon:sM.Z,width:24,height:24}),/*#__PURE__*/(0,W.jsx)(im.J,{icon:sP.Z,width:30,height:30,color:"grey-1000"}),/*#__PURE__*/(0,W.jsx)(iF.$q,{height:14})]}),/*#__PURE__*/(0,W.jsxs)(sj.u.TextSection,{children:["Codebase -> AI diagrams. PR monitors to keep your content up-to-date.",/*#__PURE__*/(0,W.jsx)("br",{}),".md sync available for Github.","\xa0",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),/*#__PURE__*/(0,W.jsx)(sj.u.Bottom,{children:r?r():/*#__PURE__*/(0,W.jsx)(sZ.d,{onGitHubClick:t,onGitLabClick:n})})]})},sH=n(3440),sV=/*#__PURE__*/n.n(sH),sK=n(84636),sG=/*#__PURE__*/n.n(sK),sz=n(89038),sW=n(87230),sq=n(38090),sY=/*#__PURE__*/n.n(sq);function s$(e,t){return sX.apply(this,arguments)}function sX(){return(sX=(0,K.Z)(function(e,t){var n,r,i;return(0,z.__generator)(this,function(o){switch(o.label){case 0:console.info("\uD83D\uDE80 API Request: ".concat(e)),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(e,{method:"GET",headers:{"PRIVATE-TOKEN":t}})];case 2:if(!(n=o.sent()).ok)throw Error("GitLab API error: ".concat(n.status," ").concat(n.statusText));return[4,n.json()];case 3:return r=o.sent(),console.info(" API Response (".concat(e,"):"),r),[2,r];case 4:throw i=o.sent(),console.error(" API Error (".concat(e,"):"),i),i;case 5:return[2]}})})).apply(this,arguments)}function sJ(){return(sJ=(0,K.Z)(function(e){var t,n,r;return(0,z.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([s$("https://gitlab.com/api/v4/projects?owned=true&per_page=100",e),s$("https://gitlab.com/api/v4/projects?membership=true&per_page=100",e)])];case 1:return n=(t=rE.Z.apply(void 0,[i.sent(),2]))[0],r=t[1],[2,sG()((0,nq.Z)(n).concat((0,nq.Z)(r)),"path_with_namespace")]}})})).apply(this,arguments)}var s0=function(e){var t=e.onSubmit,n=e.onCancel,r=e.isLoading,i=e.error,o=(0,Y.useState)(""),a=o[0],s=o[1];return/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)(sN.Z,{children:/*#__PURE__*/(0,W.jsxs)("div",{className:nG().information,children:[/*#__PURE__*/(0,W.jsx)("p",{className:"marginBottomSmall",style:{fontSize:"14px"},children:"To connect GitLab, you'll need an API access token with API scope. There are 3 options:"}),/*#__PURE__*/(0,W.jsxs)("ol",{className:nG().ol,style:{fontSize:"14px"},children:[/*#__PURE__*/(0,W.jsxs)("li",{children:["Use a"," ",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"https://gitlab.com/-/user_settings/personal_access_tokens",target:"_blank",rel:"noopener noreferrer",className:sY().link,children:"personal access token"})]}),/*#__PURE__*/(0,W.jsxs)("li",{children:["Use a"," ",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"https://docs.gitlab.com/user/group/settings/group_access_tokens/",target:"_blank",rel:"noopener noreferrer",className:sY().link,children:"group access token"})]}),/*#__PURE__*/(0,W.jsxs)("li",{children:["Use a"," ",/*#__PURE__*/(0,W.jsx)(sv.d,{href:"https://docs.gitlab.com/user/project/settings/project_access_tokens/",target:"_blank",rel:"noopener noreferrer",className:sY().link,children:"project access token"})]})]})]})}),/*#__PURE__*/(0,W.jsx)(sz.Z,{value:a,onChange:function(e){return s(e.currentTarget.value)},placeholder:"Paste API access token",error:i,width:300,className:"marginTopLarge"}),/*#__PURE__*/(0,W.jsxs)("div",{className:"row gapMedium marginTopLarge",children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.OUTLINE,onClick:n,disabled:r,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:function(){a.trim()&&t(a)},disabled:!a.trim()||r,isLoading:r,children:"Connect"})]})]})},s1=function(e){var t=e.projects,n=e.onSave,r=e.onCancel,i=e.isLoading,o=(0,Y.useState)([]),a=o[0],s=o[1];return/*#__PURE__*/(0,W.jsxs)("div",{className:sY().simpleSelectionContainer,children:[/*#__PURE__*/(0,W.jsx)("h3",{children:"GitLab Connect"}),/*#__PURE__*/(0,W.jsx)("p",{className:sY().mainDescription,style:{fontSize:"14px"},children:"Below is the list of available projects. Select repos to add to Eraser."}),/*#__PURE__*/(0,W.jsx)(sW.c,{name:"gitlab-projects",options:t.map(function(e){var t=e.path_with_namespace;return{id:t,value:t,label:t,checked:a.includes(t)}}),onChangeSelected:function(e){return s(e)},showSelectAll:!0,gap:0,leftPadding:0}),/*#__PURE__*/(0,W.jsxs)("div",{className:"row gapMedium marginTopMedium",children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.OUTLINE,onClick:r,disabled:i,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:function(){return n(a)},disabled:!a.length,isLoading:i,children:"Save"})]})]})},s2=function(e){var t,n,r=e.onDone,i=(0,ri.k3)().bulkCreateOrganizations,o=(0,nr.LP)(),a=(0,Y.useState)(!1),s=a[0],u=a[1],c=(0,Y.useState)(null),l=c[0],A=c[1],d=(0,Y.useState)([]),f=d[0],h=d[1],p=(0,Y.useState)(""),g=p[0],v=p[1],m=(0,Y.useState)("token"),y=m[0],b=m[1],w=(t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:u(!0),A(null),v(e),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,function(e){return sJ.apply(this,arguments)}(e)];case 2:return h(t.sent()),b("project-selection"),[3,5];case 3:return console.error("Error connecting to GitLab:",t.sent()),A("Failed to connect to GitLab"),[3,5];case 4:return u(!1),[7];case 5:return[2]}})}),function(e){return t.apply(this,arguments)}),_=(n=(0,K.Z)(function(e){var t,n,a,s,c,l,d,h,p;return(0,z.__generator)(this,function(v){switch(v.label){case 0:u(!0),v.label=1;case 1:v.trys.push([1,3,,4]),t=sV()(f,function(e){var t=e.path_with_namespace.split("/");return t.length>1?t[0]:"default"}),n=sV()(e,function(e){var t=e.split("/");return t.length>1?t[0]:"default"}),a=[],s=!0,c=!1,l=void 0;try{for(d=function(){var e,n,r=(0,rE.Z)(p.value,2),i=r[0],s=r[1],u=s.map(function(e){return{name:e.match("/")?e.split("/").pop():e,enableSync:!1}}),c=(null!==(n=null===(e=t[i])||void 0===e?void 0:e.filter(function(e){return!s.includes(e.path_with_namespace)}))&&void 0!==n?n:[]).map(function(e){return{name:e.name,enableSync:!1,disabled:!0}});a.push({teamId:o,name:i,provider:"gitlab",accessToken:g,installationId:0,type:"Organization",repositories:(0,nq.Z)(u).concat((0,nq.Z)(c))})},h=Object.entries(n)[Symbol.iterator]();!(s=(p=h.next()).done);s=!0)d()}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return[4,i(a)];case 2:return v.sent(),u(!1),r(),[3,4];case 3:return v.sent(),u(!1),A("Something went wrong"),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return"project-selection"===y?/*#__PURE__*/(0,W.jsx)("div",{className:sY().root,children:/*#__PURE__*/(0,W.jsx)(s1,{projects:f,onSave:_,onCancel:r,isLoading:s})}):/*#__PURE__*/(0,W.jsx)("div",{className:sY().root,children:/*#__PURE__*/(0,W.jsx)(s0,{onSubmit:w,onCancel:function(){r(),b("token"),h([]),v(""),A(null)},isLoading:s,error:l})})},s4=n(18149),s3=/*#__PURE__*/n.n(s4),s5=n(87705),s6=n(68377),s8=n(76170),s9=n(57546),s7=/*#__PURE__*/n.n(s9),ue=function(e,t){if(!e)return{};var n=new Set(t.filter(function(e){return!e.disabled}).map(function(e){return e.name}));return e.reduce(function(e,t){return e[t]=n.has(t),e},{})},ut=function(e){var t,n=e.organization,r=e.addedRepositories,i=(0,Y.useState)(""),o=i[0],a=i[1],s=(0,nr.LP)(),u=(0,iL.Z)(),c=(0,ri.k3)(),l=c.addRepository,A=c.updateRepository,d=c.configureOrganization,f=c.listRepositoriesForOrganization,h=(0,Y.useState)(!1),p=h[0],g=h[1],v=(0,Y.useState)(null),m=v[0],y=v[1],b=(0,rE.Z)((0,rC.R)({}),2),w=b[0],_=b[1],E=(0,rE.Z)((0,rC.R)({}),2),C=E[0],B=E[1],I=(0,Y.useMemo)(function(){return{baseCheckedState:ue(m,r),baseSyncedState:m?m.reduce(function(e,t){var n,i;return e[t]=null!==(i=null===(n=r.find(function(e){return e.name===t&&!e.disabled}))||void 0===n?void 0:n.enableSync)&&void 0!==i&&i,e},{}):{}}},[r,m]),x=I.baseCheckedState,T=I.baseSyncedState;(0,Y.useEffect)(function(){_(Object.assign({},x)),B(Object.assign({},T))},[x,T,_,B]);var S=n.id,k=n.isSuspended,N=n.provider;(0,Y.useEffect)(function(){S&&!k&&f(S,{addMissing:"github"===N,fromDB:"github"!==N}).then(y).catch(function(e){(0,nm.T)(e),y([]),u.error("Could not fetch ".concat((0,s6.QO)(N)," repositories."))})},[S,k,N]);var D=(0,Y.useMemo)(function(){if(!m)return null;var e=new Set(r.filter(function(e){return!e.disabled}).map(function(e){return e.name})),t=new Set(r.filter(function(e){return!e.disabled&&e.enableSync}).map(function(e){return e.name}));return(0,nq.Z)(m).sort(function(n,r){var i=e.has(n),o=e.has(r),a=t.has(n),s=t.has(r);return i!==o?i?-1:1:a!==s?a?-1:1:n.localeCompare(r)})},[m,r]),O=null===m&&!n.isSuspended,R=w&&(!s3()(w,x)||!s3()(C,T)),F=function(){d({organizationId:n.id,organizationName:n.name})},L=(t=(0,K.Z)(function(){var e,t,i,o,a,c,d,f,h,p,v,m,y,b,_,E,B,I,S,k,N,D;return(0,z.__generator)(this,function(O){switch(O.label){case 0:for(p in e=function(e){var t,i,u,d,h,p;return(0,z.__generator)(this,function(g){switch(g.label){case 0:if(t=null==x?void 0:x[e],!((i=w[e])&&!t))return[3,5];if(u=r.find(function(t){return t.name===e}),d=C[e],!u)return[3,2];return[4,A({teamId:s,organizationId:n.id,repositoryId:u.id,payload:{disabled:!1,enableSync:d}})];case 1:return g.sent(),[3,4];case 2:return[4,l({repositoryName:e,organizationId:n.id,organizationName:n.name,enableSync:d})];case 3:h=g.sent(),o.set(e,h),g.label=4;case 4:return a.push(e),d&&f.push(e),[3,7];case 5:if(!(!i&&t))return[3,7];return p=r.find(function(t){return t.name===e}),[4,A({teamId:s,organizationId:n.id,repositoryId:p.id,payload:{enableSync:!1,disabled:!0}})];case 6:g.sent(),c.push(e),g.label=7;case 7:return[2]}})},t=function(e){var t,i,a,u,c;return(0,z.__generator)(this,function(l){switch(l.label){case 0:if(i=C[e],a=T[e],!(c=null!==(u=null===(t=r.find(function(t){return t.name===e}))||void 0===t?void 0:t.id)&&void 0!==u?u:o.get(e)))return console.warn("Repository ID not found",e),[2,"continue"];if(!(i&&!a&&(null==x?void 0:x[e])))return[3,2];return f.push(e),[4,A({teamId:s,organizationId:n.id,repositoryId:c,payload:{enableSync:!0}})];case 1:return l.sent(),[3,4];case 2:if(!(!i&&a))return[3,4];return d.push(e),[4,A({teamId:s,organizationId:n.id,repositoryId:c,payload:{enableSync:!1}})];case 3:l.sent(),l.label=4;case 4:return[2]}})},g(!0),i=u.loading("Applying changes ..."),o=new Map,a=[],c=[],d=[],f=[],h=[],w)h.push(p);v=0,O.label=1;case 1:if(!(v<h.length))return[3,4];return m=h[v],[5,(0,z.__values)(e(m))];case 2:O.sent(),O.label=3;case 3:return v++,[3,1];case 4:for(b in y=[],C)y.push(b);_=0,O.label=5;case 5:if(!(_<y.length))return[3,8];return E=y[_],[5,(0,z.__values)(t(E))];case 6:O.sent(),O.label=7;case 7:return _++,[3,5];case 8:return B=function(e){return e>1?"repositories":"repository"},I=a.length>0?"".concat(a.length," ").concat(B(a.length)," activated."):"",S=c.length>0?"".concat(c.length," ").concat(B(c.length)," inactivated."):"",k=d.length>0?"".concat(d.length," ").concat(B(d.length)," unsynced. Archiving files."):"",N=f.length>0?"".concat(f.length," ").concat(B(f.length)," synced. Downloading MD files."):"",u.dismiss(i),D=[I,S,k,N].filter(Boolean).join("\n"),u.success(D),g(!1),[2]}})}),function(){return t.apply(this,arguments)});return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("div",{className:s7().repositoryListWrapper,children:[O&&/*#__PURE__*/(0,W.jsx)("div",{className:"rowCentered justifyCentered fullHeight",children:/*#__PURE__*/(0,W.jsx)(aK.Z,{fancy:!0})}),function(){if(n.isSuspended)return/*#__PURE__*/(0,W.jsxs)("p",{className:s7().suspension,children:["The ",(0,s6.QO)(n.provider)," app is suspended.\xa0",/*#__PURE__*/(0,W.jsx)("a",{role:"button",className:s7().link,onClick:F,children:"Click here to unsuspend it."})]});var e=(0,s6.qX)(n.provider);return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[m&&m.length>100&&/*#__PURE__*/(0,W.jsx)(nZ.Z,{searchTerm:o,className:s7().searchBar,setSearchTerm:a}),/*#__PURE__*/(0,W.jsx)("ul",{className:s7().repositoryList,children:(D||[]).filter(function(e){return e.toLocaleLowerCase().includes(o.toLocaleLowerCase())}).slice(0,100).map(function(t){var r,i,o=null!==(r=null==w?void 0:w[t])&&void 0!==r&&r,a=null!==(i=null==C?void 0:C[t])&&void 0!==i&&i,s=o&&a?"Active and synced":o?"Active":"Inactive",u=(0,s6.VT)({orgName:n.name,repoName:t,provider:n.provider});return/*#__PURE__*/(0,W.jsxs)("li",{className:s7().repositoryListItem,children:[(0,s8.k)(n.provider,{width:14,height:14,className:(0,nz.Z)(!o&&s7().inactive,"marginRightSmall")}),/*#__PURE__*/(0,W.jsx)("a",{href:u,className:(0,nz.Z)(s7().repositoryLink,!o&&s7().inactive,"marginRightMedium"),target:"_blank",rel:"noreferrer",children:t}),/*#__PURE__*/(0,W.jsxs)(s5.ZP,{title:s,variant:s5.ZP.Variants.LightGrey,selectionVariant:n7.Z.SelectionVariants.Grey,width:300,children:[/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Active",isSelected:o&&!a,explanation:"This repo can be access by Eraser",onClick:function(){_((0,io.Z)({},t,!0)),B((0,io.Z)({},t,!1))}}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Active and synced",isSelected:o&&a,explanation:e?"All .md files and .eraserdiagram files can be synced between Eraser and your repo via pushing and pulling":"Sync is not available for this git provider",onClick:function(){_((0,io.Z)({},t,!0)),B((0,io.Z)({},t,!0))},isDisabled:!e}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Inactive",isSelected:!o,explanation:"This repo is not accessible by Eraser",onClick:function(){_((0,io.Z)({},t,!1)),B((0,io.Z)({},t,!1))}})]})]},t)})}),m&&m.length>100&&/*#__PURE__*/(0,W.jsxs)("p",{className:s7().note,children:["Showing first ",100," repositories only. Search to see more."]})]})}()]}),R&&/*#__PURE__*/(0,W.jsxs)(rx.Z,{className:s7().repositoryListButtons,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.TRANSPARENT,size:rI.ZP.Sizes.X_SMALL,disabled:p,onClick:function(){_(Object.assign({},x)),B(Object.assign({},T))},children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{size:rI.ZP.Sizes.X_SMALL,onClick:L,disabled:p,children:"Save Changes"})]})]})};function un(){return(un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var ur=function(e){return /*#__PURE__*/Y.createElement("svg",un({id:"gitlabColor_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 380"},e),L||(L=/*#__PURE__*/Y.createElement("defs",null,/*#__PURE__*/Y.createElement("style",null,".gitlabColor_svg__st1{fill:#fc6d26}"))),P||(P=/*#__PURE__*/Y.createElement("g",{id:"gitlabColor_svg__LOGO"},/*#__PURE__*/Y.createElement("path",{d:"M265.3 174.4l-.2-.6-21.2-55.3c-.4-1.1-1.2-2-2.2-2.6s-2.1-.9-3.3-.9-2.3.5-3.2 1.2c-.9.7-1.6 1.7-1.9 2.9L219 162.9h-57.9l-14.3-43.8c-.3-1.1-1-2.1-1.9-2.9-.9-.7-2-1.2-3.2-1.2s-2.3.2-3.3.9c-1 .6-1.8 1.5-2.2 2.6L115 173.8l-.2.6c-6.3 16.4-.9 34.9 13.1 45.5h.2c0 .1 32.3 24.3 32.3 24.3l16 12.1 9.7 7.3c2.3 1.8 5.6 1.8 7.9 0l9.7-7.3 16-12.1 32.5-24.3c14-10.6 19.3-29.1 13-45.5h.1z",fill:"#e24329"}),/*#__PURE__*/Y.createElement("path",{className:"gitlabColor_svg__st1",d:"M265.3 174.4l-.2-.6c-10.5 2.2-20.2 6.6-28.5 12.8-.1 0-25.2 19.1-46.6 35.2 15.8 12 29.6 22.4 29.6 22.4l32.5-24.3c14-10.6 19.3-29.1 13-45.5h.2z"}),/*#__PURE__*/Y.createElement("path",{d:"M160.3 244.2l16 12.1 9.7 7.3c2.3 1.8 5.6 1.8 7.9 0l9.7-7.3 16-12.1s-13.8-10.4-29.6-22.4c-15.9 12-29.7 22.4-29.7 22.4z",fill:"#fca326"}),/*#__PURE__*/Y.createElement("path",{className:"gitlabColor_svg__st1",d:"M143.4 186.6c-8.3-6.2-18-10.7-28.5-12.8l-.2.6c-6.3 16.4-.9 34.9 13.1 45.5h.2c0 .1 32.3 24.3 32.3 24.3s13.8-10.4 29.7-22.4c-21.3-16.1-46.4-35.1-46.6-35.2z"}))))},ui=n(47252),uo=/*#__PURE__*/n.n(ui),ua=function(e){var t=e.organization,n=e.onRemoveOrganization,r=e.onConfigureOrganization,i=(0,Y.useState)(!1),o=i[0],a=i[1],s=(0,s6.VT)({orgName:t.name,provider:t.provider});return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("div",{className:uo().organizationHeaderRoot,children:[/*#__PURE__*/(0,W.jsx)("div",{className:uo().organizationLogo,children:function(){if(t.avatarUrl&&!o)return/*#__PURE__*/(0,W.jsx)("img",{alt:t.name,src:t.avatarUrl,onError:function(){return a(!0)}});switch(t.provider){case"github":return/*#__PURE__*/(0,W.jsx)("img",{alt:t.name,src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"});case"gitlab":return/*#__PURE__*/(0,W.jsx)(ur,{})}}()}),/*#__PURE__*/(0,W.jsxs)("div",{className:uo().organzationInfo,children:[/*#__PURE__*/(0,W.jsx)("span",{className:uo().organizationName,children:t.name}),/*#__PURE__*/(0,W.jsx)(sv.d,{className:uo().organizationLink,href:s,children:s})]}),/*#__PURE__*/(0,W.jsxs)(rI.ZP,{onClick:n,variant:rI.ZP.Variants.OUTLINE,className:uo().removeOrganizationButton,children:["Remove ",t.name]})]}),"github"===t.provider&&/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("p",{className:uo().organizationSubtitle,children:["The repos below are authorized in GitHub. Eraser will only interact with repos that are set as active here. Active repos can be used for diagramming, monitoring, or syncing.\xa0",/*#__PURE__*/(0,W.jsx)(sv.d,{className:uo().organizationLink,href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),/*#__PURE__*/(0,W.jsx)("p",{className:uo().organizationSubtitle,children:/*#__PURE__*/(0,W.jsx)(sv.d,{role:"button",onClick:r,className:uo().organizationLink,children:"Can't find your repo?"})})]})]})},us=n(68580),uu=/*#__PURE__*/n.n(us),uc=function(){var e=(0,nO.Pe)(),t=(0,ri.k3)(),n=t.installApp,r=t.organizations,i=t.repositoriesMap,o=t.configureOrganization,a=t.removeOrganization,s=(0,Y.useState)(!1),u=s[0],c=s[1],l=r&&r.length>0;return((0,Y.useEffect)(function(){l&&e.currentUser.markActivation(ru.c.GitHubSync)},[l]),u)?/*#__PURE__*/(0,W.jsx)("div",{className:uu().root,children:/*#__PURE__*/(0,W.jsx)(s2,{onDone:function(){return c(!1)}})}):l?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("div",{className:uu().root,children:r.map(function(e){var t=null==i?void 0:i.get(e.id);return/*#__PURE__*/(0,W.jsxs)("div",{className:uu().organizationWrapper,children:[/*#__PURE__*/(0,W.jsx)(ua,{organization:e,onRemoveOrganization:function(){return a(e)},onConfigureOrganization:function(){o({organizationId:e.id,organizationName:e.name})}}),e&&t&&/*#__PURE__*/(0,W.jsx)(ut,{organization:e,addedRepositories:t}),/*#__PURE__*/(0,W.jsx)("hr",{className:uu().divider})]},e.id)})}),/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(aG.U,{variant:aG.U.Variants.Transparent,children:/*#__PURE__*/(0,W.jsxs)("div",{className:"rowCentered gapLarge",children:[/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)("marginBottomNone",nG().medium),children:"".concat(r.length," organization").concat(1===r.length?"":"s"," connected")}),/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:/*#__PURE__*/(0,W.jsx)(sZ.d,{onGitHubClick:n,onGitLabClick:function(){return c(!0)},asLink:!0,title:"Add an organization"})})]})})})]}):/*#__PURE__*/(0,W.jsx)("div",{className:uu().root,children:/*#__PURE__*/(0,W.jsx)(sQ,{onGitHubConnect:n,onGitLabConnect:function(){return c(!0)}})})},ul=n(25487),uA=n(48834).lW,ud=function(){var e=(0,np.qp)(nI);if(!e)return null;var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(uA.from(t,"base64").toString()).firebase.sign_in_provider},uf=n(44784),uh=n(34577),up=/*#__PURE__*/n.n(uh),ug=function(e){var t=e.toLocaleLowerCase().replace(".com",""),n="".concat(t.toLocaleUpperCase()[0]).concat(t.slice(1));return"Managed by ".concat(n)},uv=function(){var e,t=(0,iL.Z)(),n=ud(),r=(0,ul.ZP)().updateUserPassword,i=(0,Y.useState)(!1),o=i[0],a=i[1],s=(0,rE.Z)((0,rC.R)({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),2),u=s[0],c=s[1];if(!n)return null;var l=(e=(0,K.Z)(function(e){var n,i;return(0,z.__generator)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),u.newPassword!==u.confirmNewPassword)return t.error("Passwords do not match"),[2];if(n=(0,uf.ym)(u.newPassword))return t.error(n),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r(u.newPassword,u.confirmCurrentPassword)];case 2:return o.sent(),a(!1),t.success("Password updated successfully"),c({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),[3,4];case 3:return i=o.sent(),t.error(i.message),[2];case 4:return[2]}})}),function(t){return e.apply(this,arguments)});return o?/*#__PURE__*/(0,W.jsxs)("form",{className:up().form,onSubmit:l,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:up().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(up().label,nG().standard),children:"Current password"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{required:!0,type:"password",labelClassNames:{root:up().input},value:u.confirmCurrentPassword,onChange:function(e){return c({confirmCurrentPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:up().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:up().label,children:"New password"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{required:!0,type:"password",value:u.newPassword,labelClassNames:{root:up().input},onChange:function(e){return c({newPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:up().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:up().label,children:"Confirm new password"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{required:!0,type:"password",labelClassNames:{root:up().input},value:u.confirmNewPassword,onChange:function(e){return c({confirmNewPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{className:up().buttonGroup,children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{size:rI.ZP.Sizes.X_LARGE,variant:rI.ZP.Variants.OUTLINE,onClick:function(e){e.preventDefault(),a(!1)},children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{type:"submit",size:rI.ZP.Sizes.X_LARGE,className:up().submitButton,variant:rI.ZP.Variants.REGULAR,children:"Update password"})]})]}):/*#__PURE__*/(0,W.jsxs)("div",{className:up().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:up().label,children:"Password"}),"password"!==n?/*#__PURE__*/(0,W.jsx)("span",{className:up().readonlyValue,children:ug(n)}):/*#__PURE__*/(0,W.jsx)("a",{role:"button",className:up().link,onClick:function(){return a(!0)},children:"Change Password"})]})},um=n(98559),uy=n(99975),ub=/*#__PURE__*/n.n(uy),uw=function(){var e,t,n,r=(0,t9.aF)(),i=(0,iL.Z)(),o=(0,nr.LP)(),a=ud(),s=(0,ul.Pm)(a),u=(0,ul.ZP)(),c=u.updateUserEmail,l=u.updateUserDisplayName,A=u.resetProviderEmail,d=(0,rE.Z)((0,rC.R)({email:null!==(e=null==r?void 0:r.email)&&void 0!==e?e:"",displayName:null!==(t=null==r?void 0:r.displayName)&&void 0!==t?t:"",confirmPassword:""}),2),f=d[0],h=d[1],p=(0,Y.useState)(),g=p[0],v=p[1];(0,Y.useEffect)(function(){var e,t;f.displayName!==(null==r?void 0:r.displayName)&&h({displayName:null!==(e=null==r?void 0:r.displayName)&&void 0!==e?e:""}),f.email!==(null==r?void 0:r.email)&&h({email:null!==(t=null==r?void 0:r.email)&&void 0!==t?t:""})},[h,null==r?void 0:r.displayName,null==r?void 0:r.email]);var m=function(e){var t=f.displayName,n=f.email;if(o&&f[e]!==(null==r?void 0:r[e]))switch(e){case"displayName":if(!(null==t?void 0:t.trim().length)){i.error("Name cannot be an empty string"),y(e);break}i.promise(l(t,o),{loading:"Updating name ...",error:"Something went wrong",success:"Updated name successfully"}).catch(function(e){return y("displayName")});break;case"email":if(!(null==n?void 0:n.trim().length)){i.error("Email cannot be an empty string"),y(e);break}var a,s=(0,um.R)(n);if(!(0,um.J)(s)){i.error("Email is invalid"),y(e);break}ne.Z.trackEvent("account","change_email"),i.promise(c(s,o,null!==(a=f.confirmPassword)&&void 0!==a?a:""),{loading:"Updating email ...",error:function(e){return e.message},success:"Updated email successfully"}).catch(function(){y("email"),h({confirmPassword:""})})}},y=function(e){return h((0,io.Z)({},e,null!==(n=null==r?void 0:r[e])&&void 0!==n?n:""))},b=function(e){return function(t){"Enter"===t.key?m(e):"Escape"===t.key&&(y(e),t.stopPropagation())}},w=function(){s&&A(a,o).catch(function(e){v(e)})};return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("div",{className:ub().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:ub().label,children:"Full Name"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{value:f.displayName,labelClassNames:{root:ub().input},onBlur:function(){return m("displayName")},onKeyDown:b("displayName"),onChange:function(e){return h({displayName:e.currentTarget.value})}})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:ub().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:ub().label,children:"Email"}),s?/*#__PURE__*/(0,W.jsxs)("div",{className:ub().providerEmail,children:[/*#__PURE__*/(0,W.jsx)("span",{className:ub().readonlyValue,children:f.email}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.REVERSED,size:rI.ZP.Sizes.TINY,onClick:w,title:"Authenticate with a different ".concat(u_[a]," account."),className:ub().changeButton,children:"Change"})]}):/*#__PURE__*/(0,W.jsx)(rN.Z,{type:"email",value:f.email,labelClassNames:{root:ub().input},onKeyDown:b("email"),onChange:function(e){return h({email:e.currentTarget.value})}})]}),f.email!==(null==r?void 0:r.email)&&/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("div",{className:ub().row,children:[/*#__PURE__*/(0,W.jsx)("span",{className:ub().label,children:"Confirm Password"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{type:"password",value:f.confirmPassword,labelClassNames:{root:ub().input},onChange:function(e){return h({confirmPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,W.jsx)(rx.Z,{className:ub().buttonGroup,children:/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:function(){return m("email")},children:"Update E-mail"})})]}),!!g&&/*#__PURE__*/(0,W.jsxs)(aG.U,{children:[/*#__PURE__*/(0,W.jsx)("span",{className:nG().error,children:/*#__PURE__*/(0,W.jsx)("b",{children:g.message})}),/*#__PURE__*/(0,W.jsx)("br",{}),"You must log in again to ensure your eraser account has a valid e-mail associated with it.",/*#__PURE__*/(0,W.jsx)(rI.ZP,{variant:rI.ZP.Variants.REVERSED,size:rI.ZP.Sizes.TINY,onClick:w,title:"Re-auth with your ".concat(u_[a]," account, or try again with a valid account that is not already in use."),children:/*#__PURE__*/(0,W.jsx)("b",{children:"Sign In"})})]})]})},u_={"google.com":"Google","microsoft.com":"Microsoft"},uE=n(37164),uC=n(64044),uB=n(54848),uI=n(35937),ux=n(65227),uT=/*#__PURE__*/n.n(ux),uS=function(){var e,t=(0,t9.aF)(),n=(0,iL.Z)(),r=(0,nr.LP)(),i=(0,ul.ZP)().updateUserPhotoUrl,o=(0,t7.ZP)(null==t?void 0:t.id,!0),a=(0,Y.useRef)(null),s=(e=(0,K.Z)(function(){var e,o,s,u,c;return(0,z.__generator)(this,function(l){switch(l.label){case 0:if(!t||!r||!a.current||!a.current.files||!a.current.files.length)return[2];e=(0,uE.x0)(),o=(0,uE.x0)(),(s=a.current.files[0]).size/1048576>3&&n.error("File exceeds maximum size of 3MB",{id:e}),u=new uC.Z({maxSizeMB:3,compress:!0,finalBaseURL:"users/".concat(t.id,"/"),uploadBasePath:"images/users/".concat(t.id,"/")}),l.label=1;case 1:return l.trys.push([1,4,,5]),n.loading("Updating profile image ...",{id:e}),[4,u.upload(s,{fileName:"profilePicture_".concat(o)})];case 2:return c=l.sent().url,[4,i((0,uI.V)(c))];case 3:return l.sent(),n.success("Updated profile image successfully",{id:e}),[3,5];case 4:return l.sent(),n.error("Something went wrong",{id:e}),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)});return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(uB.Z,(0,G.Z)({size:208,className:uT().avatar},o)),/*#__PURE__*/(0,W.jsxs)("label",{className:uT().uploadButton,children:[/*#__PURE__*/(0,W.jsx)("input",{type:"file",ref:a,accept:"image/jpg, image/png, image/gif, image/webp",onChange:s}),"Upload Photo"]})]})},uk=n(46485),uN=n(91852),uD=/*#__PURE__*/n.n(uN),uO=function(){var e,t=(0,iL.Z)(),n=(0,t9.Fl)(),r=(0,t9.pC)(),i=null!==(e=null==n?void 0:n.isGettingStartedEnabled)&&void 0!==e&&e;return/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(uD().gettingStartedRow),children:/*#__PURE__*/(0,W.jsx)(sf.Z,{onChange:function(){var e=!i;t.promise(r({isGettingStartedEnabled:e}),{loading:"Updating setting",error:"Something went wrong",success:"Getting Started ".concat(e?"shown on":"hidden from"," dashboard")})},checked:i,label:"Get Started",labelSide:"left"})}),/*#__PURE__*/(0,W.jsx)("span",{className:uD().gettingStartedDescription,children:"Show or hide the Get started checklist on your personal dashboard"})]})},uR=function(){var e=(0,t9.II)(),t=(0,iL.Z)(),n=(0,nr.Rs)(),r=(0,nF.Z)(),i=r.isOpen,o=r.onOpen,a=r.onClose,s=!(!n||(0,aO.aX)(n))&&(null==n?void 0:n.ownerId)===e;return/*#__PURE__*/(0,W.jsxs)("div",{className:uD().root,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:uD().profileInfoSide,children:[/*#__PURE__*/(0,W.jsx)(uw,{}),/*#__PURE__*/(0,W.jsx)(uv,{}),/*#__PURE__*/(0,W.jsx)("hr",{className:uD().separator}),/*#__PURE__*/(0,W.jsx)(uO,{}),/*#__PURE__*/(0,W.jsxs)("div",{className:uD().dangerZone,children:[/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(nG().standard,"c-redp"),children:"Danger Zone"}),/*#__PURE__*/(0,W.jsx)("p",{className:(0,nz.Z)(nG().medium,"c-redp"),children:s?"To delete your account, cancel your active subscription first.":"Proceed with caution, once completed, these actions cannot be undone."}),/*#__PURE__*/(0,W.jsx)("div",{children:/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:s?function(){return null}:o,disabled:s,variant:rI.ZP.Variants.TRANSPARENT,children:"Delete Account"})}),/*#__PURE__*/(0,W.jsx)(uk.Z,{isDeletion:!0,isOpen:i,onClose:a,onCancel:a,title:"Delete account?",onConfirm:function(){e&&(rb.Z.delete("user/".concat(e)).catch(function(e){(0,nm.T)(e),t.error("Something went wrong")}),window.location.href=t$.CF.homepageURL)},description:"By selecting confirm you will delete your account and any teams you own. This cannot be undone."})]})]}),/*#__PURE__*/(0,W.jsx)("div",{className:uD().profilePictureSide,children:/*#__PURE__*/(0,W.jsx)(uS,{})})]})},uF=n(96737),uL=n(85341),uP=n(95550),uU=n(53017),uM=/*#__PURE__*/n.n(uU),uj=function(e){var t=e.team,n=(0,iL.Z)(),r=(0,Y.useState)(t.isAutoJoinEnabled),i=r[0],o=r[1];(0,Y.useEffect)(function(){o(t.isAutoJoinEnabled)},[t.isAutoJoinEnabled]);var a=(0,iP.Z)(/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,n.promise((0,uL.Z)(t.id,{isAutoJoinEnabled:!i}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"})];case 1:return e.sent(),[2]}})}));return t.domain?/*#__PURE__*/(0,W.jsxs)("div",{className:uM().settingRow,children:[/*#__PURE__*/(0,W.jsx)("div",{className:uM().settingTitleContainer,children:/*#__PURE__*/(0,W.jsx)(sf.Z,{label:"Allowed Email Domain",labelSide:"left",checked:i,disabled:a.loading,onChange:function(){return a.execute()}})}),/*#__PURE__*/(0,W.jsxs)("span",{className:uM().description,children:["Allow ",/*#__PURE__*/(0,W.jsxs)("span",{className:uM().domain,children:["@",t.domain]})," emails to automatically join this team."]})]}):null},uZ=function(e){var t=e.team,n=(0,iL.Z)(),r=(0,Y.useState)(t.isJitEnabled),i=r[0],o=r[1];(0,Y.useEffect)(function(){o(t.isJitEnabled)},[t.isJitEnabled]);var a=(0,iP.Z)(/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,n.promise((0,uL.Z)(t.id,{isJitEnabled:!i}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"})];case 1:return e.sent(),[2]}})}));return/*#__PURE__*/(0,W.jsxs)("div",{className:uM().settingRow,children:[/*#__PURE__*/(0,W.jsx)("div",{className:uM().settingTitleContainer,children:/*#__PURE__*/(0,W.jsx)(sf.Z,{label:"Just-in-time provisioning",labelSide:"left",checked:i,disabled:a.loading,onChange:function(){return a.execute()}})}),/*#__PURE__*/(0,W.jsx)("span",{className:uM().description,children:"Users added in your IdP will auto-join this team on sign up."})]})},uQ=function(e){var t=e.isAdmin,n=e.shareController,r=(0,nO.Pe)(),i=(0,t9.II)(),o=(0,aM.Z)(),a=(0,Y.useCallback)(function(){o(n.inviteLink),i&&r.currentUser.markActivation(ru.c.InviteTeamMember),ne.Z.trackEvent("team_share_dialog","copy_link_click")},[i,n.inviteLink]);return/*#__PURE__*/(0,W.jsxs)("div",{className:uM().settingRow,children:[/*#__PURE__*/(0,W.jsx)("div",{className:uM().settingTitleContainer,children:t?/*#__PURE__*/(0,W.jsx)(sf.Z,{label:"Invite Link",labelSide:"left",onChange:function(){t&&(n.isEnabled?n.onTurnOff():n.onTurnOn())},checked:n.isEnabled,disabled:!t||n.isCreating||n.isDeleting}):/*#__PURE__*/(0,W.jsx)("span",{className:uM().settingTitle,children:"Invite Link"})}),n.isCreating&&/*#__PURE__*/(0,W.jsx)("span",{className:uM().linkLoading,children:"Loading ..."}),n.inviteLink&&/*#__PURE__*/(0,W.jsxs)("div",{className:uM().inviteLinkContainer,children:[/*#__PURE__*/(0,W.jsx)("span",{className:uM().link,children:n.inviteLink}),/*#__PURE__*/(0,W.jsx)(rI.ZP,{className:uM().copyButton,variant:rI.ZP.Variants.REVERSED,onClick:a,children:"Copy link"})]})]})},uH=function(e){var t=e.team,n=(0,t9.aF)(),r=(0,aP.ZP)(t.id,void 0,{internalOnly:!0}),i=(0,uF._)({entityType:uP.FU.Team,entityId:t.id}),o=(0,aO.GX)(r,null==n?void 0:n.id,aO.H0);return o||i.inviteLink?/*#__PURE__*/(0,W.jsxs)("div",{className:uM().root,children:[/*#__PURE__*/(0,W.jsx)("h4",{className:uM().title,children:"Settings"}),/*#__PURE__*/(0,W.jsxs)("div",{className:uM().settingRows,children:[!!(o&&(null==n?void 0:n.emailVerified))&&(t.ssoDomain?/*#__PURE__*/(0,W.jsx)(uZ,{team:t}):/*#__PURE__*/(0,W.jsx)(uj,{team:t})),/*#__PURE__*/(0,W.jsx)(uQ,{shareController:i,team:t,isAdmin:o})]})]}):null},uV=n(20810),uK=n(39739),uG=n(99054),uz=n(12335),uW=n(42389),uq=n(67078),uY=n(10186),u$=function(e){var t=(0,Y.useState)(),n=t[0],r=t[1],i=(0,uV.m)(function(e){return e.pipe((0,uG.h)(function(e){return null!=(0,rE.Z)(e,1)[0]}),(0,uz.w)(function(e){var t;return t=(0,rE.Z)(e,1)[0],(0,uW.BS)(uY.Z.invites.withConverter(uq.xI).where("teamId","==",t).where("type","==",uP.PA.Email).where("inviteTo","==",uP.FU.Team).where("status","==",uP.aj.Pending).orderBy("inviteeEmail","asc"))}))},[e]);return(0,uK.m)(i,r,nm.T),n},uX=n(84054),uJ=n(46572),u0=n(25248),u1=n(89357),u2=n(41289),u4=function(e){var t=e.teamId,n=e.memberId;return rb.Z.delete("team/".concat(t,"/memberships/").concat(n))},u3=n(52362),u5=n(20097),u6=n(27401),u8=/*#__PURE__*/n.n(u6),u9=function(e){var t=e.combinedMembers,n=void 0===t?[]:t,r=e.onInvite,i=e.isLoading,o=(0,nL.Z)(e,["combinedMembers","onInvite","isLoading"]);return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("div",{className:u8().inviteInputContainer,children:/*#__PURE__*/(0,W.jsx)(u0.b,{onInvite:r,placeholder:"Invite via email address"})}),/*#__PURE__*/(0,W.jsx)("div",{className:u8().membersListContainer,children:/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(u8().userList,"column gapMedium"),children:i?null:(null!=n?n:[]).map(function(e,t){var n;return e.role===u5.i.Guest?null:/*#__PURE__*/(0,W.jsx)(u7,(0,G.Z)({},e,o),"".concat(null!==(n=e.email)&&void 0!==n?n:e.userId,"-").concat(t))})})})]})},u7=function(e){var t=e.userId,n=e.email,r=e.displayName,i=e.profile,o=e.isCurrentUser,a=e.role,s=String(null!=a?a:"pending");return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(u8().userRow,"rowCentered"),"data-testid":"user-row-".concat(n),children:[/*#__PURE__*/(0,W.jsx)(iY.a,{userId:t,email:null!=n?n:void 0,displayName:null!=r?r:void 0,profile:null!=i?i:void 0,displayNameSuffix:o?" (You)":void 0}),/*#__PURE__*/(0,W.jsx)("div",{children:/*#__PURE__*/(0,W.jsx)(u3.n,{unopenedText:s.charAt(0).toUpperCase()+s.slice(1),dropdownOptions:function(e){var t=e.role,n=e.isCurrentUser,r=e.currentUserRole,i=e.teamInviteId,o=e.userId,a=e.isCurrentUserSoleAdmin,s=e.currentTeamId,u=null!=t?t:"pending";if(!r||!s||r===u5.i.Guest)return[];if(r===u5.i.Member){if(n&&o)return[{label:"Leave team",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,u4({teamId:s,memberId:o})];case 1:return e.sent(),[2]}})})}];if("guest"===u&&o)return[{label:"Add to team as member",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,u2.M)({teamId:s,userId:o,role:u5.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})}];if("pending"===u&&i)return[{label:"Cancel Invitation",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ry.Z)(300)];case 1:return e.sent(),[4,(0,u1.Z)(i)];case 2:return e.sent(),[2]}})})}]}else if(r===u5.i.Admin){if(n&&o){if(!a)return[{label:"Downgrade self to member",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,u2.M)({teamId:s,userId:o,role:u5.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Leave team",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,u4({teamId:s,memberId:o})];case 1:return e.sent(),[2]}})})}]}else if("member"===u&&o)return[{label:"Change role to admin",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,u2.M)({teamId:s,userId:o,role:u5.i.Admin,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Remove from team",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,u4({teamId:s,memberId:o})];case 1:return e.sent(),[2]}})})}];else if("admin"===u&&o)return[{label:"Change role to member",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,u2.M)({teamId:s,userId:o,role:u5.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Remove from team",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,u4({teamId:s,memberId:o})];case 1:return e.sent(),[2]}})})}];else if("guest"===u&&o)return[{label:"Add to team as member",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,u2.M)({teamId:s,userId:o,role:u5.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})}];else if("pending"===u&&i)return[{label:"Cancel Invitation",asyncOnClick:/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ry.Z)(300)];case 1:return e.sent(),[4,(0,u1.Z)(i)];case 2:return e.sent(),[2]}})})}]}return[]}(e)})})]})};function ce(e){var t,n=(e.email?"a":"b")+((null===(t=e.profile)||void 0===t?void 0:t.photoURL)?"a":"b");return e.isCurrentUser?"1":e.isDeletedUser?"7":e.role===u5.i.Admin?"2"+n:e.role===u5.i.Member?"3"+n:e.role===u5.i.Guest?"4"+n:e.role?"8":"5"+n+(e.displayName?"a":"b")}var ct=function(){var e,t,n,r,i=(0,nO.Pe)(),o=(0,nr.LP)(),a=(0,t9.II)(),s=(0,aP.lU)(o,void 0,{internalOnly:!1}),u=(0,aP.Sh)(o,void 0,{internalOnly:!1}),c=(0,aP.q8)(o,void 0,{internalOnly:!1}),l=u$(o),A=function(e){var t=e.allMembersByRole,n=e.membersWithKnownInfo,r=e.membersWithProfiles,i=e.invitedUsers,o=e.currentUserId,a=[],s=Array.from(new Set([null!==(A=null==t?void 0:t.map(function(e){return e.id}))&&void 0!==A?A:[],null!==(d=null==n?void 0:n.map(function(e){return e.memberId}))&&void 0!==d?d:[],null!==(f=null==r?void 0:r.map(function(e){return e.id}))&&void 0!==f?f:[]].flat())),u=!0,c=!1,l=void 0;try{for(var A,d,f,h,p=s[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)!function(){var e,i,s,u=h.value,c=null==n?void 0:n.find(function(e){return e.memberId===u}),l=null==r?void 0:r.find(function(e){return e.id===u}),A=null==t?void 0:t.find(function(e){return e.id===u}),d=!(null!==(e=null==c?void 0:c.displayName)&&void 0!==e?e:null==l?void 0:l.displayName);a.push({userId:u,email:null==c?void 0:c.email,role:null==A?void 0:A.role,displayName:null!==(s=null!==(i=null==c?void 0:c.displayName)&&void 0!==i?i:null==l?void 0:l.displayName)&&void 0!==s?s:"Deleted User",knownPerson:c,isDeletedUser:d,profile:l,isCurrentUser:!!o&&u===o})}()}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}var g=!0,v=!1,m=void 0;try{for(var y,b=(null!=i?i:[])[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;a.push({userId:null,email:w.inviteeEmail,role:null,displayName:null,knownPerson:void 0,isDeletedUser:!1,profile:void 0,isCurrentUser:!1,teamInviteId:w.id})}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}return a.sort(function(e,t){var n=ce(e),r=ce(t);if(n<r)return -1;if(n>r)return 1;if(e.displayName<t.displayName)return -1;if(e.displayName>t.displayName)return 1;if(e.email<t.email)return -1;if(e.email>t.email)return 1;if(e.userId<t.userId)return -1;if(e.userId>t.userId)return 1;return 0}),a}({allMembersByRole:s,membersWithKnownInfo:u,membersWithProfiles:c,invitedUsers:l,currentUserId:a}),d=null===(r=null==s?void 0:s.find(function(e){return e.id===a}))||void 0===r?void 0:r.role,f=!!d&&!!s&&d===uJ.i4.Admin&&(null!==(t=null===(e=null==s?void 0:s.filter(function(e){return e.role===uJ.i4.Admin}))||void 0===e?void 0:e.length)&&void 0!==t?t:0)<=1,h=(0,Y.useCallback)((n=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:if(!a||!o)return[2];return[4,(0,uX.Z)({type:uP.PA.Email,inviteeEmail:e,status:uP.aj.Pending,inviteTo:uP.FU.Team,teamId:o},"team_members_modal")];case 1:return t.sent(),i.currentUser.markActivation(ru.c.InviteTeamMember),[2]}})}),function(e){return n.apply(this,arguments)}),[a,o]),p=!o||!a||!s||!u||!c||!l;return/*#__PURE__*/(0,W.jsx)(u9,{combinedMembers:A,onInvite:h,currentUserRole:d,isCurrentUserSoleAdmin:f,currentTeamId:o,isLoading:p})},cn=function(e){var t=e.planType,n=void 0===t?ni.k9.Free:t,r=e.teamMembersLength,i=e.fixedSeatCount,o=void 0===i?null:i,a=(0,r$.Y)().setOpenedPane,s=function(){a("plans"),ne.Z.trackEvent("payment","open_billing_pane",{source:"teamMembersPane"})};return o?/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:r>o?sN.Z.Variants.Error:sN.Z.Variants.Primary,children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:["You are on the ",o5.ZP[null!=n?n:ni.k9.Free].label.toLowerCase()," plan with"," ",o," seats. You have\xa0",/*#__PURE__*/(0,W.jsx)("strong",{children:r})," current team member",r>1?"s":"",".",/*#__PURE__*/(0,W.jsx)(sD.h,{onClick:s,className:"marginLeftSmall",children:"Manage plan"})]})}):/*#__PURE__*/(0,W.jsx)(sN.Z,{variant:sN.Z.Variants.Transparent,children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:["Your team has ",r," member".concat(r>1?"s":""," on the ").concat(o5.ZP[n].label.toLowerCase()," plan. "),/*#__PURE__*/(0,W.jsx)(sD.h,{onClick:s,children:"Manage plan"})]})})},cr=function(){var e,t,n,r=(0,nr.Rs)(),i=(0,aP.ZP)(null==r?void 0:r.id,void 0,{internalOnly:!0});return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("div",{className:u8().container,children:/*#__PURE__*/(0,W.jsxs)("div",{className:u8().centered,children:[/*#__PURE__*/(0,W.jsx)("div",{className:u8().preamble,children:"Eraser is made for team collaboration. All team members see the same folders and files on their dashboard. Guests only have access to specific files."}),/*#__PURE__*/(0,W.jsxs)("div",{className:u8().body,children:[/*#__PURE__*/(0,W.jsx)("div",{className:u8().leftHalf,children:/*#__PURE__*/(0,W.jsx)(ct,{})}),/*#__PURE__*/(0,W.jsx)("div",{className:u8().rightHalf,children:r&&/*#__PURE__*/(0,W.jsx)(uH,{team:r})})]})]})}),/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(cn,{planType:null==r?void 0:null===(e=r.plan)||void 0===e?void 0:e.planType,fixedSeatCount:null==r?void 0:null===(t=r.plan)||void 0===t?void 0:t.fixedSeatCount,teamMembersLength:null!==(n=null==i?void 0:i.length)&&void 0!==n?n:0})})]})},ci=n(42838),co=function(e){return rb.Z.put("team/".concat(e.teamId),{config:e.config})},ca=n(4185),cs=n(33695),cu=n(41174),cc=n(53030),cl=n(59711),cA=(0,t5.Z)((0,G.Z)({},cc.vQ),{popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,10]}}]}),cd=function(e){var t=e.selected,n=e.isDisabled,r=e.buttonClassname,i=e.onChange;return/*#__PURE__*/(0,W.jsxs)(rT.Lt,(0,t5.Z)((0,G.Z)({isMountedInPopper:!0,onSelect:i,selected:t,isDisabled:n,hint:n?{label:"Upgrade your team plan to change this setting"}:void 0,toggleClassNames:{root:r}},cA),{children:[/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"No link access",icon:/*#__PURE__*/(0,W.jsx)(ca.Z,{}),explanation:cc.Xh.none},cl.bR.NONE),/*#__PURE__*/(0,W.jsx)(rT.KE,{}),/*#__PURE__*/(0,W.jsx)(n7.Z,{icon:/*#__PURE__*/(0,W.jsx)(cs.Z,{}),label:"Anyone with the link can Edit",explanation:cc.Xh.write},cl.bR.WRITE),/*#__PURE__*/(0,W.jsx)(n7.Z,{icon:/*#__PURE__*/(0,W.jsx)(ab.Z,{}),label:"Publicly viewable",explanation:cc.Xh.read},cl.bR.READ),/*#__PURE__*/(0,W.jsx)(n7.Z,{icon:/*#__PURE__*/(0,W.jsx)(cu.Z,{}),label:"Publicly editable",explanation:cc.Xh["anonymous-write"]},cl.bR.ANONYMOUS_WRITE)]}))},cf="Only team admins can view or edit SSO information",ch=n(63955),cp=n(18858),cg=n(11406),cv=/*#__PURE__*/n.n(cg),cm=n(7956);function cy(e){return e?e.startsWith("-----BEGIN CERTIFICATE-----")&&e.endsWith("-----END CERTIFICATE-----")?void 0:'Certificate must start with "-----BEGIN CERTIFICATE-----" and end with "-----END CERTIFICATE-----"':"Certificate is required"}var cb=function(e){var t,n,r,i,o,a,s=e.ssoTenant,u=e.onCancel,c=e.onUpdate,l=(0,ch.cI)({values:s}),A=l.register,d=l.handleSubmit,f=l.formState.errors,h=d((t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){return c((0,G.Z)({type:"saml"},e)),[2,!1]})}),function(e){return t.apply(this,arguments)})),p=(0,Y.useRef)(null);(0,Y.useLayoutEffect)(function(){var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);var g=(0,Y.useCallback)(function(e){e.preventDefault(),u()},[u]);return/*#__PURE__*/(0,W.jsxs)("form",{onSubmit:h,ref:p,className:cv().form,children:[/*#__PURE__*/(0,W.jsxs)("fieldset",{children:[/*#__PURE__*/(0,W.jsx)(rN.Z,(0,t5.Z)((0,G.Z)({},A("domain",{required:"Domain is required"})),{label:"Verified Domain",readOnly:!0,error:null===(n=f.domain)||void 0===n?void 0:n.message})),/*#__PURE__*/(0,W.jsx)(rN.Z,(0,t5.Z)((0,G.Z)({},A("entryPoint",{required:"Sign-In URL is required",validate:cp.po,setValueAs:function(e){return e.trim()}})),{error:null===(r=f.entryPoint)||void 0===r?void 0:r.message,label:"SAML Sign-In URL"})),/*#__PURE__*/(0,W.jsx)(rN.Z,(0,t5.Z)((0,G.Z)({},A("issuer",{required:"Issuer is required",validate:cp.po,setValueAs:function(e){return e.trim()}})),{error:null===(i=f.issuer)||void 0===i?void 0:i.message,label:"Identity Provider Issuer"})),/*#__PURE__*/(0,W.jsx)(rN.Z,(0,t5.Z)((0,G.Z)({},A("serviceProvider",{required:"Entity ID is required",setValueAs:function(e){return e.trim()}})),{readOnly:!0,error:null===(o=f.serviceProvider)||void 0===o?void 0:o.message,label:"Entity ID"})),/*#__PURE__*/(0,W.jsx)(cm.Z,(0,t5.Z)((0,G.Z)({},A("idpCert",{required:"Certificate is required",validate:cy,setValueAs:function(e){return e.trim()}})),{error:null===(a=f.idpCert)||void 0===a?void 0:a.message,label:"Key x509 Certificate",height:95}))]}),/*#__PURE__*/(0,W.jsxs)(rx.Z,{autoWidth:!0,children:[/*#__PURE__*/(0,W.jsx)(rI.zx,{variant:rI.tr.LIGHT,onClick:g,children:"Cancel"}),/*#__PURE__*/(0,W.jsx)(rI.zx,{type:"submit",children:"Save"})]})]})};function cw(e){if(!e)return"";try{return new URL(e).hostname}catch(e){return"invalid url"}}var c_=function(e){var t=e.ssoTenant,n=e.onUpdate,r=e.hideForm,i=e.originalTenant,o=(0,Y.useState)(!t.entryPoint),a=o[0],s=o[1],u=(0,Y.useCallback)(function(e){n(e),s(!1),r()},[n,r]);return a?/*#__PURE__*/(0,W.jsx)(cb,{ssoTenant:t,onCancel:function(){s(!1),i||r()},onUpdate:u}):/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("table",{className:cv().table,children:/*#__PURE__*/(0,W.jsxs)("tbody",{children:[/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:"Verified Domain"}),/*#__PURE__*/(0,W.jsx)("td",{children:t.domain})]}),/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:"SAML Sign-In URL"}),/*#__PURE__*/(0,W.jsx)("td",{children:cw(t.entryPoint)})]}),/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:"Identity Provider Issuer"}),/*#__PURE__*/(0,W.jsx)("td",{children:cw(t.issuer)})]}),/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:"Key x509 Certificate"}),/*#__PURE__*/(0,W.jsx)("td",{children:""})]}),/*#__PURE__*/(0,W.jsxs)("tr",{children:[/*#__PURE__*/(0,W.jsx)("td",{children:"Entity ID"}),/*#__PURE__*/(0,W.jsx)("td",{children:t.serviceProvider})]})]})}),/*#__PURE__*/(0,W.jsx)(rI.zx,{variant:rI.tr.LIGHT,onClick:function(){return s(!0)},children:"Edit Configuration"})]})},cE=n(71505),cC=function(){var e,t,n,r,i=(0,nr.Rs)(),o=(0,t9.aF)(),a=null===(n=(0,aP.ZP)(null==i?void 0:i.id,void 0))||void 0===n?void 0:n.find(function(e){return e.id===(null==o?void 0:o.id)}),s=(0,aO.H0)(a),u=(0,Y.useState)(),c=u[0],l=u[1],A=(0,Y.useState)(),d=A[0],f=A[1],h=(0,Y.useState)(),p=h[0],g=h[1],v=(0,cE.Z)(ni.AC.SSO,null==i?void 0:i.id),m=(0,Y.useState)(!!(null==i?void 0:i.ssoDomain)),y=m[0],b=m[1],w=(0,Y.useState)(!!(null==i?void 0:i.ssoDomain)),_=w[0],E=w[1],C=(0,Y.useCallback)((e=(0,K.Z)(function(e){var t,n,r;return(0,z.__generator)(this,function(a){switch(a.label){case 0:if(!v)return e.preventDefault(),[2];if(E(t=e.target.checked),!t)return[3,1];if(d){l(d);try{rb.Z.post("sso/".concat(null==i?void 0:i.id),d),nd.a1.success("SSO restored")}catch(e){(0,nm.T)(e),nd.a1.error("Failed to restore SSO")}}else l({domain:null==o?void 0:null===(n=o.email)||void 0===n?void 0:n.split("@")[1],serviceProvider:"https://app.eraser.io"}),b(!1);return[3,5];case 1:if(l(void 0),!d)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,rb.Z.delete("sso/".concat(null==i?void 0:i.id))];case 3:return a.sent(),l(void 0),nd.a1.success("SSO disabled"),[3,5];case 4:return r=a.sent(),(0,nm.T)(r),nd.a1.error("Failed to disable SSO"),[3,5];case 5:return[2]}})}),function(t){return e.apply(this,arguments)}),[i,o,d,v]);(0,Y.useEffect)(function(){s&&i&&_&&v&&!d&&rb.Z.get("sso/".concat(i.id)).then(function(e){b(!1),"inactive"in e||(l(e),f(e))}).catch(function(e){b(!1),401===e.statusCode?(e.message===cf&&g(e.message),"SSO already exists for this domain. Please contact us at hello@eraser.io to add SSO to this team."===e.message&&g(e.message),l(void 0)):g(e.message)})},[i,s,v,_,d]);var B=(0,Y.useCallback)((t=(0,K.Z)(function(e){var t;return(0,z.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,rb.Z.post("sso/".concat(null==i?void 0:i.id),e)];case 1:return n.sent(),l(e),f(e),d?nd.a1.success("SSO updated"):nd.a1.success("SSO enabled"),[3,3];case 2:return t=n.sent(),(0,nm.T)(t),nd.a1.error("Failed to update SSO"),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),[i,d]),I=(0,Y.useCallback)(function(){l(void 0),E(!1)},[]),x=(0,r$.Y)().setOpenedPane,T=/*#__PURE__*/(0,W.jsxs)("h3",{children:["Authentication ",!v&&/*#__PURE__*/(0,W.jsx)(oR.y6,{})]});return s?p?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[T,/*#__PURE__*/(0,W.jsx)("div",{children:p})]}):/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[T,/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)(sf.Z,{checked:_||(null==i?void 0:i.ssoDomain)!==void 0,readOnly:!v||_,onChange:C,label:/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:["SAML SSO ",y&&/*#__PURE__*/(0,W.jsx)(iH.Z,{inline:!0})]})}),/*#__PURE__*/(0,W.jsxs)("p",{className:cv().infoText,children:["Team members on your email domain will be required to sign in with SSO."," ",v?/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("a",{href:"https://docs.eraser.io/docs/sso",children:"Learn about SSO"}),". You can enable"," ",/*#__PURE__*/(0,W.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),x("members")},children:"just-in-time provisioning"})," ","here. If you are facing issues with setup, send an email to"," ",/*#__PURE__*/(0,W.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"}),"."]}):/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:/*#__PURE__*/(0,W.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),x("plans",ni.AC.SSO)},children:"Upgrade to Business."})})]}),c?/*#__PURE__*/(0,W.jsx)(c_,{ssoTenant:c||{domain:null==o?void 0:null===(r=o.email)||void 0===r?void 0:r.split("@")[1]},originalTenant:d,hideForm:I,onUpdate:B}):null]})]}):/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[T,/*#__PURE__*/(0,W.jsx)("div",{children:cf})]})},cB=n(76897),cI=/*#__PURE__*/n.n(cB),cx=function(){var e,t,n,r,i,o,a=(0,iL.Z)(),s=(0,t9.II)(),u=(0,nr.Zj)(),c=(0,nr.Rs)(),l=(0,nr.DJ)().updateTeam,A=(0,r$.Y)().closeSettingsModal,d=(0,Y.useRef)(null),f=(0,Y.useRef)(!1),h=(0,nF.Z)(),p=h.isOpen,g=h.onClose,v=h.onOpen,m=(0,iP.Z)(co),y=(0,Y.useState)(null!==(r=null==c?void 0:c.name)&&void 0!==r?r:""),b=y[0],w=y[1],_=(0,aP.ZP)(null==c?void 0:c.id,void 0,{internalOnly:!0}),E=(0,Y.useCallback)(function(){var e;w(null!==(e=null==c?void 0:c.name)&&void 0!==e?e:"")},[c]);(0,Y.useEffect)(function(){c&&w(c.name)},[c,null==c?void 0:c.name]);var C=null==c?void 0:null===(t=c.plan)||void 0===t?void 0:t.planType,B=C&&C!==ni.k9.Free,I=(0,aO.GX)(_,s,aO.H0),x=null!==(i=null==_?void 0:_.filter(function(e){return e.id!==s}))&&void 0!==i?i:[],T=function(){if(l&&c){if(f.current){f.current=!1;return}b!==c.name&&a.promise(l(c.id,{name:b}),{success:"Updated team name",loading:"Updating team name",error:function(e){return(E(),(0,nm.T)(e),(0,ci.Z)(e,iz.c))?e.message:"Something went wrong"}})}},S=(e=(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:var t;if(!c||B)return[2];return[4,a.promise((t=c.id,rb.Z.delete("team/".concat(t))).then(function(){null==u||u(),A()}),{loading:"Deleting team",success:"Deleted team",error:function(e){return(0,nm.T)(e),"Something went wrong"}})];case 1:return e.sent(),null==u||u(),[2]}})}),function(){return e.apply(this,arguments)}),k=(0,Y.useCallback)(function(e){c&&B&&a.promise(m.execute({teamId:c.id,config:{defaultWorkspaceAccess:e}}),{success:"Updated default file link settings",loading:"Updating default file link settings",error:function(e){return(0,nm.T)(e),"Something went wrong"}})},[m,c,B]);return/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)("h3",{className:cI().subHeader,children:"Basic information"}),/*#__PURE__*/(0,W.jsx)(rN.Z,{label:"Team Name",explanation:"Can be changed at any time.",ref:d,value:b,disabled:!I,readOnly:!I,onKeyDown:function(e){if("Enter"===e.key)T();else if("Escape"===e.key){var t;e.stopPropagation(),f.current=!0,null===(t=d.current)||void 0===t||t.blur(),E()}},onBlur:function(){return T()},className:(0,nz.Z)(cI().teamRowInput,nG().standard),placeholder:"Enter team name ...",onChange:function(e){return w(e.currentTarget.value)}}),/*#__PURE__*/(0,W.jsx)(rS.A,{label:/*#__PURE__*/(0,W.jsxs)("span",{children:["Default File Link Access",!B&&/*#__PURE__*/(0,W.jsx)(oR.y6,{className:cI().teamRowBadge})]}),explanation:"Applied to all new team files",children:/*#__PURE__*/(0,W.jsx)(cd,{selected:null!==(o=null==c?void 0:null===(n=c.config)||void 0===n?void 0:n.defaultWorkspaceAccess)&&void 0!==o?o:cl.bR.WRITE,isDisabled:m.loading||!B,buttonClassname:cI().teamRowDropdown,onChange:k})}),/*#__PURE__*/(0,W.jsx)(cC,{}),I&&!x.length&&/*#__PURE__*/(0,W.jsxs)("div",{className:cI().dangerZone,children:[/*#__PURE__*/(0,W.jsx)("span",{className:cI().dangerTitle,children:"Danger Zone"}),/*#__PURE__*/(0,W.jsx)("p",{className:cI().dangerMessage,children:"Proceed with caution, once completed, these actions cannot be undone."}),/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)(rI.ZP,{onClick:v,disabled:B,variant:rI.ZP.Variants.TRANSPARENT,children:"Delete Team"}),B&&/*#__PURE__*/(0,W.jsx)("span",{className:cI().deletionWarning,children:"The team has an active paid plan and cannot be deleted."})]}),/*#__PURE__*/(0,W.jsx)(aj.Z,{isDeletion:!0,isOpen:p,onClose:g,onCancel:g,title:"Delete team?",onConfirm:S,description:"By selecting confirm you will delete all files that belong to this team. This cannot be undone."})]})]})},cT=n(19013),cS=/*#__PURE__*/n.n(cT),ck=function(){return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(cS().wrapper,cS().spinnerContainer),children:[/*#__PURE__*/(0,W.jsx)(aK.Z,{fancy:!0,className:(0,nz.Z)(cS().spinner,"marginRightSmall")})," ","Loading icons..."]})},cN=function(){var e,t=(0,iL.Z)(),n=(0,rX.Su)().customIconsService,r=(0,Y.useRef)(null),i=(0,Y.useRef)({loaded:0,total:0}),o=function(e){r.current?(i.current.loaded+=1,null==t||t.loading("Uploaded ".concat(i.current.loaded,"/").concat(i.current.total," icons"),r.current?{id:r.current}:{})):null==t||t.success("Icon ".concat(e," uploaded successfully"))},a=function(e,n){null==t||t.error("Error uploading icon ".concat(e))};return e=(0,K.Z)(function(e,s,u){var c,l,A,d,f,h,p;return(0,z.__generator)(this,function(u){switch(u.label){case 0:if(1===e.length)return[2,n.uploadCustomIcon({file:e[0],teamId:s,onSuccess:o,onError:a})];c=[],i.current={loaded:0,total:e.length},r.current=null==t?void 0:t.loading("Preparing icons"),l=!0,A=!1,d=void 0;try{for(f=Array.from(e)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)p=h.value,c.push(n.uploadCustomIcon({file:p,teamId:s,onSuccess:o,onError:a}))}catch(e){A=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(A)throw d}}return[4,Promise.allSettled(c)];case 1:return u.sent(),null==t||t.success("".concat(i.current.loaded,"/").concat(i.current.total," icons uploaded successfully"),r.current?{id:r.current}:{}),r.current=null,[2]}})}),function(t,n,r){return e.apply(this,arguments)}},cD=n(11053),cO=n(97848),cR=n(8350),cF=/*#__PURE__*/n.n(cR),cL=n(62202),cP=function(e){var t=e.label,n=e.hideIcon,r=e.buttonVariant,i=e.isDisabled,o=e.className,a=e.onSelectFiles,s=e.allowedFiles,u=e.fileLimit,c=e.fileLimitError,l=(0,Y.useRef)(null);return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)(rI.ZP,{className:(0,nz.Z)(cF().uploadBtn,o),variant:rI.ZP.Variants[void 0===r?"REGULAR":r],onClick:function(){var e;i||null===(e=l.current)||void 0===e||e.click()},disabled:i,children:[!n&&/*#__PURE__*/(0,W.jsx)(im.J,{icon:ak.Z,height:12,width:12}),/*#__PURE__*/(0,W.jsx)("span",{children:t})]}),/*#__PURE__*/(0,W.jsx)("input",{type:"file",ref:l,multiple:!0,accept:null==s?void 0:s.join(","),className:cF().fileInput,onChange:function(e){if(!i&&e.target.files){if(u&&e.target.files.length>u){cL.Am.error(null!=c?c:"You can upload up to ".concat(u," files")),l.current.value="";return}a(e.target.files),l.current.value=""}}})]})},cU=n(5462),cM=n(16294),cj=n(72119),cZ=n(31783),cQ=/*#__PURE__*/n.n(cZ),cH=function(e){var t=e.icon,n=e.onUpdateIcon,r=e.onUpdateName,i=e.onDelete,o=(0,iL.Z)(),a=(0,aM.Z)(),s=(0,Y.useRef)(null),u=(0,Y.useState)(!1),c=u[0],l=u[1],A=(0,Y.useState)(t.label||""),d=A[0],f=A[1],h=(0,t7.ZP)(t.createdBy),p=(0,Y.useCallback)(function(e){var n=e.currentTarget.value;if(0===n.length){f(t.label);return}if(t.label!==n){var i=(0,cD.i)(n);r(t.id,i)}},[t.id,t.label,r]),g=(0,Y.useCallback)(/*#__PURE__*/(0,K.Z)(function(){return(0,z.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(t.url)];case 1:return[4,e.sent().text()];case 2:return a(e.sent(),"Icon copied to clipboard"),[3,4];case 3:return console.error("Copy SVG failure",e.sent()),o.error("Failed to copy icon to clipboard"),[3,4];case 4:return[2]}})}),[t.url]),v=(0,Y.useCallback)(function(){var e;null===(e=s.current)||void 0===e||e.click()},[]),m=(0,Y.useCallback)(function(e){var r=e.target.files;(null==r?void 0:r.length)!==0&&n(t.id,r[0])},[t.id,n]);return(0,Y.useEffect)(function(){f(t.label)},[t.label]),/*#__PURE__*/(0,W.jsxs)("div",{className:cQ().icon,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:cQ().iconImg,children:[/*#__PURE__*/(0,W.jsx)("img",{src:t.url,alt:t.label,className:c?void 0:cQ().hidden,onLoad:function(){return l(!0)}}),!c&&/*#__PURE__*/(0,W.jsx)(iu.ZP,{width:"64px",height:64,className:cQ().iconImgSkeleton})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:cQ().iconInfo,children:[/*#__PURE__*/(0,W.jsx)(rN.Z,{value:d,labelClassNames:{root:cQ().iconLabel},className:cQ().iconName,size:rN.Z.Sizes.SMALL,onChange:function(e){return f((0,cD.i)(e.currentTarget.value))},onBlur:p}),/*#__PURE__*/(0,W.jsx)("span",{className:cQ().iconAuthor,children:h?"Added by ".concat(h.displayName):""}),/*#__PURE__*/(0,W.jsx)("input",{type:"file",ref:s,multiple:!1,accept:"image/svg+xml",className:cQ().fileInput,onChange:m}),/*#__PURE__*/(0,W.jsxs)(rT.Ng,{minWidth:176,hint:{label:"Actions"},toggleClassNames:{button:cQ().iconDropdown},children:[/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Replace Icon",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:cM.Z}),onClick:v}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Copy Icon",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:cU.Z}),onClick:g}),/*#__PURE__*/(0,W.jsx)(rT.KE,{}),/*#__PURE__*/(0,W.jsx)(n7.Z,{label:"Delete",className:cQ().deleteOption,icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:cj.Z,color:"red"}),onClick:function(){return i(t.id)}})]})]})]},t.id)},cV=function(e){var t,n,r,i,o=e.icons,a=e.userId,s=e.teamId,u=e.teamPlan,c=e.limit,l=(0,iL.Z)(),A=(0,rX.Su)().customIconsService,d=(0,Y.useRef)(null),f=(0,Y.useRef)(null),h=(0,Y.useState)(""),p=h[0],g=h[1],v=cN(),m=o.filter(function(e){var t=(0,cD.i)(p.toLowerCase());return e.label.toLowerCase().includes(t)}),y=(t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:return[4,v(e,s,a)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),b=(n=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,A.deleteIcon(e)];case 1:return t.sent(),null==l||l.success("Icon deleted successfully"),[3,3];case 2:return t.sent(),null==l||l.error("Error deleting icon"),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),w=(r=(0,K.Z)(function(e,t){return(0,z.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,A.updateIconName(e,t)];case 1:return n.sent(),null==l||l.success("Icon name updated successfully"),[3,3];case 2:return n.sent(),null==l||l.error("Error updating icon name"),[3,3];case 3:return[2]}})}),function(e,t){return r.apply(this,arguments)}),_=(i=(0,K.Z)(function(e,t){return(0,z.__generator)(this,function(n){switch(n.label){case 0:f.current=null==l?void 0:l.loading("Updating icon..."),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,A.updateIconFile(e,t)];case 2:return n.sent(),null==l||l.success("Icon updated successfully",{id:f.current}),[3,4];case 3:return n.sent(),null==l||l.error("Error updating icon",{id:f.current}),[3,4];case 4:return f.current=null,[2]}})}),function(e,t){return i.apply(this,arguments)});return(0,t2.Z)({"/":function(e){var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus()}}),/*#__PURE__*/(0,W.jsxs)("div",{className:cS().wrapper,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:cS().sidebar,children:[/*#__PURE__*/(0,W.jsx)(cP,{label:"Upload SVG Icons",className:cS().browseBtn,onSelectFiles:y,isDisabled:!(null==c?void 0:c.allowed)}),/*#__PURE__*/(0,W.jsx)("p",{className:cS().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),/*#__PURE__*/(0,W.jsxs)("p",{className:cS().notes,children:["Note: Names must be lower case letters, numbers, or hyphens (no spaces). Maximum length"," ",cD.v," characters."]}),c&&/*#__PURE__*/(0,W.jsx)(o2.Z,{showLimitName:!1,limit:c.limit,upgradeLinkText:"Upgrade limit",className:cS().limitIndicator,current:c.current,contactUs:!c.allowed,featureName:ni.M$.CustomIcons,shortExplanation:c.allowed,showLink:(null==u?void 0:u.planType)===ni.k9.Pro})]}),/*#__PURE__*/(0,W.jsxs)("div",{className:cS().list,children:[/*#__PURE__*/(0,W.jsxs)("div",{className:cS().search,children:[/*#__PURE__*/(0,W.jsx)("span",{className:cS().searchIcon,children:/*#__PURE__*/(0,W.jsx)(im.J,{icon:cO.Z,color:"grey-1100"})}),/*#__PURE__*/(0,W.jsx)(rN.Z,{ref:d,autoFocus:!0,value:p,className:cS().searchInput,placeholder:"Search custom icon",onChange:function(e){return g(e.currentTarget.value)}}),/*#__PURE__*/(0,W.jsx)("span",{className:cS().searchHotkey,children:"/"})]}),/*#__PURE__*/(0,W.jsx)("div",{className:cS().listContainer,children:0===m.length?/*#__PURE__*/(0,W.jsxs)("p",{className:cS().noIcons,children:['No icons found with "',p,'" in the name']}):m.map(function(e){return/*#__PURE__*/(0,W.jsx)(cH,{icon:e,onUpdateName:w,onDelete:b,onUpdateIcon:_},e.id)})})]})]})},cK=n(95153),cG=/*#__PURE__*/n.n(cK),cz=function(e){var t,n=e.description,r=e.notes,i=e.allowedFiles,o=e.fileLimit,a=e.fileLimitError,s=e.onUpload,u=(0,Y.useState)(!1),c=u[0],l=u[1],A=(t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:return[4,s(e)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return/*#__PURE__*/(0,W.jsxs)("div",{className:(0,nz.Z)(cG().dragArea,c&&cG().highlightOutline),onDragOver:function(){return l(!0)},onDragLeave:function(){return l(!1)},onDrop:function(e){e.preventDefault(),A(e.dataTransfer.files).then(function(){l(!1)})},children:[/*#__PURE__*/(0,W.jsx)("span",{className:cG().title,children:"Drag & drop to upload or"}),/*#__PURE__*/(0,W.jsx)(cP,{label:"Browse Files",className:cG().browseBtn,onSelectFiles:A,allowedFiles:i,fileLimit:o,fileLimitError:a}),/*#__PURE__*/(0,W.jsx)("p",{className:cG().description,children:n}),r&&/*#__PURE__*/(0,W.jsxs)("p",{className:cG().notes,children:[/*#__PURE__*/(0,W.jsx)("b",{children:"Note:"}),"\xa0",r]})]})},cW=function(e){var t,n=e.userId,r=e.teamId,i=cN(),o=(t=(0,K.Z)(function(e){return(0,z.__generator)(this,function(t){switch(t.label){case 0:return[4,i(e,r,n)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return/*#__PURE__*/(0,W.jsx)(cz,{description:"Upload custom icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams.",notes:/*#__PURE__*/(0,W.jsxs)("span",{children:["Names must be lower case letters, numbers, or hyphens (no spaces). ",/*#__PURE__*/(0,W.jsx)("br",{})," Maximum length\xa0",cD.v," characters."]}),allowedFiles:["image/svg+xml"],onUpload:o})},cq=n(91625),cY=/*#__PURE__*/n.n(cq),c$=function(){var e=(0,r$.Y)().openSettingsModal,t=(0,rX.Su)().analyticsService;return/*#__PURE__*/(0,W.jsxs)("div",{className:cY().upgradePlanPane,children:[/*#__PURE__*/(0,W.jsx)("p",{className:cY().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),/*#__PURE__*/(0,W.jsxs)("p",{className:cY().description,children:["Custom icons access is only available on"," ",/*#__PURE__*/(0,W.jsx)(aV.c2,{onClick:function(){e({openedPane:"plans",paywallFeature:ni.M$.CustomIcons}),t.trackEvent("payment","open_billing_pane",{source:"customIcons",featureName:ni.M$.CustomIcons})},className:cY().link,children:"paid plans"})]})]})},cX=n(39418),cJ=/*#__PURE__*/n.n(cX),c0=function(){var e=(0,t9.II)(),t=(0,nr.vn)(),n=(0,nr.LP)(),r=(0,rX.Su)().customIconsService,i=(0,Y.useState)(void 0),o=i[0],a=i[1],s=(0,rg.Bv)({featureName:ni.M$.CustomIcons,teamId:n,immediateCallbackWithLimit:!0});if((0,Y.useEffect)(function(){if(n)return r.subscribeByTeam(n,a)},[n,r]),!e||!n||!s)return null;var u=!s||!s.allowed;return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(cJ().wrapper,u&&cJ().noMargin),children:o?u&&0===o.length?/*#__PURE__*/(0,W.jsx)(c$,{}):0===o.length?/*#__PURE__*/(0,W.jsx)(cW,{userId:e,teamId:n}):/*#__PURE__*/(0,W.jsx)(cV,{icons:o,userId:e,teamId:n,teamPlan:t,limit:s}):/*#__PURE__*/(0,W.jsx)(ck,{})})},c1=n(96795),c2=/*#__PURE__*/n.n(c1),c4=n(44335),c3=n(20578),c5=n(60869),c6=n(59590);(c=U||(U={})).Uploading="uploading",c.Rendering="rendering",c.Complete="complete",c.Error="error";var c8=(0,q.cn)({key:"imageToDiagramState",default:{files:[],diagrams:[]}}),c9=(M={},(0,io.Z)(M,U.Uploading,"Uploading image file ..."),(0,io.Z)(M,U.Rendering,"Generating diagram. This can take a few minutes, do not leave the page."),(0,io.Z)(M,U.Complete,"Diagram complete"),(0,io.Z)(M,U.Error,"Failed to generate diagram"),M),c7=function(e){var t,n,r,i=e.onSuccess,o=(0,rE.Z)((0,q.FV)(c8),2),a=o[0],s=o[1],u=(0,iL.Z)(),c=(0,en.useRouter)(),l=(0,t9.II)(),A=(0,nr.LP)(),d=(0,nO.Pe)(),f=(0,rU.Z)().request,h=c.query.workspaceId,p=(0,Y.useRef)(null),g=(0,Y.useRef)([]),v=(0,rg.Bv)({featureName:ni.M$.PremiumCredits,teamId:A,userId:l,immediateCallbackWithLimit:!0}),m=(t=(0,K.Z)(function(e){var t,n,r;return(0,z.__generator)(this,function(i){switch(i.label){case 0:if(t=Array.from(e),!(null==v?void 0:v.allowed))return u.error("You have no premium AI credits remaining"),[2];if(!A||!l)return[2];if(n=h,s({files:(0,nq.Z)(t)}),n)return[3,2];return[4,f("image_to_diagram_pane",{})];case 1:n=null==(r=i.sent())?void 0:r.id,i.label=2;case 2:return p.current=u.loading(c9[U.Uploading]),[4,y(A,l,n,t)];case 3:return i.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),y=(n=(0,K.Z)(function(e,t,n,r){var o,a,s;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return a=(o=(0,rE.Z)(c2()(r,function(e){return e.type.startsWith("image/")}),2))[0],(s=o[1]).length>0&&u.error("Invalid image file(s) uploaded: "+s.map(function(e){return e.name}).join(", "),{id:p.current||void 0}),[4,Promise.all((a||[]).map(function(r){return w(r,e,t,n)}))];case 1:return c.sent(),null==i||i(),[2]}})}),function(e,t,r,i){return n.apply(this,arguments)}),b=(0,q._8)(function(e){var t,n=e.snapshot,r=e.set;return t=(0,K.Z)(function(e,t){var i,o,a,s,c,l,A;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,n.getPromise(c8)];case 1:if(!(s=null===(i=(a=d.sent()).diagrams)||void 0===i?void 0:i.map(function(n){return n.requestId===e?(0,t5.Z)((0,G.Z)({},n),{status:t}):n}))||0===s.length||(null===(o=a.files)||void 0===o?void 0:o.length)===0||(c=s.length||0,l=s.filter(function(e){return e.status===U.Complete}),A=s.filter(function(e){return e.status===U.Error}),l.length+A.length!==c))return[2];return l.length===c?u.success(c9[U.Complete],{id:p.current||void 0}):A.length===c?u.error(c9[U.Error],{id:p.current||void 0}):u.loading("Diagrams successfully rendered for some files:"+l.map(function(e){return e.fileName}).join(", "),{id:p.current||void 0}),p.current=null,g.current=[],r(c8,{files:void 0,diagrams:void 0}),[2]}})}),function(e,n){return t.apply(this,arguments)}}),w=(r=(0,K.Z)(function(e,t,n,r){var i,o;return(0,z.__generator)(this,function(a){return r?e&&e.type.startsWith("image/")?(o=(i=d.makeAiDiagramGenerationService({user:n,text:void 0,teamId:t,workspaceId:r,attachedFiles:[e],mode:c5.en.Premium})).requestId||(0,uE.x0)(),s(function(t){return(0,t5.Z)((0,G.Z)({},t),{diagrams:(0,nq.Z)(t.diagrams||[]).concat([{requestId:o,fileName:e.name,status:U.Rendering}])})}),u.loading(c9[U.Rendering],{id:p.current||void 0}),g.current.push(i),i.initiateImageToDiagram(),i.on(c4.w.UPDATE,function(t){if(t.phase===c6.s1.Error)s(function(e){var t;return(0,t5.Z)((0,G.Z)({},e),{diagrams:null===(t=e.diagrams)||void 0===t?void 0:t.map(function(e){return e.requestId===o?(0,t5.Z)((0,G.Z)({},e),{status:U.Error}):e})})}),b(o,U.Error),u.error("Failed to render diagram: "+e.name),i.clean();else if(t.phase===c6.s1.Complete){var n,r=null===(n=t.diagrams)||void 0===n?void 0:n[0];if(!r){console.error("No diagram found in complete state");return}c3.Z.emit("add-element",(0,t5.Z)((0,G.Z)({type:"diagram"},r),{x:0,y:0})),s(function(e){var t;return(0,t5.Z)((0,G.Z)({},e),{diagrams:null===(t=e.diagrams)||void 0===t?void 0:t.map(function(e){return e.requestId===o?(0,t5.Z)((0,G.Z)({},e),{status:U.Complete}):e})})}),b(o,U.Complete),u.success("Diagrams successfully rendered for file: "+e.name),i.clean();return}}),[2]):[2,Promise.reject(Error("Image to diagram requires a valid image file"))]:[2,Promise.reject(Error("workspaceId is required"))]})}),function(e,t,n,i){return r.apply(this,arguments)});return{diagrams:a.diagrams,handleUpload:m}},le=n(60411),lt=/*#__PURE__*/n.n(le),ln=function(){var e=(0,t9.II)(),t=(0,nr.LP)(),n=(0,r$.Y)(),r=n.setOpenedPane,i=c7({onSuccess:n.closeSettingsModal}),o=i.diagrams,a=i.handleUpload,s=(0,rg.Q6)(ni.AC.AiImport,t),u=(0,rg.Bv)({featureName:ni.M$.PremiumCredits,teamId:t,userId:e,immediateCallbackWithLimit:!0});if(!e||!t)return null;if(!s)return/*#__PURE__*/(0,W.jsxs)("p",{className:lt().subtitle,children:["Image import is not available on your plan. Please"," ",/*#__PURE__*/(0,W.jsx)(aV.c2,{onClick:function(){return r("plans")},children:"upgrade"})," to access this feature."]});if(!(null==u?void 0:u.allowed))return/*#__PURE__*/(0,W.jsxs)("p",{className:lt().subtitle,children:["You have used all of your premium credits, please"," ",/*#__PURE__*/(0,W.jsx)(aV.c2,{onClick:function(){return r("plans",ni.M$.PremiumCredits)},children:"upgrade your plan or enable usage-based billing"})," "]});var c=null==o?void 0:o.some(function(e){return e.status===U.Uploading||e.status===U.Rendering});return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(lt().wrapper),children:c?/*#__PURE__*/(0,W.jsxs)("div",{className:cG().dragArea,style:{gap:20},children:[/*#__PURE__*/(0,W.jsx)(iH.Z,{}),/*#__PURE__*/(0,W.jsx)("span",{children:"We are processing your diagrams, it might take up to few minutes. Please wait."})]}):/*#__PURE__*/(0,W.jsx)(cz,{description:"Bring existing diagrams from LucidChart, Draw.io, Visio, or Mermaid into Eraser.",notes:/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:["Note: Upload PNG or JPEG files. Up to ".concat(5," files at once. Each file will consume 1 premium AI credit. "),/*#__PURE__*/(0,W.jsx)(aV.h$,{onClick:function(){return r("usage",ni.M$.PremiumCredits)},children:"View usage"})]}),fileLimit:5,fileLimitError:"You can only upload up ".concat(5," files"),allowedFiles:["image/png","image/jpeg"],onUpload:a})})},lr=n(96387),li=n(54242),lo=/*#__PURE__*/n.n(li),la=!1;function ls(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=r[t.getMonth()],o=r[n.getMonth()],a=t.getDate(),s=n.getDate(),u=t.getFullYear(),c=n.getFullYear(),l="".concat(i," ").concat(a,", ").concat(u),A="".concat(o," ").concat(s,", ").concat(c);return"".concat(l," - ").concat(A)}var lu=[{title:"Standard AI credits",feature:ni.M$.AiDiagramAndOutlineCredits,description:"Monthly standard AI credits per user."},{title:"Premium AI credits",feature:ni.M$.PremiumCredits,description:"Monthly premium AI credits per user."}],lc=[{title:"Standard API calls",feature:ni.M$.MonthlyAiDiagramApiCalls,description:"Monthly standard API calls per team."},{title:"Premium API calls",feature:ni.M$.PremiumApiCalls,description:"Monthly premium API calls per team."}],ll=function(e){var t=e.usage,n=e.teamId,r=e.userId,i=e.payAsYouGoEnabled,o=e.onUpgradeClick,a=e.teamPlan,s=(0,rg.Bv)({featureName:t.feature,teamId:n,userId:r,immediateCallbackWithLimit:!0}),u=(0,rX.Su)().analyticsService;if(!s)return null;var c=s.limit===o5.fY,l=s.limit||i&&(0,a2.OX)(t.feature),A=!s.limit||a===ni.k9.Business,d=!s.limit,f=function(){u.trackEvent("payment","open_billing_pane",{featureName:t.feature,source:"limitBar"}),o(t.feature,A)};return/*#__PURE__*/(0,W.jsxs)("div",{className:lo().usageItem,children:[/*#__PURE__*/(0,W.jsx)("span",{className:lo().usageItemTitle,children:t.title}),l?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:c?"Unlimited":/*#__PURE__*/(0,W.jsxs)("div",{className:lo().usageItemLimitBar,children:[/*#__PURE__*/(0,W.jsx)("div",{className:lo().bar,children:/*#__PURE__*/(0,W.jsx)(ld,{access:s,payAsYouGoEnabled:i})}),/*#__PURE__*/(0,W.jsxs)("span",{children:[(0,rg.oj)(s.current),s.limit>0&&/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:["/",s.limit]})]})]})}):null,/*#__PURE__*/(0,W.jsxs)("span",{className:lo().usageItemDescription,children:[/*#__PURE__*/(0,W.jsx)("span",{className:"marginRightSmall",children:t.description}),l?i?null:/*#__PURE__*/(0,W.jsx)("a",{role:"button",onClick:f,className:"linkLight",children:"Upgrade limit."}):/*#__PURE__*/(0,W.jsx)("a",{role:"button",onClick:f,className:"linkLight",children:d?"Requires usage based pricing":"Manage plan."})]})]},t.feature)},lA=function(e){var t=e.teamId,n=e.maxMonthlySpend,r=e.onManageClick,i=sC(t);if(!i)return null;var o=i.totalSpendInCents/100;return/*#__PURE__*/(0,W.jsxs)("div",{className:lo().usageItem,children:[/*#__PURE__*/(0,W.jsx)("span",{className:lo().usageItemTitle,children:"Current spend"}),/*#__PURE__*/(0,W.jsx)("span",{className:lo().usageItemPeriod,children:ls()}),/*#__PURE__*/(0,W.jsxs)("div",{className:lo().usageItemLimitBar,children:[/*#__PURE__*/(0,W.jsx)("div",{className:lo().bar,children:/*#__PURE__*/(0,W.jsx)(ld,{access:{limit:n,current:o,allowed:o<n,hasFeatureAccess:!0}})}),/*#__PURE__*/(0,W.jsxs)("span",{children:["$",(0,rg.oj)(o,2)," / ","$",n.toFixed(2)]})]}),/*#__PURE__*/(0,W.jsxs)("span",{className:lo().usageItemDescription,children:[/*#__PURE__*/(0,W.jsx)("span",{className:"marginRightSmall",children:"AI credits and API calls used beyond your plan limits."}),/*#__PURE__*/(0,W.jsx)("a",{role:"button",onClick:r,className:"linkLight",children:"Manage spending limit."})]}),/*#__PURE__*/(0,W.jsx)("div",{className:"column gapSmall c-g12 marginTopMedium",children:(0,nq.Z)(lu).concat((0,nq.Z)(lc)).map(function(e){var t,n,r,o,a=null!==(o=null==i?void 0:null===(t=i.actions)||void 0===t?void 0:null===(n=t.teamWide)||void 0===n?void 0:null===(r=n[e.feature])||void 0===r?void 0:r.paid)&&void 0!==o?o:0;if(0===a)return null;var s=a*(0,lr.ii)(e.feature)/100;return/*#__PURE__*/(0,W.jsxs)("div",{className:"row gapSmall",children:[/*#__PURE__*/(0,W.jsx)("span",{className:lo().payGoItemItemTitle,children:e.title}),/*#__PURE__*/(0,W.jsxs)("span",{className:"c-g10",children:[a," extra ",e.title.includes("API")?"calls":"credits"," / $",s.toFixed(2)]})]},e.feature)})})]})},ld=function(e){var t=e.access,n=e.payAsYouGoEnabled;return t&&t.limit!==o5.fY?/*#__PURE__*/(0,W.jsx)(o9.k,{useColor:!0,limit:t.limit,current:(0,rg.ZP)(t.current),className:lo().progressBar,fullColor:n?"var(--purple)":void 0}):null},lf=function(){var e,t,n,r=(0,t9.II)(),i=(0,nr.vn)(),o=(0,nr.LP)(),a=(0,rX.Su)().analyticsService,s=(0,r$.Y)().setOpenedPane,u=!!((null==i?void 0:i.payAsYouGoEnabled)&&o);(0,Y.useEffect)(function(){la||(la=!0,a.trackEvent("usage","view"))},[a.trackEvent]);var c=(0,Y.useCallback)(function(e,t){s("plans",e,t?az.$:void 0)},[s]);return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(sR,{children:/*#__PURE__*/(0,W.jsx)(aG.U,{variant:aG.U.Variants.Transparent,children:/*#__PURE__*/(0,W.jsxs)("p",{className:(0,nz.Z)(nG().medium,"marginBottomNone"),children:["Usage for ",ls()]})})}),/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)("p",{className:nG().header,children:"Individual usage"}),/*#__PURE__*/(0,W.jsx)("div",{className:lo().usagePaneList,children:lu.map(function(t){/*#__PURE__*/return(0,W.jsx)(ll,{usage:t,teamId:o,userId:r,payAsYouGoEnabled:!!(null==i?void 0:i.payAsYouGoEnabled),teamPlan:null!==(e=null==i?void 0:i.planType)&&void 0!==e?e:ni.k9.Free,onUpgradeClick:c},t.feature)})}),/*#__PURE__*/(0,W.jsx)("p",{className:nG().header,children:"Team usage"}),/*#__PURE__*/(0,W.jsx)("div",{className:lo().usagePaneList,children:lc.map(function(e){/*#__PURE__*/return(0,W.jsx)(ll,{usage:e,teamId:o,userId:r,teamPlan:null!==(t=null==i?void 0:i.planType)&&void 0!==t?t:ni.k9.Free,payAsYouGoEnabled:!!(null==i?void 0:i.payAsYouGoEnabled),onUpgradeClick:c},e.feature)})}),u&&/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("p",{className:nG().header,children:"Usage-based pricing"}),/*#__PURE__*/(0,W.jsx)("div",{className:lo().usagePaneList,children:/*#__PURE__*/(0,W.jsx)(lA,{teamId:o,maxMonthlySpend:null!==(n=null==i?void 0:i.maxMonthlySpend)&&void 0!==n?n:0,onManageClick:function(){return s("plans",void 0,az.$)}})})]})]})]})},lh="gitHubAppInstalled",lp=function(){var e=(0,nx.K)(),t=(0,r$.Y)().openSettingsModal;(0,Y.useLayoutEffect)(function(){e.settings&&t({openedPane:e.settings})},[e.settings,t])},lg=function(){var e=(0,r$.Y)(),t=e.openedPane,n=(0,nL.Z)(e,["openedPane"]);return/*#__PURE__*/(0,W.jsxs)("div",{className:nM().container,children:[/*#__PURE__*/(0,W.jsx)(aR,{}),/*#__PURE__*/(0,W.jsx)("div",{className:nM().paneContainer,children:function(){if(null==t)return null;var e=null;switch(t){case"gitConnect":e=/*#__PURE__*/(0,W.jsx)(uc,{});break;case"api-tokens":e=/*#__PURE__*/(0,W.jsx)(aY,{});break;case"members":e=/*#__PURE__*/(0,W.jsx)(cr,{});break;case"team-settings":e=/*#__PURE__*/(0,W.jsx)(cx,{});break;case"appearance":e=/*#__PURE__*/(0,W.jsx)(aJ,{});break;case"plans":e=/*#__PURE__*/(0,W.jsx)(sF,(0,G.Z)({},n));break;case"usage":e=/*#__PURE__*/(0,W.jsx)(lf,{});break;case"profile":e=/*#__PURE__*/(0,W.jsx)(uR,{});break;case"custom-icons":e=/*#__PURE__*/(0,W.jsx)(c0,{});break;case"import":e=/*#__PURE__*/(0,W.jsx)(ln,{})}return/*#__PURE__*/(0,W.jsx)("div",{className:nM().pane,children:e})}()})]})},lv=function(){return/*#__PURE__*/(0,W.jsxs)("div",{className:"rowCentered",children:["Settings",/*#__PURE__*/(0,W.jsx)("span",{id:"SETTINGS_MODAL_TITLE_SLOT",className:nM().titleSlot})]})},lm=function(){e=(0,r$.Y)().openSettingsModal,t=(0,Y.useCallback)(function(){nh.get(lh)&&(e({openedPane:"gitConnect"}),nh.remove(lh))},[e]),(0,ri.DZ)("onInstallWindowClosed",t),lp();var e,t,n=(0,r$.Y)(),r=n.isSettingsModalOpen,i=n.closeSettingsModal;return/*#__PURE__*/(0,W.jsx)(nj.Z,{title:/*#__PURE__*/(0,W.jsx)(lv,{}),showTitleSeparator:!0,size:nj.Z.Sizes.XL,closeButtonVariant:"text",className:nM().modalRoot,isOpen:r,onClose:i,children:/*#__PURE__*/(0,W.jsx)(lg,{})})},ly=n(70289),lb=n(39183),lw=n(67058),l_=n(86378),lE=/*#__PURE__*/n.n(l_),lC=/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsxs)("span",{className:lE().keys,children:[(0,lw.K8)("ArrowUp",!0),(0,lw.K8)("ArrowDown",!0)]}),/*#__PURE__*/(0,W.jsx)("span",{children:"to navigate"})]}),lB=function(e){switch(e){case"commands":return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[lC,/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsx)("span",{className:lE().keys,children:(0,lw.K8)("Enter",!0)}),/*#__PURE__*/(0,W.jsx)("span",{children:"enter command"})]})]});case"fileSearch":case"help":return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsx)("span",{className:lE().keys,children:(0,lw.K8)("Enter",!0)}),/*#__PURE__*/(0,W.jsx)("span",{children:"search"})]}),/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsx)("span",{className:lE().keys,children:(0,lw.K8)("Esc",!0)}),/*#__PURE__*/(0,W.jsx)("span",{children:"cancel"})]})]});case"goToFile":return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[lC,/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsx)("span",{className:lE().keys,children:(0,lw.K8)("Enter",!0)}),/*#__PURE__*/(0,W.jsx)("span",{children:"open here"})]}),/*#__PURE__*/(0,W.jsxs)("span",{children:[/*#__PURE__*/(0,W.jsxs)("span",{className:lE().keys,children:[(0,lw.K8)("CtrlOrCmd",!0)," ",(0,lw.K8)("Enter",!0)]}),/*#__PURE__*/(0,W.jsx)("span",{children:"open new tab"})]})]});default:return null}},lI=/*#__PURE__*/(0,W.jsxs)("span",{className:lE().toggleTitle,children:["Mode ",/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["AltOrOption","M"]})]}),lx=/*#__PURE__*/(0,Y.forwardRef)(function(e,t){var n=e.screen,r=e.onScreenChange,i=e.onDropdownClose,o=(0,Y.useRef)(null),a=(0,Y.useState)(!1),s=a[0],u=a[1];return(0,t2.Z)({"ctrl+m":{callback:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.click()}}}),(0,Y.useImperativeHandle)(t,function(){return{openDropdown:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.click()}}},[]),/*#__PURE__*/(0,W.jsxs)("div",{className:lE().shortcuts,children:[lB(n),/*#__PURE__*/(0,W.jsx)("span",{className:lE().modeWrapper,children:/*#__PURE__*/(0,W.jsxs)(rT.Lt,{showCaret:!1,selected:n,title:lI,toggleRef:o,isOpen:s,onSelect:function(e){r(e),ne.Z.trackEvent("command_k","switch_screen",{method:"dropdown",screen:n})},classNames:{menu:lE().menu},onOpenChange:function(e){u(e),e||i()},selectionVariant:n7._.Grey,toggleClassNames:{button:lE().toggleButton,root:lE().toggleRoot},children:[/*#__PURE__*/(0,W.jsx)(rk.Wx,{rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["CtrlOrCmd","K"]}),children:"Commands"},"commands"),/*#__PURE__*/(0,W.jsx)(rk.Wx,{rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["CtrlOrCmd","P"]}),children:"Go to file ..."},"goToFile"),/*#__PURE__*/(0,W.jsx)(rk.Wx,{rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["AltOrOption","F"]}),children:"File Search"},"fileSearch"),/*#__PURE__*/(0,W.jsx)(rk.Wx,{rightElement:/*#__PURE__*/(0,W.jsx)(nV.P,{keys:["AltOrOption","H"]}),children:"Help"},"help")]})})]})}),lT=n(21732),lS=n(39097),lk=/*#__PURE__*/n.n(lS),lN=n(50852),lD=n(83433),lO=n(56983),lR=n(34803),lF=n(91947),lL=n(12967),lP=n(49377),lU=function(e){if("folder"===e.type)return{icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:lP.Z}),subTitle:e.title};var t,n=(0,rB.T5)(e.gitHubRepository||{}),r=n.organization,i=n.repository,o=!!e.isPrivate,a=r&&i,s=void 0,u="",c=e.folderName||nn.bo;return a&&(s=/*#__PURE__*/(0,W.jsx)(im.J,{icon:lF.Z,width:10}),c="".concat(r.name,"/").concat(i.name),u=(0,lR.Id)(null===(t=e.gitHubRepository)||void 0===t?void 0:t.filePath)),o&&(s=/*#__PURE__*/(0,W.jsx)(im.J,{icon:lL.Z})),{icon:s,subTitle:c,secondaryTitle:u}},lM=function(e){return"/dashboard/all?search=".concat(encodeURIComponent(e))},lj=n(12614),lZ=/*#__PURE__*/n.n(lj),lQ=n(12567),lH=n(57200),lV=/*#__PURE__*/n.n(lH),lK=function(e){var t=e.classNames,n=(0,nL.Z)(e,["classNames"]);return/*#__PURE__*/(0,W.jsx)(lQ.v,(0,t5.Z)((0,G.Z)({},n),{disableHover:!0,classNames:(0,t5.Z)((0,G.Z)({},t),{root:(0,nz.Z)(null==t?void 0:t.root,lV().root),rootActive:(0,nz.Z)(null==t?void 0:t.rootActive,lV().rootActive)})}))},lG=function(e,t){return"folder"===e.type?"/folder/".concat(e.id):e.id!==AR.id?"/workspace/".concat(e.id):lM(t)},lz=function(e){var t=e.query,n=e.isActive,r=e.item,i=e.onClick,o=e.onMouseOver,a=lU(r);return/*#__PURE__*/(0,W.jsx)(lk(),{href:lG(r,t),children:/*#__PURE__*/(0,W.jsx)("a",{onClick:function(e){return i(r,e)},children:/*#__PURE__*/(0,W.jsx)(lK,(0,t5.Z)((0,G.Z)({},a),{isActive:n,onMouseOver:o,mainTitle:r.title||nn.SF,classNames:{icon:lZ().icon}}))})})},lW=n(79941),lq=/*#__PURE__*/n.n(lW),lY=function(){return/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:Array.from(Array(6)).map(function(e,t){return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(lq().skeletonWrapper,0===t&&lq().isActive),children:/*#__PURE__*/(0,W.jsxs)(iu.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[/*#__PURE__*/(0,W.jsx)(iu.ZP,{height:15}),/*#__PURE__*/(0,W.jsx)(iu.ZP,{className:lq().folder,width:"30%",height:14})]})},"skeleton-".concat(t))})})},l$=n(69713),lX=/*#__PURE__*/n.n(l$);function lJ(e){return Array.isArray?Array.isArray(e):"[object Array]"===l6(e)}let l0=1/0;function l1(e){return"string"==typeof e}function l2(e){return"number"==typeof e}function l4(e){return"object"==typeof e}function l3(e){return null!=e}function l5(e){return!e.trim().length}function l6(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let l8=e=>`Invalid value for key ${e}`,l9=e=>`Pattern length exceeds max of ${e}.`,l7=e=>`Missing ${e} property in key`,Ae=e=>`Property 'weight' in key '${e}' must be a positive integer`,At=Object.prototype.hasOwnProperty;class An{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=Ar(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ar(e){let t=null,n=null,r=null,i=1,o=null;if(l1(e)||lJ(e))r=e,t=Ai(e),n=Ao(e);else{if(!At.call(e,"name"))throw Error(l7("name"));let a=e.name;if(r=a,At.call(e,"weight")&&(i=e.weight)<=0)throw Error(Ae(a));t=Ai(a),n=Ao(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function Ai(e){return lJ(e)?e:e.split(".")}function Ao(e){return lJ(e)?e.join("."):e}var Aa={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1,i=(e,t,o)=>{if(l3(e)){if(t[o]){var a,s;let u=e[t[o]];if(l3(u)){if(o===t.length-1&&(l1(u)||l2(u)||!0===(a=u)||!1===a||l4(s=a)&&null!==s&&"[object Boolean]"==l6(a)))n.push(null==u?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-l0?"-0":t}(u));else if(lJ(u)){r=!0;for(let e=0,n=u.length;e<n;e+=1)i(u[e],t,o+1)}else t.length&&i(u,t,o+1)}}else n.push(e)}};return i(e,l1(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let As=/[^ ]+/g;class Au{constructor({getFn:e=Aa.getFn,fieldNormWeight:t=Aa.fieldNormWeight}={}){this.norm=function(e=1,t=3){let n=new Map,r=Math.pow(10,t);return{get(t){let i=t.match(As).length;if(n.has(i))return n.get(i);let o=parseFloat(Math.round(1/Math.pow(i,.5*e)*r)/r);return n.set(i,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,l1(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();l1(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l3(e)||l5(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l3(i)){if(lJ(i)){let e=[],t=[{nestedArrIndex:-1,value:i}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(l3(r)){if(l1(r)&&!l5(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else lJ(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}}n.$[r]=e}else if(l1(i)&&!l5(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ac(e,t,{getFn:n=Aa.getFn,fieldNormWeight:r=Aa.fieldNormWeight}={}){let i=new Au({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Ar)),i.setSources(t),i.create(),i}function Al(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Aa.distance,ignoreLocation:o=Aa.ignoreLocation}={}){let a=t/e.length;if(o)return a;let s=Math.abs(r-n);return i?a+s/i:s?1:a}class AA{constructor(e,{location:t=Aa.location,threshold:n=Aa.threshold,distance:r=Aa.distance,includeMatches:i=Aa.includeMatches,findAllMatches:o=Aa.findAllMatches,minMatchCharLength:a=Aa.minMatchCharLength,isCaseSensitive:s=Aa.isCaseSensitive,ignoreLocation:u=Aa.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let c=(e,t)=>{this.chunks.push({pattern:e,alphabet:function(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}(e),startIndex:t})},l=this.pattern.length;if(l>32){let e=0,t=l%32,n=l-t;for(;e<n;)c(this.pattern.substr(e,32),e),e+=32;if(t){let e=l-32;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}let{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:u}=this.options,c=[],l=0,A=!1;this.chunks.forEach(({pattern:t,alphabet:d,startIndex:f})=>{let{isMatch:h,score:p,indices:g}=function(e,t,n,{location:r=Aa.location,distance:i=Aa.distance,threshold:o=Aa.threshold,findAllMatches:a=Aa.findAllMatches,minMatchCharLength:s=Aa.minMatchCharLength,includeMatches:u=Aa.includeMatches,ignoreLocation:c=Aa.ignoreLocation}={}){let l;if(t.length>32)throw Error(l9(32));let A=t.length,d=e.length,f=Math.max(0,Math.min(r,d)),h=o,p=f,g=s>1||u,v=g?Array(d):[];for(;(l=e.indexOf(t,p))>-1;)if(h=Math.min(Al(t,{currentLocation:l,expectedLocation:f,distance:i,ignoreLocation:c}),h),p=l+A,g){let e=0;for(;e<A;)v[l+e]=1,e+=1}p=-1;let m=[],y=1,b=A+d,w=1<<A-1;for(let r=0;r<A;r+=1){let o=0,s=b;for(;o<s;)Al(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:c})<=h?o=s:b=s,s=Math.floor((b-o)/2+o);b=s;let u=Math.max(1,f-s+1),l=a?d:Math.min(f+s,d)+A,_=Array(l+2);_[l+1]=(1<<r)-1;for(let o=l;o>=u;o-=1){let a=o-1,s=n[e.charAt(a)];if(g&&(v[a]=+!!s),_[o]=(_[o+1]<<1|1)&s,r&&(_[o]|=(m[o+1]|m[o])<<1|1|m[o+1]),_[o]&w&&(y=Al(t,{errors:r,currentLocation:a,expectedLocation:f,distance:i,ignoreLocation:c}))<=h){if(h=y,(p=a)<=f)break;u=Math.max(1,2*f-p)}}if(Al(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>h)break;m=_}let _={isMatch:p>=0,score:Math.max(.001,y)};if(g){let e=function(e=[],t=Aa.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(v,s);e.length?u&&(_.indices=e):_.isMatch=!1}return _}(e,t,d,{location:r+f,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:u});h&&(A=!0),l+=p,h&&g&&(c=[...c,...g])});let d={isMatch:A,score:A?l/this.chunks.length:1};return A&&n&&(d.indices=c),d}}class Ad{constructor(e){this.pattern=e}static isMultiMatch(e){return Af(e,this.multiRegex)}static isSingleMatch(e){return Af(e,this.singleRegex)}search(){}}function Af(e,t){let n=e.match(t);return n?n[1]:null}class Ah extends Ad{constructor(e,{location:t=Aa.location,threshold:n=Aa.threshold,distance:r=Aa.distance,includeMatches:i=Aa.includeMatches,findAllMatches:o=Aa.findAllMatches,minMatchCharLength:a=Aa.minMatchCharLength,isCaseSensitive:s=Aa.isCaseSensitive,ignoreLocation:u=Aa.ignoreLocation}={}){super(e),this._bitapSearch=new AA(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ap extends Ad{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0,r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);let o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}let Ag=[class extends Ad{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Ap,class extends Ad{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Ad{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Ad{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Ad{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Ad{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Ah],Av=Ag.length,Am=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ay=new Set([Ah.type,Ap.type]),Ab=[];function Aw(e,t){for(let n=0,r=Ab.length;n<r;n+=1){let r=Ab[n];if(r.condition(e,t))return new r(e,t)}return new AA(e,t)}let A_={AND:"$and",OR:"$or"},AE={PATH:"$path",PATTERN:"$val"},AC=e=>!!(e[A_.AND]||e[A_.OR]),AB=e=>!!e[AE.PATH],AI=e=>!lJ(e)&&l4(e)&&!AC(e),Ax=e=>({[A_.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function AT(e,t,{auto:n=!0}={}){let r=e=>{let i=Object.keys(e),o=AB(e);if(!o&&i.length>1&&!AC(e))return r(Ax(e));if(AI(e)){let r=o?e[AE.PATH]:i[0],a=o?e[AE.PATTERN]:e[r];if(!l1(a))throw Error(l8(r));let s={keyId:Ao(r),pattern:a};return n&&(s.searcher=Aw(a,t)),s}let a={children:[],operator:i[0]};return i.forEach(t=>{let n=e[t];lJ(n)&&n.forEach(e=>{a.children.push(r(e))})}),a};return AC(e)||(e=Ax(e)),r(e)}function AS(e,t){let n=e.matches;t.matches=[],l3(n)&&n.forEach(e=>{if(!l3(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Ak(e,t){t.score=e.score}class AN{constructor(e,t={},n){this.options={...Aa,...t},this.options.useExtendedSearch,this._keyStore=new An(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Au))throw Error("Incorrect 'index' type");this._myIndex=t||Ac(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l3(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options,s=l1(e)?l1(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return!function(e,{ignoreFieldNorm:t=Aa.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))}),e.score=n})}(s,{ignoreFieldNorm:a}),i&&s.sort(o),l2(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=Aa.includeMatches,includeScore:r=Aa.includeScore}={}){let i=[];return n&&i.push(AS),r&&i.push(Ak),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=Aw(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!l3(e))return;let{isMatch:o,score:a,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=AT(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}let i=[];for(let o=0,a=e.children.length;o<a;o+=1){let a=n(e.children[o],t,r);if(a.length)i.push(...a);else if(e.operator===A_.AND)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach(({$:e,i:r})=>{if(l3(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),o}_searchObjectList(e){let t=Aw(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!l3(e))return;let o=[];n.forEach((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),o.length&&i.push({idx:r,item:e,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!l3(t))return[];let r=[];if(lJ(t))t.forEach(({v:t,i:i,n:o})=>{if(!l3(t))return;let{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&r.push({score:s,key:e,value:t,idx:i,norm:o,indices:u})});else{let{v:i,n:o}=t,{isMatch:a,score:s,indices:u}=n.searchIn(i);a&&r.push({score:s,key:e,value:i,norm:o,indices:u})}return r}}AN.version="7.0.0",AN.createIndex=Ac,AN.parseIndex=function(e,{getFn:t=Aa.getFn,fieldNormWeight:n=Aa.fieldNormWeight}={}){let{keys:r,records:i}=e,o=new Au({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},AN.config=Aa,AN.parseQuery=AT,function(...e){Ab.push(...e)}(class{constructor(e,{isCaseSensitive:t=Aa.isCaseSensitive,includeMatches:n=Aa.includeMatches,minMatchCharLength:r=Aa.minMatchCharLength,ignoreLocation:i=Aa.ignoreLocation,findAllMatches:o=Aa.findAllMatches,location:a=Aa.location,threshold:s=Aa.threshold,distance:u=Aa.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split(Am).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],o=!1,a=-1;for(;!o&&++a<Av;){let e=Ag[a],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(a=-1;++a<Av;){let e=Ag[a],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=t.length;r<s;r+=1){let s=t[r];o.length=0,i=0;for(let t=0,r=s.length;t<r;t+=1){let r=s[t],{isMatch:u,indices:c,score:l}=r.search(e);if(u){if(i+=1,a+=l,n){let e=r.constructor.type;Ay.has(e)?o=[...o,...c]:o.push(c)}}else{a=0,i=0,o.length=0;break}}if(i){let e={isMatch:!0,score:a/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}});var AD=n(40230),AO=function(e){var t=(0,nr.LP)(),n=(0,AD.k)(t).folders,r=(0,Y.useMemo)(function(){return new AN(n||[],{keys:["name"],threshold:.1})},[n]);return(0,Y.useMemo)(function(){return n?r.search(e).map(function(e){return e.item}):[]},[n,r,e])},AR={id:"no-results",type:"file",title:"No results found",folderName:"Hit enter to try full search"},AF=function(e){var t,n=e.query,r=(0,lT.Y)().isModalOpen,i=(0,ra.qz)().setModalStates,o=(0,lO.Z)(n,7),a=AO(n),s=(0,Y.useMemo)(function(){return Array.isArray(o.results)?o.results:[]},[o.results]),u=function(){var e,t=(null===(e=o.results)||void 0===e?void 0:e.length)||0;ne.Z.trackEvent("files_search","open_full_search",{resultsCount:t})},c=function(e,t){var n=t[lN.q]||t.shiftKey;"folder"===e.type?ne.Z.trackEvent("files_search","open_folder",{method:"click",isInNewTab:n}):ne.Z.trackEvent("files_search","open_file",{method:"click",isInNewTab:n}),n||i({isFileSearchModalOpen:!1})},l=(0,Y.useMemo)(function(){return(0,nq.Z)(a.map(function(e){return{id:e.id,type:"folder",title:e.name,isInRootFolder:null===e.parentFolderId}})).concat((0,nq.Z)(s))},[a,s]),A=l.length?l:[AR],d=(0,lD.c)({isListOpen:r,items:A,onSelect:function(e,t){var r=lG(e,n),o=t[lN.q]||t.shiftKey;if(e===AR&&u(),ne.Z.trackEvent("files_search","open_file",{method:"keyboard",isInNewTab:o}),null==t?void 0:t[lN.q]){window.open(r,"_blank");return}t.shiftKey?window.open(r,e.title):(er().push(r),i({isFileSearchModalOpen:!1}))},options:{additionalOnSelectShortcuts:["shift+enter"]}}),f=d.activeIndex,h=d.setActiveIndex;return(0,Y.useEffect)(function(){var e;!n.length||o.isLoading||null!==(e=o.results)&&void 0!==e&&e.length||ne.Z.trackEvent("files_search","no_results")},[o.isLoading,o.results,n.length]),/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[A?A.map(function(e,t){return/*#__PURE__*/(0,W.jsx)(lz,{query:n,item:e,onClick:c,isActive:t===f,onMouseOver:h.bind(null,t)},e.id)}):/*#__PURE__*/(0,W.jsx)(lY,{}),n&&(null===(t=o.results)||void 0===t?void 0:t.length)===1&&/*#__PURE__*/(0,W.jsxs)("div",{className:lX().fullSearchSuggestion,children:["Not what you are looking for? Try",/*#__PURE__*/(0,W.jsx)(lk(),{href:lM(n),children:/*#__PURE__*/(0,W.jsx)("a",{onClick:function(){u(),i({isFileSearchModalOpen:!1})},children:"full search."})})]})]})},AL="data-command-k-item-index",AP=n(99669),AU=n(34406),AM="recentCommandKItems",Aj=function(){return AP.J.getItem(AM)||[]},AZ=["joinSlack"],AQ=function(e){if(!AZ.includes(e)){var t=Aj(),n=Date.now(),r=t.find(function(t){return t.id===e});r?(r.count++,r.lastUsed=n):t.push({id:e,count:1,lastUsed:n});var i=t.sort(function(e,t){var r=e.count*(1/(n-e.lastUsed));return t.count*(1/(n-t.lastUsed))-r}).slice(0,5);AP.J.setItem(AM,i)}},AH=["goToGitConnect","joinSlack","goToDocs-embeds","goToDocs-codebase-diagrams","goToDocs-eraserbot"],AV=AU.env.STORYBOOK?"goToDocs-embeds":AH[Math.floor(Math.random()*AH.length)],AK=function(e){var t,n,r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B=e.context,I=e.registrar,x=[],T="\xa0\xa0then\xa0\xa0",S="workspace"===B.type&&!(null===(t=B.workspace)||void 0===t?void 0:t.teamId),k=function(e){var t,n,r;(null===(t=I[e])||void 0===t?void 0:t.execute)&&(null===(n=I[e])||void 0===n||null===(r=n.execute)||void 0===r||r.call(n),AQ(e),ne.Z.trackEvent("command_k","execute_item",{commandId:e}))},N=[{type:"action",id:"toggleDarkMode",isSuggested:!0,categoryId:"display",title:"Toggle dark mode",aliases:["light"],shortcut:["Shift","AltOrOption","D"],execute:function(){return k("toggleDarkMode")},description:"Switch between a light and dark theme",availableContextTypes:{dashboard:!0,folder:!0,gitHubRepo:!0,workspace:!0}},{type:"action",id:"toggleComments",categoryId:"display",aliases:["hide","show"],title:"Toggle comments",shortcut:["AltOrOption","C"],availableContextTypes:{workspace:!0},execute:function(){return k("toggleComments")},description:"Toggle the visibility of comments"},{id:"toggleUi",type:"action",title:"Toggle UI",categoryId:"display",shortcut:["CtrlOrCmd","\\"],isHidden:null===(n=I.toggleUi)||void 0===n?void 0:n.isHidden,execute:function(){return k("toggleUi")},availableContextTypes:{workspace:!0},description:"Toggle the visibility of the UI"},{type:"action",aliases:["note"],categoryId:"display",id:"switchLayoutDocument",shortcut:["AltOrOption","1"],title:"Switch to Document layout",description:"Only see the Document",availableContextTypes:{workspace:!0},isHidden:null===(r=I.switchLayoutDocument)||void 0===r?void 0:r.isHidden,execute:function(){return k("switchLayoutDocument")}},{type:"action",categoryId:"display",id:"switchLayoutBoth",title:"Switch to Both layout",shortcut:["AltOrOption","2"],availableContextTypes:{workspace:!0},isHidden:null===(i=I.switchLayoutBoth)||void 0===i?void 0:i.isHidden,execute:function(){return k("switchLayoutBoth")},description:"See both the Document and the Canvas"},{type:"action",categoryId:"display",aliases:["whiteboard"],id:"switchLayoutCanvas",shortcut:["AltOrOption","3"],title:"Switch to Canvas layout",description:"Only see the Canvas",availableContextTypes:{workspace:!0},isHidden:null===(o=I.switchLayoutCanvas)||void 0===o?void 0:o.isHidden,execute:function(){return k("switchLayoutCanvas")}}],D=[{id:"newFile",type:"action",title:"New file",categoryId:"newFile",shortcut:["Control|Alt","N"],isHidden:null===(a=I.newFile)||void 0===a?void 0:a.isHidden,execute:function(){return k("newFile")},description:"Create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0}},{type:"action",categoryId:"newFile",id:"newFileFromTemplate",shortcut:["Control|Alt","T"],title:"New file from template",execute:function(){return k("newFileFromTemplate")},description:"Use a template to create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newGitHubFile",categoryId:"newFile",title:"New Github file",shortcut:["Control|Alt","CtrlOrCmd","N"],execute:function(){return k("newGitHubFile")},description:"Create a new Eraser file that is synced to Github",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newPrivateFile",categoryId:"newFile",title:"New private file",shortcut:["Control|Alt","Shift","N"],isHidden:null===(s=I.newPrivateFile)||void 0===s?void 0:s.isHidden,execute:function(){return k("newPrivateFile")},description:"Create a new Eraser file that only you can see",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],O=[{type:"action",id:"inviteToTeam",title:"Invite to team",aliases:["add","user"],categoryId:"inviteAndShare",execute:function(){return k("inviteToTeam")},description:"Invite team members to this team",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"copyShareLink",aliases:["invite"],title:"Copy share link",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","L"],availableContextTypes:{workspace:!0},description:"Quickly copy the link to this file",execute:function(){return k("copyShareLink")}},{type:"action",id:"openShare",title:"Invite / Share",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","S"],execute:function(){return k("openShare")},availableContextTypes:{workspace:!0},description:"Invite users, change access settings, and more",aliases:["add","invite","secure","security","access","read","write"]},{type:"action",id:"changeFileType",title:"Change file type",categoryId:"inviteAndShare",aliases:["access","team","private"],availableContextTypes:{workspace:!0},description:"Modify the privacy of this file",execute:function(){return k("changeFileType")}},{type:"action",id:"changeLinkAccess",title:"Change link access",categoryId:"inviteAndShare",availableContextTypes:{workspace:!0},execute:function(){return k("changeLinkAccess")},description:"Modify the settings of the file link",aliases:["security","privacy","read","write","public"]},{type:"action",id:"changeToTeamFile",subCategory:"File type",categoryId:"inviteAndShare",title:"Change to team file",availableContextTypes:{workspace:!0},isHidden:null===(u=I.changeToTeamFile)||void 0===u?void 0:u.isHidden,execute:function(){return k("changeToTeamFile")},description:"Any team member can find and edit this file"},{type:"action",subCategory:"File type",id:"changeToPrivateFile",categoryId:"inviteAndShare",title:"Change to private file",availableContextTypes:{workspace:!0},isHidden:null===(c=I.changeToPrivateFile)||void 0===c?void 0:c.isHidden,description:"Only invited members and guests can edit",execute:function(){return k("changeToPrivateFile")}},{type:"action",subCategory:"Link type",id:"changeToNoLinkAccess",categoryId:"inviteAndShare",title:"Change to no link access",availableContextTypes:{workspace:!0},isHidden:null===(l=I.changeToNoLinkAccess)||void 0===l?void 0:l.isHidden,execute:function(){return k("changeToNoLinkAccess")},description:"Only team members or invited guests can view or edit this file"},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToAnyoneAccessFile",availableContextTypes:{workspace:!0},title:"Change to anyone with the link can edit",isHidden:null===(A=I.changeToAnyoneAccessFile)||void 0===A?void 0:A.isHidden,execute:function(){return k("changeToAnyoneAccessFile")},description:"Anyone with the link can View. Does not require Eraser account. Anyone with the link can Edit. Requires Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicViewedFile",title:"Change to publicly viewable",availableContextTypes:{workspace:!0},isHidden:null===(d=I.changeToPublicViewedFile)||void 0===d?void 0:d.isHidden,execute:function(){return k("changeToPublicViewedFile")},description:"Anyone with the link can View. Does not require Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicEditableFile",title:"Change to publicly editable",availableContextTypes:{workspace:!0},isHidden:null===(f=I.changeToPublicEditableFile)||void 0===f?void 0:f.isHidden,execute:function(){return k("changeToPublicEditableFile")},description:"Anyone with a link can Edit. Does not require Eraser account."}],R=[{type:"action",id:"newFolder",title:"New folder",categoryId:"folderActions",description:"Create a new folder",execute:function(){return k("newFolder")},availableContextTypes:{folder:!0,dashboard:!0}},{type:"action",id:"moveFolder",title:"Move folder",categoryId:"folderActions",availableContextTypes:{folder:!0},isHidden:null===(h=I.moveFolder)||void 0===h?void 0:h.isHidden,execute:function(){return k("moveFolder")},description:"Modify the location of this folder"},{type:"action",id:"renameFolder",title:"Rename folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Modify the name of this folder",execute:function(){return k("renameFolder")}},{type:"action",id:"deleteFolder",title:"Delete folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Permanently delete this folder",execute:function(){return k("deleteFolder")}}],F=[{type:"action",id:"exportFile",isSuggested:!0,title:"Export file",categoryId:"fileActions",shortcut:["CtrlOrCmd","E"],availableContextTypes:{workspace:!0},execute:function(){return k("exportFile")},description:"Export to pdf, markdown, svg or image formats"},{type:"action",id:"insertAiOutline",isSuggested:!0,title:"New AI outline",aliases:["insert","ai","generate","document"],categoryId:"fileActions",availableContextTypes:{workspace:!0},execute:function(){return k("insertAiOutline")},description:"Add an AI outline into the document"},{type:"action",id:"renameFile",title:"Rename file",categoryId:"fileActions",availableContextTypes:{workspace:!0},description:"Modify the name of this file",execute:function(){return k("renameFile")}},{type:"action",id:"duplicateFile",title:"Duplicate file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","D"],availableContextTypes:{workspace:!0},execute:function(){return k("duplicateFile")},description:"Make a copy of this file and navigate to it"},{type:"action",id:"archiveFile",title:"Archive file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null===(p=I.archiveFile)||void 0===p?void 0:p.isHidden,availableContextTypes:{workspace:!0},execute:function(){return k("archiveFile")},description:"Hide this file and move it to Archive"},{type:"action",id:"restoreFile",title:"Restore file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null===(g=I.restoreFile)||void 0===g?void 0:g.isHidden,availableContextTypes:{workspace:!0},execute:function(){return k("restoreFile")},description:"Restore this file back to its original folder"},{type:"action",id:"openVersionHistory",categoryId:"fileActions",title:"Open version history",aliases:["backup","changes"],availableContextTypes:{workspace:!0},isHidden:null===(v=I.openVersionHistory)||void 0===v?void 0:v.isHidden,description:"View the version history for this file",execute:function(){return k("openVersionHistory")}},{type:"action",id:"openFileInfo",categoryId:"fileActions",title:"Open file information",shortcut:["AltOrOption","I"],availableContextTypes:{workspace:!0},execute:function(){return k("openFileInfo")},description:"View the meta data for this file",aliases:["contribute","visit","editor","guest"]},{type:"action",id:"moveFile",title:"Move file",aliases:["folder"],categoryId:"fileActions",shortcut:["Control|Alt","M"],execute:function(){return k("moveFile")},isHidden:null===(m=I.moveFile)||void 0===m?void 0:m.isHidden,availableContextTypes:{workspace:!0},description:"Modify the location of this file"}],L=[{type:"action",id:"insertAiDiagram",isSuggested:!0,shortcut:["CtrlOrCmd","J"],title:"New AI diagram",aliases:["insert","ai","generate"],categoryId:"canvasActions",availableContextTypes:{workspace:!0},execute:function(){return k("insertAiDiagram")},description:"Add an AI diagram into the canvas"},{type:"action",shortcut:["/"],id:"openInsertMenu",title:"Open insert menu",categoryId:"canvasActions",description:"View the Canvas insert menu",availableContextTypes:{workspace:!0},execute:function(){return k("openInsertMenu")}},{type:"action",id:"openZoomControls",title:"Open zoom controls",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"View the canvas zoom level options",execute:function(){return k("openZoomControls")}},{type:"action",id:"zoomToFit",subCategory:"Zoom",title:"Zoom to fit",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the entire canvas in view",execute:function(){return k("zoomToFit")}},{type:"action",id:"zoomTo100",subCategory:"Zoom",title:"Zoom to 100%",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the canvas too 100% scale",execute:function(){return k("zoomTo100")}},{type:"action",id:"createFigure",title:"Create figure",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Create a figure from the current selection",execute:function(){return k("createFigure")}},{type:"action",id:"copyHtmlEmbed",title:"Copy as HTML Embed",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Copy selected elements as HTML embed code",execute:function(){return k("copyHtmlEmbed")}},{type:"action",id:"copyMarkdownEmbed",title:"Copy as Markdown Embed",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Copy selected elements as Markdown embed code",execute:function(){return k("copyMarkdownEmbed")}}],P=[{type:"action",id:"goToFile",categoryId:"general",title:"Go to file (Cmd+P)",shortcut:["CtrlOrCmd","P"],aliases:["open","switch","find"],execute:function(){return k("goToFile")},description:"Quickly navigate to any of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"searchFiles",aliases:["find"],title:"Search files",categoryId:"general",shortcut:["AltOrOption","F"],execute:function(){return k("searchFiles")},description:"Search the content of all of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openHelp",title:"Open help",categoryId:"general",shortcut:["AltOrOption","H"],aliases:["how","learn","tutorial"],execute:function(){return k("openHelp")},description:"Useful links and support articles",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],U=[{type:"action",id:"pushFile",title:"Push file",categoryId:"gitSync",isHidden:null===(y=I.pushFile)||void 0===y?void 0:y.isHidden,description:"Push this file to Github",availableContextTypes:{workspace:!0},execute:function(){return k("pushFile")}},{type:"action",id:"pullFile",title:"Pull file",categoryId:"gitSync",isHidden:null===(b=I.pullFile)||void 0===b?void 0:b.isHidden,availableContextTypes:{workspace:!0},execute:function(){return k("pullFile")},description:"Pull the latest changes of this file from Github"},{type:"action",id:"pushRepo",categoryId:"gitSync",title:"Push entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return k("pushRepo")},description:"Push all of the files in this repo to Github"},{type:"action",id:"pullRepo",categoryId:"gitSync",title:"Pull entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return k("pullRepo")},description:"Pull all of the latest changes of this repo from Github"}],M=[{type:"link",id:"eraserDocs",target:"_blank",aliases:["docs"],categoryId:"help",href:t$.CF.docsURL,title:"Eraser documentation",onClick:function(){var e,t;return null===(e=I.eraserDocs)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"sendFeedback",categoryId:"help",title:"Send feedback",aliases:["report","bug"],execute:function(){return k("sendFeedback")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"submitRequest",aliases:["suggestion"],title:"Submit feature request",href:t$.CF.featureRequestURL,onClick:function(){var e,t;return null===(e=I.submitRequest)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"eraserWebsite",title:"Eraser website",href:t$.CF.homepageURL,aliases:["site","page","home"],onClick:function(){var e,t;return null===(e=I.eraserWebsite)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",categoryId:"help",isSuggested:!0,id:"openKeyboardShortcuts",title:"Open keyboard shortcuts",shortcut:["CtrlOrCmd","/"],execute:function(){return k("openKeyboardShortcuts")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"joinSlack",isSuggested:"joinSlack"===AV,target:"_blank",categoryId:"help",href:t$.CF.slackURL,title:"Join Slack community",onClick:function(){var e,t;return null===(e=I.joinSlack)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-embeds",isSuggested:"goToDocs-embeds"===AV,target:"_blank",categoryId:"help",title:"Learn about: Embeds",href:"https://docs.eraser.io/docs/figure-embeds",aliases:["figure","section"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-figures",isSuggested:"goToDocs-figures"===AV,target:"_blank",categoryId:"help",title:"Learn about: Figures",href:"https://docs.eraser.io/docs/figures",aliases:["section","container","organize"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-saml",target:"_blank",categoryId:"help",title:"Learn about: SAML",href:"https://docs.eraser.io/docs/sso",aliases:["sso","okta","entra"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-deleting-a-file",target:"_blank",categoryId:"help",title:"Learn about: Deleting a File",href:"https://docs.eraser.io/docs/deleting-files",aliases:["archive","delete"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-ai-diagrams",target:"_blank",categoryId:"help",title:"Learn about: AI Diagrams",href:"https://docs.eraser.io/docs/ai-diagrams",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-codebase-diagrams",isSuggested:"goToDocs-codebase-diagrams"===AV,target:"_blank",categoryId:"help",title:"Learn about: Codebase Diagrams",href:"https://docs.eraser.io/docs/codebase-diagrams",aliases:["code","git"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-eraserbot",isSuggested:"goToDocs-eraserbot"===AV,target:"_blank",categoryId:"help",title:"Learn about: Eraserbot",href:"https://docs.eraser.io/docs/eraserbot",aliases:["code","ci","auto","agent","integration"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],j=[{type:"action",id:"goToDashboard",title:"Go to dashboard",categoryId:"navigation",description:"Navigate to the Dashboard",isHidden:null===(w=I.goToDashboard)||void 0===w?void 0:w.isHidden,shortcut:["Control","AltOrOption","ArrowLeft"],aliases:["home","files"],execute:function(){return k("goToDashboard")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToGitConnect",isSuggested:"goToGitConnect"===AV,title:"Open Git Connect",description:"Connect your Github / Gitlab repositories",categoryId:"navigation",aliases:["github","gitlab","sync","integrations","integrate"],execute:function(){return k("goToGitConnect")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToTemplates",categoryId:"navigation",title:"Go to Templates",isHidden:null===(_=I.goToTemplates)||void 0===_?void 0:_.isHidden,execute:function(){return k("goToTemplates")},description:"Navigate to Templates on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",T,"T"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToPrivateFiles",categoryId:"navigation",title:"Go to Private files",isHidden:null===(E=I.goToPrivateFiles)||void 0===E?void 0:E.isHidden,execute:function(){return k("goToPrivateFiles")},description:"Navigate to Private files on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",T,"P"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToArchive",title:"Go to Archive",categoryId:"navigation",isHidden:null===(C=I.goToArchive)||void 0===C?void 0:C.isHidden,execute:function(){return k("goToArchive")},description:"Navigate to Archive on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",T,"E"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openImport",isSuggested:!0,title:"Import",categoryId:"navigation",aliases:["image","diagram","png","jpg","jpeg","ai"],execute:function(){return k("openImport")},description:"Import diagrams into Eraser from image files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],Z=[{type:"action",id:"openSettings",title:"Open Settings",categoryId:"settings",description:"View the Settings modal",shortcut:["Shift","AltOrOption","S"],execute:function(){return k("openSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openCustomIcons",title:"Custom Icons",categoryId:"settings",description:"Upload your own icons to use in Eraser",aliases:["upload","customize","icon"],execute:function(){return k("openCustomIcons")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"viewUsage",title:"View Usage",categoryId:"settings",description:"View your team usage statistics and limits",aliases:["billing","plan","quota","subscription","limits"],execute:function(){return k("viewUsage")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"teamSettings",title:"Team Settings",categoryId:"settings",description:"Manage your team settings",execute:function(){return k("teamSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"profileSettings",title:"Profile",categoryId:"settings",description:"Manage your personal profile settings",aliases:["account","personal","settings","user","avatar","password","email","display"],execute:function(){return k("profileSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"appearanceSettings",title:"Display Settings",categoryId:"settings",description:"Manage your personal display settings",aliases:["display","theme"],execute:function(){return k("appearanceSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}];S?x.push.apply(x,(0,nq.Z)(L).concat((0,nq.Z)(M))):"dashboard"===B.type?x.push.apply(x,(0,nq.Z)(O).concat((0,nq.Z)(D),(0,nq.Z)(R),(0,nq.Z)(P),(0,nq.Z)(j),(0,nq.Z)(Z),(0,nq.Z)(N),(0,nq.Z)(M),(0,nq.Z)(U),(0,nq.Z)(F),(0,nq.Z)(L))):"workspace"===B.type?x.push.apply(x,(0,nq.Z)(U).concat((0,nq.Z)(O),(0,nq.Z)(L),(0,nq.Z)(F),(0,nq.Z)(P),(0,nq.Z)(D),(0,nq.Z)(j),(0,nq.Z)(Z),(0,nq.Z)(N),(0,nq.Z)(M),(0,nq.Z)(R))):x.push.apply(x,(0,nq.Z)(U).concat((0,nq.Z)(R),(0,nq.Z)(O),(0,nq.Z)(D),(0,nq.Z)(P),(0,nq.Z)(j),(0,nq.Z)(Z),(0,nq.Z)(N),(0,nq.Z)(M),(0,nq.Z)(F),(0,nq.Z)(L)));var Q=x.filter(function(e){return e.availableContextTypes[B.type]}).filter(function(e){return!e.isHidden||!e.isHidden()}),H=Aj().map(function(e){var t=Q.find(function(t){return t.id===e.id});return t?(0,t5.Z)((0,G.Z)({},t),{categoryId:"recent",originalCategoryId:t.categoryId}):null}).filter(Boolean).slice(0,3),V=Q.filter(function(e){return e.isSuggested&&!H.some(function(t){return t.id===e.id})}).map(function(e){return(0,t5.Z)((0,G.Z)({},e),{categoryId:"suggested",originalCategoryId:e.categoryId})});return(0,nq.Z)(H).concat((0,nq.Z)(V),(0,nq.Z)(Q))},AG=function(e){var t=e.context,n=e.registrar,r=(0,Y.useState)(!1)[0],i=(0,Y.useState)([]),o=i[0],a=i[1];return(0,Y.useEffect)(function(){t&&a(AK({context:t,registrar:n}))},[t,n]),{commandKItems:o,areItemsLoading:r}},Az=n(18114),AW=n(81053);function Aq(){return(Aq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var AY=function(e){return /*#__PURE__*/Y.createElement("svg",Aq({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),j||(j=/*#__PURE__*/Y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.854.646L13.207 5 8.854 9.354l-.708-.708L11.293 5.5H0v-1h11.293L8.146 1.354l.708-.708z",fill:"currentColor"})))};function A$(){return(A$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var AX=function(e){return /*#__PURE__*/Y.createElement("svg",A$({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),Z||(Z=/*#__PURE__*/Y.createElement("path",{d:"M.5 11.5v-10a1 1 0 011-1h4l2 2h6a1 1 0 011 1v8a1 1 0 01-1 1h-12a1 1 0 01-1-1z",fill:"none",stroke:"currentColor"})))},AJ=n(6634);function A0(){return(A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var A1=function(e){return /*#__PURE__*/Y.createElement("svg",A0({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Q||(Q=/*#__PURE__*/Y.createElement("path",{d:"M.5 1l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})))},A2=n(32538),A4=n(41144),A3=n(19101),A5=/*#__PURE__*/n.n(A3),A6=n(26378),A8=/*#__PURE__*/n.n(A6),A9=function(e){switch("string"==typeof e?e:e.id){case"canvasActions":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:A1});case"display":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:Az.Z});case"fileActions":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AJ.Z});case"folderActions":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AX});case"general":case"gettingStarted":case"recent":return null;case"gitConnect":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:oE.Z});case"inviteAndShare":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:iG.Z});case"navigation":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AY});case"newFile":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:oB.Z});case"help":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AW.Z});case"suggested":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:aS})}},A7=function(e){switch(e.id){case"goToFile":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:sP.Z});case"searchFiles":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:i6});case"openHelp":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AW.Z});default:return null}},de=function(e){var t,n,r,i=e.category,o=e.isActive,a=e.item,s=e.setIsActive,u=e.index,c=e.classNames,l=rm().isMouseMoving;t="suggested"===i.id?A9(i):A7(a)||A9(i)||A9(null!==(n=a.originalCategoryId)&&void 0!==n?n:"");var A=(0,t5.Z)((0,G.Z)({isActive:o,onMouseOver:function(){l.current&&s()},subTitle:a.description},a.subCategory?{mainTitle:/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)("span",{className:(0,nz.Z)(nG().standard,"c-g10"),children:a.subCategory}),/*#__PURE__*/(0,W.jsx)(im.J,{className:A8().subCategoryChevron,icon:A2.Z}),a.title]})}:{mainTitle:a.title}),(r={classNames:(0,G.Z)({root:A5().item,icon:A5().itemIcon,subTitle:A5().itemSubTitle,endContent:A5().itemEndContent},c)},(0,io.Z)(r,AL,u),(0,io.Z)(r,"icon",t),(0,io.Z)(r,"endContent",a.shortcut?/*#__PURE__*/(0,W.jsx)(nV.P,{keys:a.shortcut}):null),r));switch(a.type){case"link":return/*#__PURE__*/(0,W.jsx)(lk(),{href:"string"==typeof a.href?a.href:a.href(),children:/*#__PURE__*/(0,W.jsx)("a",{target:a.target,onClick:a.onClick,children:/*#__PURE__*/(0,W.jsx)(lK,(0,t5.Z)((0,G.Z)({},A),{endContent:/*#__PURE__*/(0,W.jsx)(im.J,{icon:A4.Z})}))})});case"action":return/*#__PURE__*/(0,W.jsx)(lK,(0,t5.Z)((0,G.Z)({},A),{onClick:a.execute}));case"checkbox":return null}},dt=n(24344),dn=/*#__PURE__*/n.n(dt),dr=function(e){var t=e.context,n=e.query,r=AG({context:t,registrar:(0,rp.l)().registrar}).commandKItems,i=(0,Y.useMemo)(function(){return r.filter(function(e){return"help"===e.categoryId&&e.title.toLowerCase().includes((null==n?void 0:n.toLowerCase())||"")})},[r,n]),o=(0,lD.c)({items:i,onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=i.findIndex(function(t){return t.id===e.id}),r=document.querySelector("[".concat(AL,'="').concat(n,'"]'));null==r||r.click()}}),a=o.activeIndex,s=o.setActiveIndex;return(0,Y.useEffect)(function(){ne.Z.trackEvent("help_center","help_center_click")},[]),/*#__PURE__*/(0,W.jsxs)("div",{children:[/*#__PURE__*/(0,W.jsx)("p",{className:dn().helpTitle,children:"Help"}),i.map(function(e,t){return/*#__PURE__*/(0,W.jsx)(de,{item:e,index:t,isActive:a===t,classNames:{root:dn().item},category:{id:"help",title:"Help"},setIsActive:function(){return s(t)}},e.id)})]})},di=n(74803),da=/*#__PURE__*/n.n(di),ds=function(e){switch(e){case"folder":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:AX,color:"grey-1200"});case"gitHubRepo":return/*#__PURE__*/(0,W.jsx)(im.J,{icon:oE.Z,color:"grey-1200"});default:return null}},du=function(e){switch(e.type){case"folder":return e.folder.name||nn.bo;case"gitHubRepo":return"".concat(e.organizationName,"/").concat(e.repositoryName);case"workspace":return e.workspace.title||nn.SF;case"dashboard":return"Dashboard";default:return""}},dc=function(e){var t=e.context;switch(e.screen){case"commands":return/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[ds(t.type),du(t)]});case"fileSearch":return"File search";case"goToFile":return"Go to file ...";case"help":return"Help";default:return""}},dl=function(e){var t=e.screen,n=e.contextDto;return n&&!n.isLoading&&n.context?/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(da().root,"commands"===t&&da().light),children:dc({context:n.context,screen:t})}):null},dA=n(17423),dd=n(62915),df=function(e){var t=e.query.workspaceId,n=(0,dd.Z)(t),r=n.data,i=n.isLoading;return e.pathname.startsWith("/workspace")?i||!r?{isValid:!0,context:null,isLoading:i}:{isValid:!0,isLoading:!1,context:{workspace:r,type:"workspace"}}:{isValid:!1,context:null,isLoading:!1}},dh=function(e){var t=(0,nr.LP)(),n=e.query.folderId,r=(0,dA.Z)(n,t),i=r.data,o=r.isLoading;return e.pathname.startsWith("/dashboard/folder")?o||!i?{isValid:!0,context:null,isLoading:o}:{isValid:!0,isLoading:!1,context:{type:"folder",folder:i}}:{isValid:!1,context:null,isLoading:!1}},dp=function(e){var t=e.query.repositoryName,n=e.query.organizationName;return e.pathname.startsWith("/dashboard/github")?t&&n?{isValid:!0,isLoading:!1,context:{type:"gitHubRepo",repositoryName:t,organizationName:n}}:{isValid:!0,context:null,isLoading:!0}:{isValid:!1,context:null,isLoading:!1}},dg=function(){var e=(0,en.useRouter)(),t=dh(e),n={isValid:!0,isLoading:!1,context:{type:"dashboard",subPage:e.pathname.split("/")[2]}};return[df(e),t,dp(e),n].find(function(e){return e.isValid})||null},dv=n(62441),dm=/*#__PURE__*/n.n(dv),dy=function(e){var t=e.category,n=e.items,r=e.setIsActive,i=e.activeIndex,o=e.startIndex;return 0===n.length?null:/*#__PURE__*/(0,W.jsxs)("div",{className:dm().root,children:[/*#__PURE__*/(0,W.jsx)("p",{className:dm().title,children:t.title}),n.map(function(e,n){return/*#__PURE__*/(0,W.jsx)(de,{item:e,category:t,index:o+n,isActive:i===o+n,setIsActive:function(){return r(o+n)}},e.id)})]})},db=n(27202),dw=/*#__PURE__*/n.n(db),d_=function(){return/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:Array.from(Array(6)).map(function(e,t){return/*#__PURE__*/(0,W.jsx)("div",{className:(0,nz.Z)(dw().skeletonWrapper,0===t&&dw().isActive),children:/*#__PURE__*/(0,W.jsxs)(iu.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[/*#__PURE__*/(0,W.jsx)(iu.ZP,{width:"30%",height:14}),/*#__PURE__*/(0,W.jsx)(iu.ZP,{className:dw().description,height:15})]})},"skeleton-".concat(t))})})},dE=new Map([["recent",{id:"recent",title:"Recent"}],["suggested",{id:"suggested",title:"Suggested"}],["gettingStarted",{id:"gettingStarted",title:"Getting started"}],["inviteAndShare",{id:"inviteAndShare",title:"Invite and share"}],["newFile",{id:"newFile",title:"New file"}],["folderActions",{id:"folderActions",title:"Folder actions"}],["general",{id:"general",title:"General"}],["navigation",{id:"navigation",title:"Navigation"}],["settings",{id:"settings",title:"Settings"}],["display",{id:"display",title:"Display"}],["help",{id:"help",title:"Help"}],["gitSync",{id:"gitSync",title:"Git Sync"}],["fileActions",{id:"fileActions",title:"File actions"}],["canvasActions",{id:"canvasActions",title:"Canvas actions"}]]),dC=function(e){switch(e){case"dashboard":return["recent","suggested","gettingStarted","inviteAndShare","newFile","folderActions","general","navigation","settings","display","help","gitSync","fileActions","canvasActions"];case"workspace":return["recent","suggested","gettingStarted","gitSync","inviteAndShare","canvasActions","fileActions","general","newFile","navigation","settings","display","help","folderActions"];case"folder":case"gitHubRepo":return["recent","suggested","gettingStarted","gitSync","folderActions","inviteAndShare","newFile","general","navigation","settings","display","help","fileActions","canvasActions"]}},dB=function(e){var t=e.contextType,n=(0,Y.useState)(!1)[0],r=(0,Y.useState)([]),i=r[0],o=r[1];return(0,Y.useEffect)(function(){t&&o(dC(t).map(function(e){return dE.get(e)}))},[t]),{commandKCategories:i,areCategoriesLoading:n}},dI=function(e,t,n){if(!t)return{filteredMap:e,mapScoreById:new Map};var r=new Map,i=null==n?void 0:n.search(t),o=new Map(null==i?void 0:i.map(function(e){return[e.item.id,e.score]})),a=new Map;return e.forEach(function(e,t){var n=1/0;if("recent"!==t&&"suggested"!==t){var i=[],s=!0,u=!1,c=void 0;try{for(var l,A=e[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value,f=o.get(d.id);null!=f&&(i.push(d),f<n&&(n=f))}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}i.sort(function(e,t){return o.get(e.id)-o.get(t.id)}),i.length>0&&(r.set(t,i),a.set(t,n))}}),{filteredMap:r,mapScoreById:a}},dx=/*#__PURE__*/(0,Y.forwardRef)(function(e,t){var n=e.context,r=e.query,i=null==n?void 0:n.type,o=(0,lT.Y)().isModalOpen,a=AG({context:n,registrar:(0,rp.l)().registrar}),s=a.commandKItems,u=a.areItemsLoading,c=(0,Y.useMemo)(function(){return new AN(s,{keys:["title","aliases","description"],includeScore:!0,threshold:.4})},[s]),l=(0,Y.useMemo)(function(){return s.reduce(function(e,t){return e.has(t.categoryId)?e.get(t.categoryId).push(t):e.set(t.categoryId,[t]),e},new Map)},[s]),A=(0,Y.useMemo)(function(){return dI(l,r,c)},[l,r,c]),d=A.filteredMap,f=A.mapScoreById,h=dB({contextType:i}),p=h.commandKCategories,g=h.areCategoriesLoading,v=(0,Y.useMemo)(function(){var e,t;return f.size?(0,nq.Z)(p).sort(function(n,r){return(null!==(e=f.get(n.id))&&void 0!==e?e:1/0)-(null!==(t=f.get(r.id))&&void 0!==t?t:1/0)}):p},[p,f]),m=!!d.size,y=(0,Y.useMemo)(function(){return v.flatMap(function(e){return d.get(e.id)||[]})},[v,d]),b=function(e){return y.findIndex(function(t){return t.id===(null==e?void 0:e.id)})},w=(0,lD.c)({onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=b(e),r=document.querySelector("[".concat(AL,'="').concat(n,'"]'));null==r||r.click()},items:y,customScrollIntoView:function(e){var t=document.querySelector("[".concat(AL,'="').concat(e,'"]'));null==t||t.scrollIntoView({block:"nearest",behavior:"auto",inline:"nearest"})},isListOpen:o,options:{additionalOnSelectShortcuts:["shift+enter"]}}),_=w.activeIndex,E=w.setActiveIndex;return(0,Y.useImperativeHandle)(t,function(){return{didQueryMatchItems:m}},[m]),/*#__PURE__*/(0,W.jsx)("div",{children:g||u?/*#__PURE__*/(0,W.jsx)(d_,{}):m?v.map(function(e){var t;/*#__PURE__*/return(0,W.jsx)(dy,{category:e,activeIndex:_,setIsActive:E,items:d.get(e.id)||[],startIndex:b(null===(t=d.get(e.id))||void 0===t?void 0:t[0])},e.id)}):/*#__PURE__*/(0,W.jsx)("div",{className:A5().notFoundWrapper,children:/*#__PURE__*/(0,W.jsx)(lK,{mainTitle:"No results found",icon:/*#__PURE__*/(0,W.jsx)(im.J,{icon:i6}),subTitle:"Hit enter to try File Search",classNames:{root:A5().item,icon:A5().itemIcon,subTitle:A5().itemSubTitle}})})})}),dT=function(e){var t=e.containerRef,n=e.isModalOpen,r=rm().isMouseMoving;(0,Y.useEffect)(function(){if(t&&n){var e,i=function(){r.current=!0},o=function(){r.current=!1},a=function(){clearTimeout(e),e=setTimeout(o,300)};return t.addEventListener("mousemove",a),t.addEventListener("mousemove",i),t.addEventListener("mouseleave",o),function(){t.removeEventListener("mousemove",a),t.removeEventListener("mousemove",i),t.removeEventListener("mouseleave",o),clearTimeout(e)}}},[t,r,n])},dS=function(e,t){var n=(0,Y.useRef)();(0,Y.useEffect)(function(){if(e){var r,i=window.getSelection();n.current={element:document.activeElement},i&&i.rangeCount>0&&(n.current.selectionRange=i.getRangeAt(0)),null===(r=t.current)||void 0===r||r.focus()}else{var o,a,s=null===(o=n.current)||void 0===o?void 0:o.element;if(!s||!document.contains(s))return;var u=window.getSelection(),c=null===(a=n.current)||void 0===a?void 0:a.selectionRange,l=c&&document.contains(c.startContainer);s.focus(),l&&(null==u||u.removeAllRanges(),null==u||u.addRange(c)),n.current=void 0}},[e,t.current])},dk=function(e){var t=e.isModalOpen,n=e.footerRef,r=e.openOrGoToScreen,i=(0,Y.useCallback)(function(e){if((e.ctrlKey||e.metaKey)&&"k"===e.key)r("commands",e);else if((e.ctrlKey||e.metaKey)&&"p"===e.key)r("goToFile",e);else if(e.altKey&&"KeyH"===e.code)r("help",e);else if(e.altKey&&"KeyF"===e.code)r("fileSearch",e);else if(e.altKey&&"KeyM"===e.code&&t){var i;null===(i=n.current)||void 0===i||i.openDropdown(),e.preventDefault()}},[r,t,n.current]);(0,Y.useEffect)(function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}},[i])},dN=function(){var e=(0,lT.Y)().switchScreen,t=(0,rp.l)().register,n=(0,r$.Y)().openSettingsModal,r=(0,Y.useCallback)(function(t){e({screen:t,inputValue:""})},[e]);(0,Y.useEffect)(function(){t("openSettings",function(){return n()}),t("goToGitConnect",function(){return n({openedPane:"gitConnect"})}),t("viewUsage",function(){return n({openedPane:"usage"})}),t("inviteToTeam",function(){return n({openedPane:"members"})}),t("openImport",function(){return n({openedPane:"import"})}),t("openCustomIcons",function(){return n({openedPane:"custom-icons"})}),t("teamSettings",function(){return n({openedPane:"team-settings"})}),t("profileSettings",function(){return n({openedPane:"profile"})}),t("appearanceSettings",function(){return n({openedPane:"appearance"})}),t("searchFiles",function(){return r("fileSearch"),!1}),t("openHelp",function(){return r("help"),!1}),t("goToFile",function(){return r("goToFile"),!1})},[t,r,n])},dD=n(38814),dO=/*#__PURE__*/n.n(dD);n(31858);var dR=function(e){switch(e){case"commands":return"Search commands ...";case"fileSearch":return"Search files for ...";case"goToFile":return"Search file name ...";case"help":return"Search help ...";default:return""}},dF=function(){var e=(0,nr.LP)(),t=(0,Y.useRef)(null),n=dg(),r=(0,lb.S$)(),i=(0,Y.useRef)(null),o=(0,Y.useRef)(null),a=(0,Y.useState)(null),s=a[0],u=a[1],c=(0,lT.Y)(),l=c.query,A=c.screen,d=c.inputValue,f=c.isModalOpen,h=c.switchScreen,p=c.setInputValue,g=c.openCommandKModal,v=c.closeCommandKModal,m=(0,Y.useMemo)(function(){return"/team/create"!==er().pathname&&!r&&!!e},[er().pathname,r,e]),y=(0,Y.useCallback)(function(e,n){var r;m&&(null==n||n.preventDefault(),null==n||n.stopPropagation(),null===(r=t.current)||void 0===r||r.focus(),f?(h({screen:e}),ne.Z.trackEvent("command_k","switch_screen",{method:"shortcut",screen:e})):(g({screen:e}),ne.Z.trackEvent("command_k","open",{method:"shortcut",screen:e})))},[m,f,h,g]);return dN(),dS(f,t),dk({isModalOpen:f,footerRef:i,openOrGoToScreen:y}),dT({containerRef:null==s?void 0:s.contentWrapperEl,isModalOpen:f}),/*#__PURE__*/(0,W.jsxs)(nj.Z,{hideCloseButton:!0,isOpen:f,"data-screen":A,onClose:function(){v(),ne.Z.trackEvent("command_k","close",{screen:A,query:l})},className:dO().modalRoot,"data-testid":"command-k-modal",contentWrapperClassName:dO().modalWrapper,children:[/*#__PURE__*/(0,W.jsx)(dl,{screen:A,contextDto:n}),/*#__PURE__*/(0,W.jsx)("input",{type:"text",ref:t,value:d,onKeyDown:function(e){var t;"Enter"===e.key&&"fileSearch"===A&&l.length>0?er().push(lM(l)):!(l.length>0)||"Enter"!==e.key||"commands"!==A||(null===(t=o.current)||void 0===t?void 0:t.didQueryMatchItems)||er().push(lM(l))},className:dO().searchInput,"data-testid":"command-k-modal-input",placeholder:dR(A),onChange:function(e){return p(e.target.value)}}),"fileSearch"!==A&&/*#__PURE__*/(0,W.jsx)(ly.Z,{ref:u,className:dO().content,classNames:{contentWrapper:dO().contentWrapper},children:function(){switch(A){case"goToFile":return/*#__PURE__*/(0,W.jsx)(AF,{query:l});case"commands":return/*#__PURE__*/(0,W.jsx)(dx,{query:l,ref:o,context:null==n?void 0:n.context});case"fileSearch":return null;case"help":return/*#__PURE__*/(0,W.jsx)(dr,{context:null==n?void 0:n.context,query:l})}}()}),/*#__PURE__*/(0,W.jsx)(lx,{ref:i,screen:A,onScreenChange:y,onDropdownClose:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}})]})},dL=n(90581),dP=(H={},(0,io.Z)(H,"workspace_create",ru.c.CreateFile),(0,io.Z)(H,"insert_menu_icon_create",ru.c.AddIcon),(0,io.Z)(H,"insert_menu_figure_create",ru.c.AddFigure),(0,io.Z)(H,"canvas_figure_create",ru.c.AddFigure),(0,io.Z)(H,"figure_create_from_selection",ru.c.AddFigure),(0,io.Z)(H,"notepad_wikilink_create",function(e){return(null==e?void 0:e.type)==="figureLink"?ru.c.AddFigureEmbed:void 0}),(0,io.Z)(H,"notepad_add_content",ru.c.AddNoteContent),(0,io.Z)(H,"comment_create",ru.c.AddComment),(0,io.Z)(H,"insert_menu_open",ru.c.OpenInsertMenu),(0,io.Z)(H,"canvas_diagram_create",ru.c.GenerateDiagramWithCode),(0,io.Z)(H,"ai_diagram_create",ru.c.GenerateAiDiagram),H),dU=/*#__PURE__*/function(){function e(){(0,dL.Z)(this,e)}var t=e.prototype;return t.trackEvent=function(e,t){if(this._userId){var n,r=dP[e];!r&&/^insert_menu_(.+)_create$/i.test(e)&&(r=ru.c.UseInsertMenu);var i="function"==typeof r?r(t):r;!i||(null===(n=this._activations)||void 0===n?void 0:n[i])||(0,nO.z6)().currentUser.markActivation(i)}},t.identify=function(e){var t=e.id,n=e.isAnonymous,r=this;if(t!==this._userId){if(n){this.cleanup();return}this.cleanup(),this._userId=t,this._unsubscribe=(0,nO.z6)().currentUser.getActivationsDataStream().subscribe(function(e){r._activations=e})}},t.cleanup=function(){var e;null===(e=this._unsubscribe)||void 0===e||e.call(this),this._unsubscribe=void 0,this._userId=void 0,this._activations=void 0},t.dispose=function(){this.cleanup()},e}(),dM=n(50252),dj=(l=(0,K.Z)(function(e){var t,r,i;return(0,z.__generator)(this,function(o){switch(o.label){case 0:return[4,n.e(7804).then(n.bind(n,77804))];case 1:t=o.sent().default,e.registerIntegration(new t),o.label=2;case 2:if(!t$.bO.apiKey)return[3,5];return[4,n.e(8546).then(n.bind(n,68546))];case 3:return[4,(0,o.sent().default)(t$.bO.apiKey)];case 4:r=o.sent(),e.registerIntegration(r),o.label=5;case 5:if(!t$.HE.appId)return[3,7];return[4,n.e(6851).then(n.bind(n,96851))];case 6:i=o.sent().default,e.registerIntegration(new i(t$.HE.appId)),o.label=7;case 7:return e.registerIntegration(new dU),e.registerIntegration(dM.N),[2]}})}),function(e){return l.apply(this,arguments)}),dZ=n(21948),dQ=n(38528),dH=n(48617),dV=n(28257),dK=n(14413),dG=/*#__PURE__*/n.n(dK),dz=function(e){var t=e.children,n=e.authUser,r=e.userDomain,i=(0,nr.K)();return(0,Y.useMemo)(function(){if(i)return Array.from(i.values()).find(function(e){return e.ssoDomain===r.toLowerCase()})},[i,r])?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:t}):/*#__PURE__*/(0,W.jsx)(dW,{authUser:n})},dW=function(e){var t,n=e.authUser;(0,t1.r4)();var r=(0,ul.ZP)().signOut,i=(0,iL.Z)(),o=(0,iQ.Z)(),a=(0,rE.Z)((0,nr.p3)(),2),s=(a[0],a[1]);(0,Y.useCallback)((t=(0,K.Z)(function(e){var t;return(0,z.__generator)(this,function(r){switch(r.label){case 0:return t="teamId"in e?e.teamId:e.id,[4,i.promise((0,iU.Z)(t,n.id,{origin:"sso",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return r.sent(),s(t,{shouldResetFolder:!0}),[2]}})}),function(e){return t.apply(this,arguments)}),[n.id,s]);var u=null==o?void 0:o.filter(function(e){var t;return"ssoDomain"in e&&e.ssoDomain&&e.ssoDomain===(null===(t=n.sso)||void 0===t?void 0:t.toLowerCase())});return(null==u?void 0:u.length)?/*#__PURE__*/(0,W.jsx)("div",{className:dG().container,children:/*#__PURE__*/(0,W.jsxs)(dH.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:/*#__PURE__*/(0,W.jsx)(dV.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,W.jsx)("p",{className:dG().joinText,children:"Reach out to your admin if you don't see the team you're looking for."}),/*#__PURE__*/(0,W.jsx)("table",{className:dG().joinTable,children:/*#__PURE__*/(0,W.jsx)("tbody",{children:null==u?void 0:u.map(function(e){var t=(0,rE.Z)("teamId"in e?[e.teamName,e.teamId]:[e.name,e.id],2);t[0],t[1],dG().joinTableTeamName,rI.zx,rI.u8.X_LARGE})})})]})}):/*#__PURE__*/(0,W.jsx)("div",{className:dG().container,children:/*#__PURE__*/(0,W.jsxs)(dH.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:/*#__PURE__*/(0,W.jsx)(dV.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,W.jsx)("p",{children:"There are no teams you are eligible to join yet. Please reach out to your admin for an invite."}),/*#__PURE__*/(0,W.jsx)(rI.zx,{size:rI.u8.X_LARGE,onClick:r,children:"Sign Out"})]})})},dq=n(27038),dY=function(e){var t=e.authUser,n=e.ssoTeam,r=(0,ul.ZP)().signOut,i=(0,Y.useCallback)(/*#__PURE__*/(0,K.Z)(function(){var e;return(0,z.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,dq.Z)(t.email)];case 1:return e=n.sent(),[4,r()];case 2:return n.sent(),window.location.href=e,[2]}})}),[r,t.email]),o=n&&t;return(0,Y.useLayoutEffect)(function(){o&&setTimeout(i,1500)},[o,i]),(0,t1.r4)(),/*#__PURE__*/(0,W.jsx)("div",{className:dG().container,children:/*#__PURE__*/(0,W.jsxs)(dH.Z,{title:"Re-routing to SSO login...",label:"SSO Detected",labelIcon:/*#__PURE__*/(0,W.jsx)(dV.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,W.jsx)("p",{children:"SSO is detected for your domain."}),/*#__PURE__*/(0,W.jsxs)("span",{onClick:i,className:dG().rerouting,children:[/*#__PURE__*/(0,W.jsx)(iH.Z,{inline:!0})," Re-routing..."]})]})})},d$=function(e){var t,n,r,i=e.children,o=(0,t9.fC)(),a=(null===(n=null==o?void 0:null===(t=o.email)||void 0===t?void 0:t.split("@")[1])||void 0===n?void 0:n.toLowerCase())||"example.com",s=(null==o?void 0:null===(r=o.sso)||void 0===r?void 0:r.toLowerCase())===a,u=(0,nr.K)(),c=(0,Y.useMemo)(function(){if(u&&a)return Array.from(u.values()).find(function(e){return e.ssoDomain===a})},[u,a]);return o&&c&&(!c||!s)&&(c||s)?c?/*#__PURE__*/(0,W.jsx)(dY,{authUser:o,ssoTeam:c}):/*#__PURE__*/(0,W.jsx)(dz,{authUser:o,userDomain:a}):/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:i})},dX=n(92458),dJ={logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!0,updateInterval:6e5,urlTemplate:"/api/optimizely/datafile"}},d0=function(e){var t=e.children,n=(0,t9.fC)(),r=null==n?void 0:n.id,i=(0,nr.DJ)().currentTeamId,o=(0,nr.Ad)(),a=(0,t9.g5)(),s=(0,nr.MV)(),u=(0,Y.useMemo)(function(){return{teamId:null!=i?i:"",userId:null!=r?r:"",areTeamsEmpty:o,areTeamsLoaded:s,isUserAnonymous:a}},[i,r,o,s,a]);return(0,dX.B)(u,dJ)?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:t}):null};Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0)&&!(e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),n(17459),n(97653),n(83167);var d1=n(34406);nN.jU&&(window.addEventListener("error",function(e){var t,n,r;e.stopImmediatePropagation(),e.error&&(("string"==typeof(r=null!==(n=null===(t=e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"")?r:r.message).toLowerCase().replace(/_/g," ").includes("permission denied")?console.warn(e.error):(0,nm.T)(e.error,{isUncaught:!0}))}),window.addEventListener("unhandledrejection",function(e){e.stopImmediatePropagation()}));var d2=function(e){var t=e.error;return/*#__PURE__*/(0,W.jsx)(tZ.ZP,{statusCode:500,title:"Something went wrong",error:t})},d4=["pdf-view","render"],d3=["/tutorial/iframe"],d5="live"===nn.Wi,d6=d1.env.TEST_ANALYTICS_ENABLED;(d5||d6)&&dj(ne.Z);var d8=function(e){var t,n=e.Component,r=e.pageProps,i=(0,en.useRouter)();rG((0,Y.useCallback)(function(){return window.location.reload()},[]));var o=i.pathname.startsWith("/dashboard")?/*#__PURE__*/(0,W.jsx)(ay,{children:/*#__PURE__*/(0,W.jsx)(n,(0,G.Z)({},r))}):/*#__PURE__*/(0,W.jsx)(n,(0,G.Z)({},r));return t=d4.some(function(e){return i.asPath.includes(e)})?/*#__PURE__*/(0,W.jsx)(q.Wh,{children:/*#__PURE__*/(0,W.jsx)(rK.Yl,{children:o})}):d3.some(function(e){return i.asPath.startsWith(e)})?/*#__PURE__*/(0,W.jsx)(W.Fragment,{children:/*#__PURE__*/(0,W.jsx)(tQ.Z,{fallback:d2,children:/*#__PURE__*/(0,W.jsx)(q.Wh,{children:/*#__PURE__*/(0,W.jsx)(rK.Yl,{children:/*#__PURE__*/(0,W.jsx)(dQ.D,{children:/*#__PURE__*/(0,W.jsx)(rV,{children:/*#__PURE__*/(0,W.jsx)(d0,{children:/*#__PURE__*/(0,W.jsxs)(d$,{children:[/*#__PURE__*/(0,W.jsx)(rq,{}),/*#__PURE__*/(0,W.jsx)(t4,{}),o]})})})})})})})}):/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsx)(t0,{og:(null==r?void 0:r.og)?(0,G.Z)({},tX,r.og):tX}),/*#__PURE__*/(0,W.jsx)(t1.ch,{initialTheme:null==r?void 0:r.theme}),/*#__PURE__*/(0,W.jsx)(tQ.Z,{fallback:d2,children:/*#__PURE__*/(0,W.jsx)(q.Wh,{children:/*#__PURE__*/(0,W.jsx)(d7,{children:/*#__PURE__*/(0,W.jsx)(rK.Yl,{children:/*#__PURE__*/(0,W.jsx)(dZ.N,{children:/*#__PURE__*/(0,W.jsx)(rV,{children:/*#__PURE__*/(0,W.jsx)(d0,{children:/*#__PURE__*/(0,W.jsxs)(d$,{children:[/*#__PURE__*/(0,W.jsx)(rq,{}),/*#__PURE__*/(0,W.jsx)(t4,{}),/*#__PURE__*/(0,W.jsx)(lm,{}),/*#__PURE__*/(0,W.jsx)(dF,{}),o]})})})})})})})})]}),/*#__PURE__*/(0,W.jsxs)(W.Fragment,{children:[/*#__PURE__*/(0,W.jsxs)(et(),{children:[/*#__PURE__*/(0,W.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),/*#__PURE__*/(0,W.jsx)("title",{children:"Eraser"})]}),t]})},d9=function(e){if(!e)return null;try{var t=e.url,n=e.headers.host;if(!t||!n)return null;return new URL(t,"http://".concat(n)).searchParams.get("theme")}catch(e){return null}},d7=function(e){var t=e.children;return/*#__PURE__*/(0,W.jsx)(tt,{backend:nN.b1?tj:tT,children:t})},fe=(A=(0,K.Z)(function(e){var t,n,r,i,o,a,s,u;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return t="/playground"===e.router.pathname?"dark":"light",[4,J.default.getInitialProps(e)];case 1:n=c.sent();try{return a=(o=e.ctx).req,s=o.res,"string"==typeof(null===(i=e.ctx.query)||void 0===i?void 0:i.theme)?r=e.ctx.query.theme:e.router.asPath.match(/theme=(dark|light)/)?r=e.router.asPath.match(/theme=(dark|light)/)[1]:d9(a)?r=d9(a):s&&a?(u=new(X())(a,s),r=nC.getItem(rz,u)||t):r=t,[2,{pageProps:(0,G.Z)({theme:r},n.pageProps)}]}catch(e){return[2,n]}return[2]}})}),function(e){return A.apply(this,arguments)});d8.getInitialProps=fe;var ft=d8},98916:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(2784),i=n(96933),o=n(45403);function a(){var e,t=(0,o.Pe)(),n=null!==(e=(0,i.aF)())&&void 0!==e?e:{},a=n.id,s=n.isAnonymous,u=(0,r.useState)({}),c=u[0],l=u[1],A=(0,r.useState)(!0),d=A[0],f=A[1],h=(0,r.useCallback)(function(e){l(e),f(!1)},[]);return(0,r.useEffect)(function(){if(!a||s){l({}),f(!1);return}f(!0);try{return t.currentUser.getActivationsDataStream().subscribe(h)}catch(e){console.error("Error subscribing to activations",e),f(!1)}},[a,s,h]),{loading:d,activations:c}}},42541:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(32472),s=new/*#__PURE__*/(function(){function e(){(0,r.Z)(this,e),this._integrations=new Set,this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.registerIntegration=function(e){this._integrations.add(e),this._cachedEvents&&this._cachedEvents.forEach(function(t){e.trackEvent(t.event,t.payload)})},t.trackEvent=function(e,t,n){var r=null!=e?"".concat(e,"_").concat(t):t,s=(0,o.Z)((0,i.Z)({appVersion:a.Ji},this._sessionProperties,n),{isTouchDevice:!!(null==window?void 0:window.ontouchstart)||!!(null==navigator?void 0:navigator.maxTouchPoints)});this._integrations.forEach(function(e){e.trackEvent(r,s)}),this._addToCache({event:r,payload:s})},t._addToCache=function(e){this._cachedEvents.push(e),this._cachedEvents.length>100&&this._cachedEvents.unshift()},t.identify=function(e){this._integrations.forEach(function(t){t.identify(e)})},t.updateSessionProperties=function(e){this._sessionProperties=(0,i.Z)({},this._sessionProperties,e)},t.dispose=function(){this._sessionProperties={},this._cachedEvents=[],this._integrations.forEach(function(e){e.dispose()})},e}());t.Z=s},50252:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=new/*#__PURE__*/(function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}var a=n.prototype;return a.trackEvent=function(e,t){this.emit("event",e,t)},a.identify=function(){},a.dispose=function(){this.removeAllListeners()},n}(n(30686).v))},49864:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(90581),i=n(66140).CF.url.replace(/https?:\/\/(?:www.)?/,"."),o=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e)}return e.getByName=function(t){if(!("document"in n.g))return null;var r={};if(document.cookie===e.cookieString)r=e.cookieObject;else{for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var a=i[o].trim().split("=");r[a[0]]=a[1]}e.cookieObject=r}return r[t]||null},e.add=function(t){if("document"in n.g){var r=new Date,o=t.name,a=t.value,s=t.expire,u=t.domain;r.setTime(r.getTime()+(s||2592e6)),document.cookie="".concat(o,"=").concat(a,";expires=").concat(r.toUTCString(),";domain=").concat(u||i,";path=/"),e.cookieString=document.cookie,e.cookieObject[o]=a}},e}();o.cookieString="",o.cookieObject={}},85957:function(e,t,n){"use strict";var r=n(98788),i=n(22970),o=n(10097),a=n(61490);function s(){return(s=(0,r.Z)(function(e,t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,a.VS)(function(){return o.wk.httpsCallable(e)(t)})];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}t.Z=function(e,t){return s.apply(this,arguments)}},28043:function(e,t,n){"use strict";n.d(t,{GH:function(){return i}});var r=n(10097).ZP.firestore,i=r.FieldValue;r.FieldPath,r.Timestamp},64044:function(e,t,n){"use strict";var r=n(98788),i=n(90581),o=n(70865),a=n(96670),s=n(22970),u=n(75215),c=n(10097),l=n(89960),A=n(34406);function d(){return(d=(0,r.Z)(function(e,t){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,n.e(5362).then(n.bind(n,78321))];case 1:return[4,(0,r.sent().default)(e,(0,a.Z)((0,o.Z)({},t),{useWebWorker:!0}))];case 2:return[2,r.sent()]}})})).apply(this,arguments)}var f=/*#__PURE__*/function(){function e(t){(0,i.Z)(this,e),this._options=t}var t=e.prototype;return t.upload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,r.Z)(function(){var r,i,o,a,f,h,p,g,v,m,y,b,w,_,E,C,B;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=t.fileName,o=void 0===(i=t.cache)||i,f=void 0!==(a=t.useFirebaseUrl)&&a,p=(h=n._options).uploadBasePath,g=h.finalBaseURL,v=h.compress,m=h.maxSizeMB,y=h.maxWidthOrHeight,b=(0,u.Vg)({blobType:e.type,fileName:r,uploadBasePath:p}),w=c.tO.ref(b),!(v&&"image/svg+xml"!==e.type))return[3,2];return[4,function(e,t){return d.apply(this,arguments)}(e,{maxSizeMB:m,maxWidthOrHeight:y})];case 1:e=s.sent(),s.label=2;case 2:_=b.replace(new RegExp("^".concat(p)),g),s.label=3;case 3:return s.trys.push([3,7,,8]),E=o?{}:{cacheControl:"Cache-Control: no-cache, max-age=0"},[4,w.put(e,E)];case 4:if(C=s.sent(),!(A.env.FIREBASE_EMULATOR_ENABLED||f))return[3,6];return[4,C.ref.getDownloadURL()];case 5:_=s.sent(),s.label=6;case 6:return[3,8];case 7:return B=s.sent(),(0,l.T)(B),[3,8];case 8:return[2,{url:_,mimeType:e.type,size:e.size}]}})})()},t.dispose=function(){},e}();t.Z=f},89357:function(e,t,n){"use strict";var r=n(10186);t.Z=function(e){return r.Z.invite(e).delete()}},84054:function(e,t,n){"use strict";var r,i=n(98788),o=n(22970),a=n(42541),s=n(95550),u=n(67640),c=function(e,t){var n;e.inviteTo===s.FU.Team?n=e.teamId:e.inviteTo===s.FU.Workspace&&(n=e.workspaceId),n&&e.type===s.PA.Email&&a.Z.trackEvent("invite","create",{inviteTo:e.inviteTo,inviteId:n,inviteType:e.type,origin:t})},l=(r=(0,i.Z)(function(e,t){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,u.Z.post("invite",e)];case 1:return(n=r.sent())&&c(e,t),[2,n]}})}),function(e,t){return r.apply(this,arguments)});t.Z=l},4313:function(e,t,n){"use strict";n.d(t,{K:function(){return E}});var r=n(11929),i=n(42541),o=n(2595),a=n(96933),s=n(52826),u=n(59858),c=n(11269),l=n(70621),A=n(50389),d=n(88218),f=n(2784),h=n(98788),p=n(22970),g=n(10186),v=n(62557),m={},y={load:/*#__PURE__*/(0,h.Z)(function(){var e,t,n,r=arguments;return(0,p.__generator)(this,function(i){switch(i.label){case 0:if(m[e=r.length>0&&void 0!==r[0]?r[0]:"webapp"])return[2,m[e]];return[4,g.Z.config(e).get()];case 1:return n=null!==(t=i.sent().data())&&void 0!==t?t:{},m[e]=new v.v(n),[2,m[e]]}})})},b=["team_create_domain_exceptions"],w=n(41217),_=n(67640);function E(){var e,t,n,h,p=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onSuccess,g=(0,o.Z)(),v=(0,a.aF)(),m=(0,s.Gr)(null==v?void 0:v.id,!0),E=(0,u.Z)(),C=(0,c.K)(),B=(e="team_create_domain_exceptions",n=(t=(0,f.useState)(null))[0],h=t[1],(0,f.useEffect)(function(){y.load().then(h)},[]),{value:(0,f.useMemo)(function(){return n&&b.includes(e)?n.getArray(e):null},[n,e]),isLoading:!n}),I=B.value,x=B.isLoading,T=(0,d.u6)(v),S=function(e,t,n,r,i){var o=null==t||null==n||null==i||!e;if(o)return{isLoadingCreateTeamCheck:o,canCreateTeam:!1};if(i.includes(r))return{isLoadingCreateTeamCheck:o,canCreateTeam:!0};var a=t.some(function(e){return"domain"in e&&e.domain===r&&(0,A.aX)(e)}),s=n.some(function(t){return(0,A.aX)(t)&&(t.ownerId===e||t.domain===r)});return{isLoadingCreateTeamCheck:o,canCreateTeam:!a&&!s}}(null==v?void 0:v.id,E,C?Array.from(C.values()):void 0,T,x?null:null!=I?I:[]),k=S.canCreateTeam,N=S.isLoadingCreateTeamCheck,D=(0,a.ZE)(),O=D?"".concat(D.split(" ")[0],"'s Team"):"",R=(0,r.UK)(function(e){if(k){var t,n,r=(0,w.AJ)();g.promise((t={name:e.name,isAutoJoinEnabled:null==v?void 0:v.emailVerified,ref:null!==(n=null==r?void 0:r.signUpOrigin)&&void 0!==n?n:null==m?void 0:m.signUpOrigin},_.Z.post("team",t)),{loading:"Creating team",success:"Created team",error:function(e){return 409===(0,l.Lr)(e).statusCode?"You already have a team with that name. Try another name.":"Error creating team."}}).then(function(e){i.Z.trackEvent("team","create",{teamId:e.id}),null==p||p(e)})}else g.error("".concat(T," already has a team with a free plan"))});return{isLoadingCreateTeamCheck:N,canCreateTeam:k,workDomain:T,handleCreateTeam:R.execute,error:R.error,loading:R.loading,defaultTeamName:O}}},6021:function(e,t,n){"use strict";var r,i=n(98788),o=n(70865),a=n(96670),s=n(22970),u=n(42541),c=n(18698),l=n(67640),A=(r=(0,i.Z)(function(e,t,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!t)throw Error("Cannot join a team without a userId");return[4,l.Z.post("team/".concat(e,"/join"),{})];case 1:return r.sent(),(0,c.pW)(t),u.Z.trackEvent("team","join",(0,a.Z)((0,o.Z)({},n),{teamId:e})),[2]}})}),function(e,t,n){return r.apply(this,arguments)});t.Z=A},41289:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(26297),i=n(67640),o=function(e){var t=e.teamId,n=e.userId,o=(0,r.Z)(e,["teamId","userId"]);return i.Z.post("team/".concat(t,"/memberships/").concat(n),o)}},57398:function(e,t,n){"use strict";var r=n(42389),i=n(67078),o=n(10186),a=n(24618);t.Z=function(e){return(0,r._1)(o.Z.team(e).withConverter(i.ML)).pipe((0,a.pA)(null),(0,a.VK)(),(0,a.Fb)(null))}},29446:function(e,t,n){"use strict";n.d(t,{nm:function(){return c}}),n(61938);var r=n(67078),i=n(10186),o=n(24618),a=n(42389),s="updatedAt",u="desc",c={orderBy:s,orderDir:u};t.ZP=function(e){var t=e.teamId,n=e.ownerId,c=e.folderId,l=e.isPrivate,A=e.isArchived,d=e.isTemplate,f=e.orderBy,h=e.orderDir,p=i.Z.workspaces.withConverter(r.BV).where("teamId","==",t).where("isArchived","==",void 0!==A&&A).where("isTemplate","==",void 0!==d&&d);return n&&(p=p.where("ownerId","==",n)),void 0!==c&&(p=p.where("folderId","==",c)),void 0!==l&&l&&(p=p.where("isPrivate","==",!0)),p=p.orderBy(void 0===f?s:f,void 0===h?u:h),(0,a.BS)(p).pipe((0,o.pA)([]),(0,o.VK)(),(0,o.Fb)([]))}},85341:function(e,t,n){"use strict";var r=n(98788),i=n(22970),o=n(67640);function a(){return(a=(0,r.Z)(function(e,t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,o.Z.put("team/".concat(e),t)];case 1:return n.sent(),[2]}})})).apply(this,arguments)}t.Z=function(e,t){return a.apply(this,arguments)}},1429:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(67640),i=n(42541),o=function(e){return i.Z.trackEvent("template","publish",{templateId:e.templateWorkspaceId,teamId:e.teamId}),r.Z.post("template/save",e)}},60379:function(e,t,n){"use strict";n.d(t,{GF:function(){return l},QZ:function(){return p},ES:function(){return h},yh:function(){return A},wR:function(){return d},do:function(){return f}});var r,i=n(98788),o=n(22970),a=n(85957),s=n(99669),u="anonymous-user-token",c="anonymous-user-id",l=(r=(0,i.Z)(function(){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:var n;return[4,(n={prevToken:A()},(0,a.Z)("user-createAnonymousToken",n))];case 1:return e=t.sent(),s.J.setItem(u,e),[2]}})}),function(){return r.apply(this,arguments)}),A=function(){return s.J.getItem(u)||void 0},d=function(){s.J.removeItem(u)},f=function(e){s.J.setItem(c,e)},h=function(){return s.J.getItem(c)},p=function(){s.J.removeItem(c)}},41217:function(e,t,n){"use strict";n.d(t,{AJ:function(){return o},Q0:function(){return s},jj:function(){return a}});var r=n(99669),i="cached-profile-args",o=function(){var e;return null!==(e=r.J.getItem(i))&&void 0!==e?e:{}},a=function(e){var t,n=null!==(t=o())&&void 0!==t?t:{},a=Object.assign({},n,e);n.signUpOrigin&&"other"===e.signUpOrigin&&(a.signUpOrigin=n.signUpOrigin),r.J.setItem(i,a)},s=function(){r.J.removeItem(i)}},66230:function(e,t,n){"use strict";n.d(t,{H:function(){return y}});var r,i,o,a,s,u=n(98788),c=n(70865),l=n(22970),A=n(17620),d=/*#__PURE__*/n.n(A),f=n(67078),h=n(10186),p=n(52826),g=(r=(0,u.Z)(function(e,t){var n,r,i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return[4,h.Z.profile(e).get()];case 1:return n=a.sent().data(),r=d()(t,"analyticsId","signUpOrigin","signUpCampaign","signUpPage"),(null==n?void 0:n.analyticsId)||!t.analyticsId||(r.analyticsId=t.analyticsId),(null==n?void 0:n.signUpOrigin)||!t.signUpOrigin||(r.signUpOrigin=t.signUpOrigin,r.signUpCampaign=null!==(i=t.signUpCampaign)&&void 0!==i?i:"",r.signUpPage=null!==(o=t.signUpPage)&&void 0!==o?o:""),p._K.has(e)&&p._K.set(e,(0,c.Z)({},p._K.get(e),r)),[2,h.Z.profile(e).withConverter(f.Zd).set(r,{merge:!0})]}})}),function(e,t){return r.apply(this,arguments)}),v=(i=(0,u.Z)(function(e,t){return(0,l.__generator)(this,function(n){return[2,h.Z.profile(e).withConverter(f.Zd).set(t,{merge:!0})]})}),function(e,t){return i.apply(this,arguments)}),m=(o=(0,u.Z)(function(e,t,n){var r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,h.Z.knownPeople.withConverter(f.UK).where("userId","==",e).where("teamId","==",t).get()];case 1:return r=i.sent().docs[0].id,[4,h.Z.knownPerson(r).withConverter(f.UK).set(n,{merge:!0})];case 2:return i.sent(),[2]}})}),function(e,t,n){return o.apply(this,arguments)}),y={updateUserProfile:v,updateUserSettings:(a=(0,u.Z)(function(e,t){var n,r,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:if(!t)return[2];return[4,(n=h.Z.user(e).withConverter(f.yN)).get()];case 1:if((r=o.sent()).exists)return[3,3];return[4,n.set({id:e,userSettings:t})];case 2:return o.sent(),[3,4];case 3:return i=r.data(),[2,n.set({userSettings:(0,c.Z)({},null==i?void 0:i.userSettings,t)},{merge:!0})];case 4:return[2]}})}),function(e,t){return a.apply(this,arguments)}),updateUserKnownPerson:m,createOrUpdateUserProfile:g,updateUserSurvey:(s=(0,u.Z)(function(e,t){var n,r,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:if(!t)return[2];return[4,(n=h.Z.user(e).withConverter(f.yN)).get()];case 1:if((r=o.sent()).exists)return[3,3];return[4,n.set({id:e,surveyData:t})];case 2:return[2,o.sent()];case 3:return i=r.data(),[2,n.update({surveyData:(0,c.Z)({},null==i?void 0:i.surveyData,t)})]}})}),function(e,t){return s.apply(this,arguments)})}},90332:function(e,t,n){"use strict";n.d(t,{D:function(){return c},M:function(){return l}});var r=n(5632),i=/*#__PURE__*/n.n(r),o=n(92106),a=n(99669),s="last-textbox-scale",u=function(){var e=i().query.id||i().query.workspaceId;return"string"!=typeof e?s:"".concat(e,"-").concat(s)},c=function(e){a.J.setItem(u(),e)},l=function(){return a.J.getItem(u())||o.hl}},3552:function(e,t,n){"use strict";n.d(t,{M:function(){return A}});var r,i=n(98788),o=n(70865),a=n(96670),s=n(22970),u=n(42541),c=n(67640),l=function(e,t,n){u.Z.trackEvent("workspace","create",{workspaceId:e,eventSource:t,isTemplate:n.isTemplate}),n.isTemplate&&u.Z.trackEvent("template","create",{templateId:e,teamId:n.teamId})},A=(r=(0,i.Z)(function(e,t,n){var r,i,u,A;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return[4,c.Z.post("workspace",(0,a.Z)((0,o.Z)({},e),{creationType:n}))];case 1:return i=(r=s.sent()).workspace,u=r.didCreate,A=r.id,u&&l(A,t,e),[2,i]}})}),function(e,t,n){return r.apply(this,arguments)})},45262:function(e,t,n){"use strict";n.d(t,{B:function(){return i},f:function(){return o}});var r=n(99669),i="workspace-id";function o(){r.J.removeItem(i)}},21273:function(e,t,n){"use strict";var r=n(10732),i=n(99054),o=n(77984),a=n(88995),s=n(10186),u=n(24618);t.Z=function(e){return(0,r.m)(s.Z.workspaceCollaborators(e).withConverter(a.Z),{includeMetadataChanges:!0}).pipe((0,i.h)(function(e){return!e.metadata.fromCache&&!e.metadata.hasPendingWrites}),(0,o.U)(function(e){return e.docs.map(function(e){return e.data()})}),(0,u.Fb)([]))}},54039:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(70865),i=n(96670),o=n(28043),a=n(10186),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shouldUpdateEditedTime:!0};return a.Z.workspace(e).update((0,i.Z)((0,r.Z)({},t),{updatedAt:n.shouldUpdateEditedTime?o.GH.serverTimestamp():void 0}))}},355:function(e,t,n){"use strict";n.d(t,{$d:function(){return i},NY:function(){return o}}),n(64846);var r=n(61534),i=function(e){return Object.values(r.X).includes(e)},o=function(e){var t=e.workspaceId,n=e.params,r="".concat(location.origin,"/workspace/").concat(t);return n&&(r+="?".concat(new URLSearchParams(n).toString())),r}},27750:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(52322),i=n(2784),o=n(27729),a=n(11269),s=n(45403),u=n(74010),c=n(42541),l=n(70865),A=n(96670),d=n(26297),f=n(95162),h=n(2643),p=n(91983),g=/*#__PURE__*/n.n(p),v=n(66838),m=n(60238),y=n(89960),b=n(2595),w=function(e){var t=e.folder,n=e.isOpen,a=e.onClose,s=(0,d.Z)(e,["folder","isOpen","onClose"]),c=(0,b.Z)(),p=(0,u.Z)(),w=p.getAllFolderPaths,_=p.updateFolder,E=(0,i.useState)(void 0),C=E[0],B=E[1],I=(0,i.useCallback)(function(){void 0!==C&&c.promise(_(t.id,{parentFolderId:C}),{loading:"Moving folder",success:"Moved folder",error:"Something went wrong"}).catch(y.T),null==a||a()},[t.id,a,C,_]),x=(0,i.useCallback)(function(){B(null),null==a||a()},[a]),T=!!t.parentFolderId;return/*#__PURE__*/(0,r.jsxs)(h.Z,(0,A.Z)((0,l.Z)({isOpen:n,title:"Move Folder",onClose:x},s),{className:g().container,children:[/*#__PURE__*/(0,r.jsxs)("div",{className:g().folderList,children:[T&&/*#__PURE__*/(0,r.jsx)(v.G,{name:"/",selected:null===C,onClick:function(){return B(null)}}),w().filter(function(e){return e.length<m.p}).map(function(e){var n=e[e.length-1],i=e.reduce(function(e,t){return"".concat(e,"/").concat(t.name||o.Yp)},""),a=n.id===t.id,s=n.id===t.parentFolderId;return a||s?null:/*#__PURE__*/(0,r.jsx)(v.G,{name:i,selected:n.id===C,onClick:function(){return B(n.id)}},n.id)})]}),/*#__PURE__*/(0,r.jsxs)("div",{className:g().buttonGroup,children:[/*#__PURE__*/(0,r.jsx)(f.ZP,{variant:f.ZP.Variants.REVERSED,onClick:x,className:g().button,children:"Cancel"}),/*#__PURE__*/(0,r.jsx)(f.ZP,{onClick:I,className:g().button,disabled:void 0===C,children:"Confirm"})]})]}))},_=n(85617),E=n(66804),C=n(88404),B=n(28563),I=n(80498),x=n(64442),T=n(72119),S=n(74442),k=n(48845),N=n(45369),D=/*#__PURE__*/n.n(N),O=function(e){var t=e.mountedIn,n=e.children,l=e.folder,A=e.onStartRenaming,d=e.dots,f=e.className,h=e.dropdownShortcut,p=(0,s.Pe)(),g=(0,x.l)().register,v=(0,u.Z)(),m=v.switchFolder,y=!!(0,v.getFolderChildren)(l.id).length,b=(0,I.Z)(),N=b.isOpen,O=b.onClose,R=b.onOpen,F=(0,I.Z)(),L=F.isOpen,P=F.onClose,U=F.onOpen,M=(0,i.useCallback)(function(){R()},[R]),j=(0,a.LP)(),Z=(0,i.useCallback)(function(){j&&(c.Z.trackEvent("folders","delete_folder"),p.folders.deleteById(l.id,{teamId:j}),O(),m&&(l.parentFolderId?m("folder",l.parentFolderId):m("all")))},[l.id,l.parentFolderId,O,m,j]);(0,i.useEffect)(function(){"folderRow"!==t&&(g("deleteFolder",M),g("moveFolder",{isHidden:function(){return y},action:U}))},[t,y,g,U,M]);var Q=d?E.Ng:E.Lt;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)(_.Z,{title:"Delete folder and archive workspaces?",description:"Selecting confirm will delete the folder ".concat(l.name||o.Yp," and move all of the files to the teams Achived folder"),isOpen:N,onConfirm:Z,onCancel:O}),L&&/*#__PURE__*/(0,r.jsx)(w,{isOpen:!0,folder:l,onClose:P}),/*#__PURE__*/(0,r.jsxs)(Q,{title:n,keyboardShortcut:h,isHidden:!!d&&!d.visible,toggleClassNames:{root:D().folderSelect,button:f},children:[/*#__PURE__*/(0,r.jsx)(B.Z,{label:"Move Folder",onClick:U,isDisabled:y,icon:/*#__PURE__*/(0,r.jsx)(C.J,{icon:S.Z})}),/*#__PURE__*/(0,r.jsx)(B.Z,{label:"Rename",onClick:A,icon:/*#__PURE__*/(0,r.jsx)(C.J,{icon:k.Z})}),/*#__PURE__*/(0,r.jsx)(B.Z,{label:"Delete Folder",onClick:M,icon:/*#__PURE__*/(0,r.jsx)(C.J,{icon:T.Z})})]})]})}},37944:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(52322),i=n(3635),o=n(83264),a=/*#__PURE__*/n.n(o),s=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeader,n),"data-testid":"dashboard-header",children:t})};s.Title=function(e){var t=e.children;return/*#__PURE__*/(0,r.jsx)("div",{className:a().dashboardHeaderTitle,children:t})},s.Tools=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeaderTools,n),children:t})}},43667:function(e,t,n){"use strict";n.d(t,{q:function(){return I}});var r,i=n(70865),o=n(96670),a=n(52322),s=n(11269),u=n(14670),c=n(4406),l=n(91232),A=n(51516),d=n(2784);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var h=function(e){return /*#__PURE__*/d.createElement("svg",f({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/d.createElement("path",{d:"M11.963.568a.401.401 0 01-.08.115L4.32 8.245l2.136 3.56a.4.4 0 00.71-.047L11.964.568zM3.755 7.68L.195 5.542a.4.4 0 01.047-.71L11.434.035a.398.398 0 00-.117.081L3.755 7.68z",fill:"currentColor"})))},p=n(95162),g=n(75194),v=n(3635),m=n(37944),y=n(42541),b=n(89563),w=n(21732),_=n(83264),E=/*#__PURE__*/n.n(_),C=n(64001),B=/*#__PURE__*/n.n(C),I=function(e){var t,n=e.className,r=void 0===n?E().dashboardHeaderTools:n,d=e.showSearchBar,f=e.showRightSide,_=e.searchBarProps,C=e.children,I=(0,g.d)(),x=(0,s.LP)(),T=(0,w.Y)().openCommandKModal,S=(0,A.Y)().openSettingsModal,k=(0,u.ZP)(x,void 0,{internalOnly:!0});return I?null:/*#__PURE__*/(0,a.jsxs)(m.x.Tools,{className:r,children:[(void 0===d||d)&&/*#__PURE__*/(0,a.jsx)(l.Z,(0,o.Z)((0,i.Z)({},_),{className:(0,v.Z)(null==_?void 0:_.className,B().searchBar)})),!I&&/*#__PURE__*/(0,a.jsx)(p.ZP,{variant:p.ZP.Variants.OUTLINE,onClick:function(){T(),y.Z.trackEvent("command_k","open",{method:"button",screen:"commands"})},"data-testid":"command-k-button",children:/*#__PURE__*/(0,a.jsx)(b.P,{keys:["CtrlOrCmd","K"]})}),void 0!==f&&f?/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)(c.Z,{isStaticSize:!0,avatarSize:24,showDummyAvatars:!0,avatarDummyThreshold:3,className:"marginRightMedium",userIds:null!==(t=null==k?void 0:k.map(function(e){return e.id}))&&void 0!==t?t:[]}),/*#__PURE__*/(0,a.jsx)(p.ZP,{leftIcon:/*#__PURE__*/(0,a.jsx)(h,{}),className:B().noMargin,onClick:function(){return S({openedPane:"members"})},"data-testid":"dashboard-header-invite-button",children:"Invite"})]}):C]})}},26340:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2784),i=n(39739),o=n(11269),a=n(96933),s=n(29446),u=n(89960),c=function(e){var t=e.orderBy,n=e.ownerId,c=e.orderDir,l=e.folderId,A=e.isPrivate,d=e.isTemplate,f=e.isArchived,h=(0,o.LP)()||"",p=(0,a.II)(),g=(0,r.useState)(void 0),v=g[0],m=g[1],y=(0,r.useMemo)(function(){return(0,s.ZP)({teamId:h,orderBy:t,ownerId:n,folderId:l,orderDir:c,isPrivate:A,isTemplate:d,isArchived:f})},[h,l,t,c,n,f,A,d]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12e4;(0,r.useEffect)(function(){var n=e.subscribe(function(){});return function(){setTimeout(function(){n.unsubscribe()},t)}},[e])}(y);var b=(0,r.useRef)();return(0,r.useEffect)(function(){var e=setTimeout(function(){m(void 0)},200);return b.current=e,function(){clearTimeout(e)}},[h,l,A,f,n]),(0,r.useEffect)(function(){b.current&&clearTimeout(b.current)},[v]),(0,i.m)(y,function(e){m(e.filter(function(e){return(!e.isPrivate||e.ownerId===p)&&("boolean"!=typeof A||!!A||!e.isPrivate)}))},u.T),v}},36410:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(16962),i=n(66842),o=n(5632),a=n(2784),s=function(e){var t=(0,o.useRouter)(),n=(0,r.Rx)().onInputChange;(0,a.useEffect)(function(){if(e.current){var r,o,a=(null===(r=t.query)||void 0===r?void 0:r[i.KU])||"";a&&(null===(o=e.current)||void 0===o||o.focus(),n(a))}},[e,n,t.query])}},91232:function(e,t,n){"use strict";var r=n(52322),i=n(36410),o=n(2784),a=n(16962),s=n(97848),u=n(88404),c=n(22805),l=n(89563),A=n(3635),d=n(72397),f=/*#__PURE__*/n.n(d);t.Z=function(e){var t=e.className,n=e.tabTitle,d=e.folderId,h=e.isArchived,p=e.isOwner,g=e.isPrivate,v=(0,a.Rx)(),m=v.onInputChange,y=v.query,b=v.saveRouteToHistory,w=(0,a.Sr)().setPassedFilters,_=(0,o.useRef)(null),E=(0,o.useState)(!1),C=E[0],B=E[1];(0,i.T)(_),(0,o.useEffect)(function(){w({isArchived:h,isOwner:p,isPrivate:g,folderId:d})},[d,h,p,g,w]);var I=(0,o.useCallback)(function(e){var t;["Escape","ArrowUp","ArrowDown"].includes(e.key)&&C&&(null===(t=_.current)||void 0===t||t.blur())},[C]),x=(0,o.useCallback)(function(e){var t;C||(e.preventDefault(),null===(t=_.current)||void 0===t||t.focus())},[C]);return(0,c.Z)({"/":x}),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,A.Z)(f().searchContainer,C&&f().focused,t),children:[/*#__PURE__*/(0,r.jsx)("span",{className:f().searchIcon,children:/*#__PURE__*/(0,r.jsx)(u.J,{icon:s.Z,color:"grey-1100"})}),/*#__PURE__*/(0,r.jsx)("input",{type:"text",value:y,ref:_,className:f().input,onKeyDown:I,onBlur:function(){B(!1),b()},onFocus:function(){return B(!0)},placeholder:"Search ".concat(void 0===n?"":n),onChange:function(e){return m(e.target.value)},"data-testid":C?"compact-search-bar-input-extended":"compact-search-bar-input"}),!y&&/*#__PURE__*/(0,r.jsx)("div",{className:f().shortcut,children:/*#__PURE__*/(0,r.jsx)(l.P,{keys:["/"]})})]})}},59509:function(e,t,n){"use strict";n.d(t,{S:function(){return V},Z:function(){return K}});var r,i,o,a,s,u,c=n(52322),l=n(2784),A=n(5632),d=n(51105),f=n(16962),h=n(96933),p=n(25947),g=/*#__PURE__*/n.n(p),v=function(){return/*#__PURE__*/(0,c.jsxs)("div",{className:g().container,children:[/*#__PURE__*/(0,c.jsx)("div",{className:g().title,children:"No results found"}),/*#__PURE__*/(0,c.jsx)("div",{className:g().text,children:"We didnt seem to find anything based off of your search"})]})},m=n(84979),y=/*#__PURE__*/n.n(m),b=n(83433),w=n(39097),_=/*#__PURE__*/n.n(w),E=n(98788),C=n(22970),B=n(79421),I=/*#__PURE__*/n.n(B),x=n(12982),T=/*#__PURE__*/n.n(x);(r=a||(a={})).Snippet="_snippetResult",r.Highlight="_highlightResult";var S=(i=(0,E.Z)(function(e,t,r){var i;return(0,C.__generator)(this,function(o){switch(o.label){case 0:if(!t||!(null==e?void 0:e.value)||"full"!==e.matchLevel&&"partial"!==e.matchLevel)return[2,void 0];return[4,Promise.resolve().then(n.bind(n,72813))];case 1:return i=o.sent().default.sanitize(e.value),[2,{attribute:t,value:r,component:/*#__PURE__*/(0,c.jsx)("span",{className:y().highlight,dangerouslySetInnerHTML:{__html:i}})}]}})}),function(e,t,n){return i.apply(this,arguments)}),k=(o=(0,E.Z)(function(e){var t,n;return(0,C.__generator)(this,function(r){switch(r.label){case 0:var i;return t={},n=[],I()(e[a.Snippet],(i=(0,E.Z)(function(r,i){var o,a,s,u,c,l,A,d;return(0,C.__generator)(this,function(f){switch(f.label){case 0:if(null==r)return[2];return o=i,Array.isArray(r)?(-1===(u=T()(r,{matchLevel:"full"}))&&(u=0),a=e[o][u],s=r[u]):(a=null!==(c=e[o])&&void 0!==c?c:"",s=r),l="guestNames"===o||"ownerName"===o?"user":o,A=S(s,o,a),n.push(A),[4,A];case 1:if(null==(d=f.sent()))return[2];return t[l]=d,[2]}})}),function(e,t){return i.apply(this,arguments)})),[4,Promise.all(n)];case 1:return r.sent(),[2,t]}})}),function(e){return o.apply(this,arguments)});function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var D=function(e){return /*#__PURE__*/l.createElement("svg",N({width:18,height:13,viewBox:"0 0 18 13",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=/*#__PURE__*/l.createElement("path",{d:"M1.785 8.7a1 1 0 00-1.14 1.643l1.14-1.644zm7.087 1.586l-.83-.557.83.557zM17 2a1 1 0 100-2v2zM.645 10.343c.993.688 2.609 1.57 4.246 1.949 1.604.37 3.623.322 4.812-1.45L8.042 9.729c-.477.71-1.357.925-2.7.615-1.31-.303-2.692-1.044-3.557-1.644l-1.14 1.644zm9.058.5c.758-1.13 1.12-2.34 1.378-3.43.273-1.15.415-2.05.729-2.888.29-.772.686-1.352 1.377-1.768C13.907 2.323 15.063 2 17 2V0c-2.127 0-3.691.349-4.845 1.043-1.185.714-1.82 1.72-2.218 2.78-.373.994-.575 2.17-.802 3.128C8.893 7.97 8.598 8.9 8.042 9.73l1.66 1.114z",fill:"currentColor"})))};function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var R=function(e){return /*#__PURE__*/l.createElement("svg",O({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=/*#__PURE__*/l.createElement("path",{stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",d:"M1 1h12M1 5h7M1 9h10M1 13h12"})))},F=n(12967),L=n(32472),P=n(54848),U=n(88404),M=n(71921),j=n(3635),Z=function(e){var t=e.title,n=e.updatedAt,r=e.isPrivate;return/*#__PURE__*/(0,c.jsxs)("span",{className:y().fileRowMinimal,children:[/*#__PURE__*/(0,c.jsxs)("h4",{children:[r&&/*#__PURE__*/(0,c.jsx)(U.J,{icon:F.Z,style:{marginRight:10}}),t||L.SF]}),/*#__PURE__*/(0,c.jsx)("h6",{children:n&&/*#__PURE__*/(0,c.jsx)(M.Z,{time:n})})]})},Q=function(e){var t=e.match,n=void 0,r=void 0;switch(t.attribute){case"whiteboardTexts":n=/*#__PURE__*/(0,c.jsx)(U.J,{icon:D}),r="Found in Canvas";break;case"noteText":n=/*#__PURE__*/(0,c.jsx)(U.J,{icon:R}),r="Found in Notes";break;case"ownerName":case"guestNames":n=/*#__PURE__*/(0,c.jsx)(P.Z,{displayName:t.value}),r="User Match"}return/*#__PURE__*/(0,c.jsxs)("span",{className:y().matchBlock,children:[/*#__PURE__*/(0,c.jsx)("span",{className:y().matchIcon,children:n}),/*#__PURE__*/(0,c.jsxs)("span",{className:y().matchBody,children:[/*#__PURE__*/(0,c.jsx)("span",{className:y().matchFoundIn,children:r}),/*#__PURE__*/(0,c.jsxs)("span",{className:y().matchContent,children:["",t.component,""]})]})]})},H=function(e){var t,n=e.hit,r=e.isFocused,i=e.setFocusOnHover,o=(0,l.useState)(),a=o[0],s=o[1];return((0,l.useEffect)(function(){k(n).then(s)},[n]),a)?/*#__PURE__*/(0,c.jsx)(_(),{href:"/workspace/".concat(n.objectID),passHref:!0,children:/*#__PURE__*/(0,c.jsxs)("a",{"data-testid":"dasbhoard-search-result-highlighted-link",onMouseMove:i,rel:"noopener noreferrer",className:(0,j.Z)(y().searchRow,r&&y().isFocused),tabIndex:-1,children:[/*#__PURE__*/(0,c.jsx)(Z,{title:(null==a?void 0:null===(t=a.title)||void 0===t?void 0:t.component)||n.title,updatedAt:n.updatedAt||Date.now(),isPrivate:n.isPrivate},n.objectID),/*#__PURE__*/(0,c.jsxs)("span",{className:y().matches,children:[a.noteText&&/*#__PURE__*/(0,c.jsx)(Q,{match:a.noteText}),a.whiteboardTexts&&/*#__PURE__*/(0,c.jsx)(Q,{match:a.whiteboardTexts}),a.user&&/*#__PURE__*/(0,c.jsx)(Q,{match:a.user})]}),/*#__PURE__*/(0,c.jsx)("span",{className:y().divider})]})}):null},V=function(){var e={title:{id:"title",title:"Title",flex:1},edited:{id:"edited",title:"Edited",flex:1,className:y().alignRight}};return/*#__PURE__*/(0,c.jsx)(d.Z,{className:y().headerPadding,columns:e,orderBy:"",orderDir:"asc",updateOrder:function(){}})},K=function(){var e=(0,l.useRef)(null),t=(0,f.O6)(),n=(0,f.nR)(),r=(0,h.II)(),i=(0,A.useRouter)(),o=t.filter(function(e){return!(e.isPrivate&&e.ownerId!==r)}),a=!o.length,s=(0,l.useCallback)(function(e){var t=e.objectID;i.push("/workspace/".concat(t))},[i]),u=(0,b.c)({containerRef:e,items:o,onSelect:s,scrollOptions:{behavior:"auto",block:"nearest"},options:{shouldTabKeySelect:!1,whenShouldHookBeActive:"whenNoInputIsFocused"}}),d=u.activeIndex,p=u.setActiveIndex;return!n&&a?/*#__PURE__*/(0,c.jsx)(v,{}):/*#__PURE__*/(0,c.jsx)("div",{ref:e,className:y().searchPadding,children:o.map(function(e,t){return/*#__PURE__*/(0,c.jsx)(H,{hit:e,isFocused:d===t,setFocusOnHover:function(){return p(t)}},t)})})}},56318:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r,i=n(52322),o=n(53122),a=/*#__PURE__*/n.n(o),s=n(2784);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var c=function(e){return /*#__PURE__*/s.createElement("svg",u({width:9,height:6,viewBox:"0 0 9 6",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/s.createElement("path",{d:"M1 1l3.5 4L8 1",stroke:"currentColor",strokeWidth:1.067,fill:"none",strokeLinecap:"square"})))},l=n(88404),A=n(3635),d=function(e){var t=e.isExpanded,n=e.isIconVisible,r=e.onClick;return/*#__PURE__*/(0,i.jsx)("div",{onClick:r,className:(0,A.Z)(a().root,void 0!==t&&t&&a().expanded),children:void 0!==n&&n&&/*#__PURE__*/(0,i.jsx)(l.J,{icon:c})})}},37214:function(e,t,n){"use strict";n.d(t,{M:function(){return A}});var r=n(70865),i=n(52322),o=n(47200),a=/*#__PURE__*/n.n(o),s=n(56318),u=n(3635),c=n(46402),l=/*#__PURE__*/n.n(c),A=function(e){var t=e.icon,n=e.onClick,o=e.content,c=e.isActive,A=e.shortcut,d=e.dragRefs,f=e.onKeyDown,h=e.isDragging,p=e.dropTarget,g=e.tabPosition,v=e.isExpandable,m=e.classNames,y=void 0===m?{}:m,b=e.textSize,w=e.tabHeight,_=e.accordionButtonProps;return/*#__PURE__*/(0,i.jsx)("div",{ref:null==d?void 0:d.containerRef,className:l().fullWidth,"data-testid":"sidebar-tab-".concat(o),children:/*#__PURE__*/(0,i.jsx)("div",{ref:null==d?void 0:d.previewRef,className:(0,u.Z)(l().fullWidth,h&&a().isDragging),children:/*#__PURE__*/(0,i.jsx)("div",{ref:null==d?void 0:d.dropRef,className:l().fullWidth,children:/*#__PURE__*/(0,i.jsxs)("div",{tabIndex:0,role:"button",onClick:n,onKeyDown:f,ref:null==d?void 0:d.dragRef,className:(0,u.Z)(l().root,y.root,l()[void 0===w?"large":w],c&&l().active,"last"===g&&a().isLast,"first"===g&&a().isFirst,"on"===p&&a().folderTarget,"after"===p&&a().droppingBorderAfter,"before"===p&&a().droppingBorderBefore),children:[t&&/*#__PURE__*/(0,i.jsx)("div",{className:l().icon,children:t}),/*#__PURE__*/(0,i.jsxs)("span",{className:(0,u.Z)(l().content,l().fullWidth,l()[void 0===b?"large":b],y.content),children:[v&&/*#__PURE__*/(0,i.jsx)(s.j,(0,r.Z)({},_)),o]}),A&&/*#__PURE__*/(0,i.jsx)("div",{className:l().shortcut,children:A})]})})})})}},40230:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(47842),i=n(70865),o=n(96670),a=n(2784),s=n(89960),u=n(49678),c=n(45403),l=function(e){var t=(0,c.Pe)(),n=(0,a.useState)({}),l=n[0],A=n[1];(0,a.useEffect)(function(){e&&!l[e]&&t.folders.fetchByTeam(e).then(function(t){A(function(n){return(0,o.Z)((0,i.Z)({},n),(0,r.Z)({},e,t))})}).catch(function(e){(0,s.T)(Error("Failed to fetch folders for team",{cause:e}))})},[e,l]);var d=e?l[e]:void 0,f=(0,a.useMemo)(function(){return d?(0,u.Hz)(d):{}},[d]),h=(0,a.useCallback)(function(){return(0,u.am)(f)},[f]);return{folders:d,folderTree:f,getAllFolderPaths:h}}},70039:function(e,t,n){"use strict";n.d(t,{b:function(){return v}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(55929),c=n(95162),l=n(1158),A=n(11747),d=n(2643),f=n(2595),h=n(54039),p=function(){var e=(0,f.Z)();return{moveFileToGitHub:(0,s.useCallback)(function(t){var n=t.workspaceId,r=t.organizationId,i=t.repositoryId,o=t.filePath;return n&&r&&i?e.promise((0,h.e)(n,{folderId:null,gitHubRepository:{organizationId:r,repositoryId:i,filePath:void 0===o?"":o}}),{error:"An error has occurred.",loading:"Movile file to repository...",success:"File moved to repository successfully."}):Promise.resolve()},[])}},g=n(32472),v=function(e){var t=e.workspace,n=e.organizationId,f=e.repositoryId,h=e.onClose,v=(0,o.Z)(e,["workspace","organizationId","repositoryId","onClose"]),m=(0,s.useState)("/"),y=m[0],b=m[1],w=p().moveFileToGitHub,_=(0,l.T5)({organizationId:n,repositoryId:f}),E=_.organization,C=_.repository;return/*#__PURE__*/(0,a.jsxs)(d.Z,(0,i.Z)((0,r.Z)({},v),{title:"Move file to Github repository",onClose:h,children:[/*#__PURE__*/(0,a.jsx)(u.Z,{label:"Repository",readOnly:!0,value:"".concat(null==E?void 0:E.name,"/").concat(null==C?void 0:C.name)}),/*#__PURE__*/(0,a.jsx)(u.Z,{label:"File path",value:y,placeholder:"Enter path ...",onChange:function(e){return b(e.currentTarget.value)}}),/*#__PURE__*/(0,a.jsxs)(A.Z,{children:[/*#__PURE__*/(0,a.jsx)(c.ZP,{variant:c.ZP.Variants.TRANSPARENT,onClick:h,children:"Cancel"}),/*#__PURE__*/(0,a.jsx)(c.ZP,{disabled:!y,onClick:function(){null==h||h();var e=y.replace(/^\//,""),r=t.title||g.SF;w({repositoryId:f,organizationId:n,filePath:e.length?"".concat(e,"/").concat(r):r,workspaceId:t.id})},variant:c.ZP.Variants.REGULAR,children:"Move File"})]})]}))}},85964:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r="usage-based-pricing-section"},76784:function(e,t,n){"use strict";n.d(t,{U:function(){return Q}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(35637),l=n(95162),A=n(89563),d=n(41832),f=n(42896),h=n(25300),p=n(32472),g=n(57225),v=n(73705),m=/*#__PURE__*/n.n(v),y=function(e){var t=e.isLoading,n=e.templates,r=e.onUseTemplate,i=e.onClose,o=e.onTemplatePreview,a=(0,u.useState)(""),v=a[0],y=a[1],b=(0,h.Z)(),w=b.loading,_=b.request;return/*#__PURE__*/(0,s.jsxs)("div",{children:[/*#__PURE__*/(0,s.jsxs)("div",{className:m().titleWrapper,children:[/*#__PURE__*/(0,s.jsx)("h3",{className:m().title,children:"Team Templates"}),/*#__PURE__*/(0,s.jsxs)("div",{className:m().titleTools,children:[/*#__PURE__*/(0,s.jsx)(c.Z,{showShortcut:!0,searchTerm:v,className:m().searchBar,setSearchTerm:y}),/*#__PURE__*/(0,s.jsxs)(l.ZP,{onClick:i,size:l.ZP.Sizes.SMALL,className:m().closeButton,variant:l.ZP.Variants.TRANSPARENT,children:["Close",/*#__PURE__*/(0,s.jsx)(A.P,{keys:["Esc"]})]})]})]}),/*#__PURE__*/(0,s.jsxs)("div",{className:m().contentWrapper,children:[n.filter(function(e){var t,n;return null===(n=null===(t=e.title)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===n?void 0:n.includes(v.toLocaleLowerCase())}).map(function(e,n){return/*#__PURE__*/(0,s.jsx)(d.w,{template:e,isLoading:t,onUseTemplate:r,classNames:{root:m().templateCard},onPreviewClick:function(){return o(n)}},e.id)}),/*#__PURE__*/(0,s.jsx)(f.x,{disabled:w,onClick:function(){w||_("templates_page",{title:p.k1,isTemplate:!0},{toastOptions:{success:{duration:5e3}},toastMessages:{loading:"Creating template",error:"Something went wrong. Failed to create template.",success:/*#__PURE__*/(0,s.jsx)(g.S,{successMessage:"Template created"})}})},classNames:{root:m().templateCard}})]})]})},b=n(5632),w=n(25237),_=/*#__PURE__*/n.n(w),E=n(88404);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var B=function(e){return /*#__PURE__*/u.createElement("svg",C({width:8,height:12,viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/u.createElement("path",{d:"M1 11.2L6.6 6 1 .8",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))},I=n(26758),x=n(11269),T=n(4120),S=n(77622),k=n(4126),N=n(35937),D=n(6375),O=n(34823),R=/*#__PURE__*/n.n(O),F=_()(function(){return Promise.all([n.e(7920),n.e(1637),n.e(1041),n.e(3630),n.e(9878),n.e(4526),n.e(6050),n.e(1207),n.e(6042),n.e(7870),n.e(5709),n.e(4656),n.e(7026),n.e(2262),n.e(5324)]).then(n.bind(n,11980)).then(function(e){return e.default})},{loadableGenerated:{webpack:function(){return[11980]}},ssr:!1,loading:function(){return/*#__PURE__*/(0,s.jsx)(D.Z,{})}}),L=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t]||i[t]!==r)return{};var o=(0,S.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,N.V)(o),")")}},P=function(e){var t=e.onNext,n=e.onCancel,r=e.template,i=e.isLoading,o=e.onPrevious,a=e.onUseTemplate,c=e.onSeeAllTemplates,A=(0,b.useRouter)(),d=(0,k.F)().theme,f=(0,x.LP)(),h=(0,u.useState)(!1),p=h[0],g=h[1],v=(0,I.o)({currentTeamId:f,workspaceId:r.id,workspaceTeamId:r.teamId,isArchived:!!r.isArchived}),m=L(r,d);return/*#__PURE__*/(0,s.jsxs)("div",{className:R().root,children:[/*#__PURE__*/(0,s.jsxs)("div",{className:R().headerWrapper,children:[/*#__PURE__*/(0,s.jsxs)("div",{className:R().navigationWrapper,children:[/*#__PURE__*/(0,s.jsx)(l.ZP,{variant:l.ZP.Variants.TRANSPARENT,onClick:c,children:"See all"}),/*#__PURE__*/(0,s.jsx)(l.ZP,{onClick:o,variant:l.ZP.Variants.TRANSPARENT,children:/*#__PURE__*/(0,s.jsx)(E.J,{icon:B,className:R().previousIcon})}),/*#__PURE__*/(0,s.jsx)(l.ZP,{onClick:t,variant:l.ZP.Variants.TRANSPARENT,children:/*#__PURE__*/(0,s.jsx)(E.J,{icon:B})})]}),/*#__PURE__*/(0,s.jsx)("div",{className:R().metadataWrapper,children:/*#__PURE__*/(0,s.jsx)(T.E,{template:r})}),/*#__PURE__*/(0,s.jsx)("div",{className:R().controlsWrapper,children:r.isArchived?/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsx)(l.ZP,{onClick:n,variant:l.ZP.Variants.TRANSPARENT,children:"Cancel"}),/*#__PURE__*/(0,s.jsx)(l.ZP,{onClick:v,children:"Restore Template"})]}):/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsx)(l.ZP,{isLoading:p,onClick:function(){g(!0),A.push("/workspace/".concat(r.id))},variant:l.ZP.Variants.TRANSPARENT,children:"Edit Template"}),/*#__PURE__*/(0,s.jsx)(l.ZP,{isLoading:i,onClick:function(){return a(r)},children:"Use Template"})]})})]}),/*#__PURE__*/(0,s.jsx)("div",{className:R().previewWrapper,children:m.backgroundImage?/*#__PURE__*/(0,s.jsx)("div",{className:R().previewImage,style:m}):/*#__PURE__*/(0,s.jsx)(F,{template:r},r.id)})]})},U=n(2643),M=n(68583),j=n(94127),Z=/*#__PURE__*/n.n(j),Q=function(e){var t,n,r=e.isOpen,c=e.onClose,l=e.isLoading,A=e.mountedIn,d=e.onUseTemplate,f=e.templateToPreview,h=(0,a.Z)(e,["isOpen","onClose","isLoading","mountedIn","onUseTemplate","templateToPreview"]),p=(0,u.useState)(-1),g=p[0],v=p[1],m=f?"templatePreview":"allTemplates",b=(0,u.useState)(m),w=b[0],_=b[1],E=null!==(n=(0,M.z)({isArchived:null!==(t=null==f?void 0:f.isArchived)&&void 0!==t&&t}))&&void 0!==n?n:[],C=(0,u.useMemo)(function(){var e=E.findIndex(function(e){return e.id===(null==f?void 0:f.id)});return -1===g?e:g},[g,f,E]),B=function(){v(-1),"templatesPage"===A?null==c||c():_("allTemplates")};return/*#__PURE__*/(0,s.jsxs)(U.Z,(0,o.Z)((0,i.Z)({isOpen:r,hideCloseButton:!0,className:Z().root,onClose:c},h),{children:["allTemplates"===w&&/*#__PURE__*/(0,s.jsx)(y,{onClose:c,isLoading:l,templates:E,onUseTemplate:d,onTemplatePreview:function(e){v(e),_("templatePreview")}}),"templatePreview"===w&&E[C]&&/*#__PURE__*/(0,s.jsx)(P,{onUseTemplate:d,onCancel:B,template:E[C],onSeeAllTemplates:B,onNext:function(){return v((C+1)%E.length)},onPrevious:function(){return v((C-1)%E.length)}})]}))}},15902:function(e,t,n){"use strict";n.d(t,{nU:function(){return c},sv:function(){return u},zO:function(){return s}});var r=n(90581),i=n(21218),o=n(20624),a=n(39309),s=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).name="ParseError",o.hash=i,o}return n}((0,o.Z)(Error)),u=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var o,a=e.message,s=e.line,u=e.lineNumber;return(0,r.Z)(this,n),(o=t.call(this,a)).lineNumber=u,o.message=i({line:(void 0===s?"":s).trim(),message:a}),o}return n}((0,o.Z)(Error));function c(e,t){throw new s(e,t)}},64888:function(e,t,n){"use strict";n.d(t,{L:function(){return a},N:function(){return o}});var r,i=n(76476),o=function(e){r=e},a=function(e,t,n){(0,i.J)("playgroundDevTools").consoleLogAnalyticsEvents&&console.log("Analytics trackEvent: ",{category:e,event:t},n),null==r||r.trackEvent(e,t,n)}},64926:function(e,t,n){"use strict";n.d(t,{Cj:function(){return s},E5:function(){return u},Vx:function(){return a},XU:function(){return c},ub:function(){return o},vE:function(){return l}});var r=n(5392),i=/*#__PURE__*/n.n(r),o="#ffffff",a="#242424",s=i()(o),u=i()(a),c="#1c1c1c",l="#000000"},48389:function(e,t,n){"use strict";n.d(t,{XW:function(){return A},dN:function(){return h},pk:function(){return p},xE:function(){return s}});var r=n(87394),i=n(5392),o=/*#__PURE__*/n.n(i),a=n(93939),s="#171717",u=(0,r.Z)(o()(s).oklab(),1)[0],c="transparent",l=function(e){return e===c?e:o().valid(e)?e.startsWith("#")?e:"#".concat(e):null},A=function(e){return e?e!==c&&l(e)?d(o()(e)).hex():e:""},d=function(e){var t=(0,r.Z)(e.hsl(),3),n=t[0],i=t[1],a=t[2];return o().hsl(n,i,1-a).alpha(e.alpha())},f=function(e,t){var n=(0,r.Z)(e.oklab(),3),i=n[0],a=n[1],s=n[2];return o().oklab(i-i*t+t,a,s).alpha(e.alpha())},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";if(!e)return"";var n=/^var\(--(.+?)\)$/.exec(e);if(n)return(0,a.IH)(n[1]);if("light"===t||e===c||!l(e))return e;var i=o()(e),s=d(i),A=(0,r.Z)(i.hsv(),2);return f(s,u*(1-(A[0],A[1]))).hex()},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light",n=/^var\(--(.+?)\)$/.exec(e);return n?(0,a.IH)(n[1]):"dark"===t?A(e):e}},14935:function(e,t,n){"use strict";n.d(t,{Cj:function(){return s},Dj:function(){return l},E5:function(){return c},Ec:function(){return w},Fs:function(){return h},Kf:function(){return g},Od:function(){return A},Ws:function(){return b},eO:function(){return m},jc:function(){return f},jw:function(){return p},pF:function(){return u},wj:function(){return d}});var r=n(5392),i=/*#__PURE__*/n.n(r),o=n(96603),a=n(64926),s=o.ix,u=o.MA[4],c=o.Sn,l="#ec2c40",A="#00a9e5",d="#b7d2f7",f="#2866df",h="transparent",p="rgba(0, 169, 229, 0.1)",g=function(e){return e===h?e:i().valid(e)?e.startsWith("#")?e:"#".concat(e):null},v=function(e){var t=parseInt(e.substring(1),16);return .2126*(t>>16&255)+.7152*(t>>8&255)+.0722*(t>>0&255)},m=function(e){return e===h||!!i().valid(e)&&v(i()(e).hex())>238},y=[1,.98,.92,.85,.7,.45,.35,.18,.12],b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e===h||e===a.ub&&t<5)return e;if(!i().valid(e))return"rgba(0, 0, 0, 0)";var r=i()(e).hsl(),o=Math.round(r[0]),s=r[1],u=y[t];return"rgba(".concat(i()([o,s,null!=u?u:.975],"hsl").rgb().join(","),", ").concat(n,")")},w=function(e){return e&&e!==h?i().valid(e)?i()(e).name():null:e===h?"transparent":null}},98568:function(e,t,n){"use strict";n.d(t,{$C:function(){return C},$e:function(){return y},AU:function(){return z},Af:function(){return x},D8:function(){return v},E1:function(){return ew},EX:function(){return q},F9:function(){return $},FO:function(){return N},Fg:function(){return J},Gj:function(){return en},H:function(){return em},Hg:function(){return U},IM:function(){return R},Iw:function(){return m},J$:function(){return et},KE:function(){return I},Ks:function(){return i},LP:function(){return eu},Mj:function(){return ec},OO:function(){return X},O_:function(){return H},Oh:function(){return _},Pp:function(){return Z},S$:function(){return eC},TO:function(){return eB},UL:function(){return eb},Vh:function(){return D},Vi:function(){return E},W4:function(){return F},_D:function(){return L},_P:function(){return ea},av:function(){return eA},ay:function(){return b},az:function(){return es},cH:function(){return ee},dJ:function(){return G},dt:function(){return Q},eA:function(){return ey},f:function(){return p},fK:function(){return eh},fn:function(){return eE},g8:function(){return el},hU:function(){return j},hs:function(){return M},i5:function(){return W},j9:function(){return O},jo:function(){return ei},ks:function(){return eo},lS:function(){return Y},mp:function(){return k},n5:function(){return P},nB:function(){return V},nM:function(){return er},oc:function(){return w},qj:function(){return e_},qx:function(){return g},sc:function(){return B},tn:function(){return T},uB:function(){return K},ut:function(){return S},vM:function(){return ed},vu:function(){return ef},wK:function(){return eg},xX:function(){return ev},yK:function(){return ep}});var r,i,o,a,s,u,c,l,A=n(47842),d=n(31632),f=n(6901),h=n(27352),p=10,g=8,v=1,m=5,y=1,b=Math.PI/12,w={TEXT:"text",CROSSHAIR:"crosshair",NESW_RESIZE:"nesw-resize",NWSE_RESIZE:"nwse-resize",NS_RESIZE:"ns-resize",EW_RESIZE:"ew-resize",GRAB:"grab",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",NOT_ALLOWED:"not-allowed",SPLINE_CONTROL_MOVE:"spline-control-move",PEN:"pen",DUPLICATE:"duplicate",ROTATION_NW:"rotation-nw",ROTATION_NE:"rotation-ne",ROTATION_SW:"rotation-sw",ROTATION_SE:"rotation-se",AUTO:""},_={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(r=i||(i={})).COPY="copy",r.PASTE="paste",r.CUT="cut",r.KEYDOWN="keydown",r.KEYUP="keyup",r.MOUSE_MOVE="mousemove",r.RESIZE="resize",r.UNLOAD="unload",r.BLUR="blur",r.DRAG_OVER="dragover",r.DROP="drop",r.GESTURE_END="gestureend",r.BEFORE_UNLOAD="beforeunload",r.GESTURE_START="gesturestart",r.GESTURE_CHANGE="gesturechange",r.POINTER_MOVE="pointermove",r.POINTER_UP="pointerup",r.STATE_CHANGE="statechange",r.WHEEL="wheel",r.TOUCH_START="touchstart",r.TOUCH_END="touchend",r.SCROLL="scroll",r.CONTEXT_MENU="contextmenu";var E={TEST:"test",DEVELOPMENT:"development"},C={SHAPE_ACTIONS_MENU:"shape-actions-menu",CANVAS_BUTTON:"canvas-button"},B={S:20,M:30,L:40,XL:50},I={S:.2,M:.33,L:.6,XL:1.2},x="data-textfield-blur-exception",T="data-copy-paste-exception",S={1:"Virgil",2:"EraserNimbusSans",3:"Cascadia",4:"FerruleSans",5:"JetBrainsMono",6:"Inter"},k={ROUGH:2,CLEAN:6,MONO:5},N={2:"rough",6:"clean",5:"mono"},D=(o={},(0,A.Z)(o,k.ROUGH,1),(0,A.Z)(o,k.CLEAN,.87),(0,A.Z)(o,k.MONO,.85),o),O=(a={},(0,A.Z)(a,k.ROUGH,f.ED?-3.5:-.5),(0,A.Z)(a,k.CLEAN,f.ED?1.1:.4),(0,A.Z)(a,k.MONO,f.ED?1.4:1),a),R=(s={},(0,A.Z)(s,k.MONO,f.ED?-.5:0*globalThis.devicePixelRatio),(0,A.Z)(s,k.ROUGH,f.ED?-1:-.45*globalThis.devicePixelRatio),(0,A.Z)(s,k.CLEAN,f.ED?-.8:-.35*globalThis.devicePixelRatio),s),F=Object.values(k),L="Segoe UI Emoji",P=20,U="left",M="middle",j=f.Um?1.25:1,Z=d.ck.Normal,Q=10,H=12,V=.3,K="excalidraw",G="excalidraw-cursor-element",z="text-editor-root",W="canvasTextEditor",q="diagram-sidebar-wrapper",Y=.22,$=function(e){return e?.525:.5},X=5,J=function(e){return e?.15:.25},ee=12,et=70,en=300,er=500,ei=["image/png","image/jpg","image/jpeg","image/svg+xml","image/gif"],eo="-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica Neue, Helvetica, Nimbus Sans, Ubuntu, Roboto, Noto, Arial, sans-serif",ea="arrow",es=[430,600],eu=(u={},(0,A.Z)(u,d.Nm.LEFT,""),(0,A.Z)(u,d.Nm.RIGHT,""),(0,A.Z)(u,d.Nm.UP,""),(0,A.Z)(u,d.Nm.DOWN,""),u);c={},(0,A.Z)(c,d.Nm.UP,d.Nm.DOWN),(0,A.Z)(c,d.Nm.DOWN,d.Nm.UP),(0,A.Z)(c,d.Nm.LEFT,d.Nm.RIGHT),(0,A.Z)(c,d.Nm.RIGHT,d.Nm.LEFT);var ec=(l={},(0,A.Z)(l,h.tW.ARROW_UP,d.Nm.UP),(0,A.Z)(l,h.tW.ARROW_DOWN,d.Nm.DOWN),(0,A.Z)(l,h.tW.ARROW_LEFT,d.Nm.LEFT),(0,A.Z)(l,h.tW.ARROW_RIGHT,d.Nm.RIGHT),l),el=6,eA=2,ed=6.5,ef=.8,eh=1.5,ep=26/Math.PI,eg=50,ev=10,em=12,ey=6,eb=4,ew=12,e_=8,eE=12,eC=10,eB=30},35445:function(e,t,n){"use strict";n.d(t,{Oi:function(){return m},PJ:function(){return v}});var r=n(70865),i=n(96670),o=n(56818),a={isDeleted:!1,opacity:100,angle:0,roughness:1,shouldApplyRoughness:!0,groupIds:[],boundElementIds:null,lockedGroupId:null,diagramId:null,containerId:null,figureId:null},s=(0,i.Z)((0,r.Z)({},a),{fillStyle:"solid",backgroundColor:"transparent",strokeColor:"#1c1c1c",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round",colorMode:0,elementStyle:1}),u={defaultProperties:(0,r.Z)({},a)},c={allowChangeShape:!0,allowSmartDuplication:!0,defaultProperties:(0,r.Z)({},s)},l={defaultProperties:(0,i.Z)((0,r.Z)({},a),{strokeColor:"#d7d9dc",backgroundColor:"#ffffff",fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",roughness:0,strokeSharpness:"sharp"})},A={defaultProperties:(0,r.Z)({},s)},d={isScalable:!0,defaultProperties:(0,i.Z)((0,r.Z)({},a),{backgroundColor:"transparent",fillStyle:"solid",strokeColor:"#1c1c1c",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round",parentElementMetadata:null})},f={isScalable:!0,defaultProperties:(0,i.Z)((0,r.Z)({},a),{fillStyle:"solid",backgroundColor:"transparent",strokeColor:"#d7d9dc",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round",isBeingGenerated:!1,forceAiMode:!1,isSyntaxMissing:!1,isSyntaxBroken:!1,scale:1})},h={selectionHitBox:"self",selectionStrategy:"spline",defaultProperties:(0,i.Z)((0,r.Z)({},a),{lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:null,endArrowhead:"arrow",arrowHeadSize:12,textGap:null,gaps:[]})},p=(0,i.Z)((0,r.Z)({},s),{backgroundColor:"#000000",strokeColor:"#000000",strokeWidth:.5,strokeStyle:"solid",strokeSharpness:"sharp",roughness:.5}),g=(0,i.Z)((0,r.Z)({},c),{allowChangeShape:!1,allowSmartDuplication:!1,defaultProperties:p}),v={allowChangeShape:!1,allowSmartDuplication:!1,defaultProperties:(0,i.Z)((0,r.Z)({},a),{opacity:100,fillStyle:"solid",strokeColor:"#000000",backgroundColor:"#000000",strokeStyle:"solid",strokeSharpness:"sharp",roughness:.5,strokeWidth:.5,customStyle:!1})};function m(e){return null==e?void 0:(0,o.$5)(e)?l:(0,o.L0)(e)?f:(0,o.Sf)(e)?d:(0,o.kh)(e)?h:(0,o._u)(e)?v:(0,o.WQ)(e)?e.isDeviceFrame?A:e.diagramId?g:c:u}},42327:function(e,t,n){"use strict";n.d(t,{Lm:function(){return u},_M:function(){return l},fL:function(){return a},ng:function(){return s},qP:function(){return c}});var r=n(70865),i=n(96670),o=n(56818),a=function(e){return null==e.x||null==e.y||null==e.width||null==e.height},s=function(e){return"freedraw"===e.type&&e.points.length<2},u=function(e){return e.filter(function(e){return!e.isDeleted&&!a(e)})},c=function(e){return!e.isDeleted},l=function(e){return u(e).map(function(e){return(0,o.dt)(e.type)?(0,i.Z)((0,r.Z)({},e),{lastCommittedPoint:null}):e})}},76436:function(e,t,n){"use strict";n.d(t,{BE:function(){return l},DR:function(){return u},nP:function(){return c}});var r=n(70865),i=n(96670),o=n(98030),a=n(7424),s=n(28839),u=function(e,t,n){var i=!1,a=t.points;for(var u in void 0!==a&&(t=(0,r.Z)({},(0,o.kc)(a),t)),t){var l=t[u];if("number"==typeof l&&isNaN(l)){console.warn("mutateElement hit NaN",u,l,Error().stack);continue}if(void 0!==l){if(e[u]===l&&("object"!=typeof l||null===l||"groupIds"===u))continue;e[u]=l,i=!0}}if(i){c(e);var A=s.Z.getScene(e);if((null==A?void 0:A.getPhantomElement(e.id))===e){A.informPhantomMutation({phantomElements:[e],preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender});return}if((null==A?void 0:A.getElement(e.id))===e)A.informMutation({changedElements:[e],preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender});else if(A){var d,f=null===(d=Error().stack)||void 0===d?void 0:d.split("\n")[2].replace(/^\s+at\s+/,"");console.warn("mutateElement called with an out of date version of element, this means replaceAllElements was called or a stale spreaded element is being passed.\n\nCalled from: ".concat(f,"\n\nWith keys: ").concat(Object.keys(t).join(", ")))}else e.type}};function c(e){e.version++,e.versionNonce=(0,a.LU)(),e.modifiedAt=Date.now()}var l=function(e,t){return(0,i.Z)((0,r.Z)({},e,t),{modifiedAt:Date.now(),version:e.version+1,versionNonce:(0,a.LU)()})}},26843:function(e,t,n){"use strict";n.d(t,{HL:function(){return l},N9:function(){return u},rV:function(){return c}});var r=n(70865),i=n(96670),o=n(76436),a=n(56818),s=n(61542);function u(e,t){var n=c(e,t);return n?(0,o.BE)(e,n):e}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=t.scale/n,i={x:t.x+e.x*r,y:t.y+e.y*r,width:e.width*r,height:e.height*r,strokeWidth:e.strokeWidth*r};return 1!==r&&((0,a.kh)(e)&&(e.points&&(i.points=e.points.map(function(e){return[e[0]*r,e[1]*r]})),e.arrowHeadSize&&(i.arrowHeadSize=r*e.arrowHeadSize),e.textGap&&(i.textGap=e.textGap.map(function(e){return e*r})),e.gaps&&(i.gaps=e.gaps.map(function(e){return e.map(function(e){return e*r})}))),(0,a.Sf)(e)&&(i.scale=e.scale*r)),i}}function l(e,t,n){var a=!0,u=!1,l=void 0;try{for(var A,d=(0,s.Q8)(e,t)[Symbol.iterator]();!(a=(A=d.next()).done);a=!0){var f=A.value,h=(0,i.Z)((0,r.Z)({},f),{x:f.x-n.x,y:f.y-n.y}),p=c(h,t,n.scale);p&&(0,o.DR)(f,p)}}catch(e){u=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw l}}}},74410:function(e,t,n){"use strict";n.d(t,{S2:function(){return m},Sv:function(){return g},ZO:function(){return y}});var r,i=n(90581),o=n(47842),a=n(70865),s=n(96670),u=n(31632),c=n(48389),l=n(46317),A=n(98568),d=n(7424),f=n(93939),h=n(51632),p=n(6901),g=function(e){r=e},v=/*#__PURE__*/function(){function e(t){var n;(0,i.Z)(this,e),this._namespace=t,this._elementToHtmlCache=(n={},(0,o.Z)(n,u.ck.CodeBlock,new WeakMap),(0,o.Z)(n,u.ck.Normal,new WeakMap),n),this.existingEditors={}}var t=e.prototype;return t.setHTML=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appPositionMetrics,i=n.width,o=this._getOrCreateEditor(e),s=this._getContentFromElement((0,a.Z)({},e,t)),u=s.text,c=s.html,l=this._setHtmlContent(o,{text:u,html:c}),A=(0,f.zX)(e).naturalWidth,d=e.hasFixedBounds?A:i;return this._setDefaultStyles(l,e,n),o.style.width=d?"".concat(d,"px"):"auto",o.style.visibility="visible",l.style.transform=(0,h.C)(d||l.offsetWidth,l.offsetHeight,e.angle,r,e.scale),l},t.measureBaseline=function(e){var t=this.setHTML(e,{text:e.text,html:e.html}),n=document.createElement("span");n.style.display="inline-block",n.style.overflow="hidden",n.style.width="1px",n.style.height="1px",t.appendChild(n);var r=n.offsetTop+n.offsetHeight;return n.remove(),r},t.measureScaledSize=function(e,t,n,r,i){var o,s=t.text,c=t.html,l=t.slate,A=e.mode===u.ck.CodeBlock&&s.match(/^\n/);A&&(s="/"+s,c=c?c.replace("\n","/\n"):void 0);var d=this.setHTML(e,{text:s,html:c,slate:l},(0,a.Z)({width:n,appPositionMetrics:r},i)),f=d.getBoundingClientRect(),h=f.width,p=f.height;return A&&this.setHTML(e,t,{width:n,appPositionMetrics:r}),null===(o=d.parentElement)||void 0===o||o.remove(),[h,p]},t.measureScaledSizeWithText=function(e,t){var n=this._getContentFromElement(e),r=n.text,i=n.html,o=this._getOrCreateEditor(),a=this._setHtmlContent(o,{text:r,html:i});this._setDefaultStyles(a,e,t),a.style.transform="scale(".concat(e.scale,")");var s=a.getBoundingClientRect(),u=s.width,c=s.height;if(null==t?void 0:t.fitToText){var l=-1/0,A=!0,d=!1,f=void 0;try{for(var h,p=(function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){var t;return(null===(t=e.textContent)||void 0===t?void 0:t.trim())?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n=[],r=t.nextNode();r;)n.push(r),r=t.nextNode();return n})(a)[Symbol.iterator]();!(A=(h=p.next()).done);A=!0){var g=h.value,v=function(e){var t=document.createRange();t.selectNodeContents(e);var n=t.getBoundingClientRect();return t.detach(),n}(g);v.width>l&&(l=v.width)}}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}u=Number.isFinite(l)?l:u}return o.remove(),[u,c]},t.refreshEditorPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._getOrCreateEditor(e);if(!this.existingEditors[e.id]){var i=this._getContentFromElement(e),o=i.text,a=i.html;this._setHtmlContent(r,{text:o,html:a})}var s=r.childNodes[0],u=(0,f.zX)(e),c=u.naturalWidth,l=u.naturalHeight,A=(0,f.Zz)({element:e,offset:t,scrollState:t}),d=A.x,p=A.y;Object.assign(r.style,{visibility:"visible",top:"".concat(p,"px"),left:"".concat(d,"px"),width:"".concat(c,"px"),zIndex:"".concat(e.zIndex||1)}),this._setDefaultStyles(s,e,n),s.style.width="".concat(c,"px"),s.style.height="".concat(l,"px"),s.style.transform=(0,h.C)(c,l,e.angle,t,e.scale)},t.hideFromCanvas=function(e){this.existingEditors[e.id]&&(this._getOrCreateEditor(e).remove(),this.existingEditors[e.id]=!1)},t._getOrCreateEditor=function(e){var t=(null==e?void 0:e.id)||(0,d.kb)(),n="".concat(this._namespace,"-textbox-").concat(t),r=document.getElementById(n);if(r)return r;(r=document.createElement("div")).id=n,r.className="textEditorWrapper";var i=document.createElement("div"),o=(null==e?void 0:e.fontFamily)===A.mp.MONO;i.contentEditable="false",i.classList.add("textMeasurerEditor"),p.Um&&i.classList.add("darwin"),o&&i.classList.add("is-monospace"),r.appendChild(i);var a=document.getElementById(A.uB);return a&&a.appendChild(r),e&&(this.existingEditors[e.id]=!0),r},t._setHtmlContent=function(e,t){var n=e.childNodes[0];return n.innerHTML=t.html||t.text.split(/\n/).map(function(e){return 0===e.trim().length?"&nbsp;":e}).join("\n"),n},t._getContentFromElement=function(e){var t=e.text,n=e.html,i=e.mode,o=e.slate;if(!o||0===o.length)return{text:t,html:n||t};var a=this._elementToHtmlCache[i||u.ck.Normal];if(a.has(o))return a.get(o);var s={text:t,html:n};return r&&(s=r({textboxElement:{text:t,html:n,slate:o},mode:null!=i?i:u.ck.Normal}),a.set(o,s)),s},t._setDefaultStyles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.theme,i=n.maxWidth,o=(0,l.I)(e),u=o?A.IM[t.fontFamily]:A.j9[t.fontFamily];Object.assign(e.style,(0,s.Z)((0,a.Z)({width:"100%",height:"100%",display:"block",userSelect:"none",pointerEvents:"none",whiteSpace:"pre-wrap",wordBreak:"break-word",alignSelf:"flex-start"},(0,f.P)(t)),{top:"".concat(u||0,"px"),textAlign:t.textAlign,paddingBottom:o?0:"3px",lineHeight:A.hU,maxWidth:i?"".concat(i,"px"):"none",color:(0,c.dN)(t.strokeColor,r)}))},e}(),m=new v("measurer"),y=new v("previewer")},51632:function(e,t,n){"use strict";n.d(t,{C:function(){return i},j:function(){return r}});var r=function(e,t){return{zoom:t.zoom,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,scrollX:t.scrollX,scrollY:t.scrollY}},i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=180*n/Math.PI;if(!r)return"scale(".concat(i,")");var a=r.zoom,s=r.offsetTop,u=(e-2*r.offsetLeft)*(a.value-1)/2,c=(t-2*s)*(a.value-1)/2;return"translate(".concat(u,"px, ").concat(c,"px) scale(").concat(a.value*i,") rotate(").concat(o,"deg)")}},56818:function(e,t,n){"use strict";n.d(t,{$5:function(){return d},$N:function(){return a},AW:function(){return c},Am:function(){return C},B3:function(){return l},F9:function(){return T},FL:function(){return M},H7:function(){return P},J8:function(){return S},L0:function(){return E},Le:function(){return f},Mt:function(){return s},SQ:function(){return N},Sf:function(){return b},TB:function(){return p},UB:function(){return D},WQ:function(){return A},_u:function(){return m},bA:function(){return w},bt:function(){return x},dt:function(){return u},e7:function(){return y},f0:function(){return R},fe:function(){return k},gk:function(){return B},h4:function(){return I},iB:function(){return g},kh:function(){return h},pC:function(){return v},r2:function(){return L},r_:function(){return j},y$:function(){return i},yZ:function(){return _},zK:function(){return U}});var r=n(31632);function i(e){var t;return"cardinalElbowData"in e&&!!(null===(t=e.cardinalElbowData)||void 0===t?void 0:t.isEnabled)}var o=function(e){return"selection"===e||"rectangle"===e||"oval"===e||"star"===e||"document"===e||"hexagon"===e||"parallelogram"===e||"trapezoid"===e||"cylinder"===e||"diamond"===e||"triangle"===e||"ellipse"===e},a=function(e){return"selection"!==e&&o(e)},s=function(e){return"arrow"===e||"line"===e},u=function(e){return"arrow"===e||"freedraw"===e||"line"===e||"draw"===e},c=function(e){return"text"===e||"textbox"===e},l=function(e){return null!=e&&o(e.type)},A=function(e){return!!e&&a(e.type)},d=function(e){return!!e&&"figure"===e.type},f=function(e){return"arrow"===e||"line"===e},h=function(e){return f(null==e?void 0:e.type)},p=function(e){return h(e)&&!e.isDeleted&&!!(e.endBinding||e.startBinding)},g=function(e){return null!=e&&"text"===e.type},v=function(e){return null!=e&&"image"===e.type},m=function(e){return(null==e?void 0:e.type)==="icon"},y=function(e,t){return m(e)||A(e)&&!!e.lockedGroupId&&!e.isContainer&&E(t)&&t.diagramType===r.pj.CAD},b=function(e){return null!=e&&"textbox"===e.type},w=function(e){return b(e)&&e.mode===r.ck.CodeBlock},_=function(e){return null!=e&&("text"===e.type||"textbox"===e.type)},E=function(e){return null!=e&&"diagram"===e.type},C=function(e){return E(e)&&(e.diagramType===r.pj.CAD||e.diagramType===r.pj.FLOW)},B=function(e,t){return e.some(function(e){var n=e.diagramId?null==t?void 0:t.getElement(e.diagramId):null;return!!n&&n.diagramType===r.pj.BPMN||"diagramEntityId"in e&&null!=e.diagramEntityId&&!e.isContainer})},I=function(e){return null!=e&&"comment"===e.type},x=function(e){return null!=e&&u(e.type)},T=function(e){return null!=e&&S(e.type)},S=function(e){return"freedraw"===e},k=function(e){return"eraser"===e},N=function(e){return null!=e&&k(e.type)},D=function(e){return["eraser","freedraw"].includes(e)},O=["rectangle","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","ellipse","text","icon","image","figure"],R=function(e){return"textbox"===e.type?!e.lockedGroupId:O.includes(e.type)},F=["textbox","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","rectangle","ellipse","arrow","icon","image","freedraw","line","figure","draw","text"],L=function(e){return F.includes(null==e?void 0:e.type)},P=function(e){return"v2"===e.shapeVersion},U=new Set([r.pj.CAD,r.pj.FLOW,r.pj.CUSTOM]),M=function(e){return!!e.diagramType&&U.has(e.diagramType)},j=function(e){return M(e)||e.diagramType===r.pj.BPMN}},57568:function(e,t,n){"use strict";n.d(t,{$L:function(){return f},bZ:function(){return u},f:function(){return d},po:function(){return l}});var r=n(98788),i=n(22970),o=n(35937),a=n(89813),s=new Map;function u(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(e){var t,n,r,o=arguments;return(0,i.__generator)(this,function(i){var a;return n=e+Object.keys(a=t=o.length>1&&void 0!==o[1]?o[1]:{}).sort().reduce(function(e,t){return"".concat(e,"|").concat(t,"=").concat(JSON.stringify(a[t]))},""),(r=s.get(n))||(r=l(e,t,10),s.set(n,r)),[2,r]})})).apply(this,arguments)}function l(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function(e){var t,n,r,o,s,u,c,A,f,h,p=arguments;return(0,i.__generator)(this,function(i){switch(i.label){case 0:t=p.length>1&&void 0!==p[1]?p[1]:{},n=p.length>2&&void 0!==p[2]?p[2]:0,r=p.length>3&&void 0!==p[3]?p[3]:0,s=void 0===(o=t.crossOrigin)?"anonymous":o,c=void 0===(u=t.applyOptimizations)||u,A=t.lowQualityImagePreview,f=document.createElement("img"),e.startsWith("data:")||null==s||(f.crossOrigin=s),f.src=d(e,{applyOptimizations:c,lowQualityImagePreview:A}),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,f.decode()];case 2:return i.sent(),[2,f];case 3:if(h=i.sent(),!(n>0))return[3,5];return[4,(0,a.Z)((r+1)*200)];case 4:return i.sent(),[2,l(e,t,n-1,r+1)];case 5:throw h;case 6:return[3,7];case 7:return[2]}})})).apply(this,arguments)}function d(e,t){var n=t.applyOptimizations,r=t.lowQualityImagePreview;return n?(0,o.V)(e,{fit:"fill",auto:["compress","format"],"max-w":r?256:2048,"max-h":r?256:2048}):(0,o.V)(e)}function f(){s.clear()}},27352:function(e,t,n){"use strict";n.d(t,{Ac:function(){return u},Wl:function(){return a},aU:function(){return i},tW:function(){return o},zJ:function(){return s}});var r=n(6901),i={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",C:"KeyC",G:"KeyG",K:"KeyK",F:"KeyF",H:"KeyH",M:"KeyM",V:"KeyV",Z:"KeyZ"},o={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",CTRL:"ctrlKey",SHIFT:"shiftKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",FORWARD_SLASH:"/",DOT:".",COMMA:",",LEFT_CARET:"<",RIGHT_CARET:">",A:"a",C:"c",D:"d",E:"e",F:"f",I:"i",J:"j",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Z:"z"},a=function(e){return e===o.ARROW_LEFT||e===o.ARROW_RIGHT||e===o.ARROW_DOWN||e===o.ARROW_UP},s=function(e){return e.altKey},u=function(e){return e.shiftKey}},98030:function(e,t,n){"use strict";n.d(t,{Lp:function(){return u},eN:function(){return o},kc:function(){return i},tw:function(){return c},zJ:function(){return s}});var r=n(50930),i=function(e){var t,n,i,o,a=e.map(function(e){return e[0]}),s=e.map(function(e){return e[1]});return{width:(t=Math).max.apply(t,(0,r.Z)(a))-(n=Math).min.apply(n,(0,r.Z)(a)),height:(i=Math).max.apply(i,(0,r.Z)(s))-(o=Math).min.apply(o,(0,r.Z)(s))}},o=function(e){if(e.length<2){var t;return console.warn("Unable to calculate line mid point. Points.length = ".concat(e.length)),null!==(t=e[0])&&void 0!==t?t:[0,0]}for(var n=0,r=e.map(function(t,r){var i=0===r?[0,0]:e[r-1],o=Math.hypot(t[0]-i[0],t[1]-i[1]);return n+=o,o}),i=n/2,o=0,a=0,s=0;s<r.length;s++)if((a+=r[s])>i){o=s;break}var u=e[o-1],c=e[o];return u&&c||(u=e[0],c=e[1]),[(u[0]+c[0])/2,(u[1]+c[1])/2]},a=function(e,t){var n=1/0,r=-1/0;e.forEach(function(e){var i=e[t];n=Math.min(i,n),r=Math.max(i,r)});var i=r-n;return{prevMin:n,prevMax:r,prevSize:i}};function s(e,t,n){var i=a(n,e),o=i.prevMin,s=i.prevSize,u=0===s?1:t/s,c=1/0,l=n.map(function(t){var n=t[e]*u;c=Math.min(n,c);var i=(0,r.Z)(t);return i[e]=n,i});if(2===l.length)return l;var A=o-c;return l.map(function(t){var n=(0,r.Z)(t);return"number"!=typeof n[e]||(n[e]=n[e]+A),n})}var u=function(e){return[e.x,e.y]};function c(e){return{x:e[0],y:e[1]}}},7424:function(e,t,n){"use strict";n.d(t,{LU:function(){return o},kb:function(){return a}});var r=n(37164),i=new(n(54298)).k(Date.now()),o=function(){return Math.floor(2147483648*i.next())},a=function(){return(0,r.x0)()}},33489:function(e,t,n){"use strict";n.d(t,{FM:function(){return h},Mk:function(){return b},NJ:function(){return l},Sj:function(){return g},UO:function(){return c},kK:function(){return y},kf:function(){return d},mt:function(){return v},q2:function(){return f},r9:function(){return m},sN:function(){return p},tZ:function(){return A}});var r=n(90581),i=n(47842),o=n(50930),a=n(56818),s=n(26843),u=n(10291),c=new WeakMap([]),l=new WeakMap,A=new WeakMap,d=new WeakMap,f=new WeakMap,h=function(e){var t=d.get(e);if(t&&t.version===e.version)return t.bounds},p=function(e,t){d.set(e,{bounds:t,version:e.version})},g=function(e){var t=f.get(e);if(t&&t.version===e.version)return t.coords},v=function(e,t){f.set(e,{coords:t,version:e.version})},m=function e(){(0,r.Z)(this,e)};m.cache=new Map,m.textboxCanvasesMap=new Map,m.setCache=function(e,t,n,r,i){var o={scale:e.scale,elements:t,code:e.code,parsed:n,selectionData:r,lineMapping:null!=i?i:void 0};return m.cache.set(e.id,o),o},m.getCache=function(e){return m.cache.get(e.id)||null},m.getParseMapping=function(e){var t=m.cache.get(e.id);return(null==t?void 0:t.parsed)&&"parsedDiagram"in t.parsed?t.parsed:null},m.generateTextboxCanvases=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)!function(){var e=c.value;if((0,a.Sf)(e)){var r=(0,s.N9)(e,t);null===m.getTextboxCanvas(t,r)&&n.push((0,u.PZ)(r,t.id).then(function(e){m.setTextboxCanvas(t,r,e)}))}}()}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Promise.all(n)},m.setTextboxCanvas=function(e,t,n){var r=m.textboxCanvasesMap.get(e.id);if(r){r[t.id]=n;return}m.textboxCanvasesMap.set(e.id,(0,i.Z)({},t.id,n))},m.getTextboxCanvas=function(e,t){var n;return e&&(null===(n=m.textboxCanvasesMap.get(e.id))||void 0===n?void 0:n[t.id])||null},m.cleanTextboxCanvases=function(e){m.textboxCanvasesMap.delete(e.id)},m.clean=function(e){m.cleanTextboxCanvases(e),m.cache.delete(e.id)};var y=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e)}return e.add=function(t){t.targetElementId&&(e.cache.has(t.targetElementId)?e.cache.set(t.targetElementId,(0,o.Z)(e.cache.get(t.targetElementId)||[]).concat([t])):e.cache.set(t.targetElementId,[t]))},e.set=function(t,n){t&&(0,a.h4)(t)&&(t.targetElementId||n)&&t.targetElementId!==n&&(n?(t.targetElementId&&e.cache.set(t.targetElementId,(0,o.Z)(e.cache.get(t.targetElementId)||[]).concat([t])),e.cache.set(n,(0,o.Z)((e.cache.get(n)||[]).filter(function(e){return e.id!==t.id})))):t.targetElementId&&e.cache.set(t.targetElementId,(0,o.Z)(e.cache.get(t.targetElementId)||[]).concat([t])))},e.get=function(t){return e.cache.get(t)||[]},e.clear=function(){e.cache.clear()},e}();y.cache=new Map([]);var b=new/*#__PURE__*/(function(){function e(){(0,r.Z)(this,e),this.childElementsMap=new Map,this.textboxCanvasesMap=new WeakMap,this.loadPromisesMap=new WeakMap}var t=e.prototype;return t.setChildElements=function(e,t){this.childElementsMap.set(e.id,t)},t.getChildElements=function(e){return this.childElementsMap.get(e.id)},t.getChildElement=function(e,t){var n;return null===(n=this.childElementsMap.get(e.id))||void 0===n?void 0:n.find(function(e){return e.id===t})},t.hasChildElements=function(e){return this.childElementsMap.has(e.id)},t.clearChildElements=function(e){this.childElementsMap.delete(e.id)},t.setLoadPromise=function(e,t){this.loadPromisesMap.set(e,t)},t.getLoadPromise=function(e){return this.loadPromisesMap.get(e)},t.getTextboxCanvas=function(e){return this.textboxCanvasesMap.get(e)},t.setTextboxCanvas=function(e,t){this.textboxCanvasesMap.set(e,t)},t.clearTextboxCanvas=function(e){this.textboxCanvasesMap.delete(e)},t.hasTextboxCanvas=function(e){return this.textboxCanvasesMap.has(e)},t.delete=function(e){this.childElementsMap.delete(e.id)},t.clear=function(){this.childElementsMap.clear()},e}())},28839:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(87394),s=n(96795),u=/*#__PURE__*/n.n(s),c=n(32472),l=n(54367),A=n(42327),d=n(56818),f=n(57568),h=n(33489),p=n(89848),g=n(76436),v=function(e){return"string"==typeof e},m=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e),this._batch=!1,this._callbacks=new Set,this._elements=[],this._elementsMap=new Map,this._elementIds=new Set,this._elementIdsByGroupId=new Map,this._groupIdsByElementId=new Map,this._elementIdsByFigureId=new Map,this._figureIdByElementId=new Map,this._mutationVersion=0,this.phantomElements=new Map,this._destroyed=!1}var t=e.prototype;return t.getElements=function(){return this._elements},t.getElementsById=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=this._elementsMap.get(s);u&&t.push(u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t},t.getElement=function(e){return this._elementsMap.get(e)||null},t.getElementIdsInGroup=function(e){if(e)return this._elementIdsByGroupId.get(e)},t.getElementsInGroup=function(e){if(e){var t=this._elementIdsByGroupId.get(e);if(!t){console.warn("No elements found for group",e);return}var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=this._elementsMap.get(u);c?n.push(c):console.warn("Element not found for id",u)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return(0,l.W)(n)}},t.getElementsInFigure=function(e){if(e){var t=this._elementIdsByFigureId.get(e);if(t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=this._elementsMap.get(u);c&&n.push(c)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return(0,l.W)(n)}}},t.getElementIdsInFigure=function(e){if(e)return this._elementIdsByFigureId.get(e)},t.getVersion=function(){return this._mutationVersion},t.replaceAllElements=function(t,n){var r=this,s=[];(null==n?void 0:n.ignorePendingComments)||(s=this._elements.filter(function(e){return(0,d.h4)(e)&&!e.isDeleted&&null==e.threadId}));var u=t.filter(function(e){return!(e.compound&&"child"===e.compound.type)}),c=(0,p.L)(u),l=this._elementsMap,f=this._elementIds;this._elementsMap=new Map,this._elementIds=new Set;var v=[],m=[],y=[],b={},w=Object.entries((null==n?void 0:n.predicates)||{}),_=!0,E=!1,C=void 0;try{for(var B,I=w[Symbol.iterator]();!(_=(B=I.next()).done);_=!0)b[(0,a.Z)(B.value,1)[0]]=[]}catch(e){E=!0,C=e}finally{try{_||null==I.return||I.return()}finally{if(E)throw C}}h.kK.clear();var x=0,T=[],S=function(t){v.push(t),r._updateElementRelationships((0,o.Z)((0,i.Z)({},t),{isDeleted:!0})),e._sceneMapByElement.delete(t),e._sceneMapById.delete(t.id)},k=function(e){y.push(e),r._updateElementRelationships(e)},N=function(e){m.push(e),r._updateElementRelationships(e)};c.forEach(function(t){if(!r._elementIds.has(t.id)){r._elementsMap.set(t.id,t),r._elementIds.add(t.id),f.delete(t.id);var i=l.get(t.id);e.mapElementToScene(t,r),r._shouldNewElementBeMarkedDeleted(t,n)&&(t.isDeleted=!0,(0,g.nP)(t));var o=!0,s=!1,u=void 0;try{for(var c,A=w[Symbol.iterator]();!(o=(c=A.next()).done);o=!0){var p=(0,a.Z)(c.value,2),v=p[0];(0,p[1])(t,l.get(t.id))&&b[v].push(t)}}catch(e){s=!0,u=e}finally{try{o||null==A.return||A.return()}finally{if(s)throw u}}if(t.isDeleted){i&&!i.isDeleted&&S(t);return}var m=t.zIndex;t.zIndex=x++,T.push(t),!i||i.isDeleted?k(t):t!==i?N(t):t.zIndex!==m&&((0,g.nP)(t),N(t)),(0,d.h4)(t)&&h.kK.add(t),"elementIds"in t&&(t.elementIds=void 0)}});var D=!0,O=!1,R=void 0;try{for(var F,L=f[Symbol.iterator]();!(D=(F=L.next()).done);D=!0){var P=F.value,U=l.get(P);((null==n?void 0:n.isRemote)||U&&(0,A.qP)(U))&&S(U)}}catch(e){O=!0,R=e}finally{try{D||null==L.return||L.return()}finally{if(O)throw R}}var M=!0,j=!1,Z=void 0;try{for(var Q,H=s[Symbol.iterator]();!(M=(Q=H.next()).done);M=!0){var V=Q.value;V.zIndex=x++,T.push(V)}}catch(e){j=!0,Z=e}finally{try{M||null==H.return||H.return()}finally{if(j)throw Z}}return this._elements=T,(m.length||y.length||v.length)&&this._mutationVersion++,this._emitStateChange({changedElements:m,deletedElements:v,addedElements:y,previousElements:l,preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender,isRemote:!!(null==n?void 0:n.isRemote),isInitialRender:!!(null==n?void 0:n.isInitialRender)}),b},t.batchMutations=function(e){if(this._changeBatch){e();return}this._changeBatch=new Set,this._batch=!0,this._batchedPreventLocalTextboxRender=!0,e(),this._batch=!1;var t=(0,a.Z)(u()(Array.from(this._changeBatch),function(e){return e.id.startsWith(c.Kn)}),2),n=t[0],r=t[1];n.length>0&&this.informPhantomMutation({phantomElements:n,preventLocalTextboxRender:this._batchedPreventLocalTextboxRender}),this.informMutation({changedElements:r,preventLocalTextboxRender:this._batchedPreventLocalTextboxRender}),this._changeBatch=void 0,this._batchedPreventLocalTextboxRender=void 0},t.informMutation=function(e){var t=e.changedElements,n=void 0===t?[]:t,r=e.preventLocalTextboxRender,i=void 0!==r&&r,o=this;if(n.forEach(function(e){o._updateElementRelationships(e)}),this._batch){var a=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A,d=c.value;null===(A=this._changeBatch)||void 0===A||A.add(d)}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}i||(this._batchedPreventLocalTextboxRender=!1);return}this._mutationVersion++,this._emitStateChange({changedElements:n,deletedElements:[],addedElements:[],previousElements:this._elementsMap,preventLocalTextboxRender:i,isRemote:!1,isInitialRender:!1})},t.addCallback=function(e){var t=this;if(this._callbacks.has(e))throw Error("Scene already has this callback!");return this._callbacks.add(e),function(){if(!t._destroyed){if(!t._callbacks.has(e))throw Error();t._callbacks.delete(e)}}},t._updateElementRelationships=function(e){var t=this._groupIdsByElementId.get(e.id),n=this._figureIdByElementId.get(e.id),r=e.isDeleted?void 0:e.groupIds,i=e.isDeleted?void 0:e.figureId;if(null==t?void 0:t.size){var o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l,A=u.value;(null==r?void 0:r.includes(A))||null===(l=this._elementIdsByGroupId.get(A))||void 0===l||l.delete(e.id)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}if(null==r?void 0:r.length){this._groupIdsByElementId.set(e.id,new Set(r));var d=!0,f=!1,h=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value;(null==t?void 0:t.has(v))||(this._elementIdsByGroupId.has(v)||this._elementIdsByGroupId.set(v,new Set),this._elementIdsByGroupId.get(v).add(e.id))}}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}}else this._groupIdsByElementId.delete(e.id);i?this._figureIdByElementId.set(e.id,i):this._figureIdByElementId.delete(e.id),i!==n&&(i&&(this._elementIdsByFigureId.has(i)||this._elementIdsByFigureId.set(i,new Set),this._elementIdsByFigureId.get(i).add(e.id)),n&&this._elementIdsByFigureId.get(n).delete(e.id))},t._shouldNewElementBeMarkedDeleted=function(e,t){var n;return!e.isDeleted&&(!!(0,A.fL)(e)||!!((null==t?void 0:t.isInitialRender)&&!(null==t?void 0:t.skipDeleteHangingDiagramElements)&&e.diagramId&&(!this.getElement(e.diagramId)||(null===(n=this.getElement(e.diagramId))||void 0===n?void 0:n.isDeleted))))},t._emitStateChange=function(e){var t=e.changedElements,n=e.deletedElements,r=e.addedElements,i=e.phantomElements,o=e.previousElements,a=e.preventLocalTextboxRender,s=e.isRemote,u=e.isInitialRender,c=!0,l=!1,A=void 0;try{for(var d,f=Array.from(this._callbacks)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)(0,d.value)({sceneVersion:this.getVersion(),changedElements:t,deletedElements:n,addedElements:r,phantomElements:i,previousElements:o,preventLocalTextboxRender:a,isRemote:!!s,isInitialRender:!!u})}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}},t.destroy=function(){var t=this;this._destroyed=!0,e._sceneMapById.forEach(function(n,r){n===t&&e._sceneMapById.delete(r)}),this._callbacks.clear(),(0,f.$L)()},t.informPhantomMutation=function(e){var t=e.phantomElements,n=void 0===t?[]:t,r=e.preventLocalTextboxRender,i=void 0!==r&&r;if(this._batch){var o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l,A=u.value;null===(l=this._changeBatch)||void 0===l||l.add(A)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}i||(this._batchedPreventLocalTextboxRender=!1);return}this._emitStateChange({changedElements:[],deletedElements:[],addedElements:[],phantomElements:n,previousElements:this._elementsMap,preventLocalTextboxRender:i,isRemote:!1,isInitialRender:!1})},t.getPhantomElements=function(){return Array.from(this.phantomElements.values())},t.getPhantomElement=function(e){return this.phantomElements.get(e)||null},t.addPhantomElements=function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.mapElementToScene(s,this),this.phantomElements.set(s.id,s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}t.length>0&&this.informPhantomMutation({phantomElements:t})},t.clearPhantomElements=function(e){if(0!==this.phantomElements.size){if(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.phantomElements.delete(c.Kn+a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}else this.phantomElements.clear();var s=this.getPhantomElements();e&&e.length>0&&(s=s.filter(function(t){return!e.includes(t.id.replace(c.Kn,""))})),this.informPhantomMutation({phantomElements:Array.from(s)})}},e.mapElementToScene=function(t,n){if(v(t)){var r=n.getElement(t);r&&(e._sceneMapById.set(t,n),e._sceneMapByElement.set(r,n))}else e._sceneMapByElement.set(t,n),e._sceneMapById.set(t.id,n)},e.unmapElementFromScene=function(t){var n=e.getScene(t);if(n){var r=v(t)?n.getElement(t):t,i=v(t)?t:t.id;e._sceneMapById.delete(i),r&&e._sceneMapByElement.delete(r)}},e.getScene=function(t){return v(t)?e._sceneMapById.get(t)||null:e._sceneMapByElement.get(t)||e._sceneMapById.get(t.id)||null},e}();m._sceneMapByElement=new WeakMap,m._sceneMapById=new Map,t.Z=m},10291:function(e,t,n){"use strict";n.d(t,{wu:function(){return aE},PZ:function(){return aC},TS:function(){return aw}});for(var r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,N,D,O,R,F,L,P,U,M,j,Z,Q,H,V,K,G,z,W,q,Y,$,X,J,ee,et,en,er,ei,eo,ea,es,eu,ec,el,eA,ed,ef,eh,ep,eg,ev,em,ey,eb,ew,e_,eE,eC,eB,eI,ex,eT,eS=n(98788),ek=n(87394),eN=n(22970),eD=n(90581),eO=n(42838),eR=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},eF=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},eL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eU=0;eU<eL.length;eU++)eP[eL.charCodeAt(eU)]=eU;for(var eM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ej="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eZ=0;eZ<eM.length;eZ++)ej[eM.charCodeAt(eZ)]=eZ;for(var eQ=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},eH=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),eV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eK="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eG=0;eG<eV.length;eG++)eK[eV.charCodeAt(eG)]=eG;var ez=[9001,65288],eW=(i=Array.isArray(r=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):Array(a),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=ej[e.charCodeAt(t)],r=ej[e.charCodeAt(t+1)],i=ej[e.charCodeAt(t+2)],o=ej[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(r):new Uint32Array(r),a=eQ(o=Array.isArray(r)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(r):new Uint16Array(r),12,i[4]/2),c=2===i[5]?eQ(o,(24+i[4])/2):(s=Math.ceil((24+i[4])/4),i.slice?i.slice(s,void 0):new Uint32Array(Array.prototype.slice.call(i,s,u))),new eH(i[0],i[1],i[2],i[3],a,c)),eq=[30,36],eY=[1,2,3,5],e$=[10,8],eX=[27,26],eJ=eY.concat(e$),e0=[38,39,40,34,35],e1=[15,13],e2=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(e,o){var a=eW.get(e);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(30);var s=n[o-1];return -1===eJ.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(30))}return(r.push(o),31===a)?n.push("strict"===t?21:37):42===a||29===a?n.push(30):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(37):n.push(30):void n.push(a)}),[r,n,i]},e4=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var a=r[++o];if(a===t)return!0;if(10!==a)break}if(10===i)for(var o=n;o>0;){var s=r[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var u=n;u<=r.length;){var a=r[++u];if(a===t)return!0;if(10!==a)break}if(10!==s)break}return!1},e3=function(e,t){for(var n=e;n>=0;){var r=t[n];if(10!==r)return r;n--}return 0},e5=function(e,t,n,r,i){if(0===n[r])return"\xd7";var o=r-1;if(Array.isArray(i)&&!0===i[o])return"\xd7";var a=o-1,s=o+1,u=t[o],c=a>=0?t[a]:0,l=t[s];if(2===u&&3===l)return"\xd7";if(-1!==eY.indexOf(u))return"!";if(-1!==eY.indexOf(l)||-1!==e$.indexOf(l))return"\xd7";if(8===e3(o,t))return"\xf7";if(11===eW.get(e[o])||(32===u||33===u)&&11===eW.get(e[s])||7===u||7===l||9===u||-1===[10,13,15].indexOf(u)&&9===l||-1!==[17,18,19,24,28].indexOf(l)||22===e3(o,t)||e4(23,22,o,t)||e4([17,18],21,o,t)||e4(12,12,o,t))return"\xd7";if(10===u)return"\xf7";if(23===u||23===l)return"\xd7";if(16===l||16===u)return"\xf7";if(-1!==[13,15,21].indexOf(l)||14===u||36===c&&-1!==e1.indexOf(u)||28===u&&36===l||20===l||-1!==eq.indexOf(l)&&25===u||-1!==eq.indexOf(u)&&25===l||27===u&&-1!==[37,32,33].indexOf(l)||-1!==[37,32,33].indexOf(u)&&26===l||-1!==eq.indexOf(u)&&-1!==eX.indexOf(l)||-1!==eX.indexOf(u)&&-1!==eq.indexOf(l)||-1!==[27,26].indexOf(u)&&(25===l||-1!==[22,15].indexOf(l)&&25===t[s+1])||-1!==[22,15].indexOf(u)&&25===l||25===u&&-1!==[25,28,24].indexOf(l))return"\xd7";if(-1!==[25,28,24,17,18].indexOf(l))for(var A=o;A>=0;){var d=t[A];if(25===d)return"\xd7";if(-1!==[28,24].indexOf(d))A--;else break}if(-1!==[27,26].indexOf(l))for(var A=-1!==[17,18].indexOf(u)?a:o;A>=0;){var d=t[A];if(25===d)return"\xd7";if(-1!==[28,24].indexOf(d))A--;else break}if(38===u&&-1!==[38,39,34,35].indexOf(l)||-1!==[39,34].indexOf(u)&&-1!==[39,40].indexOf(l)||-1!==[40,35].indexOf(u)&&40===l||-1!==e0.indexOf(u)&&-1!==[20,26].indexOf(l)||-1!==e0.indexOf(l)&&27===u||-1!==eq.indexOf(u)&&-1!==eq.indexOf(l)||24===u&&-1!==eq.indexOf(l)||-1!==eq.concat(25).indexOf(u)&&22===l&&-1===ez.indexOf(e[s])||-1!==eq.concat(25).indexOf(l)&&18===u)return"\xd7";if(41===u&&41===l){for(var f=n[o],h=1;f>0;)if(41===t[--f])h++;else break;if(h%2!=0)return"\xd7"}return 32===u&&33===l?"\xd7":"\xf7"},e6=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=e2(e,t.lineBreak),r=n[0],i=n[1],o=n[2];return("break-all"===t.wordBreak||"break-word"===t.wordBreak)&&(i=i.map(function(e){return -1!==[25,30,42].indexOf(e)?37:e})),[r,i,"keep-all"===t.wordBreak?o.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0]},e8=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return eF.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),e9=function(e,t){var n=eR(e),r=e6(n,t),i=r[0],o=r[1],a=r[2],s=n.length,u=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e="\xd7";c<s&&"\xd7"===(e=e5(n,o,i,++c,a)););if("\xd7"!==e||c===s){var t=new e8(n,e,u,c);return u=c,{value:t,done:!1}}return{done:!0,value:null}}}},e7=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="".concat(123,"px"),n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=Math.round(t.getBoundingClientRect().height);if(e.body.removeChild(n),123===r)return!0}}return!1},te=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=eR(r.data).map(function(e){return eF(e)}),o=0,a={},s=i.every(function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s});return e.body.removeChild(t),s},tt=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},tn=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},tr=function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,i=t.toDataURL();r.src=i;var o=ti(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),to(o).then(function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url(".concat(i,")"),o.style.height="".concat(100,"px"),tn(r)?to(ti(100,100,0,0,o)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),tn(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})},ti=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},to=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(e)))})},ta={get SUPPORT_RANGE_BOUNDS(){var ts=e7(document);return Object.defineProperty(ta,"SUPPORT_RANGE_BOUNDS",{value:ts}),ts},get SUPPORT_WORD_BREAKING(){var tu=ta.SUPPORT_RANGE_BOUNDS&&te(document);return Object.defineProperty(ta,"SUPPORT_WORD_BREAKING",{value:tu}),tu},get SUPPORT_SVG_DRAWING(){var tc=tt(document);return Object.defineProperty(ta,"SUPPORT_SVG_DRAWING",{value:tc}),tc},get SUPPORT_FOREIGNOBJECT_DRAWING(){var tl="function"==typeof Array.from&&"function"==typeof window.fetch?tr(document):Promise.resolve(!1);return Object.defineProperty(ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:tl}),tl},get SUPPORT_CORS_IMAGES(){var tA=void 0!==new Image().crossOrigin;return Object.defineProperty(ta,"SUPPORT_CORS_IMAGES",{value:tA}),tA},get SUPPORT_RESPONSE_TYPE(){var td="string"==typeof new XMLHttpRequest().responseType;return Object.defineProperty(ta,"SUPPORT_RESPONSE_TYPE",{value:td}),td},get SUPPORT_CORS_XHR(){var tf="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ta,"SUPPORT_CORS_XHR",{value:tf}),tf},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var th=!!("undefined"!=typeof Intl&&Intl.Segmenter);return Object.defineProperty(ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:th}),th}},tp=/*#__PURE__*/function(){function e(){(0,eD.Z)(this,e)}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e}();tp._origin="about:blank";var tg=/*#__PURE__*/function(){function e(t,n){(0,eD.Z)(this,e),this.context=t,this._options=n,this._cache={}}var t=e.prototype;return t.addImage=function(e){var t=Promise.resolve();return this.has(e)||(tE(e)||tb(e))&&(this._cache[e]=this.loadImage(e),this._cache[e].catch(function(){})),t},t.match=function(e){return this._cache[e]},t.loadImage=function(e){var t=this;return(0,eS.Z)(function(){var n,r,i,o;return(0,eN.__generator)(this,function(a){switch(a.label){case 0:if(n=tp.isSameOrigin(e),r=!tw(e)&&!0===t._options.useCORS&&ta.SUPPORT_CORS_IMAGES&&!n,i=!tw(e)&&!n&&!tE(e)&&"string"==typeof t._options.proxy&&ta.SUPPORT_CORS_XHR&&!r,!n&&!1===t._options.allowTaint&&!tw(e)&&!tE(e)&&!i&&!r)return[2];if(o=e,!i)return[3,2];return[4,t.proxy(o)];case 1:o=a.sent(),a.label=2;case 2:return t.context.logger.debug("Added image ".concat(e.substring(0,256))),[4,new Promise(function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,(t_(o)||r)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout(function(){return e(i)},500),t._options.imageTimeout>0&&setTimeout(function(){return n("Timed out (".concat(t._options.imageTimeout,"ms) loading image"))},t._options.imageTimeout)})];case 3:return[2,a.sent()]}})})()},t.has=function(e){return void 0!==this._cache[e]},t.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,o){var a=ta.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status){if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(s.response)}}else o("Failed to proxy resource ".concat(r," with status code ").concat(s.status))},s.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(s.open("GET","".concat(n).concat(u,"url=").concat(encodeURIComponent(e),"&responseType=").concat(a)),"text"!==a&&(0,eO.Z)(s,XMLHttpRequest)&&(s.responseType=a),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return o("Timed out (".concat(c,"ms) proxying ").concat(r))}}s.send()})},e}(),tv=/^data:image\/svg\+xml/i,tm=/^data:image\/.*;base64,/i,ty=/^data:image\/.*/i,tb=function(e){return ta.SUPPORT_SVG_DRAWING||!tC(e)},tw=function(e){return ty.test(e)},t_=function(e){return tm.test(e)},tE=function(e){return"blob"===e.substr(0,4)},tC=function(e){return"svg"===e.substr(-3).toLowerCase()||tv.test(e)},tB=n(70865),tI=n(50930),tx=/*#__PURE__*/function(){function e(t){var n=t.id,r=t.enabled;(0,eD.Z)(this,e),this.id=n,this.enabled=r,this.start=Date.now()}var t=e.prototype;return t.debug=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.debug?(e=console).debug.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tI.Z)(n))):this.info.apply(this,(0,tI.Z)(n)))},t.getTime=function(){return Date.now()-this.start},t.info=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&window.console&&"function"==typeof console.info&&(e=console).info.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tI.Z)(n)))},t.warn=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.warn?(e=console).warn.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tI.Z)(n))):this.info.apply(this,(0,tI.Z)(n)))},t.error=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.error?(e=console).error.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tI.Z)(n))):this.info.apply(this,(0,tI.Z)(n)))},e}();tx.instances={};var tT=function e(t,n){var r;(0,eD.Z)(this,e),this.instanceName="#".concat(e.instanceCount++),this.windowBounds=n,this.logger=new tx({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new tg(this,t)};tT.instanceCount=1;var tS=/*#__PURE__*/function(){function e(t,n,r,i){(0,eD.Z)(this,e),this.left=t,this.top=n,this.width=r,this.height=i,this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e}();tS.EMPTY=new tS(0,0,0,0);var tk=function(e,t){return tS.fromClientRect(e,t.getBoundingClientRect())},tN=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw Error("Unable to get document size");return new tS(0,0,Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight)))};(l=$||($={}))[l.STRING_TOKEN=0]="STRING_TOKEN",l[l.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",l[l.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",l[l.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",l[l.COMMA_TOKEN=4]="COMMA_TOKEN",l[l.HASH_TOKEN=5]="HASH_TOKEN",l[l.DELIM_TOKEN=6]="DELIM_TOKEN",l[l.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",l[l.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",l[l.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",l[l.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",l[l.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",l[l.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",l[l.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",l[l.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",l[l.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",l[l.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",l[l.NUMBER_TOKEN=17]="NUMBER_TOKEN",l[l.FUNCTION=18]="FUNCTION",l[l.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",l[l.IDENT_TOKEN=20]="IDENT_TOKEN",l[l.COLUMN_TOKEN=21]="COLUMN_TOKEN",l[l.URL_TOKEN=22]="URL_TOKEN",l[l.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",l[l.CDC_TOKEN=24]="CDC_TOKEN",l[l.CDO_TOKEN=25]="CDO_TOKEN",l[l.COLON_TOKEN=26]="COLON_TOKEN",l[l.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",l[l.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",l[l.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",l[l.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",l[l.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",l[l.EOF_TOKEN=32]="EOF_TOKEN";var tD=function(e){return e>=48&&e<=57},tO=function(e){return tD(e)||e>=65&&e<=70||e>=97&&e<=102},tR=function(e){return 10===e||9===e||32===e},tF=function(e){var t;return(t=e)>=97&&t<=122||t>=65&&t<=90||e>=128||95===e},tL=function(e){return tF(e)||tD(e)||45===e},tP=function(e,t){return 92===e&&10!==t},tU=function(e,t,n){return 45===e?tF(t)||tP(t,n):!!(tF(e)||92===e&&tP(e,t))},tM=function(e,t,n){return 43===e||45===e?!!tD(t)||46===t&&tD(n):46===e?tD(t):tD(e)},tj=function(e){var t=0,n=1;(43===e[0]||45===e[t])&&(45===e[t]&&(n=-1),t++);for(var r=[];tD(e[t]);)r.push(e[t++]);var i=r.length?parseInt(eF.apply(void 0,(0,tI.Z)(r)),10):0;46===e[t]&&t++;for(var o=[];tD(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(eF.apply(void 0,(0,tI.Z)(o)),10):0;(69===e[t]||101===e[t])&&t++;var u=1;(43===e[t]||45===e[t])&&(45===e[t]&&(u=-1),t++);for(var c=[];tD(e[t]);)c.push(e[t++]);return n*(i+s*Math.pow(10,-a))*Math.pow(10,u*(c.length?parseInt(eF.apply(void 0,(0,tI.Z)(c)),10):0))},tZ={type:2},tQ={type:3},tH={type:4},tV={type:13},tK={type:8},tG={type:21},tz={type:9},tW={type:10},tq={type:11},tY={type:12},t$={type:14},tX={type:23},tJ={type:1},t0={type:25},t1={type:24},t2={type:26},t4={type:27},t3={type:28},t5={type:29},t6={type:31},t8={type:32},t9=/*#__PURE__*/function(){function e(){(0,eD.Z)(this,e),this._value=[]}var t=e.prototype;return t.write=function(e){this._value=this._value.concat(eR(e))},t.read=function(){for(var e=[],t=this.consumeToken();t!==t8;)e.push(t),t=this.consumeToken();return e},t.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tL(t)||tP(n,r)){var i=tU(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tV;break;case 39:return this.consumeStringToken(39);case 40:return tZ;case 41:return tQ;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),t$;break;case 43:case 46:if(tM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return tH;case 45:var o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(tM(e,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tU(e,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===o&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),t1;break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(42===s&&47===(s=this.consumeCodePoint())||-1===s)return this.consumeToken()}break;case 58:return t2;case 59:return t4;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),t0;break;case 64:if(tU(this.peekCodePoint(0),this.peekCodePoint(1),this.peekCodePoint(2)))return{type:7,value:this.consumeName()};break;case 91:return t3;case 92:if(tP(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return t5;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tK;break;case 123:return tq;case 125:return tY;case 117:case 85:var u=this.peekCodePoint(0),c=this.peekCodePoint(1);return 43===u&&(tO(c)||63===c)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tz;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),tG;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tW;break;case -1:return t8}return tR(e)?(this.consumeWhiteSpace(),t6):tD(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tF(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:eF(e)}},t.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},t.reconsumeCodePoint=function(e){this._value.unshift(e)},t.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();tO(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(eF.apply(void 0,(0,tI.Z)(e.map(function(e){return 63===e?48:e}))),16),end:parseInt(eF.apply(void 0,(0,tI.Z)(e.map(function(e){return 63===e?70:e}))),16)};var r=parseInt(eF.apply(void 0,(0,tI.Z)(e)),16);if(!(45===this.peekCodePoint(0)&&tO(this.peekCodePoint(1))))return{type:30,start:r,end:r};this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];tO(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(eF.apply(void 0,(0,tI.Z)(i)),16)}},t.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),tX)}for(;;){var r,i=this.consumeCodePoint();if(-1===i||41===i)return{type:22,value:eF.apply(void 0,(0,tI.Z)(e))};if(tR(i)){if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))return this.consumeCodePoint(),{type:22,value:eF.apply(void 0,(0,tI.Z)(e))};return this.consumeBadUrlRemnants(),tX}if(34===i||39===i||40===i||(r=i)>=0&&r<=8||11===r||r>=14&&r<=31||127===r)return this.consumeBadUrlRemnants(),tX;if(92===i){if(!tP(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),tX;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},t.consumeWhiteSpace=function(){for(;tR(this.peekCodePoint(0));)this.consumeCodePoint()},t.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;tP(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=eF.apply(void 0,(0,tI.Z)(this._value.splice(0,n))),e-=n}return this._value.shift(),t},t.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),tJ;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):tP(r,i)&&(t+=this.consumeStringSlice(n)+eF(this.consumeEscapedCodePoint()),n=-1))}n++}},t.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for((43===n||45===n)&&e.push(this.consumeCodePoint());tD(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&tD(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tD(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&tD(i)||tD(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tD(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[tj(e),t]},t.consumeNumericToken=function(){var e=(0,ek.Z)(this.consumeNumber(),2),t=e[0],n=e[1],r=this.peekCodePoint(0);return tU(r,this.peekCodePoint(1),this.peekCodePoint(2))?{type:15,number:t,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},t.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(tO(e)){for(var t=eF(e);tO(this.peekCodePoint(0))&&t.length<6;)t+=eF(this.consumeCodePoint());tR(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||n>=55296&&n<=57343||n>1114111?65533:n}return -1===e?65533:e},t.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tL(t))e+=eF(t);else{if(!tP(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=eF(this.consumeEscapedCodePoint())}}},e}(),t7=/*#__PURE__*/function(){function e(t){(0,eD.Z)(this,e),this._tokens=t}var t=e.prototype;return t.parseComponentValue=function(){for(var e=this.consumeToken();e.type===$.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===$.EOF_TOKEN)throw SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===$.WHITESPACE_TOKEN);if(e.type===$.EOF_TOKEN)return t;throw SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===$.EOF_TOKEN)return e;e.push(t),e.push()}},t.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case $.LEFT_CURLY_BRACKET_TOKEN:case $.LEFT_SQUARE_BRACKET_TOKEN:case $.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case $.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},t.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===$.EOF_TOKEN||na(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.consumeFunction=function(e){for(var t={name:e.value,values:[],type:$.FUNCTION};;){var n=this.consumeToken();if(n.type===$.EOF_TOKEN||n.type===$.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},t.consumeToken=function(){var e=this._tokens.shift();return void 0===e?t8:e},t.reconsumeToken=function(e){this._tokens.unshift(e)},e.create=function(t){var n=new t9;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e}(),ne=function(e){return e.type===$.DIMENSION_TOKEN},nt=function(e){return e.type===$.NUMBER_TOKEN},nn=function(e){return e.type===$.IDENT_TOKEN},nr=function(e,t){return nn(e)&&e.value===t},ni=function(e){return e.type!==$.WHITESPACE_TOKEN&&e.type!==$.COMMA_TOKEN},no=function(e){var t=[],n=[];return e.forEach(function(e){if(e.type===$.COMMA_TOKEN){if(0===n.length)throw Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}e.type!==$.WHITESPACE_TOKEN&&n.push(e)}),n.length&&t.push(n),t},na=function(e,t){return t===$.LEFT_CURLY_BRACKET_TOKEN&&e.type===$.RIGHT_CURLY_BRACKET_TOKEN||t===$.LEFT_SQUARE_BRACKET_TOKEN&&e.type===$.RIGHT_SQUARE_BRACKET_TOKEN||t===$.LEFT_PARENTHESIS_TOKEN&&e.type===$.RIGHT_PARENTHESIS_TOKEN},ns=function(e){return e.type===$.NUMBER_TOKEN||e.type===$.DIMENSION_TOKEN},nu=function(e){return e.type===$.PERCENTAGE_TOKEN||ns(e)},nc=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},nl={type:$.NUMBER_TOKEN,number:0,flags:4},nA={type:$.PERCENTAGE_TOKEN,number:50,flags:4},nd={type:$.PERCENTAGE_TOKEN,number:100,flags:4},nf=function(e,t,n){var r=(0,ek.Z)(e,2),i=r[0],o=r[1];return[nh(i,t),nh(void 0!==o?o:i,n)]},nh=function(e,t){if(e.type===$.PERCENTAGE_TOKEN)return e.number/100*t;if(ne(e))switch(e.unit){case"rem":case"em":return 16*e.number}return e.number},np="grad",ng="turn",nv={parse:function(e,t){if(t.type===$.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case np:return Math.PI/200*t.number;case"rad":return t.number;case ng:return 2*Math.PI*t.number}throw Error("Unsupported angle type")}},nm=function(e){return e.type===$.DIMENSION_TOKEN&&("deg"===e.unit||e.unit===np||"rad"===e.unit||e.unit===ng)},ny=function(e){switch(e.filter(nn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nl,nl];case"to top":case"bottom":return nb(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nl,nd];case"to right":case"left":return nb(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nd,nd];case"to bottom":case"top":return nb(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nd,nl];case"to left":case"right":return nb(270)}return 0},nb=function(e){return Math.PI*e/180},nw={parse:function(e,t){if(t.type===$.FUNCTION){var n=nS[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported color function "'.concat(t.name,'"'));return n(e,t.values)}if(t.type===$.HASH_TOKEN){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return nC(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){var a=t.value.substring(0,1),s=t.value.substring(1,2),u=t.value.substring(2,3),c=t.value.substring(3,4);return nC(parseInt(a+a,16),parseInt(s+s,16),parseInt(u+u,16),parseInt(c+c,16)/255)}if(6===t.value.length){var l=t.value.substring(0,2),A=t.value.substring(2,4),d=t.value.substring(4,6);return nC(parseInt(l,16),parseInt(A,16),parseInt(d,16),1)}if(8===t.value.length){var f=t.value.substring(0,2),h=t.value.substring(2,4),p=t.value.substring(4,6),g=t.value.substring(6,8);return nC(parseInt(f,16),parseInt(h,16),parseInt(p,16),parseInt(g,16)/255)}}if(t.type===$.IDENT_TOKEN){var v=nN[t.value.toUpperCase()];if(void 0!==v)return v}return nN.TRANSPARENT}},n_=function(e){return(255&e)==0},nE=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba(".concat(i,",").concat(r,",").concat(n,",").concat(t/255,")"):"rgb(".concat(i,",").concat(r,",").concat(n,")")},nC=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},nB=function(e,t){if(e.type===$.NUMBER_TOKEN)return e.number;if(e.type===$.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},nI=function(e,t){var n=t.filter(ni);if(3===n.length){var r=(0,ek.Z)(n.map(nB),3);return nC(r[0],r[1],r[2],1)}if(4===n.length){var i=(0,ek.Z)(n.map(nB),4);return nC(i[0],i[1],i[2],i[3])}return 0};function nx(e,t,n){return(n<0&&(n+=1),n>=1&&(n-=1),n<1/6)?(t-e)*n*6+e:n<.5?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var nT=function(e,t){var n=t.filter(ni),r=(0,ek.Z)(n,4),i=r[0],o=r[1],a=r[2],s=r[3],u=(i.type===$.NUMBER_TOKEN?nb(i.number):nv.parse(e,i))/(2*Math.PI),c=nu(o)?o.number/100:0,l=nu(a)?a.number/100:0,A=void 0!==s&&nu(s)?nh(s,1):1;if(0===c)return nC(255*l,255*l,255*l,1);var d=l<=.5?l*(c+1):l+c-l*c,f=2*l-d;return nC(255*nx(f,d,u+1/3),255*nx(f,d,u),255*nx(f,d,u-1/3),A)},nS={hsl:nT,hsla:nT,rgb:nI,rgba:nI},nk=function(e,t){return nw.parse(e,t7.create(t).parseComponentValue())},nN={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(A=X||(X={}))[A.NONE=0]="NONE",A[A.ALL=1]="ALL",A[A.CLONE=2]="CLONE",A[A.PARSE=3]="PARSE",A[A.RENDER=4]="RENDER";var nD=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},nO=function(e,t){var n=nD(e);return 1===n||t===n},nR=function(e,t){return(e&t)!=0};(d=J||(J={}))[d.VALUE=0]="VALUE",d[d.LIST=1]="LIST",d[d.IDENT_VALUE=2]="IDENT_VALUE",d[d.TYPE_VALUE=3]="TYPE_VALUE",d[d.TOKEN_VALUE=4]="TOKEN_VALUE",(f=ee||(ee={}))[f.BORDER_BOX=0]="BORDER_BOX",f[f.PADDING_BOX=1]="PADDING_BOX",f[f.CONTENT_BOX=2]="CONTENT_BOX";var nF={name:"background-clip",initialValue:"border-box",prefix:!1,type:J.LIST,parse:function(e,t){return t.map(function(e){if(nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nL={name:"background-color",initialValue:"transparent",prefix:!1,type:J.TYPE_VALUE,format:"color"},nP=function(e,t){var n=nw.parse(e,t[0]),r=t[1];return r&&nu(r)?{color:n,stop:r}:{color:n,stop:null}},nU=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=nl),null===r.stop&&(r.stop=nd);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var u=nh(s,t);u>o?i.push(u):i.push(o),o=u}else i.push(null)}for(var c=null,l=0;l<i.length;l++){var A=i[l];if(null===A)null===c&&(c=l);else if(null!==c){for(var d=l-c,f=(A-i[c-1])/(d+1),h=1;h<=d;h++)i[c+h-1]=f*h;c=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},nM=function(e,t,n){var r=t/2,i=n/2,o=nh(e[0],t)-r;return(Math.atan2(i-nh(e[1],n),o)+2*Math.PI)%(2*Math.PI)},nj=function(e,t,n){var r="number"==typeof e?e:nM(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,u=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,o-c,o+c,a-u,a+u]},nZ=function(e,t){return Math.sqrt(e*e+t*t)},nQ=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var o=(0,ek.Z)(t,2),a=nZ(n-o[0],r-o[1]);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},nH=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case er.CLOSEST_SIDE:e.shape===en.CIRCLE?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===en.ELLIPSE&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case er.CLOSEST_CORNER:if(e.shape===en.CIRCLE)o=a=Math.min(nZ(t,n),nZ(t,n-i),nZ(t-r,n),nZ(t-r,n-i));else if(e.shape===en.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),u=(0,ek.Z)(nQ(r,i,t,n,!0),2);o=nZ(u[0]-t,(u[1]-n)/s),a=s*o}break;case er.FARTHEST_SIDE:e.shape===en.CIRCLE?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===en.ELLIPSE&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case er.FARTHEST_CORNER:if(e.shape===en.CIRCLE)o=a=Math.max(nZ(t,n),nZ(t,n-i),nZ(t-r,n),nZ(t-r,n-i));else if(e.shape===en.ELLIPSE){var c=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),l=(0,ek.Z)(nQ(r,i,t,n,!1),2);o=nZ(l[0]-t,(l[1]-n)/c),a=c*o}}return Array.isArray(e.size)&&(o=nh(e.size[0],r),a=2===e.size.length?nh(e.size[1],i):o),[o,a]},nV=function(e,t){var n=nb(180),r=[];return no(t).forEach(function(t,i){if(0===i){var o=t[0];if(o.type===$.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(o.value)){n=ny(t);return}if(nm(o)){n=(nv.parse(e,o)+nb(270))%nb(360);return}}var a=nP(e,t);r.push(a)}),{angle:n,stops:r,type:et.LINEAR_GRADIENT}},nK="closest-side",nG="farthest-side",nz="closest-corner",nW="farthest-corner",nq="circle",nY="ellipse",n$="cover",nX="contain",nJ=function(e,t){var n=en.CIRCLE,r=er.FARTHEST_CORNER,i=[],o=[];return no(t).forEach(function(t,a){var s=!0;if(0===a?s=t.reduce(function(e,t){if(nn(t))switch(t.value){case"center":return o.push(nA),!1;case"top":case"left":return o.push(nl),!1;case"right":case"bottom":return o.push(nd),!1}else if(nu(t)||ns(t))return o.push(t),!1;return e},s):1===a&&(s=t.reduce(function(e,t){if(nn(t))switch(t.value){case nq:return n=en.CIRCLE,!1;case nY:return n=en.ELLIPSE,!1;case nX:case nK:return r=er.CLOSEST_SIDE,!1;case nG:return r=er.FARTHEST_SIDE,!1;case nz:return r=er.CLOSEST_CORNER,!1;case n$:case nW:return r=er.FARTHEST_CORNER,!1}else if(ns(t)||nu(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var u=nP(e,t);i.push(u)}}),{size:r,shape:n,stops:i,position:o,type:et.RADIAL_GRADIENT}};(h=et||(et={}))[h.URL=0]="URL",h[h.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",h[h.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(p=en||(en={}))[p.CIRCLE=0]="CIRCLE",p[p.ELLIPSE=1]="ELLIPSE",(g=er||(er={}))[g.CLOSEST_SIDE=0]="CLOSEST_SIDE",g[g.FARTHEST_SIDE=1]="FARTHEST_SIDE",g[g.CLOSEST_CORNER=2]="CLOSEST_CORNER",g[g.FARTHEST_CORNER=3]="FARTHEST_CORNER";var n0={parse:function(e,t){if(t.type===$.URL_TOKEN){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===$.FUNCTION){var r=n1[t.name];if(void 0===r)throw Error('Attempting to parse an unsupported image function "'.concat(t.name,'"'));return r(e,t.values)}throw Error("Unsupported image type ".concat(t.type))}},n1={"linear-gradient":function(e,t){var n=nb(180),r=[];return no(t).forEach(function(t,i){if(0===i){var o=t[0];if(o.type===$.IDENT_TOKEN&&"to"===o.value){n=ny(t);return}if(nm(o)){n=nv.parse(e,o);return}}var a=nP(e,t);r.push(a)}),{angle:n,stops:r,type:et.LINEAR_GRADIENT}},"-moz-linear-gradient":nV,"-ms-linear-gradient":nV,"-o-linear-gradient":nV,"-webkit-linear-gradient":nV,"radial-gradient":function(e,t){var n=en.CIRCLE,r=er.FARTHEST_CORNER,i=[],o=[];return no(t).forEach(function(t,a){var s=!0;if(0===a){var u=!1;s=t.reduce(function(e,t){if(u){if(nn(t))switch(t.value){case"center":o.push(nA);break;case"top":case"left":o.push(nl);break;case"right":case"bottom":o.push(nd)}else(nu(t)||ns(t))&&o.push(t)}else if(nn(t))switch(t.value){case nq:return n=en.CIRCLE,!1;case nY:return n=en.ELLIPSE,!1;case"at":return u=!0,!1;case nK:return r=er.CLOSEST_SIDE,!1;case n$:case nG:return r=er.FARTHEST_SIDE,!1;case nX:case nz:return r=er.CLOSEST_CORNER,!1;case nW:return r=er.FARTHEST_CORNER,!1}else if(ns(t)||nu(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var c=nP(e,t);i.push(c)}}),{size:r,shape:n,stops:i,position:o,type:et.RADIAL_GRADIENT}},"-moz-radial-gradient":nJ,"-ms-radial-gradient":nJ,"-o-radial-gradient":nJ,"-webkit-radial-gradient":nJ,"-webkit-gradient":function(e,t){var n=nb(180),r=[],i=et.LINEAR_GRADIENT,o=en.CIRCLE,a=er.FARTHEST_CORNER;return no(t).forEach(function(t,n){var o=t[0];if(0===n){if(nn(o)&&"linear"===o.value){i=et.LINEAR_GRADIENT;return}if(nn(o)&&"radial"===o.value){i=et.RADIAL_GRADIENT;return}}if(o.type===$.FUNCTION){if("from"===o.name){var a=nw.parse(e,o.values[0]);r.push({stop:nl,color:a})}else if("to"===o.name){var s=nw.parse(e,o.values[0]);r.push({stop:nd,color:s})}else if("color-stop"===o.name){var u=o.values.filter(ni);if(2===u.length){var c=nw.parse(e,u[1]),l=u[0];nt(l)&&r.push({stop:{type:$.PERCENTAGE_TOKEN,number:100*l.number,flags:l.flags},color:c})}}}}),i===et.LINEAR_GRADIENT?{angle:(n+nb(180))%nb(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:[],type:i}}},n2={name:"background-image",initialValue:"none",type:J.LIST,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return n.type===$.IDENT_TOKEN&&"none"===n.value?[]:t.filter(function(e){var t;return ni(e)&&!((t=e).type===$.IDENT_TOKEN&&"none"===t.value)&&(t.type!==$.FUNCTION||!!n1[t.name])}).map(function(t){return n0.parse(e,t)})}};(v=ei||(ei={}))[v.BORDER_BOX=0]="BORDER_BOX",v[v.PADDING_BOX=1]="PADDING_BOX",v[v.CONTENT_BOX=2]="CONTENT_BOX";var n4={name:"background-origin",initialValue:"border-box",prefix:!1,type:J.LIST,parse:function(e,t){return t.map(function(e){if(nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},n3={name:"background-position",initialValue:"0% 0%",type:J.LIST,prefix:!1,parse:function(e,t){return no(t).map(function(e){return e.filter(nu)}).map(nc)}};(m=eo||(eo={}))[m.REPEAT=0]="REPEAT",m[m.NO_REPEAT=1]="NO_REPEAT",m[m.REPEAT_X=2]="REPEAT_X",m[m.REPEAT_Y=3]="REPEAT_Y";var n5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:J.LIST,parse:function(e,t){return no(t).map(function(e){return e.filter(nn).map(function(e){return e.value}).join(" ")}).map(n6)}},n6=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(y=ea||(ea={})).AUTO="auto",y.CONTAIN="contain",y.COVER="cover";var n8={name:"background-size",initialValue:"0",prefix:!1,type:J.LIST,parse:function(e,t){return no(t).map(function(e){return e.filter(n9)})}},n9=function(e){return nn(e)||nu(e)},n7=function(e){return{name:"border-".concat(e,"-color"),initialValue:"transparent",prefix:!1,type:J.TYPE_VALUE,format:"color"}},re=n7("top"),rt=n7("right"),rn=n7("bottom"),rr=n7("left"),ri=function(e){return{name:"border-radius-".concat(e),initialValue:"0 0",prefix:!1,type:J.LIST,parse:function(e,t){return nc(t.filter(nu))}}},ro=ri("top-left"),ra=ri("top-right"),rs=ri("bottom-right"),ru=ri("bottom-left");(b=es||(es={}))[b.NONE=0]="NONE",b[b.SOLID=1]="SOLID",b[b.DASHED=2]="DASHED",b[b.DOTTED=3]="DOTTED",b[b.DOUBLE=4]="DOUBLE";var rc=function(e){return{name:"border-".concat(e,"-style"),initialValue:"solid",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rl=rc("top"),rA=rc("right"),rd=rc("bottom"),rf=rc("left"),rh=function(e){return{name:"border-".concat(e,"-width"),initialValue:"0",type:J.VALUE,prefix:!1,parse:function(e,t){return ne(t)?t.number:0}}},rp=rh("top"),rg=rh("right"),rv=rh("bottom"),rm=rh("left"),ry={name:"box-shadow",initialValue:"none",type:J.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&nr(t[0],"none")?[]:no(t).map(function(t){for(var n={color:255,offsetX:nl,offsetY:nl,blur:nl,spread:nl,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];nr(o,"inset")?n.inset=!0:ns(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nw.parse(e,o)}return n})}},rb={name:"color",initialValue:"transparent",prefix:!1,type:J.TYPE_VALUE,format:"color"};J.LIST,J.LIST,J.LIST,(w=eu||(eu={}))[w.LTR=0]="LTR",w[w.RTL=1]="RTL";var rw={name:"direction",initialValue:"ltr",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){return"rtl"===t?1:0}};(_=ec||(ec={}))[_.NONE=0]="NONE",_[_.BLOCK=2]="BLOCK",_[_.INLINE=4]="INLINE",_[_.RUN_IN=8]="RUN_IN",_[_.FLOW=16]="FLOW",_[_.FLOW_ROOT=32]="FLOW_ROOT",_[_.TABLE=64]="TABLE",_[_.FLEX=128]="FLEX",_[_.GRID=256]="GRID",_[_.RUBY=512]="RUBY",_[_.SUBGRID=1024]="SUBGRID",_[_.LIST_ITEM=2048]="LIST_ITEM",_[_.TABLE_ROW_GROUP=4096]="TABLE_ROW_GROUP",_[_.TABLE_HEADER_GROUP=8192]="TABLE_HEADER_GROUP",_[_.TABLE_FOOTER_GROUP=16384]="TABLE_FOOTER_GROUP",_[_.TABLE_ROW=32768]="TABLE_ROW",_[_.TABLE_CELL=65536]="TABLE_CELL",_[_.TABLE_COLUMN_GROUP=131072]="TABLE_COLUMN_GROUP",_[_.TABLE_COLUMN=262144]="TABLE_COLUMN",_[_.TABLE_CAPTION=524288]="TABLE_CAPTION",_[_.RUBY_BASE=1048576]="RUBY_BASE",_[_.RUBY_TEXT=2097152]="RUBY_TEXT",_[_.RUBY_BASE_CONTAINER=4194304]="RUBY_BASE_CONTAINER",_[_.RUBY_TEXT_CONTAINER=8388608]="RUBY_TEXT_CONTAINER",_[_.CONTENTS=16777216]="CONTENTS",_[_.INLINE_BLOCK=33554432]="INLINE_BLOCK",_[_.INLINE_LIST_ITEM=67108864]="INLINE_LIST_ITEM",_[_.INLINE_TABLE=134217728]="INLINE_TABLE",_[_.INLINE_FLEX=268435456]="INLINE_FLEX",_[_.INLINE_GRID=536870912]="INLINE_GRID";var r_={name:"display",initialValue:"inline-block",prefix:!1,type:J.LIST,parse:function(e,t){return t.filter(nn).reduce(function(e,t){return e|rE(t.value)},0)}},rE=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},rC={parse:function(e,t){if(t.type===$.DIMENSION_TOKEN)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw Error("Unsupported time type")}},rB={name:"duration",initialValue:"0s",prefix:!1,type:J.LIST,parse:function(e,t){return t.filter(ne).map(function(t){return rC.parse(e,t)})}};(E=el||(el={}))[E.NONE=0]="NONE",E[E.LEFT=1]="LEFT",E[E.RIGHT=2]="RIGHT",E[E.INLINE_START=3]="INLINE_START",E[E.INLINE_END=4]="INLINE_END";var rI={name:"float",initialValue:"none",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},rx={name:"font-family",initialValue:"",prefix:!1,type:J.LIST,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case $.IDENT_TOKEN:case $.STRING_TOKEN:n.push(e.value);break;case $.NUMBER_TOKEN:n.push(e.number.toString());break;case $.COMMA_TOKEN:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return -1===e.indexOf(" ")?e:"'".concat(e,"'")})}},rT={name:"font-size",initialValue:"0",prefix:!1,type:J.TYPE_VALUE,format:"length"};(C=eA||(eA={})).NORMAL="normal",C.ITALIC="italic",C.OBLIQUE="oblique";var rS={name:"font-style",initialValue:"normal",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rk={name:"font-variant",initialValue:"none",type:J.LIST,prefix:!1,parse:function(e,t){return t.filter(nn).map(function(e){return e.value})}},rN={name:"font-weight",initialValue:"normal",type:J.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:nn(t)&&"bold"===t.value?700:400}},rD={name:"letter-spacing",initialValue:"0",prefix:!1,type:J.VALUE,parse:function(e,t){return t.type===$.IDENT_TOKEN&&"normal"===t.value?0:t.type===$.NUMBER_TOKEN||t.type===$.DIMENSION_TOKEN?t.number:0}};(B=ed||(ed={})).NORMAL="normal",B.STRICT="strict";var rO={name:"line-break",initialValue:"normal",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){return"strict"===t?ed.STRICT:ed.NORMAL}},rR={name:"line-height",initialValue:"normal",prefix:!1,type:J.TOKEN_VALUE},rF=function(e,t){return nn(e)&&"normal"===e.value?1.2*t:e.type===$.NUMBER_TOKEN?t*e.number:nu(e)?nh(e,t):t},rL={name:"list-style-image",initialValue:"none",type:J.VALUE,prefix:!1,parse:function(e,t){return t.type===$.IDENT_TOKEN&&"none"===t.value?null:n0.parse(e,t)}};(I=ef||(ef={}))[I.INSIDE=0]="INSIDE",I[I.OUTSIDE=1]="OUTSIDE";var rP={name:"list-style-position",initialValue:"outside",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){return"inside"===t?0:1}};(x=eh||(eh={}))[x.NONE=-1]="NONE",x[x.DISC=0]="DISC",x[x.CIRCLE=1]="CIRCLE",x[x.SQUARE=2]="SQUARE",x[x.DECIMAL=3]="DECIMAL",x[x.CJK_DECIMAL=4]="CJK_DECIMAL",x[x.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",x[x.LOWER_ROMAN=6]="LOWER_ROMAN",x[x.UPPER_ROMAN=7]="UPPER_ROMAN",x[x.LOWER_GREEK=8]="LOWER_GREEK",x[x.LOWER_ALPHA=9]="LOWER_ALPHA",x[x.UPPER_ALPHA=10]="UPPER_ALPHA",x[x.ARABIC_INDIC=11]="ARABIC_INDIC",x[x.ARMENIAN=12]="ARMENIAN",x[x.BENGALI=13]="BENGALI",x[x.CAMBODIAN=14]="CAMBODIAN",x[x.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",x[x.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",x[x.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",x[x.DEVANAGARI=18]="DEVANAGARI",x[x.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",x[x.GEORGIAN=20]="GEORGIAN",x[x.GUJARATI=21]="GUJARATI",x[x.GURMUKHI=22]="GURMUKHI",x[x.HEBREW=22]="HEBREW",x[x.HIRAGANA=23]="HIRAGANA",x[x.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",x[x.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",x[x.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",x[x.KANNADA=27]="KANNADA",x[x.KATAKANA=28]="KATAKANA",x[x.KATAKANA_IROHA=29]="KATAKANA_IROHA",x[x.KHMER=30]="KHMER",x[x.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",x[x.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",x[x.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",x[x.LAO=34]="LAO",x[x.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",x[x.MALAYALAM=36]="MALAYALAM",x[x.MONGOLIAN=37]="MONGOLIAN",x[x.MYANMAR=38]="MYANMAR",x[x.ORIYA=39]="ORIYA",x[x.PERSIAN=40]="PERSIAN",x[x.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",x[x.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",x[x.TAMIL=43]="TAMIL",x[x.TELUGU=44]="TELUGU",x[x.THAI=45]="THAI",x[x.TIBETAN=46]="TIBETAN",x[x.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",x[x.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",x[x.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",x[x.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",x[x.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED";var rU={name:"list-style-type",initialValue:"none",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return -1}}},rM=function(e){return{name:"margin-".concat(e),initialValue:"0",prefix:!1,type:J.TOKEN_VALUE}},rj=rM("top"),rZ=rM("right"),rQ=rM("bottom"),rH=rM("left"),rV={name:"opacity",initialValue:"1",type:J.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:1}};(T=ep||(ep={}))[T.VISIBLE=0]="VISIBLE",T[T.HIDDEN=1]="HIDDEN",T[T.SCROLL=2]="SCROLL",T[T.CLIP=3]="CLIP",T[T.AUTO=4]="AUTO";var rK={name:"overflow",initialValue:"visible",prefix:!1,type:J.LIST,parse:function(e,t){return t.filter(nn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}};(S=eg||(eg={})).NORMAL="normal",S.BREAK_WORD="break-word";var rG={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},rz=function(e){return{name:"padding-".concat(e),initialValue:"0",prefix:!1,type:J.TYPE_VALUE,format:"length-percentage"}},rW=rz("top"),rq=rz("right"),rY=rz("bottom"),r$=rz("left");(k=ev||(ev={}))[k.FILL=0]="FILL",k[k.STROKE=1]="STROKE",k[k.MARKERS=2]="MARKERS";var rX={name:"paint-order",initialValue:"normal",prefix:!1,type:J.LIST,parse:function(e,t){var n=[];return t.filter(nn).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),[0,1,2].forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}};(N=em||(em={}))[N.STATIC=0]="STATIC",N[N.RELATIVE=1]="RELATIVE",N[N.ABSOLUTE=2]="ABSOLUTE",N[N.FIXED=3]="FIXED",N[N.STICKY=4]="STICKY";var rJ={name:"position",initialValue:"static",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}};J.LIST,(D=ey||(ey={}))[D.LEFT=0]="LEFT",D[D.CENTER=1]="CENTER",D[D.RIGHT=2]="RIGHT";var r0={name:"text-align",initialValue:"left",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},r1={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:J.TYPE_VALUE,format:"color"};(O=eb||(eb={}))[O.NONE=0]="NONE",O[O.UNDERLINE=1]="UNDERLINE",O[O.OVERLINE=2]="OVERLINE",O[O.LINE_THROUGH=3]="LINE_THROUGH",O[O.BLINK=4]="BLINK";var r2={name:"text-decoration-line",initialValue:"none",prefix:!1,type:J.LIST,parse:function(e,t){return t.filter(nn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},r4={name:"text-shadow",initialValue:"none",type:J.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&nr(t[0],"none")?[]:no(t).map(function(t){for(var n={color:nN.TRANSPARENT,offsetX:nl,offsetY:nl,blur:nl},r=0,i=0;i<t.length;i++){var o=t[i];ns(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nw.parse(e,o)}return n})}};(R=ew||(ew={}))[R.NONE=0]="NONE",R[R.LOWERCASE=1]="LOWERCASE",R[R.UPPERCASE=2]="UPPERCASE",R[R.CAPITALIZE=3]="CAPITALIZE";var r3={name:"text-transform",initialValue:"none",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}};function r5(e){throw e}var r6={name:"transform",initialValue:"none",prefix:!0,type:J.VALUE,parse:function(e,t){if(t.type===$.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===$.FUNCTION){var n=r8[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported transform function "'.concat(t.name,'"'));return n(t.values)}return null}},r8={matrix:function(e){var t=e.filter(function(e){return e.type===$.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===$.NUMBER_TOKEN}).map(function(e){return e.number}),n=(0,ek.Z)(t,16),r=n[0],i=n[1],o=n[2],o=null!==o?o:r5(TypeError("Cannot destructure undefined")),a=n[3],a=null!==a?a:r5(TypeError("Cannot destructure undefined")),s=n[4],u=n[5],c=n[6],c=null!==c?c:r5(TypeError("Cannot destructure undefined")),l=n[7],l=null!==l?l:r5(TypeError("Cannot destructure undefined")),A=n[8],A=null!==A?A:r5(TypeError("Cannot destructure undefined")),d=n[9],d=null!==d?d:r5(TypeError("Cannot destructure undefined")),f=n[10],f=null!==f?f:r5(TypeError("Cannot destructure undefined")),h=n[11],h=null!==h?h:r5(TypeError("Cannot destructure undefined")),p=n[12],g=n[13],v=n[14],v=null!==v?v:r5(TypeError("Cannot destructure undefined")),m=n[15],m=null!==m?m:r5(TypeError("Cannot destructure undefined"));return 16===t.length?[r,i,s,u,p,g]:null}},r9={type:$.PERCENTAGE_TOKEN,number:50,flags:4},r7=[r9,r9],ie={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:J.LIST,parse:function(e,t){var n=t.filter(nu);return 2!==n.length?r7:[n[0],n[1]]}};(F=e_||(e_={}))[F.VISIBLE=0]="VISIBLE",F[F.HIDDEN=1]="HIDDEN",F[F.COLLAPSE=2]="COLLAPSE";var it={name:"visible",initialValue:"none",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},ir={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:J.TYPE_VALUE,format:"color"},ii={name:"-webkit-text-stroke-width",initialValue:"0",type:J.VALUE,prefix:!1,parse:function(e,t){return ne(t)?t.number:0}};(L=eE||(eE={})).NORMAL="normal",L.BREAK_ALL="break-all",L.KEEP_ALL="keep-all";var io={name:"word-break",initialValue:"normal",prefix:!1,type:J.IDENT_VALUE,parse:function(e,t){switch(t){case"break-all":return eE.BREAK_ALL;case"keep-all":return eE.KEEP_ALL;default:return eE.NORMAL}}},ia={name:"z-index",initialValue:"auto",prefix:!1,type:J.VALUE,parse:function(e,t){if(t.type===$.IDENT_TOKEN)return{auto:!0,order:0};if(nt(t))return{auto:!1,order:t.number};throw Error("Invalid z-index number parsed")}},is=/*#__PURE__*/function(){function e(t,n){(0,eD.Z)(this,e),this.animationDuration=iu(t,rB,n.animationDuration),this.backgroundClip=iu(t,nF,n.backgroundClip),this.backgroundColor=iu(t,nL,n.backgroundColor),this.backgroundImage=iu(t,n2,n.backgroundImage),this.backgroundOrigin=iu(t,n4,n.backgroundOrigin),this.backgroundPosition=iu(t,n3,n.backgroundPosition),this.backgroundRepeat=iu(t,n5,n.backgroundRepeat),this.backgroundSize=iu(t,n8,n.backgroundSize),this.borderTopColor=iu(t,re,n.borderTopColor),this.borderRightColor=iu(t,rt,n.borderRightColor),this.borderBottomColor=iu(t,rn,n.borderBottomColor),this.borderLeftColor=iu(t,rr,n.borderLeftColor),this.borderTopLeftRadius=iu(t,ro,n.borderTopLeftRadius),this.borderTopRightRadius=iu(t,ra,n.borderTopRightRadius),this.borderBottomRightRadius=iu(t,rs,n.borderBottomRightRadius),this.borderBottomLeftRadius=iu(t,ru,n.borderBottomLeftRadius),this.borderTopStyle=iu(t,rl,n.borderTopStyle),this.borderRightStyle=iu(t,rA,n.borderRightStyle),this.borderBottomStyle=iu(t,rd,n.borderBottomStyle),this.borderLeftStyle=iu(t,rf,n.borderLeftStyle),this.borderTopWidth=iu(t,rp,n.borderTopWidth),this.borderRightWidth=iu(t,rg,n.borderRightWidth),this.borderBottomWidth=iu(t,rv,n.borderBottomWidth),this.borderLeftWidth=iu(t,rm,n.borderLeftWidth),this.boxShadow=iu(t,ry,n.boxShadow),this.color=iu(t,rb,n.color),this.direction=iu(t,rw,n.direction),this.display=iu(t,r_,n.display),this.float=iu(t,rI,n.cssFloat),this.fontFamily=iu(t,rx,n.fontFamily),this.fontSize=iu(t,rT,n.fontSize),this.fontStyle=iu(t,rS,n.fontStyle),this.fontVariant=iu(t,rk,n.fontVariant),this.fontWeight=iu(t,rN,n.fontWeight),this.letterSpacing=iu(t,rD,n.letterSpacing),this.lineBreak=iu(t,rO,n.lineBreak),this.lineHeight=iu(t,rR,n.lineHeight),this.listStyleImage=iu(t,rL,n.listStyleImage),this.listStylePosition=iu(t,rP,n.listStylePosition),this.listStyleType=iu(t,rU,n.listStyleType),this.marginTop=iu(t,rj,n.marginTop),this.marginRight=iu(t,rZ,n.marginRight),this.marginBottom=iu(t,rQ,n.marginBottom),this.marginLeft=iu(t,rH,n.marginLeft),this.opacity=iu(t,rV,n.opacity);var r,i,o=iu(t,rK,n.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=iu(t,rG,n.overflowWrap),this.paddingTop=iu(t,rW,n.paddingTop),this.paddingRight=iu(t,rq,n.paddingRight),this.paddingBottom=iu(t,rY,n.paddingBottom),this.paddingLeft=iu(t,r$,n.paddingLeft),this.paintOrder=iu(t,rX,n.paintOrder),this.position=iu(t,rJ,n.position),this.textAlign=iu(t,r0,n.textAlign),this.textDecorationColor=iu(t,r1,null!==(r=n.textDecorationColor)&&void 0!==r?r:n.color),this.textDecorationLine=iu(t,r2,null!==(i=n.textDecorationLine)&&void 0!==i?i:n.textDecoration),this.textShadow=iu(t,r4,n.textShadow),this.textTransform=iu(t,r3,n.textTransform),this.transform=iu(t,r6,n.transform),this.transformOrigin=iu(t,ie,n.transformOrigin),this.visibility=iu(t,it,n.visibility),this.webkitTextStrokeColor=iu(t,ir,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=iu(t,ii,n.webkitTextStrokeWidth),this.wordBreak=iu(t,io,n.wordBreak),this.zIndex=iu(t,ia,n.zIndex)}var t=e.prototype;return t.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===e_.VISIBLE},t.isTransparent=function(){return n_(this.backgroundColor)},t.isTransformed=function(){return null!==this.transform},t.isPositioned=function(){return this.position!==em.STATIC},t.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.isFloating=function(){return this.float!==el.NONE},t.isInlineLevel=function(){return nR(this.display,ec.INLINE)||nR(this.display,ec.INLINE_BLOCK)||nR(this.display,ec.INLINE_FLEX)||nR(this.display,ec.INLINE_GRID)||nR(this.display,ec.INLINE_LIST_ITEM)||nR(this.display,ec.INLINE_TABLE)},e}(),iu=function(e,t,n){var r=new t9,i=null!=n?n.toString():t.initialValue;r.write(i);var o=new t7(r.read());switch(t.type){case J.IDENT_VALUE:var a=o.parseComponentValue();return t.parse(e,nn(a)?a.value:t.initialValue);case J.VALUE:return t.parse(e,o.parseComponentValue());case J.LIST:return t.parse(e,o.parseComponentValues());case J.TOKEN_VALUE:return o.parseComponentValue();case J.TYPE_VALUE:switch(t.format){case"angle":return nv.parse(e,o.parseComponentValue());case"color":return nw.parse(e,o.parseComponentValue());case"image":return n0.parse(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return ns(s)?s:nl;case"length-percentage":var u=o.parseComponentValue();return nu(u)?u:nl;case"time":return rC.parse(e,o.parseComponentValue())}}};(P=eC||(eC={}))[P.CREATES_STACKING_CONTEXT=2]="CREATES_STACKING_CONTEXT",P[P.CREATES_REAL_STACKING_CONTEXT=4]="CREATES_REAL_STACKING_CONTEXT",P[P.IS_LIST_OWNER=8]="IS_LIST_OWNER",P[P.DEBUG_RENDER=16]="DEBUG_RENDER";for(var ic=function e(t,n){(0,eD.Z)(this,e),this.context=t,this.textNodes=[],this.elements=[],this.flags=0,nO(n,X.PARSE),this.styles=new is(t,window.getComputedStyle(n,null)),i7(n)&&(this.styles.animationDuration.some(function(e){return e>0})&&(n.style.animationDuration="0s"),null!==this.styles.transform&&(n.style.transform="none")),this.bounds=tk(t,n),nO(n,X.RENDER)&&(this.flags|=16)},il=n(21218),iA=n(39309),id=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r)).value=r.value,i}return n}(ic),ih=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r)).start=r.start,i.reversed="boolean"==typeof r.reversed&&!0===r.reversed,i}return n}(ic),ip=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,eD.Z)(this,n),i=t.call(this,e,r);var i,o=r.options[r.selectedIndex||0];return i.value=o&&o.text||"",i}return n}(ic),ig=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r)).value=r.value,i}return n}(ic),iv=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r)).canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return n}(ic),im=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,eD.Z)(this,n),(i=t.call(this,e,r)).src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(null===(o=r.contentWindow)||void 0===o?void 0:null===(a=o.document)||void 0===a?void 0:a.documentElement){i.tree=i3(e,r.contentWindow.document.documentElement);var i,o,a,s=r.contentWindow.document.documentElement?nk(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):nN.TRANSPARENT,u=r.contentWindow.document.body?nk(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):nN.TRANSPARENT;i.backgroundColor=n_(s)?n_(u)?i.styles.backgroundColor:u:s}}catch(e){}return i}return n}(ic),iy=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r)).src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return n}(ic),ib=[{type:$.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],iw=[{type:$.PERCENTAGE_TOKEN,flags:0,number:50}],i_=function(e){var t=e.type===iB?Array(e.value.length+1).join(""):e.value;return 0===t.length?e.placeholder||"":t},iE="checkbox",iC="radio",iB="password",iI=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i,o;switch((0,eD.Z)(this,n),(i=t.call(this,e,r)).type=r.type.toLowerCase(),i.checked=r.checked,i.value=i_(r),(i.type===iE||i.type===iC)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=es.SOLID,i.styles.backgroundClip=[ee.BORDER_BOX],i.styles.backgroundOrigin=[ei.BORDER_BOX],i.bounds=(o=i.bounds).width>o.height?new tS(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new tS(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o),i.type){case iE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ib;break;case iC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=iw}return i}return n}(ic),ix=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,eD.Z)(this,n),i=t.call(this,e,r);var i,o=new XMLSerializer,a=tk(e,r);return r.setAttribute("width","".concat(a.width,"px")),r.setAttribute("height","".concat(a.height,"px")),i.svg="data:image/svg+xml,".concat(encodeURIComponent(o.serializeToString(r))),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return n}(ic),iT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iS="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ik=0;ik<iT.length;ik++)iS[iT.charCodeAt(ik)]=ik;for(var iN=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},iD=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),iO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iR="undefined"==typeof Uint8Array?[]:new Uint8Array(256),iF=0;iF<iO.length;iF++)iR[iO.charCodeAt(iF)]=iF;var iL=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},iP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},iU=(M=Array.isArray(U=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):Array(a),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=iS[e.charCodeAt(t)],r=iS[e.charCodeAt(t+1)],i=iS[e.charCodeAt(t+2)],o=iS[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(U):new Uint32Array(U),Z=iN(j=Array.isArray(U)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(U):new Uint16Array(U),12,M[4]/2),V=2===M[5]?iN(j,(24+M[4])/2):(Q=Math.ceil((24+M[4])/4),M.slice?M.slice(Q,void 0):new Uint32Array(Array.prototype.slice.call(M,Q,H))),new iD(M[0],M[1],M[2],M[3],Z,V)),iM=function(e){return iU.get(e)},ij=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(2===o&&3===a)return"\xd7";if(2===o||3===o||4===o||2===a||3===a||4===a)return"\xf7";if(8===o&&-1!==[8,9,11,12].indexOf(a)||(11===o||9===o)&&(9===a||10===a)||(12===o||10===o)&&10===a||13===a||5===a||7===a||1===o)return"\xd7";if(13===o&&14===a){for(;5===i;)i=t[--r];if(14===i)return"\xd7"}if(15===o&&15===a){for(var s=0;15===i;)s++,i=t[--r];if(s%2==0)return"\xd7"}return"\xf7"},iZ=function(e){var t=iL(e),n=t.length,r=0,i=0,o=t.map(iM);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e="\xd7";r<n&&"\xd7"===(e=ij(t,o,++r)););if("\xd7"!==e||r===n){var a=iP.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},iQ=function(e){for(var t,n=iZ(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},iH=function e(t,n){(0,eD.Z)(this,e),this.text=t,this.bounds=n},iV=function(e,t,n,r){var i=iW(t,n),o=[],a=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0){if(ta.SUPPORT_RANGE_BOUNDS){var i=iG(r,a,t.length).getClientRects();if(i.length>1){var s=iz(t),u=0;s.forEach(function(t){o.push(new iH(t,tS.fromDOMRectList(e,iG(r,u+a,t.length).getClientRects()))),u+=t.length})}else o.push(new iH(t,tS.fromDOMRectList(e,i)))}else{var c=r.splitText(t.length);o.push(new iH(t,iK(e,r))),r=c}}else ta.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length}),o},iK=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=tk(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return tS.EMPTY},iG=function(e,t,n){var r=e.ownerDocument;if(!r)throw Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},iz=function(e){return ta.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"grapheme"}).segment(e)).map(function(e){return e.segment}):iQ(e)},iW=function(e,t){return 0!==t.letterSpacing?iz(e):ta.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"word"}).segment(e)).map(function(e){return e.segment}):iY(e,t)},iq=[32,160,4961,65792,65793,4153,4241],iY=function(e,t){for(var n=e9(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===eg.BREAK_WORD?"break-word":t.wordBreak}),r=[],i=n.next();!i.done;)!function(){if(i.value){var e=eR(i.value.slice()),t="";e.forEach(function(e){-1===iq.indexOf(e)?t+=eF(e):(t.length&&r.push(t),r.push(eF(e)),t="")}),t.length&&r.push(t)}i=n.next()}();return r},i$=function e(t,n,r){(0,eD.Z)(this,e),this.text=iX(n.data,r.textTransform),this.textBounds=iV(t,this.text,r,n)},iX=function(e,t){switch(t){case ew.LOWERCASE:return e.toLowerCase();case ew.CAPITALIZE:return e.replace(iJ,i0);case ew.UPPERCASE:return e.toUpperCase();default:return e}},iJ=/(^|[\s:\-()])([a-z])/g,i0=function(e,t,n){return e.length>0?t+n.toUpperCase():e},i1=["OL","UL","MENU"],i2=function(e,t,n,r){for(var i,o=t.firstChild;o;o=i)if(i=o.nextSibling,i8(o)&&o.data.trim().length>0)n.textNodes.push(new i$(e,o,n.styles));else if(i9(o)){if(oA(o)&&o.assignedNodes)o.assignedNodes().forEach(function(t){return i2(e,t,n,r)});else{var a=i4(e,o);!a.styles.isVisible()||(i5(o,a,r)?a.flags|=eC.CREATES_REAL_STACKING_CONTEXT:i6(a.styles)&&(a.flags|=eC.CREATES_STACKING_CONTEXT),-1!==i1.indexOf(o.tagName)&&(a.flags|=eC.IS_LIST_OWNER),n.elements.push(a),o.slot,o.shadowRoot?i2(e,o.shadowRoot,a,r):oc(o)||oi(o)||ol(o)||i2(e,o,a,r))}}},i4=function(e,t){return os(t)?new iy(e,t):oa(t)?new iv(e,t):oi(t)?new ix(e,t):ot(t)?new id(e,t):on(t)?new ih(e,t):or(t)?new iI(e,t):ol(t)?new ip(e,t):oc(t)?new ig(e,t):ou(t)?new im(e,t):new ic(e,t)},i3=function(e,t){var n=i4(e,t);return n.flags|=eC.CREATES_REAL_STACKING_CONTEXT,i2(e,t,n,n),n},i5=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||oo(e)&&n.styles.isTransparent()},i6=function(e){return e.isPositioned()||e.isFloating()},i8=function(e){return e.nodeType===Node.TEXT_NODE},i9=function(e){return e.nodeType===Node.ELEMENT_NODE},i7=function(e){return i9(e)&&void 0!==e.style&&!oe(e)},oe=function(e){return"object"==typeof e.className},ot=function(e){return"LI"===e.tagName},on=function(e){return"OL"===e.tagName},or=function(e){return"INPUT"===e.tagName},oi=function(e){return"svg"===e.tagName},oo=function(e){return"BODY"===e.tagName},oa=function(e){return"CANVAS"===e.tagName},os=function(e){return"IMG"===e.tagName},ou=function(e){return"IFRAME"===e.tagName},oc=function(e){return"TEXTAREA"===e.tagName},ol=function(e){return"SELECT"===e.tagName},oA=function(e){return"SLOT"===e.tagName},od=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},of=function(e){var t=e.styles,n=e.bounds,r=nh(t.paddingLeft,n.width),i=nh(t.paddingRight,n.width),o=nh(t.paddingTop,n.width),a=nh(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))};(K=eB||(eB={}))[K.VECTOR=0]="VECTOR",K[K.BEZIER_CURVE=1]="BEZIER_CURVE";var oh=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},op=/*#__PURE__*/function(){function e(t,n){(0,eD.Z)(this,e),this.type=eB.VECTOR,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),og=function(e,t,n){var r,i,o=(r=ob(e.styles.backgroundOrigin,t))===ei.BORDER_BOX?e.bounds:r===ei.CONTENT_BOX?of(e):od(e),a=(i=ob(e.styles.backgroundClip,t))===ee.BORDER_BOX?e.bounds:i===ee.CONTENT_BOX?of(e):od(e),s=oy(ob(e.styles.backgroundSize,t),n,o),u=(0,ek.Z)(s,2),c=u[0],l=u[1],A=nf(ob(e.styles.backgroundPosition,t),o.width-c,o.height-l);return[ow(ob(e.styles.backgroundRepeat,t),A,s,o,a),Math.round(o.left+A[0]),Math.round(o.top+A[1]),c,l]},ov=function(e){return nn(e)&&e.value===ea.AUTO},om=function(e){return"number"==typeof e},oy=function(e,t,n){var r=(0,ek.Z)(t,3),i=r[0],o=r[1],a=r[2],s=(0,ek.Z)(e,2),u=s[0],c=s[1];if(!u)return[0,0];if(nu(u)&&c&&nu(c))return[nh(u,n.width),nh(c,n.height)];var l=om(a);if(nn(u)&&(u.value===ea.CONTAIN||u.value===ea.COVER))return om(a)?n.width/n.height<a!=(u.value===ea.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var A=om(i),d=om(o),f=A||d;if(ov(u)&&(!c||ov(c)))return A&&d?[i,o]:l||f?f&&l?[A?i:o*a,d?o:i/a]:[A?i:n.width,d?o:n.height]:[n.width,n.height];if(l){var h=0,p=0;return nu(u)?h=nh(u,n.width):nu(c)&&(p=nh(c,n.height)),ov(u)?h=p*a:(!c||ov(c))&&(p=h/a),[h,p]}var g=null,v=null;if(nu(u)?g=nh(u,n.width):c&&nu(c)&&(v=nh(c,n.height)),null!==g&&(!c||ov(c))&&(v=A&&d?g/i*o:n.height),null!==v&&ov(u)&&(g=A&&d?v/o*i:n.width),null!==g&&null!==v)return[g,v];throw Error("Unable to calculate background-size for element")},ob=function(e,t){var n=e[t];return void 0===n?e[0]:n},ow=function(e,t,n,r,i){var o=(0,ek.Z)(t,2),a=o[0],s=o[1],u=(0,ek.Z)(n,2),c=u[0],l=u[1];switch(e){case eo.REPEAT_X:return[new op(Math.round(r.left),Math.round(r.top+s)),new op(Math.round(r.left+r.width),Math.round(r.top+s)),new op(Math.round(r.left+r.width),Math.round(l+r.top+s)),new op(Math.round(r.left),Math.round(l+r.top+s))];case eo.REPEAT_Y:return[new op(Math.round(r.left+a),Math.round(r.top)),new op(Math.round(r.left+a+c),Math.round(r.top)),new op(Math.round(r.left+a+c),Math.round(r.height+r.top)),new op(Math.round(r.left+a),Math.round(r.height+r.top))];case eo.NO_REPEAT:return[new op(Math.round(r.left+a),Math.round(r.top+s)),new op(Math.round(r.left+a+c),Math.round(r.top+s)),new op(Math.round(r.left+a+c),Math.round(r.top+s+l)),new op(Math.round(r.left+a),Math.round(r.top+s+l))];default:return[new op(Math.round(i.left),Math.round(i.top)),new op(Math.round(i.left+i.width),Math.round(i.top)),new op(Math.round(i.left+i.width),Math.round(i.height+i.top)),new op(Math.round(i.left),Math.round(i.height+i.top))]}},o_=function(e,t,n){return new op(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},oE=/*#__PURE__*/function(){function e(t,n,r,i){(0,eD.Z)(this,e),this.type=eB.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=i}var t=e.prototype;return t.subdivide=function(t,n){var r=o_(this.start,this.startControl,t),i=o_(this.startControl,this.endControl,t),o=o_(this.endControl,this.end,t),a=o_(r,i,t),s=o_(i,o,t),u=o_(a,s,t);return n?new e(this.start,r,a,u):new e(u,s,o,this.end)},t.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},t.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),oC=function(e){return e.type===eB.BEZIER_CURVE},oB=function(e,t){switch(t){case 0:return ok(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ok(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ok(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ok(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},oI=function(e,t){switch(t){case 0:return ok(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ok(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ok(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ok(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},ox=function(e,t){switch(t){case 0:return ok(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ok(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ok(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ok(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},oT=function(e,t){switch(t){case 0:return oS(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return oS(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return oS(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return oS(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},oS=function(e,t){var n=[];return oC(e)?n.push(e.subdivide(.5,!1)):n.push(e),oC(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ok=function(e,t,n,r){var i=[];return oC(e)?i.push(e.subdivide(.5,!1)):i.push(e),oC(n)?i.push(n.subdivide(.5,!0)):i.push(n),oC(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),oC(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},oN=function e(t){(0,eD.Z)(this,e);var n,r=t.styles,i=t.bounds,o=(0,ek.Z)(nf(r.borderTopLeftRadius,i.width,i.height),2),a=o[0],s=o[1],u=(0,ek.Z)(nf(r.borderTopRightRadius,i.width,i.height),2),c=u[0],l=u[1],A=(0,ek.Z)(nf(r.borderBottomRightRadius,i.width,i.height),2),d=A[0],f=A[1],h=(0,ek.Z)(nf(r.borderBottomLeftRadius,i.width,i.height),2),p=h[0],g=h[1],v=[];v.push((a+c)/i.width),v.push((p+d)/i.width),v.push((s+g)/i.height),v.push((l+f)/i.height);var m=(n=Math).max.apply(n,(0,tI.Z)(v));m>1&&(a/=m,s/=m,c/=m,l/=m,d/=m,f/=m,p/=m,g/=m);var y=i.width-c,b=i.height-f,w=i.width-d,_=i.height-g,E=r.borderTopWidth,C=r.borderRightWidth,B=r.borderBottomWidth,I=r.borderLeftWidth,x=nh(r.paddingTop,t.bounds.width),T=nh(r.paddingRight,t.bounds.width),S=nh(r.paddingBottom,t.bounds.width),k=nh(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?oD(i.left+I/3,i.top+E/3,a-I/3,s-E/3,eI.TOP_LEFT):new op(i.left+I/3,i.top+E/3),this.topRightBorderDoubleOuterBox=a>0||s>0?oD(i.left+y,i.top+E/3,c-C/3,l-E/3,eI.TOP_RIGHT):new op(i.left+i.width-C/3,i.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?oD(i.left+w,i.top+b,d-C/3,f-B/3,eI.BOTTOM_RIGHT):new op(i.left+i.width-C/3,i.top+i.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?oD(i.left+I/3,i.top+_,p-I/3,g-B/3,eI.BOTTOM_LEFT):new op(i.left+I/3,i.top+i.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?oD(i.left+2*I/3,i.top+2*E/3,a-2*I/3,s-2*E/3,eI.TOP_LEFT):new op(i.left+2*I/3,i.top+2*E/3),this.topRightBorderDoubleInnerBox=a>0||s>0?oD(i.left+y,i.top+2*E/3,c-2*C/3,l-2*E/3,eI.TOP_RIGHT):new op(i.left+i.width-2*C/3,i.top+2*E/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?oD(i.left+w,i.top+b,d-2*C/3,f-2*B/3,eI.BOTTOM_RIGHT):new op(i.left+i.width-2*C/3,i.top+i.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?oD(i.left+2*I/3,i.top+_,p-2*I/3,g-2*B/3,eI.BOTTOM_LEFT):new op(i.left+2*I/3,i.top+i.height-2*B/3),this.topLeftBorderStroke=a>0||s>0?oD(i.left+I/2,i.top+E/2,a-I/2,s-E/2,eI.TOP_LEFT):new op(i.left+I/2,i.top+E/2),this.topRightBorderStroke=a>0||s>0?oD(i.left+y,i.top+E/2,c-C/2,l-E/2,eI.TOP_RIGHT):new op(i.left+i.width-C/2,i.top+E/2),this.bottomRightBorderStroke=d>0||f>0?oD(i.left+w,i.top+b,d-C/2,f-B/2,eI.BOTTOM_RIGHT):new op(i.left+i.width-C/2,i.top+i.height-B/2),this.bottomLeftBorderStroke=p>0||g>0?oD(i.left+I/2,i.top+_,p-I/2,g-B/2,eI.BOTTOM_LEFT):new op(i.left+I/2,i.top+i.height-B/2),this.topLeftBorderBox=a>0||s>0?oD(i.left,i.top,a,s,eI.TOP_LEFT):new op(i.left,i.top),this.topRightBorderBox=c>0||l>0?oD(i.left+y,i.top,c,l,eI.TOP_RIGHT):new op(i.left+i.width,i.top),this.bottomRightBorderBox=d>0||f>0?oD(i.left+w,i.top+b,d,f,eI.BOTTOM_RIGHT):new op(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=p>0||g>0?oD(i.left,i.top+_,p,g,eI.BOTTOM_LEFT):new op(i.left,i.top+i.height),this.topLeftPaddingBox=a>0||s>0?oD(i.left+I,i.top+E,Math.max(0,a-I),Math.max(0,s-E),eI.TOP_LEFT):new op(i.left+I,i.top+E),this.topRightPaddingBox=c>0||l>0?oD(i.left+Math.min(y,i.width-C),i.top+E,y>i.width+C?0:Math.max(0,c-C),Math.max(0,l-E),eI.TOP_RIGHT):new op(i.left+i.width-C,i.top+E),this.bottomRightPaddingBox=d>0||f>0?oD(i.left+Math.min(w,i.width-I),i.top+Math.min(b,i.height-B),Math.max(0,d-C),Math.max(0,f-B),eI.BOTTOM_RIGHT):new op(i.left+i.width-C,i.top+i.height-B),this.bottomLeftPaddingBox=p>0||g>0?oD(i.left+I,i.top+Math.min(_,i.height-B),Math.max(0,p-I),Math.max(0,g-B),eI.BOTTOM_LEFT):new op(i.left+I,i.top+i.height-B),this.topLeftContentBox=a>0||s>0?oD(i.left+I+k,i.top+E+x,Math.max(0,a-(I+k)),Math.max(0,s-(E+x)),eI.TOP_LEFT):new op(i.left+I+k,i.top+E+x),this.topRightContentBox=c>0||l>0?oD(i.left+Math.min(y,i.width+I+k),i.top+E+x,y>i.width+I+k?0:c-I+k,l-(E+x),eI.TOP_RIGHT):new op(i.left+i.width-(C+T),i.top+E+x),this.bottomRightContentBox=d>0||f>0?oD(i.left+Math.min(w,i.width-(I+k)),i.top+Math.min(b,i.height+E+x),Math.max(0,d-(C+T)),f-(B+S),eI.BOTTOM_RIGHT):new op(i.left+i.width-(C+T),i.top+i.height-(B+S)),this.bottomLeftContentBox=p>0||g>0?oD(i.left+I+k,i.top+_,Math.max(0,p-(I+k)),g-(B+S),eI.BOTTOM_LEFT):new op(i.left+I+k,i.top+i.height-(B+S))};(G=eI||(eI={}))[G.TOP_LEFT=0]="TOP_LEFT",G[G.TOP_RIGHT=1]="TOP_RIGHT",G[G.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",G[G.BOTTOM_LEFT=3]="BOTTOM_LEFT";var oD=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,u=e+n,c=t+r;switch(i){case eI.TOP_LEFT:return new oE(new op(e,c),new op(e,c-s),new op(u-a,t),new op(u,t));case eI.TOP_RIGHT:return new oE(new op(e,t),new op(e+a,t),new op(u,c-s),new op(u,c));case eI.BOTTOM_RIGHT:return new oE(new op(u,t),new op(u,t+s),new op(e+a,c),new op(e,c));case eI.BOTTOM_LEFT:default:return new oE(new op(u,c),new op(u-a,c),new op(e,t+s),new op(e,t))}},oO=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},oR=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]};(z=ex||(ex={}))[z.TRANSFORM=0]="TRANSFORM",z[z.CLIP=1]="CLIP",z[z.OPACITY=2]="OPACITY",(W=eT||(eT={}))[W.BACKGROUND_BORDERS=2]="BACKGROUND_BORDERS",W[W.CONTENT=4]="CONTENT";var oF=function e(t,n,r){(0,eD.Z)(this,e),this.type=0,this.target=6,this.offsetX=t,this.offsetY=n,this.matrix=r},oL=function e(t,n){(0,eD.Z)(this,e),this.path=t,this.target=n,this.type=1},oP=function e(t){(0,eD.Z)(this,e),this.opacity=t,this.type=2,this.target=6},oU=function(e){return 1===e.type},oM="Hidden Text",oj=/*#__PURE__*/function(){function e(t){(0,eD.Z)(this,e),this._data={},this._document=t}var t=e.prototype;return t.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(oM)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(oM)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},t.getMetrics=function(e,t){var n="".concat(e," ").concat(t);return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),oZ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},oQ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oH={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oK=function(e,t,n,r,i,o){return e<t||e>n?o0(e,i,o.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+o},oG=function(e,t,n,r){var i="";do!n&&e--,i=r(e)+i,e/=t;while(e*t>=t);return i},oz=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(oG(Math.abs(e),o,r,function(e){return eF(Math.floor(e%o)+t)})+i)},oW=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return oG(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},oq=function(e,t,n,r,i,o){if(e<-9999||e>9999)return o0(e,eh.CJK_DECIMAL,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var u=0;a>0&&u<=4;u++){var c=a%10;0===c&&nR(o,1)&&""!==s?s=t[c]+s:c>1||1===c&&0===u||1===c&&1===u&&nR(o,2)||1===c&&1===u&&nR(o,4)&&e>100||1===c&&u>1&&nR(o,8)?s=t[c]+(u>0?n[u-1]:"")+s:1===c&&u>0&&(s=n[u-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},oY="",o$="",oX="",oJ="",o0=function(e,t,n){var r=n?". ":"",i=n?"":"",o=n?", ":"",a=n?" ":"";switch(t){case eh.DISC:return""+a;case eh.CIRCLE:return""+a;case eh.SQUARE:return""+a;case eh.DECIMAL_LEADING_ZERO:var s=oz(e,48,57,!0,r);return s.length<4?"0".concat(s):s;case eh.CJK_DECIMAL:return oW(e,"",i);case eh.LOWER_ROMAN:return oK(e,1,3999,oZ,eh.DECIMAL,r).toLowerCase();case eh.UPPER_ROMAN:return oK(e,1,3999,oZ,eh.DECIMAL,r);case eh.LOWER_GREEK:return oz(e,945,969,!1,r);case eh.LOWER_ALPHA:return oz(e,97,122,!1,r);case eh.UPPER_ALPHA:return oz(e,65,90,!1,r);case eh.ARABIC_INDIC:return oz(e,1632,1641,!0,r);case eh.ARMENIAN:case eh.UPPER_ARMENIAN:return oK(e,1,9999,oQ,eh.DECIMAL,r);case eh.LOWER_ARMENIAN:return oK(e,1,9999,oQ,eh.DECIMAL,r).toLowerCase();case eh.BENGALI:return oz(e,2534,2543,!0,r);case eh.CAMBODIAN:case eh.KHMER:return oz(e,6112,6121,!0,r);case eh.CJK_EARTHLY_BRANCH:return oW(e,"",i);case eh.CJK_HEAVENLY_STEM:return oW(e,"",i);case eh.CJK_IDEOGRAPHIC:case eh.TRAD_CHINESE_INFORMAL:return oq(e,"",oY,"",i,14);case eh.TRAD_CHINESE_FORMAL:return oq(e,"",o$,"",i,15);case eh.SIMP_CHINESE_INFORMAL:return oq(e,"",oY,"",i,14);case eh.SIMP_CHINESE_FORMAL:return oq(e,"",o$,"",i,15);case eh.JAPANESE_INFORMAL:return oq(e,"","",oX,i,0);case eh.JAPANESE_FORMAL:return oq(e,"","",oX,i,7);case eh.KOREAN_HANGUL_FORMAL:return oq(e,"","",oJ,o,7);case eh.KOREAN_HANJA_INFORMAL:return oq(e,"","",oJ,o,0);case eh.KOREAN_HANJA_FORMAL:return oq(e,"","",oJ,o,7);case eh.DEVANAGARI:return oz(e,2406,2415,!0,r);case eh.GEORGIAN:return oK(e,1,19999,oV,eh.DECIMAL,r);case eh.GUJARATI:return oz(e,2790,2799,!0,r);case eh.GURMUKHI:return oz(e,2662,2671,!0,r);case eh.HEBREW:return oK(e,1,10999,oH,eh.DECIMAL,r);case eh.HIRAGANA:return oW(e,"");case eh.HIRAGANA_IROHA:return oW(e,"");case eh.KANNADA:return oz(e,3302,3311,!0,r);case eh.KATAKANA:return oW(e,"",i);case eh.KATAKANA_IROHA:return oW(e,"",i);case eh.LAO:return oz(e,3792,3801,!0,r);case eh.MONGOLIAN:return oz(e,6160,6169,!0,r);case eh.MYANMAR:return oz(e,4160,4169,!0,r);case eh.ORIYA:return oz(e,2918,2927,!0,r);case eh.PERSIAN:return oz(e,1776,1785,!0,r);case eh.TAMIL:return oz(e,3046,3055,!0,r);case eh.TELUGU:return oz(e,3174,3183,!0,r);case eh.THAI:return oz(e,3664,3673,!0,r);case eh.TIBETAN:return oz(e,3872,3881,!0,r);case eh.DECIMAL:default:return oz(e,48,57,!0,r)}},o1=function e(t){(0,eD.Z)(this,e),this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},o2=/*#__PURE__*/function(){function e(t,n){if((0,eD.Z)(this,e),this.container=t,this.parent=n,this.effects=[],this.container=t,this.curves=new oN(this.container),this.container.styles.opacity<1&&this.effects.push(new oP(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new oF(r,i,o))}if(this.container.styles.overflowX!==ep.VISIBLE){var a=oO(this.curves),s=oR(this.curves);oh(a,s)?this.effects.push(new oL(a,eT.BACKGROUND_BORDERS|eT.CONTENT)):(this.effects.push(new oL(a,eT.BACKGROUND_BORDERS)),this.effects.push(new oL(s,eT.CONTENT)))}}return e.prototype.getEffects=function(e){for(var t=-1===[em.ABSOLUTE,em.FIXED].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!oU(e)});if(t||n.container.styles.position!==em.STATIC||!n.parent){if(r.unshift.apply(r,(0,tI.Z)(i)),t=-1===[em.ABSOLUTE,em.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==ep.VISIBLE){var o=oO(n.curves),a=oR(n.curves);oh(o,a)||r.unshift(new oL(a,eT.BACKGROUND_BORDERS|eT.CONTENT))}}else r.unshift.apply(r,(0,tI.Z)(i));n=n.parent}return r.filter(function(t){return nR(t.target,e)})},e}(),o4=function(e,t,n,r){e.container.elements.forEach(function(i){var o=nR(i.flags,eC.CREATES_REAL_STACKING_CONTEXT),a=nR(i.flags,eC.CREATES_STACKING_CONTEXT),s=new o2(i,e);nR(i.styles.display,ec.LIST_ITEM)&&r.push(s);var u=nR(i.flags,eC.IS_LIST_OWNER)?[]:r;if(o||a){var c=o||i.styles.isPositioned()?n:t,l=new o1(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var d=0;c.negativeZIndex.some(function(e,t){if(A>e.element.container.styles.zIndex.order)d=t;else if(d>0)return!0;return!1}),c.negativeZIndex.splice(d,0,l)}else if(A>0){var f=0;c.positiveZIndex.some(function(e,t){if(A>=e.element.container.styles.zIndex.order)f=t+1;else if(f>0)return!0;return!1}),c.positiveZIndex.splice(f,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);o4(s,l,o?l:n,u)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),o4(s,t,n,u);nR(i.flags,eC.IS_LIST_OWNER)&&o3(i,u)})},o3=function(e,t){for(var n=(0,eO.Z)(e,ih)?e.start:1,r=!!(0,eO.Z)(e,ih)&&e.reversed,i=0;i<t.length;i++){var o=t[i];(0,eO.Z)(o.container,id)&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=o0(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},o5=function(e){var t=new o2(e,null),n=new o1(t),r=[];return o4(t,n,n,r),o3(t.container,r),n};n.g.SMOOTHING_SCALE=4;var o6=/*#__PURE__*/function(e){(0,il.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,eD.Z)(this,n),(i=t.call(this,e,r))._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale*window.SMOOTHING_SCALE),i.canvas.height=Math.floor(r.height*r.scale*window.SMOOTHING_SCALE),i.canvas.style.width="".concat(r.width,"px"),i.canvas.style.height="".concat(r.height,"px")),i.fontMetrics=new oj(document),i.ctx.scale(r.scale*window.SMOOTHING_SCALE,r.scale*window.SMOOTHING_SCALE),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i}var r=n.prototype;return r.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},r.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),oU(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.renderStack=function(e){var t=this;return(0,eS.Z)(function(){return(0,eN.__generator)(this,function(n){switch(n.label){case 0:if(!e.element.container.styles.isVisible())return[3,2];return[4,t.renderStackContent(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},r.renderNode=function(e){var t=this;return(0,eS.Z)(function(){return(0,eN.__generator)(this,function(n){switch(n.label){case 0:if(nR(e.container.flags,eC.DEBUG_RENDER),!e.container.styles.isVisible())return[3,3];return[4,t.renderNodeBackgroundAndBorders(e)];case 1:return n.sent(),[4,t.renderNodeContent(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})()},r.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):iz(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},r.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=at(e.fontFamily).join(", "),r=ne(e.fontSize)?"".concat(e.fontSize.number).concat(e.fontSize.unit):"".concat(e.fontSize.number,"px");return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},r.renderTextNode=function(e,t){var n=this,r=(0,ek.Z)(this.createFontStyle(t),3),i=r[0],o=r[1],a=r[2];this.ctx.font=i,this.ctx.direction=t.direction===eu.RTL?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic";var s=this.fontMetrics.getMetrics(o,a),u=s.baseline,c=s.middle,l=t.paintOrder;e.textBounds.forEach(function(e){l.forEach(function(r){switch(r){case ev.FILL:n.ctx.fillStyle=nE(t.color),n.renderTextWithLetterSpacing(e,t.letterSpacing,u);var i=t.textShadow;i.length&&e.text.trim().length&&(i.slice(0).reverse().forEach(function(r){n.ctx.shadowColor=nE(r.color),n.ctx.shadowOffsetX=r.offsetX.number*n.options.scale,n.ctx.shadowOffsetY=r.offsetY.number*n.options.scale,n.ctx.shadowBlur=r.blur.number,n.renderTextWithLetterSpacing(e,t.letterSpacing,u)}),n.ctx.shadowColor="",n.ctx.shadowOffsetX=0,n.ctx.shadowOffsetY=0,n.ctx.shadowBlur=0),t.textDecorationLine.length&&(n.ctx.fillStyle=nE(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case eb.UNDERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+1.25*u),e.bounds.width,1);break;case eb.OVERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case eb.LINE_THROUGH:n.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}}));break;case ev.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(n.ctx.strokeStyle=nE(t.webkitTextStrokeColor),n.ctx.lineWidth=t.webkitTextStrokeWidth,n.ctx.lineJoin=window.chrome?"miter":"round",n.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+u)),n.ctx.strokeStyle="",n.ctx.lineWidth=0,n.ctx.lineJoin="miter"}})})},r.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=of(e),i=oR(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},r.renderNodeContent=function(e){var t=this;return(0,eS.Z)(function(){var r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x;return(0,eN.__generator)(this,function(T){switch(T.label){case 0:t.applyEffects(e.getEffects(eT.CONTENT)),r=e.container,i=e.curves,o=r.styles,a=!0,s=!1,u=void 0;try{for(c=r.textNodes[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)A=l.value,t.renderTextNode(A,o)}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}if(!(0,eO.Z)(r,iy))return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),[4,t.context.cache.match(r.src)];case 2:return d=T.sent(),t.renderReplacedElement(r,i,d),[3,4];case 3:return T.sent(),t.context.logger.error("Error loading image ".concat(r.src)),[3,4];case 4:if((0,eO.Z)(r,iv)&&t.renderReplacedElement(r,i,r.canvas),!(0,eO.Z)(r,ix))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,t.context.cache.match(r.svg)];case 6:return f=T.sent(),t.renderReplacedElement(r,i,f),[3,8];case 7:return T.sent(),t.context.logger.error("Error loading svg ".concat(r.svg.substring(0,255))),[3,8];case 8:if(!((0,eO.Z)(r,im)&&r.tree))return[3,10];return[4,new n(t.context,{scale:t.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}).render(r.tree)];case 9:h=T.sent(),r.width&&r.height&&t.ctx.drawImage(h,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),T.label=10;case 10:if((0,eO.Z)(r,iI)&&(p=Math.min(r.bounds.width,r.bounds.height),r.type===iE?r.checked&&(t.ctx.save(),t.path([new op(r.bounds.left+.39363*p,r.bounds.top+.79*p),new op(r.bounds.left+.16*p,r.bounds.top+.5549*p),new op(r.bounds.left+.27347*p,r.bounds.top+.44071*p),new op(r.bounds.left+.39694*p,r.bounds.top+.5649*p),new op(r.bounds.left+.72983*p,r.bounds.top+.23*p),new op(r.bounds.left+.84*p,r.bounds.top+.34085*p),new op(r.bounds.left+.39363*p,r.bounds.top+.79*p)]),t.ctx.fillStyle=nE(707406591),t.ctx.fill(),t.ctx.restore()):r.type===iC&&r.checked&&(t.ctx.save(),t.ctx.beginPath(),t.ctx.arc(r.bounds.left+p/2,r.bounds.top+p/2,p/4,0,2*Math.PI,!0),t.ctx.fillStyle=nE(707406591),t.ctx.fill(),t.ctx.restore())),o8(r)&&r.value.length){switch(v=(g=(0,ek.Z)(t.createFontStyle(o),2))[0],m=g[1],y=t.fontMetrics.getMetrics(v,m).baseline,t.ctx.font=v,t.ctx.fillStyle=nE(o.color),t.ctx.textBaseline="alphabetic",t.ctx.textAlign=o7(r.styles.textAlign),b=of(r),w=0,r.styles.textAlign){case ey.CENTER:w+=b.width/2;break;case ey.RIGHT:w+=b.width}_=b.add(w,0,0,-b.height/2+1),t.ctx.save(),t.path([new op(b.left,b.top),new op(b.left+b.width,b.top),new op(b.left+b.width,b.top+b.height),new op(b.left,b.top+b.height)]),t.ctx.clip(),t.renderTextWithLetterSpacing(new iH(r.value,_),o.letterSpacing,y),t.ctx.restore(),t.ctx.textBaseline="alphabetic",t.ctx.textAlign="left"}if(!nR(r.styles.display,ec.LIST_ITEM))return[3,16];if(!(null!==r.styles.listStyleImage))return[3,15];if((E=r.styles.listStyleImage).type!==et.URL)return[3,14];C=E.url,T.label=11;case 11:return T.trys.push([11,13,,14]),[4,t.context.cache.match(C)];case 12:return B=T.sent(),t.ctx.drawImage(B,r.bounds.left-(B.width+10),r.bounds.top),[3,14];case 13:return T.sent(),t.context.logger.error("Error loading list-style-image ".concat(C)),[3,14];case 14:return[3,16];case 15:e.listValue&&r.styles.listStyleType!==eh.NONE&&(I=(0,ek.Z)(t.createFontStyle(o),1)[0],t.ctx.font=I,t.ctx.fillStyle=nE(o.color),t.ctx.textBaseline="middle",t.ctx.textAlign="right",x=new tS(r.bounds.left,r.bounds.top+nh(r.styles.paddingTop,r.bounds.width),r.bounds.width,rF(o.lineHeight,o.fontSize.number)/2+1),t.renderTextWithLetterSpacing(new iH(e.listValue,x),o.letterSpacing,rF(o.lineHeight,o.fontSize.number)/2+2),t.ctx.textBaseline="bottom",t.ctx.textAlign="left"),T.label=16;case 16:return[2]}})})()},r.renderStackContent=function(e){var t=this;return(0,eS.Z)(function(){var n,r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,N,D,O,R,F,L,P,U,M,j,Z,Q,H,V;return(0,eN.__generator)(this,function(K){switch(K.label){case 0:return nR(e.element.container.flags,eC.DEBUG_RENDER),[4,t.renderNodeBackgroundAndBorders(e.element)];case 1:K.sent(),n=!0,r=!1,i=void 0,K.label=2;case 2:K.trys.push([2,7,8,9]),o=e.negativeZIndex[Symbol.iterator](),K.label=3;case 3:if(n=(a=o.next()).done)return[3,6];return s=a.value,[4,t.renderStack(s)];case 4:K.sent(),K.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return u=K.sent(),r=!0,i=u,[3,9];case 8:try{n||null==o.return||o.return()}finally{if(r)throw i}return[7];case 9:return[4,t.renderNodeContent(e.element)];case 10:K.sent(),c=!0,l=!1,A=void 0,K.label=11;case 11:K.trys.push([11,16,17,18]),d=e.nonInlineLevel[Symbol.iterator](),K.label=12;case 12:if(c=(f=d.next()).done)return[3,15];return h=f.value,[4,t.renderNode(h)];case 13:K.sent(),K.label=14;case 14:return c=!0,[3,12];case 15:return[3,18];case 16:return u=K.sent(),l=!0,A=u,[3,18];case 17:try{c||null==d.return||d.return()}finally{if(l)throw A}return[7];case 18:p=!0,g=!1,v=void 0,K.label=19;case 19:K.trys.push([19,24,25,26]),m=e.nonPositionedFloats[Symbol.iterator](),K.label=20;case 20:if(p=(y=m.next()).done)return[3,23];return b=y.value,[4,t.renderStack(b)];case 21:K.sent(),K.label=22;case 22:return p=!0,[3,20];case 23:return[3,26];case 24:return u=K.sent(),g=!0,v=u,[3,26];case 25:try{p||null==m.return||m.return()}finally{if(g)throw v}return[7];case 26:w=!0,_=!1,E=void 0,K.label=27;case 27:K.trys.push([27,32,33,34]),C=e.nonPositionedInlineLevel[Symbol.iterator](),K.label=28;case 28:if(w=(B=C.next()).done)return[3,31];return I=B.value,[4,t.renderStack(I)];case 29:K.sent(),K.label=30;case 30:return w=!0,[3,28];case 31:return[3,34];case 32:return u=K.sent(),_=!0,E=u,[3,34];case 33:try{w||null==C.return||C.return()}finally{if(_)throw E}return[7];case 34:x=!0,T=!1,S=void 0,K.label=35;case 35:K.trys.push([35,40,41,42]),k=e.inlineLevel[Symbol.iterator](),K.label=36;case 36:if(x=(N=k.next()).done)return[3,39];return D=N.value,[4,t.renderNode(D)];case 37:K.sent(),K.label=38;case 38:return x=!0,[3,36];case 39:return[3,42];case 40:return u=K.sent(),T=!0,S=u,[3,42];case 41:try{x||null==k.return||k.return()}finally{if(T)throw S}return[7];case 42:O=!0,R=!1,F=void 0,K.label=43;case 43:K.trys.push([43,48,49,50]),L=e.zeroOrAutoZIndexOrTransformedOrOpacity[Symbol.iterator](),K.label=44;case 44:if(O=(P=L.next()).done)return[3,47];return U=P.value,[4,t.renderStack(U)];case 45:K.sent(),K.label=46;case 46:return O=!0,[3,44];case 47:return[3,50];case 48:return u=K.sent(),R=!0,F=u,[3,50];case 49:try{O||null==L.return||L.return()}finally{if(R)throw F}return[7];case 50:M=!0,j=!1,Z=void 0,K.label=51;case 51:K.trys.push([51,56,57,58]),Q=e.positiveZIndex[Symbol.iterator](),K.label=52;case 52:if(M=(H=Q.next()).done)return[3,55];return V=H.value,[4,t.renderStack(V)];case 53:K.sent(),K.label=54;case 54:return M=!0,[3,52];case 55:return[3,58];case 56:return u=K.sent(),j=!0,Z=u,[3,58];case 57:try{M||null==Q.return||Q.return()}finally{if(j)throw Z}return[7];case 58:return[2]}})})()},r.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=oC(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),oC(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},r.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},r.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r,i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},r.renderBackgroundImage=function(e){var t=this;return(0,eS.Z)(function(){var n,r,i,o,a,s,u,c;return(0,eN.__generator)(this,function(l){switch(l.label){case 0:n=e.styles.backgroundImage.length-1,r=!0,i=!1,o=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),a=function(){var r,i,o,a,s,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,N,D,O,R,F,L,P,U,M,j,Z,Q,H,V,K,G;return(0,eN.__generator)(this,function(z){switch(z.label){case 0:if((r=u.value).type!==et.URL)return[3,5];i=null,o=r.url,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,t.context.cache.match(o)];case 2:return i=z.sent(),[3,4];case 3:return z.sent(),t.context.logger.error("Error loading background-image ".concat(o)),[3,4];case 4:return i&&(s=(a=(0,ek.Z)(og(e,n,[i.width,i.height,i.width/i.height]),5))[0],c=a[1],l=a[2],A=a[3],d=a[4],f=t.ctx.createPattern(t.resizeImage(i,A,d),"repeat"),t.renderRepeat(s,f,c,l)),[3,6];case 5:1===r.type?(p=(h=(0,ek.Z)(og(e,n,[null,null,null]),5))[0],g=h[1],v=h[2],m=h[3],y=h[4],w=(b=(0,ek.Z)(nj(r.angle,m,y),5))[0],_=b[1],E=b[2],C=b[3],B=b[4],(I=document.createElement("canvas")).width=m,I.height=y,T=(x=I.getContext("2d")).createLinearGradient(_,C,E,B),nU(r.stops,w).forEach(function(e){return T.addColorStop(e.stop,nE(e.color))}),x.fillStyle=T,x.fillRect(0,0,m,y),m>0&&y>0&&(S=t.ctx.createPattern(I,"repeat"),t.renderRepeat(p,S,g,v))):2===r.type&&(N=(k=(0,ek.Z)(og(e,n,[null,null,null]),5))[0],D=k[1],O=k[2],R=k[3],F=k[4],P=nh((L=0===r.position.length?[nA]:r.position)[0],R),U=nh(L[L.length-1],F),j=(M=(0,ek.Z)(nH(r,P,U,R,F),2))[0],Z=M[1],j>0&&Z>0&&(Q=t.ctx.createRadialGradient(D+P,O+U,0,D+P,O+U,j),nU(r.stops,2*j).forEach(function(e){return Q.addColorStop(e.stop,nE(e.color))}),t.path(N),t.ctx.fillStyle=Q,j!==Z?(H=e.bounds.left+.5*e.bounds.width,V=e.bounds.top+.5*e.bounds.height,G=1/(K=Z/j),t.ctx.save(),t.ctx.translate(H,V),t.ctx.transform(1,0,0,K,0,0),t.ctx.translate(-H,-V),t.ctx.fillRect(D,G*(O-V)+V,R,F*G),t.ctx.restore()):t.ctx.fill())),z.label=6;case 6:return n--,[2]}})},s=e.styles.backgroundImage.slice(0).reverse()[Symbol.iterator](),l.label=2;case 2:if(r=(u=s.next()).done)return[3,5];return[5,(0,eN.__values)(a())];case 3:l.sent(),l.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return c=l.sent(),i=!0,o=c,[3,8];case 7:try{r||null==s.return||s.return()}finally{if(i)throw o}return[7];case 8:return[2]}})})()},r.renderSolidBorder=function(e,t,n){var r=this;return(0,eS.Z)(function(){return(0,eN.__generator)(this,function(i){return r.path(oB(n,t)),r.ctx.fillStyle=nE(e),r.ctx.fill(),[2]})})()},r.renderDoubleBorder=function(e,t,n,r){var i=this;return(0,eS.Z)(function(){var o,a;return(0,eN.__generator)(this,function(s){switch(s.label){case 0:if(!(t<3))return[3,2];return[4,i.renderSolidBorder(e,n,r)];case 1:return s.sent(),[2];case 2:return o=oI(r,n),i.path(o),i.ctx.fillStyle=nE(e),i.ctx.fill(),a=ox(r,n),i.path(a),i.ctx.fill(),[2]}})})()},r.renderNodeBackgroundAndBorders=function(e){var t=this;return(0,eS.Z)(function(){var n,r,i,o,a,s,u,c,l,A,d,f;return(0,eN.__generator)(this,function(h){switch(h.label){case 0:if(t.applyEffects(e.getEffects(eT.BACKGROUND_BORDERS)),r=!n_((n=e.container.styles).backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=o9(ob(n.backgroundClip,0),e.curves),!(r||n.boxShadow.length))return[3,2];return t.ctx.save(),t.path(o),t.ctx.clip(),n_(n.backgroundColor)||(t.ctx.fillStyle=nE(n.backgroundColor),t.ctx.fill()),[4,t.renderBackgroundImage(e.container)];case 1:h.sent(),t.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(n){t.ctx.save();var r,i,o,a,s=oO(e.curves),u=n.inset?0:1e4,c=(r=-u+(n.inset?1:-1)*n.spread.number,i=(n.inset?1:-1)*n.spread.number,o=n.spread.number*(n.inset?-2:2),a=n.spread.number*(n.inset?-2:2),s.map(function(e,t){switch(t){case 0:return e.add(r,i);case 1:return e.add(r+o,i);case 2:return e.add(r+o,i+a);case 3:return e.add(r,i+a)}return e}));n.inset?(t.path(s),t.ctx.clip(),t.mask(c)):(t.mask(s),t.ctx.clip(),t.path(c)),t.ctx.shadowOffsetX=n.offsetX.number+u,t.ctx.shadowOffsetY=n.offsetY.number,t.ctx.shadowColor=nE(n.color),t.ctx.shadowBlur=n.blur.number,t.ctx.fillStyle=n.inset?nE(n.color):"rgba(0,0,0,1)",t.ctx.fill(),t.ctx.restore()}),h.label=2;case 2:a=0,s=!0,u=!1,c=void 0,h.label=3;case 3:h.trys.push([3,15,16,17]),l=i[Symbol.iterator](),h.label=4;case 4:if(s=(A=l.next()).done)return[3,14];if(!((d=A.value).style!==es.NONE&&!n_(d.color)&&d.width>0))return[3,12];if(d.style!==es.DASHED)return[3,6];return[4,t.renderDashedDottedBorder(d.color,d.width,a,e.curves,es.DASHED)];case 5:case 7:case 9:return h.sent(),[3,12];case 6:if(d.style!==es.DOTTED)return[3,8];return[4,t.renderDashedDottedBorder(d.color,d.width,a,e.curves,es.DOTTED)];case 8:if(d.style!==es.DOUBLE)return[3,10];return[4,t.renderDoubleBorder(d.color,d.width,a,e.curves)];case 10:return[4,t.renderSolidBorder(d.color,a,e.curves)];case 11:h.sent(),h.label=12;case 12:a++,h.label=13;case 13:return s=!0,[3,4];case 14:return[3,17];case 15:return f=h.sent(),u=!0,c=f,[3,17];case 16:try{s||null==l.return||l.return()}finally{if(u)throw c}return[7];case 17:return[2]}})})()},r.renderDashedDottedBorder=function(e,t,n,r,i){var o=this;return(0,eS.Z)(function(){var a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E;return(0,eN.__generator)(this,function(C){return o.ctx.save(),a=oT(r,n),s=oB(r,n),i===es.DASHED&&(o.path(s),o.ctx.clip()),oC(s[0])?(u=s[0].start.x,c=s[0].start.y):(u=s[0].x,c=s[0].y),oC(s[1])?(l=s[1].end.x,A=s[1].end.y):(l=s[1].x,A=s[1].y),d=0===n||2===n?Math.abs(u-l):Math.abs(c-A),o.ctx.beginPath(),i===es.DOTTED?o.formatPath(a):o.formatPath(s.slice(0,2)),f=t<3?3*t:2*t,h=t<3?2*t:t,i===es.DOTTED&&(f=t,h=t),p=!0,d<=2*f?p=!1:d<=2*f+h?(g=d/(2*f+h),f*=g,h*=g):(v=Math.floor((d+h)/(f+h)),m=(d-v*f)/(v-1),h=(y=(d-(v+1)*f)/v)<=0||Math.abs(h-m)<Math.abs(h-y)?m:y),p&&(i===es.DOTTED?o.ctx.setLineDash([0,f+h]):o.ctx.setLineDash([f,h])),i===es.DOTTED?(o.ctx.lineCap="round",o.ctx.lineWidth=t):o.ctx.lineWidth=2*t+1.1,o.ctx.strokeStyle=nE(e),o.ctx.stroke(),o.ctx.setLineDash([]),i===es.DASHED&&(oC(s[0])&&(b=s[3],w=s[0],o.ctx.beginPath(),o.formatPath([new op(b.end.x,b.end.y),new op(w.start.x,w.start.y)]),o.ctx.stroke()),oC(s[1])&&(_=s[1],E=s[2],o.ctx.beginPath(),o.formatPath([new op(_.end.x,_.end.y),new op(E.start.x,E.start.y)]),o.ctx.stroke())),o.ctx.restore(),[2]})})()},r.render=function(e){var t=this;return(0,eS.Z)(function(){var n;return(0,eN.__generator)(this,function(r){switch(r.label){case 0:return t.options.backgroundColor&&(t.ctx.fillStyle=nE(t.options.backgroundColor),t.ctx.fillRect(t.options.x,t.options.y,t.options.width,t.options.height)),n=o5(e),[4,t.renderStack(n)];case 1:return r.sent(),t.applyEffects([]),[2,t.canvas]}})})()},n}(function e(t,n){(0,eD.Z)(this,e),this.context=t,this.options=n,this.context=t,this.options=n}),o8=function(e){return!!((0,eO.Z)(e,ig)||(0,eO.Z)(e,ip)||(0,eO.Z)(e,iI)&&e.type!==iC&&e.type!==iE)},o9=function(e,t){switch(e){case ee.BORDER_BOX:return oO(t);case ee.CONTENT_BOX:return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];case ee.PADDING_BOX:default:return oR(t)}},o7=function(e){switch(e){case ey.CENTER:return"center";case ey.RIGHT:return"right";case ey.LEFT:default:return"left"}},ae=["-apple-system","system-ui"],at=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return -1===ae.indexOf(e)}):e};tp.setContext(window);var an=(q=(0,eS.Z)(function(e,t){var n,r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T;return(0,eN.__generator)(this,function(S){switch(S.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw Error("Element is not attached to a Document");if(!(r=n.defaultView))throw Error("Document is not attached to a Window");return s={allowTaint:null!==(i=t.allowTaint)&&void 0!==i&&i,imageTimeout:null!==(o=t.imageTimeout)&&void 0!==o?o:15e3,proxy:t.proxy,useCORS:null!==(a=t.useCORS)&&void 0!==a&&a},h=new tT((0,tB.Z)({logging:null===(u=t.logging)||void 0===u||u,cache:t.cache},s),new tS((f={windowWidth:null!==(c=t.windowWidth)&&void 0!==c?c:r.innerWidth,windowHeight:null!==(l=t.windowHeight)&&void 0!==l?l:r.innerHeight,scrollX:null!==(A=t.scrollX)&&void 0!==A?A:r.pageXOffset,scrollY:null!==(d=t.scrollY)&&void 0!==d?d:r.pageYOffset}).scrollX,f.scrollY,f.windowWidth,f.windowHeight)),g=(p=oo(e)||"HTML"===e.tagName?tN(n):tk(h,e)).width,v=p.height,m=p.left,y=p.top,b="number"==typeof t.backgroundColor?t.backgroundColor:ar(h,e,t.backgroundColor||"transparent"),x={canvas:t.canvas,backgroundColor:b,scale:null!==(_=null!==(w=t.scale)&&void 0!==w?w:r.devicePixelRatio)&&void 0!==_?_:1,x:(null!==(E=t.x)&&void 0!==E?E:0)+m,y:(null!==(C=t.y)&&void 0!==C?C:0)+y,width:null!==(B=t.width)&&void 0!==B?B:Math.ceil(g),height:null!==(I=t.height)&&void 0!==I?I:Math.ceil(v)},b===(T=i3(h,e)).styles.backgroundColor&&(T.styles.backgroundColor=nN.TRANSPARENT),[4,new o6(h,x).render(T)];case 1:return[2,S.sent()]}})}),function(e,t){return q.apply(this,arguments)}),ar=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?nk(e,getComputedStyle(r.documentElement).backgroundColor):nN.TRANSPARENT,o=r.body?nk(e,getComputedStyle(r.body).backgroundColor):nN.TRANSPARENT,a="string"==typeof n?nk(e,n):null===n?nN.TRANSPARENT:4294967295;return t===r.documentElement?n_(i)?n_(o)?a:o:i:a};tp.setContext(window);var ai=n(10017),ao=/*#__PURE__*/n.n(ai),aa=n(56818),as=n(74410);n(84912);var au=function(e){e.querySelectorAll(".html2canvas-link-expander-caret rect, .html2canvas-default-link-icon rect").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-default-link-icon > path:first-of-type, .html2canvas-wikilink-icon > path:first-of-type").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-figure-link-icon path").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke})},ac=function(e){au(e)},al=new RegExp(/ql-indent-(\d)/),aA="abcdefghijklmnopqrstuvwxyz",ad={m:1e3,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},af=function(e){if(--e<0)return"a";for(var t=aA.length,n=1,r=0;;n++){var i=(r+1)*t;if(e<i)break;r=i}e-=r;for(var o="",a=0;a<n;a++)o=aA.charAt(e%t)+o,e=Math.floor(e/t);return o},ah=function(e){if(e<=0)return"i";var t="";for(var n in ad){var r=ad[n],i=Math.floor(e/r);e-=i*r;for(var o=0;o<i;o++)t+=n}return t},ap=function(e,t){var n=document.createElement("span");return n.className="ql-bullet",n.innerHTML=(t%3==1?af(e):t%3==2?ah(e):"".concat(e))+". ",n},ag=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("LI"===e.tagName&&e.parentNode&&"UL"===e.parentNode.tagName){var i,o=document.createElement("span"),a=e.parentNode.getAttribute("data-checked");i=null!=a?"true"===a?"&#9745;":"&#9744;":"&#8226;",o.className="ql-bullet",o.innerHTML=i,e.insertBefore(o,e.firstChild)}if("LI"===e.tagName&&e.parentNode&&"OL"===e.parentNode.tagName){var s=e.previousSibling,u=(null==s?void 0:s.className)&&al.test(s.className)?+al.exec(s.className)[1]:0,c=e.className&&al.test(e.className)?+al.exec(e.className)[1]:0;s&&r[c]&&c<=u?r[c]+=1:r[c]=1,e.insertBefore(ap(r[c],c),e.firstChild)}e.childNodes.length>0&&e.childNodes.forEach(function(e){ag(e,t,!1,r)})},av=n(46317),am=n(80003),ay=function(e){var t=e.width,n=e.height;return t>5e3||n>5e3?.25:t>5e3||n>5e3?.5:t>2500||n>2500?.75:1},ab=function(e){var t=as.S2.setHTML(e,e,{theme:(0,am.l)()}),r=t.parentElement;if((0,av.EG)(e)?ac(t):(t.className+=" has-replaced-pseudoelements",n(76498),ag(t,e.textAlign,!0)),(0,aa.bA)(e)){var i=n.g.devicePixelRatio;t.style.paddingTop="".concat(1===i?3:i,"px")}return t.style.transform="none",r.style.transform="scale(".concat(e.scale,")"),an(r,{x:0,scale:ay(e),scrollX:0,scrollY:0,width:e.width,height:e.height,removeContainer:!1,foreignObjectRendering:!1}).then(function(e){return r.remove(),e})},aw=new Map,a_=function(e,t){var n,r=e.strokeColor,i=e.fontFamily,o=e.fontSize,a=e.hasFixedBounds,s=e.html,u=e.slate,c=[i,o,a,e.scale,e.text,r,e.textAlign,e.verticalAlign,e.width,e.height,e.mode];return t&&(null===(n=e.text)||void 0===n?void 0:n.length)>0?c.push(t):c.push(s,u),JSON.stringify(c)},aE=function(e){var t=ao()(e.filter(aa.Sf).map(function(e){return[a_(e),!0]})),n={},r=!0,i=!1,o=void 0;try{for(var a,s=aw[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=(0,ek.Z)(a.value,2),c=u[0];u[1],null==t[c]&&(n[c]=!0)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var l in n)aw.delete(l)},aC=(Y=(0,eS.Z)(function(e,t){var n,r;return(0,eN.__generator)(this,function(i){switch(i.label){case 0:if(n=a_(e,t),(r=aw.get(n))||(r={},aw.set(n,r)),r.promise||(r.promise=ab(e)),r.canvas)return[3,2];return[4,r.promise];case 1:r.canvas=i.sent(),i.label=2;case 2:return[2,r.canvas]}})}),function(e,t){return Y.apply(this,arguments)})},45629:function(e,t,n){"use strict";n.d(t,{CN:function(){return f},N4:function(){return c},P1:function(){return v},S2:function(){return d},UB:function(){return u},Y7:function(){return p},je:function(){return A},l:function(){return h},lI:function(){return b},pW:function(){return l},uB:function(){return y}});var r,i=n(47842),o=n(98568),a=n(93939);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return"url(data:image/svg+xml;base64,".concat(btoa(e),") ").concat(t," ").concat(n,", auto")}var u=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50451)">\n      <path d="M8 5L22 18H13.5L8 25V5Z" fill="black"/>\n      <path d="M8.5 23.5543V6.14661L20.7267 17.5H13.5H13.257L13.1068 17.6911L8.5 23.5543Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50451" x="6" y="4" width="18" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50451"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50451" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,5),c=s('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50467)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50467" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50467"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50467" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),l=s('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50469)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="white" stroke="black"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50469" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50469"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50469" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),A=s('\n  <svg width="37" height="34" viewBox="0 0 37 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50468)">\n      <path d="M13.5 24.5543V7.14661L25.7267 18.5H18.5H18.257L18.1068 18.6911L13.5 24.5543Z" fill="white" stroke="black"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50468" x="0" y="0" width="37" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50468"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50468" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),d=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50454)">\n      <mask id="path-1-inside-1_1168_50454" fill="white">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z"/>\n      </mask>\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z" fill="black"/>\n      <path d="M14 7V6H13V7H14ZM17 7H18V6H17V7ZM14 14V15H15V14H14ZM7 14V13H6V14H7ZM7 17H6V18H7V17ZM14 17H15V16H14V17ZM14 24H13V25H14V24ZM17 24V25H18V24H17ZM17 17V16H16V17H17ZM24 17V18H25V17H24ZM24 14H25V13H24V14ZM17 14H16V15H17V14ZM14 8H17V6H14V8ZM15 14V7H13V14H15ZM7 15H14V13H7V15ZM8 17V14H6V17H8ZM14 16H7V18H14V16ZM15 24V17H13V24H15ZM17 23H14V25H17V23ZM16 17V24H18V17H16ZM24 16H17V18H24V16ZM23 14V17H25V14H23ZM17 15H24V13H17V15ZM16 7V14H18V7H16Z" fill="white" mask="url(#path-1-inside-1_1168_50454)"/>\n      </g>\n    <defs>\n      <filter id="filter0_d_1168_50454" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50454"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50454" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),f=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_399_42935)">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3337 18.9459V21.8012L15.1432 18.9459H20.8575C21.3842 18.9459 21.8099 18.5205 21.8099 17.9942V9.4283C21.8099 8.90198 21.3842 8.47656 20.8575 8.47656H9.42894C8.90228 8.47656 8.47656 8.90198 8.47656 9.4283V17.9942C8.47656 18.5205 8.90228 18.9459 9.42894 18.9459H11.3337Z" fill="black"/>\n      <path d="M9.42894 19.4459H10.8337V21.8012V22.8008L11.6336 22.2013L15.3098 19.4459H20.8575C21.66 19.4459 22.3099 18.7969 22.3099 17.9942V9.4283C22.3099 8.62552 21.66 7.97656 20.8575 7.97656H9.42894C8.62645 7.97656 7.97656 8.62552 7.97656 9.4283V17.9942C7.97656 18.7969 8.62645 19.4459 9.42894 19.4459Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_399_42935" x="5.47656" y="6.47656" width="19.3335" height="20.3242" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_399_42935"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_399_42935" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),h=s('\n  <svg xmlns="http://www.w3.org/2000/svg" role="img" width="14" height="14" focusable="false" aria-hidden="true" viewBox="0 0 14 14">\n    <path fill="#fff" d="M 1.181 1.261 L 12.842 1.192 L 12.853 10.285 L 6.845 10.4 L 3.818 12.406 L 3.566 10.124 L 1.009 9.987"/>\n    <path d="M3.58686 10.4074H4.33686V9.65738H3.58686V10.4074ZM3.58686 12.9657H2.83686C2.83686 13.2497 2.99731 13.5094 3.25134 13.6365C3.50537 13.7635 3.80939 13.7362 4.03667 13.5658L3.58686 12.9657ZM7.00019 10.4074V9.65738H6.75032L6.55038 9.80723L7.00019 10.4074ZM2.83686 10.4074V12.9657H4.33686V10.4074H2.83686ZM4.03667 13.5658L7.45 11.0075L6.55038 9.80723L3.13704 12.3656L4.03667 13.5658ZM7.00019 11.1574H12.1202V9.65738H7.00019V11.1574ZM12.1202 11.1574C13.0058 11.1574 13.7235 10.4409 13.7235 9.55462H12.2235C12.2235 9.61151 12.1783 9.65738 12.1202 9.65738V11.1574ZM13.7235 9.55462V1.87962H12.2235V9.55462H13.7235ZM13.7235 1.87962C13.7235 0.993337 13.0058 0.276855 12.1202 0.276855V1.77686C12.1783 1.77686 12.2235 1.82272 12.2235 1.87962H13.7235ZM12.1202 0.276855H1.88019V1.77686H12.1202V0.276855ZM1.88019 0.276855C0.994562 0.276855 0.276855 0.993336 0.276855 1.87962H1.77686C1.77686 1.82272 1.82203 1.77686 1.88019 1.77686V0.276855ZM0.276855 1.87962V9.55462H1.77686V1.87962H0.276855ZM0.276855 9.55462C0.276855 10.4409 0.994562 11.1574 1.88019 11.1574V9.65738C1.82203 9.65738 1.77686 9.61151 1.77686 9.55462H0.276855ZM1.88019 11.1574H3.58686V9.65738H1.88019V11.1574Z" fill="#fff"/>\n  </svg>\n'),p=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50453)">\n      <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" fill="white"/>\n    </g>\n    <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" stroke="black"/>\n    <defs>\n      <filter id="filter0_d_1168_50453" x="6" y="7" width="18" height="18" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50453"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50453" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,22),g=(r={},(0,i.Z)(r,o.oc.NS_RESIZE,0),(0,i.Z)(r,o.oc.EW_RESIZE,90),(0,i.Z)(r,o.oc.NESW_RESIZE,45),(0,i.Z)(r,o.oc.NWSE_RESIZE,-45),r);function v(e,t){var n=g[e]+180/Math.PI*t;return s('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50481)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9791 22.381L14.3303 22.381L14.3303 8.8563L11.9795 8.8563L15.3607 4.34798L18.7419 8.8563L16.3303 8.8563L16.3303 22.381L18.7416 22.381L15.3604 26.8894L11.9791 22.381Z" fill="black"/>\n        <path d="M14.3303 22.381L14.3303 22.881L14.8303 22.881L14.8303 22.381L14.3303 22.381ZM11.9791 22.381L11.9791 21.881L10.9791 21.881L11.5791 22.681L11.9791 22.381ZM14.3303 8.8563L14.8303 8.8563L14.8303 8.3563L14.3303 8.3563L14.3303 8.8563ZM11.9795 8.8563L11.5795 8.5563L10.9795 9.3563L11.9795 9.3563L11.9795 8.8563ZM15.3607 4.34798L15.7607 4.04798L15.3607 3.51464L14.9607 4.04798L15.3607 4.34798ZM18.7419 8.8563L18.7419 9.3563L19.7419 9.3563L19.1419 8.5563L18.7419 8.8563ZM16.3303 8.8563L16.3303 8.3563L15.8303 8.3563L15.8303 8.8563L16.3303 8.8563ZM16.3303 22.381L15.8303 22.381L15.8303 22.881L16.3303 22.881L16.3303 22.381ZM18.7416 22.381L19.1416 22.681L19.7416 21.881L18.7416 21.881L18.7416 22.381ZM15.3604 26.8894L14.9604 27.1894L15.3604 27.7227L15.7604 27.1894L15.3604 26.8894ZM14.3303 21.881L11.9791 21.881L11.9791 22.881L14.3303 22.881L14.3303 21.881ZM13.8303 8.8563L13.8303 22.381L14.8303 22.381L14.8303 8.8563L13.8303 8.8563ZM14.3303 8.3563L11.9795 8.3563L11.9795 9.3563L14.3303 9.3563L14.3303 8.3563ZM12.3795 9.1563L15.7607 4.64798L14.9607 4.04798L11.5795 8.5563L12.3795 9.1563ZM14.9607 4.64798L18.3419 9.1563L19.1419 8.5563L15.7607 4.04798L14.9607 4.64798ZM18.7419 8.3563L16.3303 8.3563L16.3303 9.3563L18.7419 9.3563L18.7419 8.3563ZM16.8303 22.381L16.8303 8.8563L15.8303 8.8563L15.8303 22.381L16.8303 22.381ZM18.7416 21.881L16.3303 21.881L16.3303 22.881L18.7416 22.881L18.7416 21.881ZM15.7604 27.1894L19.1416 22.681L18.3416 22.081L14.9604 26.5894L15.7604 27.1894ZM11.5791 22.681L14.9604 27.1894L15.7604 26.5894L12.3791 22.081L11.5791 22.681Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50481" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50481"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50481" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}var m={"rotation-nw":0,"rotation-ne":90,"rotation-se":180,"rotation-sw":270};function y(e,t){var n=m[e]+180/Math.PI*t;return s('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50475)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.94617 19.2539L10.6385 22.9462L14.3308 19.2539L11.8698 19.2539C11.9254 15.3273 15.0456 12.142 18.9462 11.9822L18.9462 14.0539L22.9462 10.5539L18.9462 7.05386L18.9462 9.51909C13.6859 9.68047 9.46422 13.9677 9.4081 19.2539L6.94617 19.2539Z" fill="black"/>\n        <path d="M10.6385 22.9462L10.2849 23.2997L10.6385 23.6533L10.992 23.2997L10.6385 22.9462ZM6.94617 19.2539L6.94617 18.7539L5.73906 18.7539L6.59261 19.6074L6.94617 19.2539ZM14.3308 19.2539L14.6843 19.6074L15.5379 18.7539L14.3308 18.7539L14.3308 19.2539ZM11.8698 19.2539L11.3699 19.2468L11.3627 19.7539L11.8698 19.7539L11.8698 19.2539ZM18.9462 11.9822L19.4462 11.9822L19.4462 11.4613L18.9257 11.4826L18.9462 11.9822ZM18.9462 14.0539L18.4462 14.0539L18.4462 15.1557L19.2754 14.4301L18.9462 14.0539ZM22.9462 10.5539L23.2754 10.9301L23.7055 10.5539L23.2754 10.1776L22.9462 10.5539ZM18.9462 7.05386L19.2754 6.67757L18.4462 5.95197L18.4462 7.05386L18.9462 7.05386ZM18.9462 9.51909L18.9615 10.0189L19.4462 10.004L19.4462 9.51909L18.9462 9.51909ZM9.4081 19.2539L9.4081 19.7539L9.90282 19.7539L9.90807 19.2592L9.4081 19.2539ZM10.992 22.5926L7.29972 18.9003L6.59261 19.6074L10.2849 23.2997L10.992 22.5926ZM13.9772 18.9003L10.2849 22.5926L10.992 23.2997L14.6843 19.6074L13.9772 18.9003ZM11.8698 19.7539L14.3308 19.7539L14.3308 18.7539L11.8698 18.7539L11.8698 19.7539ZM12.3698 19.2609C12.4216 15.6005 15.3306 12.6307 18.9666 12.4818L18.9257 11.4826C14.7607 11.6532 11.4292 15.0541 11.3699 19.2468L12.3698 19.2609ZM18.4462 11.9822L18.4462 14.0539L19.4462 14.0539L19.4462 11.9822L18.4462 11.9822ZM19.2754 14.4301L23.2754 10.9301L22.6169 10.1776L18.6169 13.6776L19.2754 14.4301ZM23.2754 10.1776L19.2754 6.67757L18.6169 7.43015L22.6169 10.9301L23.2754 10.1776ZM18.4462 7.05386L18.4462 9.51909L19.4462 9.51909L19.4462 7.05386L18.4462 7.05386ZM18.9308 9.01933C13.4031 9.18891 8.9671 13.6938 8.90813 19.2486L9.90807 19.2592C9.96134 14.2417 13.9687 10.172 18.9615 10.0189L18.9308 9.01933ZM6.94617 19.7539L9.4081 19.7539L9.4081 18.7539L6.94617 18.7539L6.94617 19.7539Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50475" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50475"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50475" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}function b(e){var t=(0,a.IQ)(e,o.sc.XL,o.sc.S,.5,1);return s('\n    <svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50470)">\n        <circle cx="13" cy="12" r="11" fill="white"/>\n      </g>\n      <circle cx="13" cy="12" r="11" stroke="black" stroke-width="').concat(t,'"/>\n      <defs>\n        <filter id="filter0_d_1168_50470" x="0" y="0" width="26" height="26" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50470"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50470" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '),13,13)}},93939:function(e,t,n){"use strict";n.d(t,{Ds:function(){return m},Fc:function(){return l},Fv:function(){return U},IH:function(){return k},IQ:function(){return P},Le:function(){return y},OF:function(){return w},Oo:function(){return A},P:function(){return p},PI:function(){return F},Uk:function(){return E},X1:function(){return v},YC:function(){return I},Zz:function(){return T},_Z:function(){return f},_i:function(){return x},cx:function(){return O},dE:function(){return B},dZ:function(){return D},eL:function(){return M},hR:function(){return c},mO:function(){return g},qr:function(){return R},s:function(){return h},tH:function(){return L},uY:function(){return C},wO:function(){return d},z8:function(){return b},zX:function(){return S}});var r,i=n(42838),o=n(50930),a=n(28316),s=n(45629);n(14935);var u=n(98568),c="http://www.w3.org/2000/svg",l=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),o="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(o)},A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(e){return(0,i.Z)(e,HTMLElement)&&e.className.includes("ToolIcon")},f=function(e){return(0,i.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,i.Z)(e,HTMLBRElement)||(0,i.Z)(e,HTMLInputElement)||(0,i.Z)(e,HTMLTextAreaElement)||(0,i.Z)(e,HTMLSelectElement)},h=function(e){return(0,i.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,i.Z)(e,HTMLBRElement)||(0,i.Z)(e,HTMLTextAreaElement)||(0,i.Z)(e,HTMLInputElement)&&("text"===e.type||"number"===e.type)},p=function(e){var t=e.fontSize,n=e.fontFamily,r=e.isForwardCorrection,i=void 0===r||r?t*(u.Vh[n]||1):t/(u.Vh[n]||1);switch(n){case 1:return{fontSize:"".concat(i,"px"),fontFamily:'Virgil, "'.concat(u._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};case 5:return{fontSize:"".concat(i,"px"),fontFamily:'JetBrainsMono, "'.concat(u._D,'", FreeMono, "Free Mono"')};case 6:return{fontSize:"".concat(i,"px"),fontFamily:'"Inter var", "'.concat(u._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};default:return{fontSize:"".concat(i,"px"),fontFamily:'EraserNimbusSansFerrule, "'.concat(u._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')}}},g=function(e){var t=p({fontSize:e.fontSize,fontFamily:e.fontFamily}),n=t.fontSize,r=t.fontFamily;return"".concat(n," ").concat(r)},v=function(e,t){if(!r){if(null===(r=document.createElement("canvas").getContext("2d")))throw Error("Context2D is not supported");r.textBaseline="bottom"}r.font=t;var n=0,i=0,o=0,a=e.split("\n"),s=!0,u=!1,c=void 0;try{for(var l,A=a[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value,f=r.measureText(d);if(n+=f.actualBoundingBoxAscent-f.actualBoundingBoxDescent,i<f.width&&(i=f.width),0===o){r.textBaseline="alphabetic";var h=r.measureText(d);o=1.25*h.actualBoundingBoxAscent,r.textBaseline="bottom"}}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}return{width:i,height:n,baseline:o}},m=function(e,t){var n,r=0,i=function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];n=a,clearTimeout(r),r=window.setTimeout(function(){return e.apply(void 0,(0,o.Z)(a))},t)};return i.flush=function(){clearTimeout(r),n&&e.apply(void 0,(0,o.Z)(n))},i.cancel=function(){clearTimeout(r)},i},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.getElementById(u.dJ);if(n){if(!e){n.style.cursor=s.UB;return}switch(e){case u.oc.CROSSHAIR:n.style.cursor=s.S2;break;case u.oc.PEN:n.style.cursor=s.Y7;break;case u.oc.MOVE:n.style.cursor=s.N4;break;case u.oc.SPLINE_CONTROL_MOVE:n.style.cursor=s.pW;break;case u.oc.DUPLICATE:n.style.cursor=s.je;break;case u.oc.NESW_RESIZE:case u.oc.NWSE_RESIZE:case u.oc.NS_RESIZE:case u.oc.EW_RESIZE:n.style.cursor=(0,s.P1)(e,t);break;case u.oc.ROTATION_NW:case u.oc.ROTATION_NE:case u.oc.ROTATION_SW:case u.oc.ROTATION_SE:n.style.cursor=(0,s.uB)(e,t);break;default:n.style.cursor=e}}},b=function(){return y(null)},w=function(e){y((0,s.lI)(e))},_=function(e){"dark"===e?y(s.l):y(s.CN)},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light";switch(e){case"selection":b();break;case"comment":_(n);break;case"freedraw":y(u.oc.PEN);break;case"eraser":w(t||20);break;default:y(u.oc.CROSSHAIR)}},C=function(e){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?e.replace(/\bCtrlOrCmd\b/i,"").replace(/\bAlt\b/i,"Option").replace(/\bDel\b/i,"Delete").replace(/\b(?:Enter|Return)\b/i,"Enter").replace(/\bArrow\b/i,""):e.replace(/\bCtrlOrCmd\b/i,"Ctrl").replace(/\bArrow\b/i,"")},B=function(e,t,n){var r=e.clientX,i=e.clientY,o=t.offsetLeft,a=t.offsetTop,s=n.zoom,u=n.scrollX,c=n.scrollY,l=1/s.value;return{x:(r-s.translation.x-o)*l-u,y:(i-s.translation.y-a)*l-c}},I=function(e){return[e.offsetLeft+e.width/2,e.height/2]},x=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,o=t.scrollX,a=t.scrollY;return{x:(n+o)*i.value+i.translation.x,y:(r+a)*i.value+i.translation.y}},T=function(e){var t=e.element,n=e.offset,r=e.scrollState,i=t.x+n.offsetLeft,o=t.y+n.offsetTop;if("textbox"===t.type){var a=S(t),s=a.widthDiff,u=a.heightDiff;i+=s,o+=u}return x({sceneX:i,sceneY:o},r)},S=function(e){var t=e.width/e.scale,n=e.height/e.scale;return{naturalWidth:t,naturalHeight:n,widthDiff:(e.width-t)/2,heightDiff:(e.height-n)/2}},k=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},N=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8------","]*[").concat("---","]")),D=function(e){return N.test(e)},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return -1},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return -1},F=function(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n},L=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(0,a.unstable_batchedUpdates)(function(){return e.apply(void 0,(0,o.Z)(n))})}},P=function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},U=function(e){return e?e.reduce(function(e,t){return e[t]=!0,e},{}):{}},M=function(e){return e?e.reduce(function(e,t){return e[t.id]=!0,e},{}):{}}},20189:function(e,t,n){"use strict";var r=n(42838),i=n(2784);t.Z=function(e,t){(0,i.useEffect)(function(){var n=function(n){!e.current||(0,r.Z)(n.target,Element)&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n)};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}},[e,t])}},89848:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(56818);function i(e){var t=function(e){n.push(e),i.add(e.id)},n=[],i=new Set,o={},a={},s={},u={},c={},l=new Set,A=new Set,d={};e.forEach(function(e,t){d[e.id]=t,!1===(0,r.Sf)(e)&&e.lockedGroupId&&A.add(e.lockedGroupId)}),e.forEach(function(t,n){if((0,r.Sf)(t)&&t.lockedGroupId&&A.has(t.lockedGroupId))l.add(t.id),o[t.lockedGroupId]=t;else if((0,r.bt)(t)&&(t.startBinding||t.endBinding)){var i=t.startBinding?d[t.startBinding.elementId]:void 0,f=t.endBinding?d[t.endBinding.elementId]:void 0;if(void 0!==i||void 0!==f){var h=Math.max(i||0,f||0);l.add(t.id);var p=e[h].id;a[p]=a[p]||[],a[p].push(t)}}else t.containerId&&t.containerId in d?(l.add(t.id),c[t.containerId]=c[t.containerId]||[],c[t.containerId].push(t)):t.diagramId&&t.diagramId in d?(l.add(t.id),u[t.diagramId]=u[t.diagramId]||[],u[t.diagramId].push(t)):t.figureId&&t.figureId in d&&(l.add(t.id),s[t.figureId]=s[t.figureId]||[],s[t.figureId].push(t))});var f=!0,h=!1,p=void 0;try{for(var g,v=e[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value;l.has(m.id)||(t(m),function e(n){if(n.lockedGroupId&&o[n.lockedGroupId]&&t(o[n.lockedGroupId]),s[n.id]){var r=!0,l=!1,A=void 0;try{for(var d,f=s[n.id][Symbol.iterator]();!(r=(d=f.next()).done);r=!0){var h=d.value;t(h),e(h)}}catch(e){l=!0,A=e}finally{try{r||null==f.return||f.return()}finally{if(l)throw A}}}else if(u[n.id]){var p=!0,g=!1,v=void 0;try{for(var m,y=u[n.id][Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;t(b),e(b)}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}}else if(c[n.id]){var w=!0,_=!1,E=void 0;try{for(var C,B=c[n.id][Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var I=C.value;t(I),e(I)}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}}if(a[n.id]){var x=!0,T=!1,S=void 0;try{for(var k,N=a[n.id][Symbol.iterator]();!(x=(k=N.next()).done);x=!0){var D,O,R,F=k.value,L=(null===(D=F.startBinding)||void 0===D?void 0:D.elementId)===n.id?null===(O=F.endBinding)||void 0===O?void 0:O.elementId:null===(R=F.startBinding)||void 0===R?void 0:R.elementId;!L||i.has(L)?(t(F),e(F)):L&&(a[L]=a[L]||[],a[L].push(F))}}catch(e){T=!0,S=e}finally{try{x||null==N.return||N.return()}finally{if(T)throw S}}}}(m))}}catch(e){h=!0,p=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}return n}},61542:function(e,t,n){"use strict";n.d(t,{Q8:function(){return o}}),n(87622);var r=n(56818),i=n(33489);function o(e,t,n){if(!t||!(0,r.r_)(t))return[];var o=i.r9.getCache(t);if(!o)return e.getElements().filter(function(e){return e.diagramId===t.id});var a=[],s=!0,u=!1,c=void 0;try{for(var l,A=o.elements[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value,f=e.getElement(d.id);if(f)a.push(f);else{var h=(null==n?void 0:n[d.id])?e.getElement(null==n?void 0:n[d.id]):void 0;if(!h)return console.warn("[getDiagramElementsArray] Could not find element in scene",{diagramId:t.id,id:d.id,type:d.type,diagramEntityId:d.diagramEntityId,diagramRole:d.diagramRole,compound:d.compound}),e.getElements().filter(function(e){return e.diagramId===t.id});a.push(h)}}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}return a}},46317:function(e,t,n){"use strict";n.d(t,{EG:function(){return u},I:function(){return c},TI:function(){return f},mX:function(){return l},tI:function(){return d}});var r=n(70865),i=n(50930),o=n(12995),a=n(90332),s=n(79117),u=function(e){return e&&"slate"in e},c=function(e){return(null==e?void 0:e.querySelector("[data-slate-node]"))!==null},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bold;return Array.isArray(e)?e:[{type:"paragraph",children:[(0,r.Z)({text:e},(void 0===n?void 0:n)?{bold:!0}:{})]}]},A=function(e){var t=o.ML.above(e,{mode:"highest",at:o.ML.end(e,[]),match:function(t){return o.ML.isBlock(e,t)}});t&&(0,s.RF)(t[0])&&""===o.ML.string(e,t[1])&&o.YR.removeNodes(e,{at:t[1]})},d=function(e){var t=e.editor,n=e.textboxElement,a=n.html,u=n.text,c=n.slate;if(c&&c.length>0)l=function e(t){var n=[],o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,A=(0,r.Z)({},l);"children"in A&&(A.children=e(A.children)),"type"in A&&"section"===A.type?n.push.apply(n,(0,i.Z)(A.children)):n.push(A)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return n}(c);else if(a){var l,d,f,h=new DOMParser().parseFromString(a,"text/html").documentElement;l=null!==(f=null===(d=t.fromHtml)||void 0===d?void 0:d.call(t,h,void 0,{keepEmptyLines:!0}))&&void 0!==f?f:[]}else l=u?[{type:"paragraph",children:[{text:u}]}]:[];l.length>0&&((0,s.oe)(t),o.YR.insertNodes(t,l,{at:[0]}),A(t))},f=function(e){return{strokeStyle:"solid",scale:(0,a.M)(),fontSize:e.currentItemFontSize,textAlign:e.currentItemTextAlign,fillStyle:e.currentItemFillStyle,strokeColor:e.currentItemTextColor,fontFamily:e.currentItemFontFamily,strokeWidth:e.currentItemStrokeWidth,strokeSharpness:e.currentItemStrokeSharpness}}},54298:function(e,t,n){"use strict";n.d(t,{W:function(){return i},k:function(){return o}});var r=n(90581);function i(){return Math.floor(2147483648*Math.random())}var o=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._seed=t}return e.prototype.next=function(){return this._seed?(2147483647&(this._seed=Math.imul(48271,this._seed)))/2147483648:Math.random()},e}()},66140:function(e,t,n){"use strict";n.d(t,{CF:function(){return d},HE:function(){return u},O9:function(){return h},OB:function(){return A},Wc:function(){return s},Wr:function(){return i},bO:function(){return c},l2:function(){return l},wC:function(){return a},y2:function(){return f}});var r,i,o=n(34406),a={apiKey:"AIzaSyCX5UYWp-3ZAVEuQ3Ospj9Xg9e6ji16roI",authDomain:"app.eraser.io",databaseURL:"https://second-petal-295822-default-rtdb.firebaseio.com",projectId:"second-petal-295822",storageBucket:"second-petal-295822.appspot.com",appId:"1:941057276634:web:f12eed496a39ecb38283e3",measurementId:"G-1MXHYK3MDX",logLevel:"error",performanceEnabled:!0,emulatorEnabled:"true"===o.env.FIREBASE_EMULATOR_ENABLED,region:"us-central1"},s={version:1,name:"eraser",storeName:"database"},u={appId:"fqp3uy63"},c={apiKey:"f168e1e5bad215237a52eb94f5eb4a84",secretKey:o.env.AMPLITUDE_SECRET_KEY,projectId:"307526"},l={url:"https://app.eraser.io"},A={isDev:!1,isProd:!0},d={url:o.env.WEBSITE_URL||"https://www.eraser.io",homepageURL:o.env.WEBSITE_HOMEPAGE_URL||"https://www.eraser.io/?r=0",docsURL:o.env.WEBSITE_DOCS_URL||"https://docs.eraser.io",helpURL:o.env.WEBSITE_HELP_URL||"https://help.eraser.io",pricingURL:o.env.WEBSITE_PRICING_URL||"https://www.eraser.io/pricing",slackURL:o.env.SLACK_URL||"https://join.slack.com/t/eraser-community/shared_invite/zt-38j42p8dg-Oa5o2Ee3M24Qmhk1RQCD5w",featureRequestURL:o.env.WEBSITE_FEATURE_REQUEST_URL||"https://feedback.eraser.io/feature-requests"},f={baseUrl:"https://eraser.imgix.net"};(r=i||(i={})).Workspaces="workspaces",r.KnownPeople="known-people";var h={appId:"LZ6W44X7AN",workspacesIndex:"workspaces",knownPeopleIndex:"known-people"}},32472:function(e,t,n){"use strict";n.d(t,{IF:function(){return c},Ji:function(){return i},Kn:function(){return l},SF:function(){return a},Wi:function(){return r},bo:function(){return o},iL:function(){return u},k1:function(){return s}});var r="live",i="4.3.17",o="Unsorted",a="Untitled File",s="Untitled Template",u="isUserAuthenticated",c="analyticsId",l="phantom-"},66842:function(e,t,n){"use strict";n.d(t,{DO:function(){return a},Gd:function(){return i},KU:function(){return o},kz:function(){return s},qo:function(){return r}});var r="ctid",i="cid",o="search",a="data-skip-discard-comment",s=function(e){var t;return!!(null===(t=document.querySelector("[".concat(a,"]")))||void 0===t?void 0:t.contains(e))}},33484:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){var e;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t="matchMedia"in window&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var r=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(r)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(r)}}n(e)},[]),t}},54848:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(70865),i=n(52322),o=n(2784),a=n(51992),s=n(43446),u=n(71059),c=new Set,l=function(e){var t=(0,s.Z)(),n=(0,o.useState)(!e||!c.has(e)),r=n[0],i=n[1],a=(0,o.useState)(r?void 0:e),l=a[0],A=a[1],d=(0,o.useRef)(),f=(0,o.useCallback)(function(){if(!e){i(!1);return}if(!l){var n=(i(!0),d.current=new Image,d.current);n.src=e,n.onload=function(){c.add(e),t()&&(i(!1),A(e))},n.onerror=function(){i(!1)}}},[e,l,t]);return(0,u.Z)(function(){return f()},[f]),{isLoading:r,result:l}},A=n(86588),d=n(3635),f=n(68870),h=/*#__PURE__*/n.n(f),p=function(e){var t=e.size,n=void 0===t?28:t;return/*#__PURE__*/(0,i.jsx)(a.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,i.jsx)(a.ZP,{className:h().skeleton,count:1,width:n,height:n,style:{lineHeight:"".concat(n,"px")},circle:!0})})},g=/*#__PURE__*/(0,o.memo)(/*#__PURE__*/(0,o.forwardRef)(function(e,t){var n=e.size,o=e.style,a=e.color,s=e.photoURL,u=e.fallback,c=e.isLoading,f=e.className,g=e.displayName,v=e.isNoTooltip,m=e.isTransparent,y=e.tooltipSubText,b=l(s),w=b.isLoading,_=b.result;return c||w?/*#__PURE__*/(0,i.jsx)(p,{size:n}):g||u?/*#__PURE__*/(0,i.jsx)(A.Z,{disabled:v,subText:y,text:g||"No Eraser account found",contentClassName:(0,d.Z)(f,h().avatar,!!_&&h().hasImage,m&&h().isTransparent),contentStyle:(0,r.Z)({width:n,height:n,backgroundColor:a,backgroundImage:_?"url(".concat(_,")"):""},o),children:/*#__PURE__*/(0,i.jsx)("span",{className:h().fallback,ref:t,children:g?g.split(" ").slice(0,2).map(function(e){return e.charAt(0)}).join("").toUpperCase():u})}):null}))},2121:function(e,t,n){"use strict";var r=n(52322),i=n(3635),o=n(11163),a=/*#__PURE__*/n.n(o);t.Z=function(e){var t=e.variant,n=e.className,o=e.onClick,s=e.children,u=e.inverted,c=e.applyOpacity;return/*#__PURE__*/(0,r.jsx)("span",{onClick:o,role:o?"button":void 0,className:(0,i.Z)(a().badge,n,a()[void 0===t?"primary":t],u&&a().inverted,c&&a().opacity),style:{cursor:o?"pointer":"default"},children:s})}},79183:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(52322),a=n(2121);t.Z=function(e){return/*#__PURE__*/(0,o.jsx)(a.Z,(0,i.Z)((0,r.Z)({},e),{children:"beta"}))}},75280:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(52322),a=n(2121);t.Z=function(e){return/*#__PURE__*/(0,o.jsx)(a.Z,(0,i.Z)((0,r.Z)({variant:"secondary",applyOpacity:!0},e),{children:"upgrade"}))}},93995:function(e,t,n){"use strict";n.d(t,{Ct:function(){return r.Z},vw:function(){return i.Z},y6:function(){return o.Z}});var r=n(2121),i=n(79183),o=n(75280)},12171:function(e,t,n){"use strict";n.d(t,{c:function(){return f}});var r=n(70865),i=n(26297),o=n(52322),a=n(2784),s=n(3635),u=n(95343),c=/*#__PURE__*/n.n(u),l=n(36544),A=/*#__PURE__*/n.n(l),d=/*#__PURE__*/(0,a.forwardRef)(function(e,t){var n=e.value,u=e.onBlur,l=e.onEnter,d=e.classNames,f=e.placeholder,h=e.onLinkClick,p=e.mode,g=e.autoFocus,v=void 0!==g&&g,m=e.isReadOnly,y=e.isDisabled,b=void 0!==y&&y,w=e.href,_=(0,i.Z)(e,["value","onBlur","onEnter","classNames","placeholder","onLinkClick","mode","autoFocus","isReadOnly","isDisabled","href"]),E=(0,a.useRef)(!0),C=(0,a.useRef)(null);return(0,a.useImperativeHandle)(t,function(){return C.current}),(0,a.useEffect)(function(){C.current&&(C.current.textContent=n||"")},[n]),(0,a.useEffect)(function(){if(E.current&&v&&C.current){C.current.focus();var e=C.current.childNodes[0],t=window.getSelection(),r=document.createRange();n&&e&&(r.setStart(e,(null==n?void 0:n.length)||0),r.collapse(!0),null==t||t.removeAllRanges(),null==t||t.addRange(r)),E.current=!1}},[v,n]),/*#__PURE__*/(0,o.jsx)("div",{className:(0,s.Z)(A().breadCrumbRoot,null==d?void 0:d.root),"data-testid":"breadcrumb-".concat(n),children:"link"===(void 0===p?"edit":p)?/*#__PURE__*/(0,o.jsx)("a",{href:void 0===w?"/dashboard/all":w,onClick:function(e){e.preventDefault(),null==h||h(e)},className:(0,s.Z)(A().clickable,null==d?void 0:d.link,b&&A().disabled),children:n}):/*#__PURE__*/(0,o.jsx)("div",(0,r.Z)({ref:C,onBlur:function(e){null==u||u(e),e.currentTarget.scrollLeft=0},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.getSelection().getRangeAt(0);n.deleteContents();var r=document.createTextNode(t);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),null==l||l(e))},"data-placeholder":f,contentEditable:!(void 0===m||m)&&!b,className:(0,s.Z)(A().breadCrumb,b&&A().disabled,c().standard)},_))})}),f=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,s.Z)(A().breadCrumbsRoot,n),children:t})};f.Item=d,d.displayName="BreadCrumb.Item"},95162:function(e,t,n){"use strict";n.d(t,{tr:function(){return o},u8:function(){return a},zx:function(){return m}});var r,i,o,a,s=n(70865),u=n(96670),c=n(26297),l=n(52322),A=n(2784),d=n(75426),f=n(86588),h=n(9107),p=n(3635),g=n(77322),v=/*#__PURE__*/n.n(g);(r=o||(o={})).REGULAR="regular",r.TRANSPARENT="transparent",r.TRANSPARENT_SUCCESS="transparent-success",r.TRANSPARENT_REGULAR="transparent-regular",r.SUBTLE="subtle",r.RELIEF_GREY="relief-grey",r.REVERSED="reversed",r.DANGER="danger",r.REVERSED_DANGER="reversed-danger",r.DARK="dark",r.LIGHT="light",r.OUTLINE="outline",r.OUTLINE_REGULAR="outline-regular",(i=a||(a={})).TINY="tiny",i.X_SMALL="x-small",i.SMALL="small",i.MEDIUM="medium",i.LARGE="large",i.X_LARGE="x-large";var m=function(e,t){var n=e.className,r=e.variant,i=void 0===r?o.REGULAR:r,d=e.size,g=void 0===d?a.MEDIUM:d,m=e.children,y=e.leftIcon,w=e.title,_=e.titlePlacement,E=e.titleShortcutKeys,C=e.isLoading,B=e.disabled,I=e.tooltipDisabled,x=e.tooltipClassName,T=e.isSelected,S=e.onMouseEnter,k=e.onMouseLeave,N=e.LoadingSpinner,D=e.skipDelay,O=(0,c.Z)(e,["className","variant","size","children","leftIcon","title","titlePlacement","titleShortcutKeys","isLoading","disabled","tooltipDisabled","tooltipClassName","isSelected","onMouseEnter","onMouseLeave","LoadingSpinner","skipDelay"]),R=(0,A.useRef)(null),F=(0,h.Z)(t,R),L=/*#__PURE__*/(0,l.jsx)("button",(0,u.Z)((0,s.Z)({},O),{onMouseEnter:S,onMouseLeave:k,ref:F,className:(0,p.Z)(v().button,v()[i],v()[g],C&&v().isLoading,T&&v().selected,n),disabled:B||C,children:/*#__PURE__*/(0,l.jsx)(b,{leftIcon:y,isLoading:C,variant:i,LoadingSpinner:N,children:m})}));return w?/*#__PURE__*/(0,l.jsx)(f.Z,{contentClassName:(0,p.Z)(v().tooltipWrapper,x),text:w,shortcutKeys:E,tooltipPopperProps:{placement:_||"bottom"},disabled:I,skipDelay:D,children:L}):L},y=function(){return/*#__PURE__*/(0,l.jsx)(d.Z,{})},b=function(e){var t=e.leftIcon,n=e.variant,r=e.isLoading,i=e.children,o=e.LoadingSpinner,a=t&&/*#__PURE__*/(0,A.cloneElement)(t,{className:(0,p.Z)(t.props.className,!i&&v().iconOnly,v().leftIcon)});return/*#__PURE__*/(0,l.jsxs)(l.Fragment,{children:[a,i,r&&/*#__PURE__*/(0,l.jsx)("span",{className:(0,p.Z)(v().spinnerWrapper,n&&v()["variant--".concat(n)]),children:/*#__PURE__*/(0,l.jsx)(void 0===o?y:o,{})})]})},w=/*#__PURE__*/(0,A.memo)(/*#__PURE__*/(0,A.forwardRef)(m));Object.assign(w,{Variants:o,Sizes:a}),t.ZP=w},11747:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(74025),l=/*#__PURE__*/n.n(c);t.Z=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=e.children,s=e.autoWidth,c=(0,o.Z)(e,["className","children","autoWidth"]);return/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,u.Z)(l().buttonGroup,t,s&&l().autoWidth)},c),{children:n}))})},87230:function(e,t,n){"use strict";n.d(t,{c:function(){return f}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(3635),u=n(97420),c=n(56537),l=/*#__PURE__*/n.n(c),A=n(11716),d=/*#__PURE__*/n.n(A),f=function(e){var t=e.type,n=void 0===t?"block":t,c=e.options,A=e.className,f=e.name,h=e.label,p=e.explanation,g=e.onChange,v=e.disabled,m=e.optional,y=e.required,b=e.showSelectAll,w=e.onChangeSelected,_=e.gap,E=e.leftPadding,C=void 0===E?15:E,B=(0,a.useCallback)(function(e){var t=e.target,n=+t.value,o=c.map(function(e,o){return o===n?(0,i.Z)((0,r.Z)({},e),{checked:t.checked}):e});null==g||g(o),null==w||w(o.filter(function(e){return e.checked}).map(function(e){return e.value})),g||w||console.warn("[CheckboxGroup] No change handler provided")},[g,c,w]),I=c.every(function(e){return e.checked}),x=(0,a.useCallback)(function(){var e=c.map(function(e){return(0,i.Z)((0,r.Z)({},e),{checked:!I})});null==g||g(e),null==w||w(e.filter(function(e){return e.checked}).map(function(e){return e.value}))},[g,c,I,w]),T=/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("fieldset",{className:(0,s.Z)(A,l().fieldset,l()[n]),disabled:v,style:{gap:"".concat(void 0===_?8:_,"px"),"--left-padding":"".concat(C,"px")},children:c.map(function(e,t){return/*#__PURE__*/(0,o.jsxs)("label",{className:(0,s.Z)(l().label,e.checked&&l().selected,"block"===n&&l().transparent),children:[/*#__PURE__*/(0,o.jsx)("input",{name:f,type:"checkbox",value:t,className:(0,s.Z)(d().checkbox,l().checkbox),checked:e.checked,disabled:v,onChange:B}),e.label]},e.id)})}),b?/*#__PURE__*/(0,o.jsxs)("div",{onClick:x,className:l().selectAll,style:{"--left-padding":"".concat(C,"px")},children:["Select ",I?"none":"all"]}):null]});return h?/*#__PURE__*/(0,o.jsx)(u.A,{label:h,explanation:p,optional:m,required:y,children:T}):T}},46485:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(95162),c=n(2643),l=n(3635),A=n(65421),d=/*#__PURE__*/n.n(A);t.Z=/*#__PURE__*/(0,s.memo)(/*#__PURE__*/(0,s.forwardRef)(function(e,t)/*#__PURE__*/{var n=e.title,s=e.isOpen,A=e.onCancel,f=e.onConfirm,h=e.description,p=e.onMouseDown,g=e.rootClassName,v=e.isDeletion,m=void 0!==v&&v,y=e.isLoading,b=e.confirmBtnText,w=(0,o.Z)(e,["title","isOpen","onCancel","onConfirm","description","onMouseDown","rootClassName","isDeletion","isLoading","confirmBtnText"]);return(0,a.jsxs)(c.Z,(0,i.Z)((0,r.Z)({},w),{ref:t,title:n,isOpen:!!s,onClose:A,onMouseDown:p,rootClassName:g,className:(0,l.Z)(d().confirmationModal),children:[/*#__PURE__*/(0,a.jsx)("div",{className:d().description,children:h}),/*#__PURE__*/(0,a.jsxs)("div",{className:d().actions,children:[/*#__PURE__*/(0,a.jsx)(u.ZP,{onClick:A,autoFocus:m,size:u.ZP.Sizes.LARGE,className:d().actionBtn,variant:u.ZP.Variants.OUTLINE,"data-testid":"confirmation-modal-cancel",children:"Cancel"}),/*#__PURE__*/(0,a.jsx)(u.ZP,{onClick:f,autoFocus:!m,size:u.ZP.Sizes.LARGE,className:d().actionBtn,"data-testid":"confirmation-modal-confirm",variant:m?u.ZP.Variants.DANGER:void 0,isLoading:y,children:void 0===b?"Confirm":b})]})]}))}))},85617:function(e,t,n){"use strict";var r=n(46485);t.Z=r.Z},89262:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(52322),i=n(3635),o=n(35266),a=/*#__PURE__*/n.n(o),s=function(e){var t=e.space,n=e.isInvisible;return/*#__PURE__*/(0,r.jsx)("hr",{className:(0,i.Z)(a().divider,a()["size--".concat(void 0===t?"medium":t)],n&&a().transparent)})}},87705:function(e,t,n){"use strict";n.d(t,{Lt:function(){return R},Ng:function(){return F},ZP:function(){return L}});var r,i,o,a=n(70865),s=n(96670),u=n(26297),c=n(52322),l=n(2784),A=n(48570),d=n(99283),f=n(32538),h=n(88404),p=n(62866),g=n(28563),v=n(89563),m=n(3635),y=n(19179),b=n(80498),w=n(55499),_=n(86588);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var C=function(e){return /*#__PURE__*/l.createElement("svg",E({width:14,height:4,viewBox:"0 0 14 4",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=/*#__PURE__*/l.createElement("path",{d:"M2 .333C1.083.333.333 1.083.333 2S1.083 3.667 2 3.667 3.667 2.917 3.667 2 2.917.333 2 .333zm10 0c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667S12.917.333 12 .333zm-5 0c-.917 0-1.667.75-1.667 1.667S6.083 3.667 7 3.667 8.667 2.917 8.667 2 7.917.333 7 .333z",fill:"currentColor"})))},B=n(36689),I=/*#__PURE__*/n.n(B),x=function(e){var t=e.isVisible,n=e.onClick,r=e.className,i=(0,u.Z)(e,["isVisible","onClick","className"]),o=(0,l.useContext)(w.c).controller;return(null==o?void 0:o.isOpen)||t?/*#__PURE__*/(0,c.jsx)("span",(0,s.Z)((0,a.Z)({},i),{className:(0,m.Z)(I().dots,r),onClick:n,children:/*#__PURE__*/(0,c.jsx)(h.J,{icon:C})})):null},T=n(35266),S=/*#__PURE__*/n.n(T),k=n(63630),N=n(51571);(r=o||(o={})).Grey="grey",r.LightGrey="lightGrey",r.LightGreyContrast="lightGreyContrast",r.Transparent="transparent",r.Input="input";var D={modifiers:[{name:"offset",options:{offset:function(e){switch(e.placement){case"right-end":return[8,18];case"bottom-end":case"bottom-start":return[0,18];default:return[-8,18]}}}}]},O=function(e){var t=e.hint,n=e.icon,r=e.title,i=e.isOpen,o=e.testId,a=e.variant,s=e.showCaret,u=e.isFocused,A=e.isDisabled,p=e.popupToggleRef,g=e.toggleClassNames,y=e.toggleStyle,b=(0,l.useContext)(w.c).isTopLevel;(0,N.Y)(u,null==p?void 0:p.current);var E=(0,l.useCallback)(function(){if(!b){var e;null==p||null===(e=p.current)||void 0===e||e.focus()}},[b,p]),C=(0,l.useCallback)(function(){var e;null==p||null===(e=p.current)||void 0===e||e.blur()},[p]),B=/*#__PURE__*/(0,c.jsxs)("span",{className:(0,m.Z)(S().toggle,null==g?void 0:g.root,u&&S().isFocused,A&&S().isDisabled,!b&&S().isSubMenu,i&&(null==g?void 0:g.open),a&&S()["variant--".concat(a)]),onMouseEnter:E,onMouseLeave:C,"data-is-dropdown-active":i,"data-testid":o,children:[!!n&&/*#__PURE__*/(0,c.jsx)("span",{className:(0,m.Z)(S().icon,null==g?void 0:g.icon),children:n}),/*#__PURE__*/(0,c.jsx)("span",{className:(0,m.Z)(S().content,null==g?void 0:g.content,s&&S().hasCaret,!b&&!s&&S().noMargin),style:y,children:r}),b?s&&/*#__PURE__*/(0,c.jsx)(d.Z,{className:(0,m.Z)(S().caretIcon,null==g?void 0:g.caret,i&&S().isOpen)}):/*#__PURE__*/(0,c.jsx)("span",{className:S().rightElement,children:/*#__PURE__*/(0,c.jsx)(h.J,{icon:f.Z})})]});return t?/*#__PURE__*/(0,c.jsx)(_.Z,{text:/*#__PURE__*/(0,c.jsxs)("span",{className:S().hint,children:[/*#__PURE__*/(0,c.jsx)("span",{children:t.label}),!!t.shortcutKeys&&/*#__PURE__*/(0,c.jsx)(v.P,{className:S().shortcut,keys:t.shortcutKeys})]}),popperProps:t.popperProps,tooltipPopperProps:{placement:t.placement||"top"},disabled:i,children:B}):B},R=function(e){var t,n,r,i,o,u,d,f,h,v,w,_=e.icon,E=e.hint,C=e.width,B=e.search,I=e.testId,x=e.spacing,T=e.minWidth,N=e.applyMinWidthToToggle,R=e.isHidden,F=e.asNested,L=e.maxHeight,P=e.isDisabled,U=e.classNames,M=e.onOpenChange,j=e.toggleClassNames,Z=e.showCaret,Q=e.keyboardShortcut,H=e.isMountedInPopper,V=e.takeWidthOfToggle,K=e.renderPopupInPortal,G=e.variant,z=e.toggleRef,W=e.stayOpenOnOutsideClick,q=(0,b.Z)({defaultIsOpen:!1}),Y=q.isOpen,$=q.onClose,X=q.onOpen,J=(0,l.useRef)(null),ee=null!=z?z:J,et=(0,p.QR)(),en=(r=e.title,i=e.noSelectionTitle,o=e.selected,u=e.children,d=e.selectionVariant,f=e.onSelect,h=null!=r?r:null,v=l.Children.map(u,function(e,t){if((0,A.isElement)(e)){if(e.type===g.Z){var n,r,i=e.props,a=(n=e.key,!!i.isSelected||null!=n&&n===o||!!i.label&&i.label===o),s={key:null!==(r=e.key)&&void 0!==r?r:t,isSelected:a,selectionVariant:d};return!h&&a&&(h=i.label),a&&(s.isSelected=!0),f&&(s.onClick=function(t){var n,r,o,a="".concat(null!==(o=null!==(r=e.key)&&void 0!==r?r:i.label)&&void 0!==o?o:"");a||console.warn("Passed onSelect but no key or label found!"),f(a),null===(n=i.onClick)||void 0===n||n.call(i,t)}),/*#__PURE__*/(0,l.cloneElement)(e,s)}return e}}),null!=h||(h=i),{title:/*#__PURE__*/(0,c.jsx)("span",{className:S().title,children:h}),children:v}),er=en.title,ei=en.children;(0,l.useEffect)(function(){var e=function(e){(0,y.cK)(document.activeElement)||P||R||!Q||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey||e.key!==Q||(e.preventDefault(),e.stopPropagation(),et.openPopup())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[Q,R,P,et]);var eo=V?null===(w=ee.current)||void 0===w?void 0:w.clientWidth:C,ea=(0,l.useCallback)(function(){P||null==M||M(!0)},[P,M]);return/*#__PURE__*/(0,c.jsxs)(p.GI,{asNested:F,controller:et,onShow:ea,onHide:function(){return null==M?void 0:M(!1)},children:[/*#__PURE__*/(0,c.jsx)(p.GI.Toggle,{ref:ee,onBlur:$,onFocus:X,isDisabled:P,className:(0,m.Z)(null==j?void 0:j.button,S().popupToggle),children:/*#__PURE__*/(0,c.jsx)(O,{hint:E,icon:_,title:er,testId:I,variant:G,showCaret:void 0===Z||Z,isFocused:Y,isDisabled:P,isOpen:et.isOpen,popupToggleRef:ee,toggleClassNames:j,toggleStyle:N?{minWidth:T}:void 0})}),/*#__PURE__*/(0,c.jsx)(p.GI.Menu,(0,s.Z)((0,a.Z)({disableArrow:!0,ignoreClicksOnTargetNode:!0,className:(0,m.Z)(S().popper,null==U?void 0:U.popupMenu),renderInPortal:K,style:{minWidth:T,width:eo}},H?{closeOnOtherPopperClick:!0}:{}),{popperProps:(t=e.popperModifiers,n=e.popperPlacement,t||n?{modifiers:t,placement:n}:D),stayOpenOnOutsideClick:W,children:/*#__PURE__*/(0,c.jsx)(k.Z,{search:B,spacing:x,maxHeight:L,className:null==U?void 0:U.menu,children:ei})}))]})};R.Variants=o;var F=function(e){var t=e.isOpen,n=e.isHidden,r=e.toggleClassNames,i=e.testId,o=(0,u.Z)(e,["isOpen","isHidden","toggleClassNames","testId"]);return/*#__PURE__*/(0,c.jsx)(R,(0,s.Z)((0,a.Z)({},o),{isOpen:t,isHidden:n,applyMinWidthToToggle:!1,showCaret:!1,toggleClassNames:(0,s.Z)((0,a.Z)({},r),{button:(0,m.Z)(S().threeDotsDropdown,null==r?void 0:r.button),root:(0,m.Z)(S().threeDotsDropdownToggle,null==r?void 0:r.root)}),title:/*#__PURE__*/(0,c.jsx)(x,{isVisible:t||!n,onClick:function(e){return e.preventDefault()},"data-testid":i})}))},L=R},63630:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(89262),l=n(35266),A=/*#__PURE__*/n.n(l),d=n(55929),f=/*#__PURE__*/(0,s.memo)(function(e){var t=e.value,n=e.placeholder,r=e.notFoundText,i=void 0===r?"No matches":r,o=e.isEnabled,u=e.isSearchEmpty,l=e.onChange,f=(0,s.useCallback)(function(e){l(e.currentTarget.value.trim())},[l]);return o?/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)("div",{className:A().search,children:/*#__PURE__*/(0,a.jsx)(d.Z,{autoFocus:!0,value:t,className:A().searchField,placeholder:void 0===n?"Search":n,onChange:f})}),/*#__PURE__*/(0,a.jsx)(c.K,{}),!!t&&u&&i&&/*#__PURE__*/(0,a.jsx)("span",{className:A().searchNotFound,children:i})]}):null}),h=n(51571),p=function(e){var t=e.spacing,n=e.maxHeight,l=e.children,d=e.className,p=e.search,g=e.disableKeyboardNavigation,v=(0,o.Z)(e,["spacing","maxHeight","children","className","search","disableKeyboardNavigation"]),m=(0,s.useRef)(null),y=(0,s.useState)(""),b=y[0],w=y[1];(0,h.a)(m,void 0!==g&&g);var _=b?s.Children.toArray(l).filter(function(e){if(!/*#__PURE__*/(0,s.isValidElement)(e)||e.type===c.K)return!1;var t=e.props,n=t.label,r=t.children;return!n&&!r||!!n&&n.toLowerCase().includes(b.toLowerCase())}):l;return/*#__PURE__*/(0,a.jsxs)("div",(0,i.Z)((0,r.Z)({ref:m,className:(0,u.Z)(A().wrapper,d),style:{maxHeight:(void 0===n?400:n)||"initial"}},v),{children:[(null==p?void 0:p.isEnabled)&&/*#__PURE__*/(0,a.jsx)(f,(0,i.Z)((0,r.Z)({},p),{value:b,isSearchEmpty:!l,onChange:w})),/*#__PURE__*/(0,a.jsx)("div",{className:(0,u.Z)(A().list,A()["spacing--".concat(void 0===t?"small":t)]),children:_})]}))}},52362:function(e,t,n){"use strict";n.d(t,{n:function(){return u}});var r=n(52322),i=n(87705),o=n(28563),a=n(35266),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.unopenedText,n=e.dropdownOptions,a=e.className,u=void 0===a?s().accessBadge:a;return n.length?/*#__PURE__*/(0,r.jsx)(i.Lt,{title:t,isMountedInPopper:!0,asNested:!1,variant:i.Lt.Variants.LightGrey,popperModifiers:[{name:"offset",options:{offset:[0,8]}}],children:n.map(function(e){var t=e.label,n=e.asyncOnClick;return/*#__PURE__*/(0,r.jsx)(o.Z,{label:t,asyncOnClick:n},t)})}):/*#__PURE__*/(0,r.jsx)("div",{className:u,children:t})}},66804:function(e,t,n){"use strict";n.d(t,{KE:function(){return o.K},Lt:function(){return r.ZP},Ng:function(){return r.Ng},sV:function(){return i.Z}});var r=n(87705),i=n(63630),o=n(89262)},51571:function(e,t,n){"use strict";n.d(t,{Y:function(){return l},a:function(){return c}});var r=n(42838),i=n(2784),o=n(55499),a=function(e){return null==e.getAttribute("disabled")&&e.matches("a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  [tabindex],\n  [contentEditable=true]")},s=function(e){var t=null;if(!e)return t;var n=!0,i=!1,o=void 0;try{for(var u,c=Array.from(e.children)[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value;if(null==t){if(a(l)&&(0,r.Z)(l,HTMLElement)){t=l;continue}l.children.length>0&&(t=s(l))}}}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return t},u=function(e,t,n){var r="prev"===n?null==e?void 0:e.previousElementSibling:null==e?void 0:e.nextElementSibling;return r?a(r)?r:u(r,t,n):s(t)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.useContext)(o.c),r=n.isTopLevel,a=n.target,c=n.parentMenu,l=(0,i.useContext)(o.c).getDescendantPopups;(0,i.useEffect)(function(){var n;if(!t&&!r&&!(null===(n=e.current)||void 0===n?void 0:n.contains(document.activeElement))){var i=s(e.current);null==i||i.focus()}},[e,t,r]),(0,i.useEffect)(function(){if(!t){var n=function(t){if(!(l().length>0))switch(t.key){case"ArrowUp":var n=u(document.activeElement,e.current,"prev");n&&(t.preventDefault(),n.focus());break;case"ArrowDown":var i=u(document.activeElement,e.current,"next");i&&(t.preventDefault(),i.focus());break;case"ArrowLeft":if(r)return;null==a||a.focus(),null==c||c.closeDescendentPopups()}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[r,c,a,l,t,e])},l=function(e,t){var n=(0,i.useContext)(o.c),r=n.isTopLevel,a=n.target,s=n.parentMenu,u=n.controller,c=n.setTarget;(0,i.useEffect)(function(){if(!r&&e&&t){var n=function(e){("ArrowRight"===e.key||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),!a&&t&&(c(t),null==s||s.closeDescendentPopups(u)))};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[u,e,r,s,t,c,a])}},88404:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(70865),i=n(96670),o=n(26297),a=n(3635),s=function(e){var t=e.icon,n=e.color,s=e.className,u=(0,o.Z)(e,["icon","color","className"]);return"function"!=typeof t?null:t((0,r.Z)((0,i.Z)((0,r.Z)({},u),{className:(0,a.Z)(s)}),n?{color:"var(--".concat(n,")")}:{}))}},23428:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(52322),i=n(3635),o=n(66093),a=n(85950),s=/*#__PURE__*/n.n(a),u=Object.assign(function(e){var t=e.children,n=e.className,o=e.style;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().emptyStateRoot,n),style:o,children:/*#__PURE__*/(0,r.jsx)("div",{className:s().emptyStateContent,children:t})})},{PrimaryIcon:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().primaryIcon,n),children:t})},IconTray:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().iconTray,n),children:t})},TextSection:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().textSection,n),children:t})},Bottom:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().bottom,n),children:t})},Media:function(e){var t=e.videoId,n=e.ctaText,a=e.thumbnail,u=e.children,c=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,i.Z)(s().media,c),children:t&&/*#__PURE__*/(0,r.jsx)(o.n,{videoId:t,buttonText:n,thumbnail:a,children:u})})}})},58869:function(e,t,n){"use strict";var r,i,o=n(70865),a=n(96670),s=n(52322),u=n(3635),c=n(28695),l=/*#__PURE__*/n.n(c);(r=i||(i={})).LightGrey="lightGrey",r.Primary="primary",r.Error="error",r.Warning="warning",r.Transparent="transparent";var A=Object.assign(function(e){var t=e.variant,n=void 0===t?i.LightGrey:t,r=e.className,c=e.width,A=e.children,d=e.style,f=c?(0,a.Z)((0,o.Z)({},d),{width:c}):d;return/*#__PURE__*/(0,s.jsx)("span",{style:f,className:(0,u.Z)(l().infoBlock,l()["variant--".concat(n)],r),children:A})},{Variants:i});t.Z=A},66093:function(e,t,n){"use strict";n.d(t,{n:function(){return f}});var r,i=n(52322),o=n(2784),a=n(60131),s=n(3635),u=n(95162);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var l=function(e){return /*#__PURE__*/o.createElement("svg",c({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6a6 6 0 1112 0A6 6 0 010 6zm5-1.946a.4.4 0 01.398-.001l2.8 1.6a.4.4 0 010 .694l-2.8 1.6A.4.4 0 014.8 7.6V4.4a.4.4 0 01.2-.346z",fill:"currentColor"})))},A=n(81625),d=/*#__PURE__*/n.n(A),f=function(e){var t=e.videoId,n=e.className,r=e.height,c=e.width,A=e.buttonText,f=e.thumbnail,p=void 0===f?"https://img.youtube.com/vi/".concat(t,"/0.jpg"):f,g=e.openExternal,v=void 0!==g&&g,m=(0,a.j)(),y=(0,o.useState)(null),b=y[0],w=y[1],_=(0,o.useState)(!1),E=_[0],C=_[1],B=(0,o.useRef)(null);(0,o.useEffect)(function(){m&&t&&(h||(h=new Promise(function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.onload=e,t.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(t,n)}))).then(function(){var e,n;return e=function(e){return w(e)},void(n=window.YT).ready(function(){var r=new n.Player(m,{videoId:t,playerVars:{modestbranding:1,playsinline:1,controls:1,showinfo:0,rel:0},events:{onReady:function(){return null==e?void 0:e(r)},onError:void 0}})})})},[t,m]);var I=(0,o.useCallback)(function(){if(v){window.open("https://www.youtube.com/watch?v=".concat(t),"_blank");return}null==b||b.playVideo(),C(!0)},[b,v,t]);return/*#__PURE__*/(0,i.jsxs)("div",{className:(0,s.Z)(d().videoContainer,n),style:{width:void 0===c?"100%":c,height:r},ref:B,children:[/*#__PURE__*/(0,i.jsx)("div",{id:m,className:d().player}),!E&&/*#__PURE__*/(0,i.jsx)("div",{className:d().overlay,style:{backgroundImage:"url(".concat(p,")")},children:/*#__PURE__*/(0,i.jsx)("div",{className:d().buttonContainer,children:/*#__PURE__*/(0,i.jsx)(u.ZP,{onClick:I,leftIcon:/*#__PURE__*/(0,i.jsx)(l,{height:14,width:14}),className:d().button,children:void 0===A?"Watch video":A})})})]})},h=null},47519:function(e,t,n){"use strict";n.d(t,{U:function(){return r.Z}});var r=n(58869)},97420:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(86588),c=n(71946),l=/*#__PURE__*/n.n(c),A=n(3635),d=/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.className,s=e.labelClassNames,c=void 0===s?{}:s,d=e.label,f=e.required,h=e.children,p=e.optional,g=e.tooltip,v=e.errorMessage,m=e.explanation,y=(0,o.Z)(e,["className","labelClassNames","label","required","children","optional","tooltip","errorMessage","explanation"]),b=c.labelText,w=c.root,_=!!(v||m),E=!!v;return/*#__PURE__*/(0,a.jsxs)("label",(0,i.Z)((0,r.Z)({className:(0,A.Z)(l().inputLabel,n,w)},y),{ref:t,children:[d&&/*#__PURE__*/(0,a.jsxs)("div",{className:(0,A.Z)(l().label,b),children:[d,f?/*#__PURE__*/(0,a.jsx)("span",{className:l().required,children:"Required"}):p?/*#__PURE__*/(0,a.jsx)("span",{className:l().required,children:"Optional"}):null]}),/*#__PURE__*/(0,a.jsx)("div",{className:l().field,children:g?/*#__PURE__*/(0,a.jsx)(u.Z,{text:g,children:h}):h}),_&&/*#__PURE__*/(0,a.jsx)("div",{className:(0,A.Z)(l().explanation,E&&l().error),children:E?v:m})]}))});d.displayName="InputLabel"},68457:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(52322),i=n(2784),o=n(11269),a=n(96933),s=n(98788),u=n(22970),c=n(43931),l=/*#__PURE__*/n.n(c),A=n(66140),d=n(18698),f=n(47842),h=n(83433),p=n(5919),g=n(66842),v=n(70865),m=n(96670),y=n(26297),b=n(52826),w=n(54848),_=n(3635),E=n(75391),C=/*#__PURE__*/n.n(E),B=function(e){var t=e.profile,n=e.data,i=e.shouldIncludeEmails,o=e.isActive,a=e.onMouseUp,s=e.onClick,u=e.onActivate;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,_.Z)(C().knownPersonInfo,o&&C().isActive,i?C().knownPersonInfoMedium:C().knownPersonInfoSmall),onMouseUp:a,onClick:s,onMouseEnter:u,children:t?/*#__PURE__*/(0,r.jsxs)("div",{className:(0,_.Z)(C().member,i?C().memberMedium:C().memberSmall),children:[/*#__PURE__*/(0,r.jsx)(w.Z,(0,m.Z)((0,v.Z)({},t),{className:(0,_.Z)(i?C().avatarMedium:C().avatarSmall)})),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,_.Z)(C().label,i?C().labelMedium:C().labelSmall),children:[t.displayName,i?/*#__PURE__*/(0,r.jsx)("div",{className:C().email,children:n.email}):null]})]}):/*#__PURE__*/(0,r.jsx)("div",{className:C().guest,children:n.email})})},I=/*#__PURE__*/(0,i.memo)(function(e){var t=e.data,n=(0,y.Z)(e,["data"]),o=(0,b.ZP)(t.userId),a=(0,i.useCallback)(function(e){e.stopPropagation()},[]);return t.userId&&!o?null:/*#__PURE__*/(0,r.jsx)(B,(0,m.Z)((0,v.Z)({data:t,profile:o},n),{onMouseUp:a}))}),x=function(e){var t,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,u=e.shouldIncludeEmails,c=e.width,l=(0,i.useRef)(null),A=(0,h.c)({containerRef:l,items:o,onSelect:a,onCancel:s}),d=A.activeIndex,v=A.setActiveIndex,m=A.handleContainerMouseDown;return o.length?/*#__PURE__*/(0,r.jsx)(p.Z,(t={ref:l,style:c?{width:c}:{},className:n,onMouseDown:m,onClick:m},(0,f.Z)(t,g.DO,!0),(0,f.Z)(t,"children",o.map(function(e,t){return/*#__PURE__*/(0,r.jsx)(I,{data:e,isActive:d===t,onActivate:v.bind(null,t),onClick:a.bind(null,e),shouldIncludeEmails:u},e.email)})),t)):null},T=n(47330),S=n(28121),k=/*#__PURE__*/n.n(S),N=function(e){var t=e.targetNode,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,u=e.shouldIncludeEmails,c=e.isPopperVisible,l=(0,i.useMemo)(function(){return null==t?void 0:t.getBoundingClientRect().width},[t]);return o.length?/*#__PURE__*/(0,r.jsx)(T.Z,{className:k().dropdownPopper,arrowClassName:k().hidden,targetNode:t,placement:"bottom-start",popperProps:{modifiers:[{name:"flip"}]},visible:c,shouldUseDomObserver:!0,children:/*#__PURE__*/(0,r.jsx)(x,{width:l,className:(0,_.Z)(n,k().popperListBox),onSelect:a,matchingPeople:o,onCancel:s,shouldIncludeEmails:u})}):null},D=/*#__PURE__*/(0,i.memo)(function(e){var t,n,c,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k=e.targetNode,D=e.className,O=e.search,R=e.withProfileOnly,F=e.includeSelf,L=e.onSelect,P=e.searchOnEmptyString,U=e.onCancel,M=e.onSearchFinished,j=e.shouldIncludeEmails,Z=e.isPopperVisible,Q=e.filterPredicate,H=(0,a.fC)(),V=(0,o.Rs)(),K=(t={teamId:V?V.id:void 0,hasProfile:!!R||void 0},n={memberId:F?void 0:null==H?void 0:H.id},c=[],t&&Object.keys(t).forEach(function(e){var n=t[e];void 0!==n&&c.push("".concat(e,":").concat(n))}),n&&Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&c.push("NOT ".concat(e,":").concat(t))}),c.join(" AND ")),G=(h=(f={index:A.Wr.KnownPeople,searchOnEmptyString:P,search:O,filterString:K,disabled:!V,onSearchFinished:M}).index,p=f.search,g=f.searchOnEmptyString,v=f.filterString,y=void 0===(m=f.resultCount)?5:m,b=f.disabled,w=f.onSearchFinished,(_=(0,i.useRef)(p)).current=p,C=(E=(0,i.useState)({items:[],loading:!1,error:null}))[0],B=E[1],I=(0,d.ZP)(),x=(0,i.useMemo)(function(){if(I)return l()(A.O9.appId,I).initIndex(h)},[I,h]),S=(0,i.useCallback)((T=(0,s.Z)(function(e,t,n){var r,i,o;return(0,u.__generator)(this,function(a){switch(a.label){case 0:if(null==e||""===e&&!g||!x||n)return B({items:[],loading:!1,error:null}),null==w||w(0),[2];B(function(e){return{items:e.items,loading:!0,error:null}}),r={hitsPerPage:y},t&&(r.filters=t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,x.search(null!=e?e:"",r)];case 2:if(o=a.sent(),_.current!==e)return[2];return B({items:(null==o?void 0:o.hits)||[],loading:!1,error:null}),null==w||w((null==o?void 0:null===(i=o.hits)||void 0===i?void 0:i.length)||0),[3,4];case 3:return B({items:[],loading:!1,error:a.sent()}),[3,4];case 4:return[2]}})}),function(e,t,n){return T.apply(this,arguments)}),[x,y,g,w]),(0,i.useEffect)(function(){S(p,v,b)},[S,p,v,b]),C).items;return Q&&(G=G.filter(Q)),/*#__PURE__*/(0,r.jsx)(N,{isPopperVisible:void 0===Z||Z,targetNode:k,className:D,onSelect:L,matchingPeople:G,onCancel:U,shouldIncludeEmails:j})})},63842:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(3635),u=n(47837),c=/*#__PURE__*/n.n(u),l=function(e){var t=e.className,n=e.children,u=(0,o.Z)(e,["className","children"]);return/*#__PURE__*/(0,a.jsx)("a",(0,i.Z)((0,r.Z)({target:"_blank",spellCheck:!1,rel:"noreferrer"},u),{className:(0,s.Z)(c().link,t),children:n}))}},48123:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(3635),u=n(47837),c=/*#__PURE__*/n.n(u),l=function(e){var t=e.className,n=e.children,u=(0,o.Z)(e,["className","children"]);return/*#__PURE__*/(0,a.jsx)("a",(0,i.Z)((0,r.Z)({spellCheck:!1},u),{className:(0,s.Z)(c().link,t),children:n}))}},26942:function(e,t,n){"use strict";n.d(t,{dL:function(){return r.d},h$:function(){return d.h},c2:function(){return A}});var r=n(63842),i=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(3635),c=n(36421),l=/*#__PURE__*/n.n(c),A=function(e){var t=e.className,n=e.children,r=(0,a.Z)(e,["className","children"]);return/*#__PURE__*/(0,s.jsx)("a",(0,o.Z)((0,i.Z)({role:r.onClick?"button":void 0},r),{className:(0,u.Z)(l().link,t),children:n}))},d=n(48123)},5919:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(5021),l=/*#__PURE__*/n.n(c);t.Z=/*#__PURE__*/(0,s.memo)(/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.className,c=e.children,A=(0,o.Z)(e,["className","children"]),d=(0,s.useState)(!0),f=d[0],h=d[1];(0,s.useEffect)(function(){var e=function(e){("ArrowDown"===e.code||"ArrowUp"===e.code)&&h(!1)},t=function(){h(!0)};return window.addEventListener("keydown",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousemove",t)}},[]);var p=Array.isArray(c)?s.Children.map(c,function(e){return/*#__PURE__*/(0,s.isValidElement)(e)&&e.props.onActivate?/*#__PURE__*/(0,s.cloneElement)(e,(0,i.Z)((0,r.Z)({},e.props),{onActivate:f?e.props.onActivate:function(){return null}})):e}):c;return/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({ref:t,className:(0,u.Z)(l().listBox,n)},A),{children:p}))}))},83433:function(e,t,n){"use strict";n.d(t,{c:function(){return u}}),n(5919);var r=n(70865),i=n(2784),o=n(20189),a=n(22805),s=n(19179);function u(e){var t=e.containerRef,n=e.items,u=e.customScrollIntoView,c=e.scrollOptions,l=void 0===c?{block:"center"}:c,A=e.allowJumpToFirstOnLast,d=void 0===A||A,f=e.onSelect,h=e.onCancel,p=e.isListOpen,g=void 0===p||p,v=e.options,m=void 0===v?{shouldTabKeySelect:!0,additionalOnSelectShortcuts:[],whenShouldHookBeActive:"always"}:v,y=m.shouldTabKeySelect,b=m.whenShouldHookBeActive,w=m.additionalOnSelectShortcuts,_=(0,i.useState)(0),E=_[0],C=_[1],B=(0,i.useCallback)(function(e){e.stopPropagation(),e.preventDefault()},[]),I=(0,i.useMemo)(function(){return!1===g?function(){return!0}:"always"===b?function(){return!1}:"whenNoInputIsFocused"===b?function(e,t){return(null==t?void 0:t.tagName)==="INPUT"||(null==t||t.tagName,!1)}:null},[b,g]),x=(0,i.useCallback)(function(e){C(function(r){var i=r+e;if(i<0?i=d?n.length-1:0:i>=n.length&&(i=d?0:n.length-1),u)u(i,n);else{var o,a=null==t?void 0:null===(o=t.current)||void 0===o?void 0:o.children[i];a&&(0,s.zT)(a,l)}return i})},[d,t,u,n,l]),T=(0,i.useCallback)(function(e){return(null==I?void 0:I(e,document.activeElement))||!!document.querySelector('[data-is-dropdown-active="true"]')},[I]),S=(0,i.useCallback)(function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),x(-1))},[n.length,x,T]),k=(0,i.useCallback)(function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),x(1))},[n.length,x,T]),N=(0,i.useCallback)(function(e){!T(e)&&n.length&&-1!==E&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),f(n[E],e))},[E,n,f,T]),D=null==w?void 0:w.reduce(function(e,t){return e[t]=function(e){return N(e)},e},{});(0,a.Z)((0,r.Z)({up:S,down:k,enter:N,esc:h||function(){},"ctrl+enter":N,"command+enter":N,"shift+tab":y?void 0:S},D),{stopCallback:I}),(0,o.Z)(t||{current:null},function(){return null==h?void 0:h()});var O=(0,i.useCallback)(function(e){"Tab"!==e.key||e.shiftKey||(y?N(e):k(e))},[k,N,y]);return(0,i.useEffect)(function(){return window.addEventListener("keydown",O,!0),function(){window.removeEventListener("keydown",O,!0)}},[O]),(0,i.useEffect)(function(){C(0)},[n.length]),{activeIndex:E,setActiveIndex:C,handleContainerMouseDown:B}}},12567:function(e,t,n){"use strict";n.d(t,{v:function(){return h}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322);n(2784);var s=n(3635),u=n(88404),c=n(32538),l=n(95343),A=/*#__PURE__*/n.n(l),d=n(22298),f=/*#__PURE__*/n.n(d),h=function(e){var t=e.icon,n=e.isActive,l=e.subTitle,d=e.className,h=e.mainTitle,p=e.isBackable,g=e.endContent,v=e.mainContent,m=e.isExpandable,y=e.disableHover,b=e.secondaryTitle,w=e.classNames,_=void 0===w?{}:w,E=(0,o.Z)(e,["icon","isActive","subTitle","className","mainTitle","isBackable","endContent","mainContent","isExpandable","disableHover","secondaryTitle","classNames"]);return/*#__PURE__*/(0,a.jsxs)("div",(0,i.Z)((0,r.Z)({},E),{className:(0,s.Z)(d,f().root,_.root,n&&f().isActive,n&&_.rootActive,y&&f().disableHover),children:[t&&/*#__PURE__*/(0,a.jsx)("div",{className:(0,s.Z)(f().icon,_.icon),children:t}),p&&/*#__PURE__*/(0,a.jsx)("div",{className:f().backIcon,children:/*#__PURE__*/(0,a.jsx)(u.J,{icon:c.Z,width:12,height:12})}),/*#__PURE__*/(0,a.jsx)("div",{className:f().content,children:v||/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsxs)("div",{className:f().title,children:[/*#__PURE__*/(0,a.jsx)("span",{className:(0,s.Z)(f().mainTitle,A().standard,_.mainTitle,!!b&&f().fitWidth),children:h}),b&&/*#__PURE__*/(0,a.jsx)("span",{className:f().secondaryTitle,children:b})]}),l&&/*#__PURE__*/(0,a.jsx)("div",{className:(0,s.Z)(_.subTitle,f().subTitle),children:l})]})}),m&&/*#__PURE__*/(0,a.jsx)("div",{className:f().forwardIcon,children:/*#__PURE__*/(0,a.jsx)(u.J,{icon:c.Z,width:12,height:12})}),g&&/*#__PURE__*/(0,a.jsx)("div",{className:_.endContent,children:g})]}))}},30678:function(e,t,n){"use strict";n.d(t,{s:function(){return f}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(52826),c=n(54848),l=n(3635),A=n(7971),d=/*#__PURE__*/n.n(A),f=function(e){var t=e.userId,n=e.onClick,A=e.className,f=(0,o.Z)(e,["userId","onClick","className"]),h=(0,u.ZP)(t),p=(0,s.useCallback)(function(){return null==n?void 0:n(t)},[t,n]);return/*#__PURE__*/(0,a.jsx)(c.Z,(0,i.Z)((0,r.Z)({},f,h),{isLoading:!h,onClick:p,className:(0,l.Z)(d().avatar,A)}))};t.Z=/*#__PURE__*/(0,s.memo)(f)},2643:function(e,t,n){"use strict";n.d(t,{Z:function(){return x},B:function(){return E}});var r,i,o=n(70865),a=n(96670),s=n(26297),u=n(50930),c=n(52322),l=n(2784),A=n(5632),d=n(20417),f=n(95162),h=n(88404),p=n(28316),g=/*#__PURE__*/(0,l.memo)(function(e){var t=e.children;return/*#__PURE__*/(0,p.createPortal)(t,document.body)}),v=n(89563),m=n(3635),y=n(52305),b=/*#__PURE__*/n.n(y);(r=i||(i={})).Large="large",r.XL="xl";var w="eraser-modal-dialog",_="eraser-modal-container",E=function(){return null!=document.getElementById(w)},C=function(e){if(!e)return!1;var t=document.querySelectorAll("#".concat(_));return t[t.length-1]===e},B=function(e,t){var n=e.size,r=e.title,i=e.isOpen,p=e.onClose,y=e.children,E=e.className,B=e.rootClassName,I=e.headerClassName,x=e.bottomGradient,T=e.theme,S=void 0===T?"light":T,k=e.hideCloseButton,N=e.fireCloseOnKeys,D=void 0===N?[]:N,O=e.contentWrapperClassName,R=e.showTitleSeparator,F=e.closeButtonVariant,L=e.width,P=e.height,U=(0,s.Z)(e,["size","title","isOpen","onClose","children","className","rootClassName","headerClassName","bottomGradient","theme","hideCloseButton","fireCloseOnKeys","contentWrapperClassName","showTitleSeparator","closeButtonVariant","width","height"]),M=(0,A.useRouter)(),j=(0,l.useRef)(null),Z=(0,l.useRef)(null),Q=t||j,H=(0,l.useCallback)(function(e){e.stopPropagation()},[]),V=(0,l.useCallback)(function(e){e.stopPropagation()},[]),K=(0,l.useRef)(i);K.current=i,(0,l.useEffect)(function(){if(p){var e=function(){K.current&&p()};return null==M||M.events.on("routeChangeStart",e),function(){null==M||M.events.off("routeChangeStart",e)}}},[p,M]);var G=(0,l.useCallback)(function(e){var t=["Escape"].concat((0,u.Z)(D)),n=null==Q?void 0:Q.current;p&&t.includes(e.key)&&i&&C(n)&&(e.preventDefault(),e.stopPropagation(),p())},[i,p,D,Q]);(0,l.useEffect)(function(){return window.addEventListener("keydown",G),function(){window.removeEventListener("keydown",G)}},[G]);var z=(0,l.useCallback)(function(e){e.stopPropagation(),Z.current=e.target.id||null},[]),W=(0,l.useCallback)(function(e){e.stopPropagation(),Z.current===_&&p&&p(),Z.current=null},[p]);return i?/*#__PURE__*/(0,c.jsx)(g,{children:/*#__PURE__*/(0,c.jsx)("div",{ref:Q,id:_,onMouseUp:W,onMouseDown:z,className:(0,m.Z)(b().modal,B,"dark"===S&&b().isDarkMode,"modal"),children:/*#__PURE__*/(0,c.jsxs)("div",(0,a.Z)((0,o.Z)({},U),{id:w,onClick:H,onPointerDown:V,className:(0,m.Z)(b().dialog,E,!!n&&b()[n],x&&b().hasBottomGradient,!r&&b().addTopPadding),style:{width:L,height:P},children:[!p||k?null:"cross"===(void 0===F?"cross":F)?/*#__PURE__*/(0,c.jsx)("button",{type:"button",onClick:p,className:(0,m.Z)(b().closeBtn,b().closeBtnCross),children:/*#__PURE__*/(0,c.jsx)(h.J,{icon:d.Z})}):/*#__PURE__*/(0,c.jsxs)(f.ZP,{onClick:p,size:f.ZP.Sizes.SMALL,variant:f.ZP.Variants.SUBTLE,className:(0,m.Z)(b().closeBtn,b().closeBtnText),children:["Close",/*#__PURE__*/(0,c.jsx)(v.P,{keys:["Esc"]})]}),!!r&&/*#__PURE__*/(0,c.jsx)("header",{className:(0,m.Z)(b().header,I),children:r}),void 0!==R&&R&&/*#__PURE__*/(0,c.jsx)("hr",{className:b().titleSeparator}),/*#__PURE__*/(0,c.jsx)("div",{className:(0,m.Z)(b().content,O),children:y}),!!x&&/*#__PURE__*/(0,c.jsx)("div",{className:(0,m.Z)(b().bottomGradient,"dark"===S&&b().isDarkMode)})]}))})}):null};B.Sizes=i,B.displayName="Modal";var I=/*#__PURE__*/(0,l.memo)(/*#__PURE__*/(0,l.forwardRef)(B));Object.assign(I,{Sizes:i});var x=I},47814:function(e,t,n){"use strict";n.d(t,{ZP:function(){return aT},KL:function(){return aE},uw:function(){return ax}});var r,i,o,a,s,u,c,l,A,d,f,h,p,g=n(70865),v=n(96670),m=n(52322),y=n(2784),b="bottom",w="right",_="left",E="auto",C=["top",b,w,_],B="start",I="viewport",x="popper",T=/*#__PURE__*/C.reduce(function(e,t){return e.concat([t+"-"+B,t+"-end"])},[]),S=/*#__PURE__*/[].concat(C,[E]).reduce(function(e,t){return e.concat([t,t+"-"+B,t+"-end"])},[]),k=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function N(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function D(e){var t=N(e).Element;return e instanceof t||e instanceof Element}function O(e){var t=N(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function R(e){if("undefined"==typeof ShadowRoot)return!1;var t=N(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function F(e){return((D(e)?e.ownerDocument:e.document)||window.document).documentElement}function L(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function P(e){var t=N(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U(e){return L(F(e)).left+P(e).scrollLeft}function M(e){return N(e).getComputedStyle(e)}var j=Math.max,Z=Math.min,Q=Math.round;function H(e){return e?(e.nodeName||"").toLowerCase():null}function V(e){return"html"===H(e)?e:e.assignedSlot||e.parentNode||(R(e)?e.host:null)||F(e)}function K(e){var t=M(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function G(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(H(t))>=0?t.ownerDocument.body:O(t)&&K(t)?t:e(V(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=N(r),a=i?[o].concat(o.visualViewport||[],K(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(G(V(a)))}function z(e){return O(e)&&"fixed"!==M(e).position?e.offsetParent:null}function W(e){for(var t=N(e),n=z(e);n&&["table","td","th"].indexOf(H(n))>=0&&"static"===M(n).position;)n=z(n);return n&&("html"===H(n)||"body"===H(n)&&"static"===M(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&O(e)&&"fixed"===M(e).position)return null;for(var n=V(e);O(n)&&0>["html","body"].indexOf(H(n));){var r=M(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function q(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&R(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Y(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $(e,t){var n,r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m;return t===I?Y((n=N(e),r=F(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0,i&&(o=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,u=i.offsetTop)),{width:o,height:a,x:s+U(e),y:u})):O(t)?((c=L(t)).top=c.top+t.clientTop,c.left=c.left+t.clientLeft,c.bottom=c.top+t.clientHeight,c.right=c.left+t.clientWidth,c.width=t.clientWidth,c.height=t.clientHeight,c.x=c.left,c.y=c.top,c):Y((l=F(e),d=F(l),f=P(l),h=null==(A=l.ownerDocument)?void 0:A.body,p=j(d.scrollWidth,d.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),g=j(d.scrollHeight,d.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),v=-f.scrollLeft+U(l),m=-f.scrollTop,"rtl"===M(h||d).direction&&(v+=j(d.clientWidth,h?h.clientWidth:0)-p),{width:p,height:g,x:v,y:m}))}function X(e){return e.split("-")[0]}function J(e){return e.split("-")[1]}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function et(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?X(i):null,a=i?J(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case"top":t={x:s,y:n.y-r.height};break;case b:t={x:s,y:n.y+n.height};break;case w:t={x:n.x+n.width,y:u};break;case _:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?ee(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case B:t[c]=t[c]-(n[l]/2-r[l]/2);break;case"end":t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function en(){return{top:0,right:0,bottom:0,left:0}}function er(e){return Object.assign({},en(),e)}function ei(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function eo(e,t){void 0===t&&(t={});var n,r,i,o,a,s,u,c,l=t,A=l.placement,d=void 0===A?e.placement:A,f=l.boundary,h=l.rootBoundary,p=l.elementContext,g=void 0===p?x:p,v=l.altBoundary,m=l.padding,y=void 0===m?0:m,_=er("number"!=typeof y?y:ei(y,C)),E=e.rects.popper,B=e.elements[void 0!==v&&v?g===x?"reference":x:g],T=(n=D(B)?B:B.contextElement||F(e.elements.popper),r=void 0===f?"clippingParents":f,i=void 0===h?I:h,u=(s=[].concat("clippingParents"===r?(o=G(V(n)),D(a=["absolute","fixed"].indexOf(M(n).position)>=0&&O(n)?W(n):n)?o.filter(function(e){return D(e)&&q(e,a)&&"body"!==H(e)}):[]):[].concat(r),[i]))[0],(c=s.reduce(function(e,t){var r=$(n,t);return e.top=j(r.top,e.top),e.right=Z(r.right,e.right),e.bottom=Z(r.bottom,e.bottom),e.left=j(r.left,e.left),e},$(n,u))).width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c),S=L(e.elements.reference),k=et({reference:S,element:E,strategy:"absolute",placement:d}),N=Y(Object.assign({},E,k)),R=g===x?N:S,P={top:T.top-R.top+_.top,bottom:R.bottom-T.bottom+_.bottom,left:T.left-R.left+_.left,right:R.right-T.right+_.right},U=e.modifiersData.offset;if(g===x&&U){var Q=U[d];Object.keys(P).forEach(function(e){var t=[w,b].indexOf(e)>=0?1:-1,n=["top",b].indexOf(e)>=0?"y":"x";P[e]+=Q[n]*t})}return P}function ea(e){var t=L(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var es={placement:"bottom",modifiers:[],strategy:"absolute"};function eu(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var ec={passive:!0},el={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eA(e){var t,n,r,i,o,a=e.popper,s=e.popperRect,u=e.placement,c=e.variation,l=e.offsets,A=e.position,d=e.gpuAcceleration,f=e.adaptive,h=e.roundOffsets,p=!0===h?(t=l.x,n=l.y,{x:Q(Q(t*(r=window.devicePixelRatio||1))/r)||0,y:Q(Q(n*r)/r)||0}):"function"==typeof h?h(l):l,g=p.x,v=void 0===g?0:g,m=p.y,y=void 0===m?0:m,E=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),B=_,I="top",x=window;if(f){var T=W(a),S="clientHeight",k="clientWidth";T===N(a)&&"static"!==M(T=F(a)).position&&"absolute"===A&&(S="scrollHeight",k="scrollWidth"),("top"===u||(u===_||u===w)&&"end"===c)&&(I=b,y-=T[S]-s.height,y*=d?1:-1),(u===_||("top"===u||u===b)&&"end"===c)&&(B=w,v-=T[k]-s.width,v*=d?1:-1)}var D=Object.assign({position:A},f&&el);return d?Object.assign({},D,((o={})[I]=C?"0":"",o[B]=E?"0":"",o.transform=1>=(x.devicePixelRatio||1)?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",o)):Object.assign({},D,((i={})[I]=C?y+"px":"",i[B]=E?v+"px":"",i.transform="",i))}var ed={left:"right",right:"left",bottom:"top",top:"bottom"};function ef(e){return e.replace(/left|right|bottom|top/g,function(e){return ed[e]})}var eh={start:"end",end:"start"};function ep(e){return e.replace(/start|end/g,function(e){return eh[e]})}function eg(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ev(e){return["top",w,b,_].some(function(t){return e[t]>=0})}var em=(o=void 0===(i=(r={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=N(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,ec)}),s&&u.addEventListener("resize",n.update,ec),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,ec)}),s&&u.removeEventListener("resize",n.update,ec)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=et({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=n.adaptive,o=n.roundOffsets,a=void 0===o||o,s={placement:X(t.placement),variation:J(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,eA(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,eA(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];O(i)&&H(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});O(r)&&H(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=S.reduce(function(e,n){var r,i,a,s,u,c;return e[n]=(r=t.rects,a=[_,"top"].indexOf(i=X(n))>=0?-1:1,u=(s="function"==typeof o?o(Object.assign({},r,{placement:n})):o)[0],c=s[1],u=u||0,c=(c||0)*a,[_,w].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}),e},{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,A=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,h=void 0===f||f,p=n.allowedAutoPlacements,g=t.options.placement,v=X(g)===g,m=u||(v||!h?[ef(g)]:function(e){if(X(e)===E)return[];var t=ef(e);return[ep(e),t,ep(t)]}(g)),y=[g].concat(m).reduce(function(e,n){var r,i,o,a,s,u,d,f,g,v,m,y;return e.concat(X(n)===E?(i=(r={placement:n,boundary:l,rootBoundary:A,padding:c,flipVariations:h,allowedAutoPlacements:p}).placement,o=r.boundary,a=r.rootBoundary,s=r.padding,u=r.flipVariations,f=void 0===(d=r.allowedAutoPlacements)?S:d,0===(m=(v=(g=J(i))?u?T:T.filter(function(e){return J(e)===g}):C).filter(function(e){return f.indexOf(e)>=0})).length&&(m=v),Object.keys(y=m.reduce(function(e,n){return e[n]=eo(t,{placement:n,boundary:o,rootBoundary:a,padding:s})[X(n)],e},{})).sort(function(e,t){return y[e]-y[t]})):n)},[]),I=t.rects.reference,x=t.rects.popper,k=new Map,N=!0,D=y[0],O=0;O<y.length;O++){var R=y[O],F=X(R),L=J(R)===B,P=["top",b].indexOf(F)>=0,U=P?"width":"height",M=eo(t,{placement:R,boundary:l,rootBoundary:A,altBoundary:d,padding:c}),j=P?L?w:_:L?b:"top";I[U]>x[U]&&(j=ef(j));var Z=ef(j),Q=[];if(o&&Q.push(M[F]<=0),s&&Q.push(M[j]<=0,M[Z]<=0),Q.every(function(e){return e})){D=R,N=!1;break}k.set(R,Q)}if(N)for(var H=h?3:1,V=function(e){var t=y.find(function(t){var n=k.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return D=t,"break"},K=H;K>0&&"break"!==V(K);K--);t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,A=n.padding,d=n.tether,f=void 0===d||d,h=n.tetherOffset,p=void 0===h?0:h,g=eo(t,{boundary:u,rootBoundary:c,padding:A,altBoundary:l}),v=X(t.placement),m=J(t.placement),y=!m,E=ee(v),C="x"===E?"y":"x",I=t.modifiersData.popperOffsets,x=t.rects.reference,T=t.rects.popper,S="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,k={x:0,y:0};if(I){if(o||s){var N="y"===E?"top":_,D="y"===E?b:w,O="y"===E?"height":"width",R=I[E],F=I[E]+g[N],L=I[E]-g[D],P=f?-T[O]/2:0,U=m===B?x[O]:T[O],M=m===B?-T[O]:-x[O],Q=t.elements.arrow,H=f&&Q?ea(Q):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:en(),K=V[N],G=V[D],z=j(0,Z(x[O],H[O])),q=y?x[O]/2-P-z-K-S:U-z-K-S,Y=y?-x[O]/2+P+z+G+S:M+z+G+S,$=t.elements.arrow&&W(t.elements.arrow),et=$?"y"===E?$.clientTop||0:$.clientLeft||0:0,er=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,ei=I[E]+q-er-et,es=I[E]+Y-er;if(o){var eu,ec,el=(eu=f?Z(F,ei):F,ec=f?j(L,es):L,j(eu,Z(R,ec)));I[E]=el,k[E]=el-R}if(s){var eA,ed,ef="x"===E?"top":_,eh="x"===E?b:w,ep=I[C],eg=ep+g[ef],ev=ep-g[eh],em=(eA=f?Z(eg,ei):eg,ed=f?j(ev,es):ev,j(eA,Z(ep,ed)));I[C]=em,k[C]=em-ep}}t.modifiersData[r]=k}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r=e.state,i=e.name,o=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,u=X(r.placement),c=ee(u),l=[_,w].indexOf(u)>=0?"height":"width";if(a&&s){var A=er("number"!=typeof(t="function"==typeof(t=o.padding)?t(Object.assign({},r.rects,{placement:r.placement})):t)?t:ei(t,C)),d=ea(a),f="y"===c?"top":_,h="y"===c?b:w,p=r.rects.reference[l]+r.rects.reference[c]-s[c]-r.rects.popper[l],g=s[c]-r.rects.reference[c],v=W(a),m=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,y=A[f],E=m-d[l]-A[h],B=m/2-d[l]/2+(p/2-g/2),I=j(y,Z(B,E));r.modifiersData[i]=((n={})[c]=I,n.centerOffset=I-B,n)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&q(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=eo(t,{elementContext:"reference"}),s=eo(t,{altBoundary:!0}),u=eg(a,r),c=eg(s,i,o),l=ev(u),A=ev(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:A},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":A})}}]}).defaultModifiers)?[]:i,s=void 0===(a=r.defaultOptions)?es:a,function(e,t,n){void 0===n&&(n=s);var r,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},es,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],c=!1,l={state:a,setOptions:function(n){var r,i,c,d,f,h="function"==typeof n?n(a.options):n;A(),a.options=Object.assign({},s,a.options,h),a.scrollParents={reference:D(e)?G(e):e.contextElement?G(e.contextElement):[],popper:G(t)};var p=(i=Object.keys(r=[].concat(o,a.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),c=new Map,d=new Set,f=[],i.forEach(function(e){c.set(e.name,e)}),i.forEach(function(e){d.has(e.name)||function e(t){d.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!d.has(t)){var n=c.get(t);n&&e(n)}}),f.push(t)}(e)}),k.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=p.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var i=r({state:a,name:t,instance:l,options:void 0===n?{}:n});u.push(i||function(){})}}),l.update()},forceUpdate:function(){if(!c){var e,t,n,r,i,o,s,u,A,d,f,h,p=a.elements,g=p.reference,v=p.popper;if(eu(g,v)){a.rects={reference:(t=W(v),n="fixed"===a.options.strategy,r=O(t),u=O(t)&&(o=(i=t.getBoundingClientRect()).width/t.offsetWidth||1,s=i.height/t.offsetHeight||1,1!==o||1!==s),A=F(t),d=L(g,u),f={scrollLeft:0,scrollTop:0},h={x:0,y:0},(r||!r&&!n)&&(("body"!==H(t)||K(A))&&(f=(e=t)!==N(e)&&O(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:P(e)),O(t)?(h=L(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):A&&(h.x=U(A))),{x:d.left+f.scrollLeft-h.x,y:d.top+f.scrollTop-h.y,width:d.width,height:d.height}),popper:ea(v)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var m=0;m<a.orderedModifiers.length;m++){if(!0===a.reset){a.reset=!1,m=-1;continue}var y=a.orderedModifiers[m],b=y.fn,w=y.options,_=void 0===w?{}:w,E=y.name;"function"==typeof b&&(a=b({state:a,options:_,name:E,instance:l})||a)}}}},update:(r=function(){return new Promise(function(e){l.forceUpdate(),e(a)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(r())})})),i}),destroy:function(){A(),c=!0}};if(!eu(e,t))return l;function A(){u.forEach(function(e){return e()}),u=[]}return l.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}),ey=n(78435),eb=/*#__PURE__*/n.n(ey),ew=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},e_="undefined"!=typeof window&&window.document&&window.document.createElement?y.useLayoutEffect:y.useEffect,eE=[],eC=function(e,t,n){void 0===n&&(n={});var r=y.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||eE},o=y.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],s=o[1],u=y.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);s({styles:ew(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:ew(n.map(function(e){return[e,t.attributes[e]]}))})},requires:["computeStyles"]}},[]),c=y.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return eb()(r.current,e)?r.current||e:(r.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),l=y.useRef();return e_(function(){l.current&&l.current.setOptions(c)},[c]),e_(function(){if(null!=e&&null!=t){var r=(n.createPopper||em)(e,t,c);return l.current=r,function(){r.destroy(),l.current=null}}},[e,t,n.createPopper]),{state:l.current?l.current.state:null,styles:a.styles,attributes:a.attributes,update:l.current?l.current.update:null,forceUpdate:l.current?l.current.forceUpdate:null}},eB=n(26297),eI=n(22970),ex=n(34406),eT=(void 0===ex||ex.env,"production");let eS=1/60*1e3,ek="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),eN="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(ek()),eS),eD=!0,eO=!1,eR=!1,eF={delta:0,timestamp:0},eL=["read","update","preRender","render","postRender"],eP=eL.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1,a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{let u=s&&i,c=u?t:n;return o&&a.add(e),-1===c.indexOf(e)&&(c.push(e),u&&i&&(r=t.length)),e},cancel:e=>{let t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:u=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length)for(let n=0;n<r;n++){let r=t[n];r(u),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(u))}};return s}(()=>eO=!0),e),{}),eU=eL.reduce((e,t)=>{let n=eP[t];return e[t]=(e,t=!1,r=!1)=>(eO||eH(),n.schedule(e,t,r)),e},{}),eM=eL.reduce((e,t)=>(e[t]=eP[t].cancel,e),{}),ej=eL.reduce((e,t)=>(e[t]=()=>eP[t].process(eF),e),{}),eZ=e=>eP[e].process(eF),eQ=e=>{eO=!1,eF.delta=eD?eS:Math.max(Math.min(e-eF.timestamp,40),1),eF.timestamp=e,eR=!0,eL.forEach(eZ),eR=!1,eO&&(eD=!1,eN(eQ))},eH=()=>{eO=!0,eD=!0,eR||eN(eQ)},eV=()=>eF;var eK="undefined"!=typeof document,eG=eK?y.useLayoutEffect:y.useEffect;function ez(){var e=(0,y.useRef)(!1);return eG(function(){return e.current=!0,function(){e.current=!1}},[]),e}var eW=(0,y.createContext)(null);function eq(e){var t=(0,y.useRef)(null);return null===t.current&&(t.current=e()),t.current}var eY=0,e$=function(){return eY++},eX=function(){return eq(e$)},eJ=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,o=e.custom,a=e.presenceAffectsLayout,s=eq(e0),u=eX(),c=(0,y.useMemo)(function(){return{id:u,initial:n,isPresent:r,custom:o,onExitComplete:function(e){var t,n;s.set(e,!0);try{for(var r=(0,eI.__values)(s.values()),o=r.next();!o.done;o=r.next())if(!o.value)return}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==i||i()},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}},a?void 0:[r]);return(0,y.useMemo)(function(){s.forEach(function(e,t){return s.set(t,!1)})},[r]),y.useEffect(function(){r||s.size||null==i||i()},[r]),y.createElement(eW.Provider,{value:c},t)};function e0(){return new Map}var e1=(0,y.createContext)({});function e2(e){return(0,y.useEffect)(function(){return function(){return e()}},[])}var e4=function(e){return e.key||""},e3=function(e){var t,n,r,i,o,a,s=e.children,u=e.custom,c=e.initial,l=void 0===c||c,A=e.onExitComplete,d=e.exitBeforeEnter,f=e.presenceAffectsLayout,h=void 0===f||f,p=(0,eI.__read)((t=ez(),r=(n=(0,eI.__read)((0,y.useState)(0),2))[0],i=n[1],o=(0,y.useCallback)(function(){t.current&&i(r+1)},[r]),[(0,y.useCallback)(function(){return eU.postRender(o)},[o]),r]),1)[0],g=(0,y.useContext)(e1).forceRender;g&&(p=g);var v=ez(),m=(a=[],y.Children.forEach(s,function(e){(0,y.isValidElement)(e)&&a.push(e)}),a),b=m,w=new Set,_=(0,y.useRef)(b),E=(0,y.useRef)(new Map).current,C=(0,y.useRef)(!0);if(eG(function(){C.current=!1,function(e,t){e.forEach(function(e){var n=e4(e);t.set(n,e)})}(m,E),_.current=b}),e2(function(){C.current=!0,E.clear(),w.clear()}),C.current)return y.createElement(y.Fragment,null,b.map(function(e){return y.createElement(eJ,{key:e4(e),isPresent:!0,initial:!!l&&void 0,presenceAffectsLayout:h},e)}));b=(0,eI.__spreadArray)([],(0,eI.__read)(b),!1);for(var B=_.current.map(e4),I=m.map(e4),x=B.length,T=0;T<x;T++){var S=B[T];-1===I.indexOf(S)&&w.add(S)}return d&&w.size&&(b=[]),w.forEach(function(e){if(-1===I.indexOf(e)){var t=E.get(e);if(t){var n=B.indexOf(e);b.splice(n,0,y.createElement(eJ,{key:e4(t),isPresent:!1,onExitComplete:function(){E.delete(e),w.delete(e);var t=_.current.findIndex(function(t){return t.key===e});if(_.current.splice(t,1),!w.size){if(_.current=m,!1===v.current)return;p(),A&&A()}},custom:u,presenceAffectsLayout:h},t))}}}),b=b.map(function(e){var t=e.key;return w.has(t)?e:y.createElement(eJ,{key:e4(e),isPresent:!0,presenceAffectsLayout:h},e)}),"production"!==eT&&d&&b.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),y.createElement(y.Fragment,null,w.size?b:b.map(function(e){return(0,y.cloneElement)(e)}))},e5=function(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}},e6={measureLayout:e5(["layout","layoutId","drag"]),animation:e5(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:e5(["exit"]),drag:e5(["drag","dragControls"]),focus:e5(["whileFocus"]),hover:e5(["whileHover","onHoverStart","onHoverEnd"]),tap:e5(["whileTap","onTap","onTapStart","onTapCancel"]),pan:e5(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:e5(["whileInView","onViewportEnter","onViewportLeave"])},e8=function(){},e9=function(){},e7=(0,y.createContext)({strict:!1}),te=Object.keys(e6),tt=te.length,tn=(0,y.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),tr=(0,y.createContext)({}),ti={current:null},to=!1;function ta(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ts(e){return Array.isArray(e)}function tu(e){return"string"==typeof e||ts(e)}function tc(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function tl(e,t,n){var r,i,o=e.getProps();return tc(o,t,null!=n?n:o.custom,(r={},e.forEachValue(function(e,t){return r[t]=e.get()}),r),(i={},e.forEachValue(function(e,t){return i[t]=e.getVelocity()}),i))}function tA(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||tu(e.initial)||tu(e.animate)||tu(e.whileHover)||tu(e.whileDrag)||tu(e.whileTap)||tu(e.whileFocus)||tu(e.exit)}function td(e){return!!(tA(e)||e.variants)}function tf(e){return Array.isArray(e)?e.join(" "):e}var th={hasAnimatedSinceResize:!0,hasEverUpdated:!1},tp=1,tg=(0,y.createContext)({}),tv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,eI.__extends)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(y.Component),tm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ty(e){if("string"!=typeof e||e.includes("-"));else if(tm.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}var tb={},tw=["","X","Y","Z"],t_=["transformPerspective","x","y","z"];function tE(e,t){return t_.indexOf(e)-t_.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(e){return tw.forEach(function(t){return t_.push(e+t)})});var tC=new Set(t_);function tB(e){return tC.has(e)}var tI=new Set(["originX","originY","originZ"]);function tx(e,t){var n=t.layout,r=t.layoutId;return tB(e)||tI.has(e)||(n||void 0!==r)&&(!!tb[e]||"opacity"===e)}var tT=function(e){return!!(null!==e&&"object"==typeof e&&e.getVelocity)},tS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function tk(e){return e.startsWith("--")}let tN=(e,t)=>n=>Math.max(Math.min(n,t),e),tD=e=>e%1?Number(e.toFixed(5)):e,tO=/(-)?([\d]*\.?[\d])+/g,tR=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,tF=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function tL(e){return"string"==typeof e}let tP=e=>({test:t=>tL(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tU=tP("deg"),tM=tP("%"),tj=tP("px"),tZ=tP("vh"),tQ=tP("vw"),tH=Object.assign(Object.assign({},tM),{parse:e=>tM.parse(e)/100,transform:e=>tM.transform(100*e)}),tV={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tK=Object.assign(Object.assign({},tV),{transform:tN(0,1)}),tG=Object.assign(Object.assign({},tV),{default:1});var tz=(0,eI.__assign)((0,eI.__assign)({},tV),{transform:Math.round}),tW={borderWidth:tj,borderTopWidth:tj,borderRightWidth:tj,borderBottomWidth:tj,borderLeftWidth:tj,borderRadius:tj,radius:tj,borderTopLeftRadius:tj,borderTopRightRadius:tj,borderBottomRightRadius:tj,borderBottomLeftRadius:tj,width:tj,maxWidth:tj,height:tj,maxHeight:tj,size:tj,top:tj,right:tj,bottom:tj,left:tj,padding:tj,paddingTop:tj,paddingRight:tj,paddingBottom:tj,paddingLeft:tj,margin:tj,marginTop:tj,marginRight:tj,marginBottom:tj,marginLeft:tj,rotate:tU,rotateX:tU,rotateY:tU,rotateZ:tU,scale:tG,scaleX:tG,scaleY:tG,scaleZ:tG,skew:tU,skewX:tU,skewY:tU,distance:tj,translateX:tj,translateY:tj,translateZ:tj,x:tj,y:tj,z:tj,perspective:tj,transformPerspective:tj,opacity:tK,originX:tH,originY:tH,originZ:tj,zIndex:tz,fillOpacity:tK,strokeOpacity:tK,numOctaves:tz};function tq(e,t,n,r){var i,o,a,s,u=e.style,c=e.vars,l=e.transform,A=e.transformKeys,d=e.transformOrigin;A.length=0;var f=!1,h=!1,p=!0;for(var g in t){var v=t[g];if(tk(g)){c[g]=v;continue}var m=tW[g],y=m&&"number"==typeof v?m.transform(v):v;if(tB(g)){if(f=!0,l[g]=y,A.push(g),!p)continue;v!==(null!==(s=m.default)&&void 0!==s?s:0)&&(p=!1)}else tI.has(g)?(d[g]=y,h=!0):u[g]=y}f?u.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=t.allowTransformNone,u="";o.sort(tE);for(var c=!1,l=o.length,A=0;A<l;A++){var d=o[A];u+="".concat(tS[d]||d,"(").concat(i[d],") "),"z"===d&&(c=!0)}return!c&&(void 0===a||a)?u+="translateZ(0)":u=u.trim(),r?u=r(i,n?"":u):(void 0===s||s)&&n&&(u="none"),u}(e,n,p,r):r?u.transform=r({},""):!t.transform&&u.transform&&(u.transform="none"),h&&(u.transformOrigin=(i=d.originX,o=d.originY,a=d.originZ,"".concat(void 0===i?"50%":i," ").concat(void 0===o?"50%":o," ").concat(void 0===a?0:a)))}var tY=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function t$(e,t,n){for(var r in t)tT(t[r])||tx(r,n)||(e[r]=t[r])}var tX=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function tJ(e){return tX.has(e)}var t0=function(e){return!tJ(e)};try{(u=require("@emotion/is-prop-valid").default)&&(t0=function(e){return e.startsWith("on")?!tJ(e):u(e)})}catch(e){}function t1(e,t,n){return"string"==typeof e?e:tj.transform(t+n*e)}var t2={offset:"stroke-dashoffset",array:"stroke-dasharray"},t4={offset:"strokeDashoffset",array:"strokeDasharray"};function t3(e,t,n,r){var i,o,a,s,u,c,l,A,d,f,h=t.attrX,p=t.attrY,g=t.originX,v=t.originY,m=t.pathLength,y=t.pathSpacing,b=t.pathOffset;tq(e,(0,eI.__rest)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var w=e.attrs,_=e.style,E=e.dimensions;w.transform&&(E&&(_.transform=w.transform),delete w.transform),E&&(void 0!==g||void 0!==v||_.transform)&&(_.transformOrigin=(i=void 0!==g?g:.5,o=void 0!==v?v:.5,a=t1(i,E.x,E.width),s=t1(o,E.y,E.height),"".concat(a," ").concat(s))),void 0!==h&&(w.x=h),void 0!==p&&(w.y=p),void 0!==m&&(l=!1,void 0===(u=void 0===y?1:y)&&(u=1),void 0===(c=void 0===b?0:b)&&(c=0),void 0===l&&(l=!0),w.pathLength=1,w[(A=l?t2:t4).offset]=tj.transform(-c),d=tj.transform(m),f=tj.transform(u),w[A.array]="".concat(d," ").concat(f))}var t5=function(){return(0,eI.__assign)((0,eI.__assign)({},tY()),{attrs:{}})},t6=/([a-z])([A-Z])/g,t8=function(e){return e.replace(t6,"$1-$2").toLowerCase()};function t9(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var t7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ne(e,t,n,r){for(var i in t9(e,t,void 0,r),t.attrs)e.setAttribute(t7.has(i)?i:t8(i),t.attrs[i])}function nt(e){var t=e.style,n={};for(var r in t)(tT(t[r])||tx(r,e))&&(n[r]=t[r]);return n}function nn(e){var t=nt(e);for(var n in e)tT(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function nr(e){return"object"==typeof e&&"function"==typeof e.start}var ni=function(e){return Array.isArray(e)},no=function(e){return ni(e)?e[e.length-1]||0:e};function na(e){var t=tT(e)?e.get():e;return t&&"object"==typeof t&&t.mix&&t.toValue?t.toValue():t}function ns(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:function(e,t,n,r){var i={},o=(null==n?void 0:n.initial)===!1,a=r(e);for(var s in a)i[s]=na(a[s]);var u=e.initial,c=e.animate,l=tA(e),A=td(e);t&&A&&!l&&!1!==e.inherit&&(null!=u||(u=t.initial),null!=c||(c=t.animate));var d=o||!1===u,f=d?c:u;return f&&"boolean"!=typeof f&&!nr(f)&&(Array.isArray(f)?f:[f]).forEach(function(t){var n=tc(e,t);if(n){var r=n.transitionEnd;n.transition;var o=(0,eI.__rest)(n,["transitionEnd","transition"]);for(var a in o){var s=o[a];if(Array.isArray(s)){var u=d?s.length-1:0;s=s[u]}null!==s&&(i[a]=s)}for(var a in r)i[a]=r[a]}}),i}(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var nu=function(e){return function(t,n){var r=(0,y.useContext)(tr),i=(0,y.useContext)(eW);return n?ns(e,t,r,i):eq(function(){return ns(e,t,r,i)})}},nc={useVisualState:nu({scrapeMotionValuesFromProps:nn,createRenderState:t5,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}t3(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),ne(t,r)}})},nl={useVisualState:nu({scrapeMotionValuesFromProps:nt,createRenderState:tY})};function nA(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function nd(e,t,n,r){(0,y.useEffect)(function(){var i=e.current;if(n&&i)return nA(i,t,n,r)},[e,t,n,r])}function nf(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}(c=A||(A={})).Animate="animate",c.Hover="whileHover",c.Tap="whileTap",c.Drag="whileDrag",c.Focus="whileFocus",c.InView="whileInView",c.Exit="exit";var nh={pageX:0,pageY:0};function np(e,t){var n,r,i;return void 0===t&&(t="page"),{point:e.touches?(void 0===(n=t)&&(n="page"),{x:(r=e.touches[0]||e.changedTouches[0]||nh)[n+"X"],y:r[n+"Y"]}):(void 0===(i=t)&&(i="page"),{x:e[i+"X"],y:e[i+"Y"]})}}var ng=function(e,t){void 0===t&&(t=!1);var n=function(t){return e(t,np(t))};return t?function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}:n},nv={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},nm={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function ny(e){if(eK&&null===window.onpointerdown);else if(eK&&null===window.ontouchstart)return nm[e];else if(eK&&null===window.onmousedown)return nv[e];return e}function nb(e,t,n,r){return nA(e,ny(t),ng(n,"pointerdown"===t),r)}function nw(e,t,n,r){return nd(e,ny(t),n&&ng(n,"pointerdown"===t),r)}function n_(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var nE=n_("dragHorizontal"),nC=n_("dragVertical");function nB(e){var t=!1;if("y"===e)t=nC();else if("x"===e)t=nE();else{var n=nE(),r=nC();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function nI(){var e=nB(!0);return!e||(e(),!1)}function nx(e,t,n){return function(r,i){var o;!nf(r)||nI()||(null===(o=e.animationState)||void 0===o||o.setActive(A.Hover,t),null==n||n(r,i))}}var nT=function(e,t){return!!t&&(e===t||nT(e,t.parentElement))};let nS=(e,t)=>n=>t(e(n)),nk=(...e)=>e.reduce(nS);var nN=new Set,nD=new WeakMap,nO=new WeakMap,nR=function(e){var t;null===(t=nD.get(e.target))||void 0===t||t(e)},nF=function(e){e.forEach(nR)},nL={some:0,all:1},nP=function(e){return function(t){return e(t),null}},nU={inView:nP(function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,o=e.viewport,a=void 0===o?{}:o,s=(0,y.useRef)({hasEnteredView:!1,isInView:!1}),u=!!(n||r||i);a.once&&s.current.hasEnteredView&&(u=!1),("undefined"==typeof IntersectionObserver?function(e,t,n,r){var i=r.fallback,o=void 0===i||i;(0,y.useEffect)(function(){if(e&&o){if("production"!==eT){var r;r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",nN.has(r)||(console.warn(r),nN.add(r))}requestAnimationFrame(function(){t.hasEnteredView=!0;var e,r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(A.InView,!0)})}},[e])}:function(e,t,n,r){var i=r.root,o=r.margin,a=r.amount,s=void 0===a?"some":a,u=r.once;(0,y.useEffect)(function(){if(e){var r,a,c,l,d,f,h,p,g={root:null==i?void 0:i.current,rootMargin:o,threshold:"number"==typeof s?s:nL[s]};return r=n.getInstance(),a=function(e){var r,i=e.isIntersecting;if(t.isInView!==i){if(t.isInView=i,u&&!i&&t.hasEnteredView)return;i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(A.InView,i);var o=n.getProps(),a=i?o.onViewportEnter:o.onViewportLeave;null==a||a(e)}},c=g.root,l=(0,eI.__rest)(g,["root"]),d=c||document,nO.has(d)||nO.set(d,{}),(f=nO.get(d))[h=JSON.stringify(l)]||(f[h]=new IntersectionObserver(nF,(0,eI.__assign)({root:c},l))),p=f[h],nD.set(r,a),p.observe(r),function(){nD.delete(r),p.unobserve(r)}}},[e,i,o,s])})(u,s.current,t,a)}),tap:nP(function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,i=e.whileTap,o=e.visualElement,a=t||n||r||i,s=(0,y.useRef)(!1),u=(0,y.useRef)(null),c={passive:!(n||t||r||p)};function l(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function d(){var e;return l(),s.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(A.Tap,!1),!nI()}function f(e,n){d()&&(nT(o.getInstance(),e.target)?null==t||t(e,n):null==r||r(e,n))}function h(e,t){d()&&(null==r||r(e,t))}function p(e,t){var r;l(),s.current||(s.current=!0,u.current=nk(nb(window,"pointerup",f,c),nb(window,"pointercancel",h,c)),null===(r=o.animationState)||void 0===r||r.setActive(A.Tap,!0),null==n||n(e,t))}nw(o,"pointerdown",a?p:void 0,c),e2(l)}),focus:nP(function(e){var t=e.whileFocus,n=e.visualElement;nd(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(A.Focus,!0)}:void 0),nd(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(A.Focus,!1)}:void 0)}),hover:nP(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;nw(i,"pointerenter",t||r?nx(i,!0,t):void 0,{passive:!t}),nw(i,"pointerleave",n||r?nx(i,!1,n):void 0,{passive:!n})})};function nM(){var e=(0,y.useContext)(eW);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=eX();return(0,y.useEffect)(function(){return r(i)},[]),!t&&n?[!1,function(){return null==n?void 0:n(i)}]:[!0]}function nj(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}let nZ=(e,t,n)=>Math.min(Math.max(n,e),t);function nQ(e,t){return e*Math.sqrt(1-t*t)}let nH=["duration","bounce"],nV=["stiffness","damping","mass"];function nK(e,t){return t.some(t=>void 0!==e[t])}function nG(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=(0,eI.__rest)(e,["from","to","restSpeed","restDelta"]);let a={done:!1,value:t},{stiffness:s,damping:u,mass:c,velocity:l,duration:A,isResolvedFromDuration:d}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!nK(e,nV)&&nK(e,nH)){let n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;e8(e<=1e4,"Spring duration must be 10 seconds or less");let a=1-t;a=nZ(.05,1,a),e=nZ(.01,10,e/1e3),a<1?(i=t=>{let r=t*a,i=r*e;return .001-(r-n)/nQ(t,a)*Math.exp(-i)},o=t=>{let r=t*a*e,o=Math.pow(a,2)*Math.pow(t,2)*e,s=Math.exp(-r),u=nQ(Math.pow(t,2),a);return(r*n+n-o)*s*(-i(t)+.001>0?-1:1)/u}):(i=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),o=t=>e*e*(n-t)*Math.exp(-t*e));let s=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(o),f=nz,h=nz;function p(){let e=l?-(l/1e3):0,r=n-t,o=u/(2*Math.sqrt(s*c)),a=Math.sqrt(s/c)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){let t=nQ(a,o);f=i=>n-Math.exp(-o*a*i)*((e+o*a*r)/t*Math.sin(t*i)+r*Math.cos(t*i)),h=n=>{let i=Math.exp(-o*a*n);return o*a*i*(Math.sin(t*n)*(e+o*a*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*a*r)-t*r*Math.sin(t*n))}}else if(1===o)f=t=>n-Math.exp(-a*t)*(r+(e+a*r)*t);else{let t=a*Math.sqrt(o*o-1);f=i=>{let s=Math.exp(-o*a*i),u=Math.min(t*i,300);return n-s*((e+o*a*r)*Math.sinh(u)+t*r*Math.cosh(u))/t}}}return p(),{next:e=>{let t=f(e);if(d)a.done=e>=A;else{let o=Math.abs(1e3*h(e))<=r,s=Math.abs(n-t)<=i;a.done=o&&s}return a.value=a.done?n:t,a},flipTarget:()=>{l=-l,[t,n]=[n,t],p()}}}nG.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;let nz=e=>0,nW=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r},nq=(e,t,n)=>-n*e+n*t+e,nY=(e,t)=>n=>!!(tL(n)&&tF.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),n$=(e,t,n)=>r=>{if(!tL(r))return r;let[i,o,a,s]=r.match(tO);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},nX=tN(0,255),nJ=Object.assign(Object.assign({},tV),{transform:e=>Math.round(nX(e))}),n0={test:nY("rgb","red"),parse:n$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+nJ.transform(e)+", "+nJ.transform(t)+", "+nJ.transform(n)+", "+tD(tK.transform(r))+")"},n1={test:nY("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:n0.transform},n2={test:nY("hsl","hue"),parse:n$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tM.transform(tD(t))+", "+tM.transform(tD(n))+", "+tD(tK.transform(r))+")"};function n4(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=n4(s,r,e+1/3),o=n4(s,r,e),a=n4(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}let n5=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},n6=[n1,n0,n2],n8=e=>n6.find(t=>t.test(e)),n9=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,n7=(e,t)=>{let n=n8(e),r=n8(t);e9(!!n,n9(e)),e9(!!r,n9(t));let i=n.parse(e),o=r.parse(t);n===n2&&(i=n3(i),n=n0),r===n2&&(o=n3(o),r=n0);let a=Object.assign({},i);return e=>{for(let t in a)"alpha"!==t&&(a[t]=n5(i[t],o[t],e));return a.alpha=nq(i.alpha,o.alpha,e),n.transform(a)}},re={test:e=>n0.test(e)||n1.test(e)||n2.test(e),parse:e=>n0.test(e)?n0.parse(e):n2.test(e)?n2.parse(e):n1.parse(e),transform:e=>tL(e)?e:e.hasOwnProperty("red")?n0.transform(e):n2.transform(e)},rt="${c}",rn="${n}";function rr(e){"number"==typeof e&&(e=`${e}`);let t=[],n=0,r=e.match(tR);r&&(n=r.length,e=e.replace(tR,rt),t.push(...r.map(re.parse)));let i=e.match(tO);return i&&(e=e.replace(tO,rn),t.push(...i.map(tV.parse))),{values:t,numColors:n,tokenised:e}}function ri(e){return rr(e).values}function ro(e){let{values:t,numColors:n,tokenised:r}=rr(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?rt:rn,r<n?re.transform(e[r]):tD(e[r]));return t}}let ra=e=>"number"==typeof e?0:e,rs={test:function(e){var t,n,r,i;return isNaN(e)&&tL(e)&&(null!==(n=null===(t=e.match(tO))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(tR))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:ri,createTransformer:ro,getAnimatableNone:function(e){let t=ri(e);return ro(e)(t.map(ra))}},ru=e=>"number"==typeof e;function rc(e,t){return ru(e)?n=>nq(e,t,n):re.test(e)?n7(e,t):rf(e,t)}let rl=(e,t)=>{let n=[...e],r=n.length,i=e.map((e,n)=>rc(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},rA=(e,t)=>{let n=Object.assign(Object.assign({},e),t),r={};for(let i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=rc(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}};function rd(e){let t=rs.parse(e),n=t.length,r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}let rf=(e,t)=>{let n=rs.createTransformer(t),r=rd(e),i=rd(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?nk(rl(r.parsed,i.parsed),n):(e8(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)},rh=(e,t)=>n=>nq(e,t,n);function rp(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let o=e.length;e9(o===t.length,"Both input and output ranges must be the same length"),e9(!r||!Array.isArray(r)||r.length===o-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());let a=function(e,t,n){var r;let i=[],o=n||("number"==typeof(r=e[0])?rh:"string"==typeof r?re.test(r)?n7:rf:Array.isArray(r)?rl:"object"==typeof r?rA:void 0),a=e.length-1;for(let n=0;n<a;n++){let r=o(e[n],e[n+1]);t&&(r=nk(Array.isArray(t)?t[n]:t,r)),i.push(r)}return i}(t,r,i),s=2===o?function([e,t],[n]){return r=>n(nW(e,t,r))}(e,a):function(e,t){let n=e.length,r=n-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){let t=1;for(;t<n&&!(e[t]>i)&&t!==r;t++);o=t-1}let s=nW(e[o],e[o+1],i);return t[o](s)}}(e,a);return n?t=>s(nZ(e[0],e[o-1],t)):s}let rg=e=>t=>1-e(1-t),rv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rm=e=>t=>t*t*((e+1)*t-e),ry=4/11,rb=8/11,rw=e=>e,r_=e=>Math.pow(e,2),rE=rg(r_),rC=rv(r_),rB=e=>1-Math.sin(Math.acos(e)),rI=rg(rB),rx=rv(rI),rT=rm(1.525),rS=rg(rT),rk=rv(rT),rN=(e=>{let t=rm(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(1.525),rD=4356/361,rO=35442/1805,rR=16061/1805,rF=e=>{if(1===e||0===e)return e;let t=e*e;return e<ry?7.5625*t:e<rb?9.075*t-9.9*e+3.4:e<.9?rD*t-rO*e+rR:10.8*e*e-20.52*e+10.72},rL=rg(rF);function rP({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){let o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=(r&&r.length===a.length?r:function(e){let t=e.length;return e.map((e,n)=>0!==n?n/(t-1):0)}(a)).map(e=>e*i);function u(){return rp(s,a,{ease:Array.isArray(n)?n:a.map(()=>n||rC).splice(0,a.length-1)})}let c=u();return{next:e=>(o.value=c(e),o.done=e>=i,o),flipTarget:()=>{a.reverse(),c=u()}}}let rU={keyframes:rP,spring:nG,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){let a={done:!1,value:t},s=n*e,u=t+s,c=void 0===o?u:o(u);return c!==u&&(s=c-t),{next:e=>{let t=-s*Math.exp(-e/r);return a.done=!(t>i||t<-i),a.value=a.done?c:c+t,a},flipTarget:()=>{}}}};function rM(e,t,n=0){return e-t-n}let rj=e=>{let t=({delta:t})=>e(t);return{start:()=>eU.update(t,!0),stop:()=>eM.update(t)}};function rZ(e){let t,n,r;var i,{from:o,autoplay:a=!0,driver:s=rj,elapsed:u=0,repeat:c=0,repeatType:l="loop",repeatDelay:A=0,onPlay:d,onStop:f,onComplete:h,onRepeat:p,onUpdate:g}=e,v=(0,eI.__rest)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=v,y=0,b=v.duration,w=!1,_=!0,E=function(e){if(Array.isArray(e.to))return rP;if(rU[e.type])return rU[e.type];let t=new Set(Object.keys(e));if(t.has("ease")||t.has("duration")&&!t.has("dampingRatio"));else if(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))return nG;return rP}(v);(null===(i=E.needsInterpolation)||void 0===i?void 0:i.call(E,o,m))&&(r=rp([0,100],[o,m],{clamp:!1}),o=0,m=100);let C=E(Object.assign(Object.assign({},v),{from:o,to:m}));return a&&(null==d||d(),(t=s(function(e){if(_||(e=-e),u+=e,!w){let e=C.next(Math.max(0,u));n=e.value,r&&(n=r(n)),w=_?e.done:u<=0}if(null==g||g(n),w){if(0===y&&(null!=b||(b=u)),y<c){var i,o;i=u,o=b,(_?i>=o+A:i<=-A)&&(y++,"reverse"===l?u=function(e,t,n=0,r=!0){return r?rM(t+-e,t,n):t-(e-t)+n}(u,b,A,_=y%2==0):(u=rM(u,b,A),"mirror"===l&&C.flipTarget()),w=!1,p&&p())}else t.stop(),h&&h()}})).start()),{stop:()=>{null==f||f(),t.stop()}}}var rQ=function(e){return 1e3*e};let rH=(e,t)=>1-3*t+3*e,rV=(e,t)=>3*t-6*e,rK=e=>3*e,rG=(e,t,n)=>((rH(t,n)*e+rV(t,n))*e+rK(t))*e,rz=(e,t,n)=>3*rH(t,n)*e*e+2*rV(t,n)*e+rK(t);var rW={linear:rw,easeIn:r_,easeInOut:rC,easeOut:rE,circIn:rB,circInOut:rx,circOut:rI,backIn:rT,backInOut:rk,backOut:rS,anticipate:rN,bounceIn:rL,bounceInOut:e=>e<.5?.5*(1-rF(1-2*e)):.5*rF(2*e-1)+.5,bounceOut:rF},rq=function(e){if(Array.isArray(e)){e9(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=(0,eI.__read)(e,4);return function(e,t,n,r){if(e===t&&n===r)return rw;let i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=rG(.1*t,e,n);return o=>0===o||1===o?o:rG(function(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=.1;let a=r+(t-i[--o])/(i[o+1]-i[o])*.1,s=rz(a,e,n);return s>=.001?function(e,t,n,r){for(let i=0;i<8;++i){let i=rz(t,n,r);if(0===i)break;let o=rG(t,n,r)-e;t-=o/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){let o,a;let s=0;do(o=rG(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a;while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+.1,e,n)}(o),t,r)}(t[0],t[1],t[2],t[3])}return"string"==typeof e?(e9(void 0!==rW[e],"Invalid easing type '".concat(e,"'")),rW[e]):e},rY=function(e,t){return"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&rs.test(t)&&!t.startsWith("url("))},r$=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},rX=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},rJ=function(){return{type:"keyframes",ease:"linear",duration:.3}},r0=function(e){return{type:"keyframes",duration:.8,values:e}},r1={x:r$,y:r$,z:r$,rotate:r$,rotateX:r$,rotateY:r$,rotateZ:r$,scaleX:rX,scaleY:rX,scale:rX,opacity:rJ,backgroundColor:rJ,color:rJ,default:rX},r2=function(e,t){var n;return n=ni(t)?r0:r1[e]||r1.default,(0,eI.__assign)({to:t},n(t))};let r4=new Set(["brightness","contrast","saturate","opacity"]);function r3(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(tO)||[];if(!r)return e;let i=n.replace(r,""),o=r4.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}let r5=/([a-z-]*)\(.*?\)/g,r6=Object.assign(Object.assign({},rs),{getAnimatableNone:e=>{let t=e.match(r5);return t?t.map(r3).join(" "):e}});var r8=(0,eI.__assign)((0,eI.__assign)({},tW),{color:re,backgroundColor:re,outlineColor:re,fill:re,stroke:re,borderColor:re,borderTopColor:re,borderRightColor:re,borderBottomColor:re,borderLeftColor:re,filter:r6,WebkitFilter:r6}),r9=function(e){return r8[e]};function r7(e,t){var n,r=r9(e);return r!==r6&&(r=rs),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var ie=!1;function it(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function ir(e){return"number"==typeof e?0:r7("",e)}function ii(e,t){return e[t]||e.default||e}function io(e,t,n,r){return void 0===r&&(r={}),t.start(function(i){var o,a,s,u,c,l,A,d,f,h,p,g=(u=n,A=null!==(c=(l=ii(r,e)).from)&&void 0!==c?c:t.get(),d=rY(e,u),"none"===A&&d&&"string"==typeof u?A=r7(e,u):it(A)&&"string"==typeof u?A=ir(u):!Array.isArray(u)&&it(u)&&"string"==typeof A&&(u=ir(A)),e8((f=rY(e,A))===d,"You are trying to animate ".concat(e,' from "').concat(A,'" to "').concat(u,'". ').concat(A," is not an animatable value - to enable this animation set ").concat(A," to a value animatable to ").concat(u," via the `style` property.")),f&&d&&!1!==l.type?function(){var n,r,o,a,s,c,d,f,h,p,g,v,m,y={from:A,to:u,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===l.type||"decay"===l.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:c,driver:l,onUpdate:A,onComplete:d,onStop:f}){let h;function p(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r?n:Math.abs(n-e)<Math.abs(r-e)?n:r}function v(e){null==h||h.stop(),h=rZ(Object.assign(Object.assign({},e),{driver:l,onUpdate:t=>{var n;null==A||A(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:d,onStop:f}))}function m(e){v(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:u},e))}if(p(e))m({from:e,velocity:t,to:g(e)});else{let r,a,s=i*t+e;void 0!==c&&(s=c(s));let l=g(s),A=l===n?-1:1;v({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:u,modifyTarget:c,onUpdate:p(s)?e=>{var n,i;r=a,a=e,n=e-r,t=(i=eV().delta)?1e3/i*n:0,(1===A&&e>l||-1===A&&e<l)&&m({from:e,to:l,velocity:t})}:void 0})}return{stop:()=>null==h?void 0:h.stop()}}((0,eI.__assign)((0,eI.__assign)({},y),l)):rZ((0,eI.__assign)((0,eI.__assign)({},(n=l,r=y,o=e,Array.isArray(r.to)&&(null!==(a=n.duration)&&void 0!==a||(n.duration=.8)),Array.isArray(r.to)&&null===r.to[0]&&(r.to=(0,eI.__spreadArray)([],(0,eI.__read)(r.to),!1),r.to[0]=r.from),(s=n).when,s.delay,s.delayChildren,s.staggerChildren,s.staggerDirection,s.repeat,s.repeatType,s.repeatDelay,s.from,Object.keys((0,eI.__rest)(s,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"])).length||(n=(0,eI.__assign)((0,eI.__assign)({},n),r2(o,r.to))),(0,eI.__assign)((0,eI.__assign)({},r),(d=(c=n).ease,f=c.times,h=c.yoyo,p=c.flip,g=c.loop,v=(0,eI.__rest)(c,["ease","times","yoyo","flip","loop"]),m=(0,eI.__assign)({},v),f&&(m.offset=f),v.duration&&(m.duration=rQ(v.duration)),v.repeatDelay&&(m.repeatDelay=rQ(v.repeatDelay)),d&&(m.ease=Array.isArray(d)&&"number"!=typeof d[0]?d.map(rq):rq(d)),"tween"===v.type&&(m.type="keyframes"),(h||g||p)&&(e8(!ie,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),ie=!0,h?m.repeatType="reverse":g?m.repeatType="loop":p&&(m.repeatType="mirror"),m.repeat=g||h||p||v.repeat),"spring"!==v.type&&(m.type="keyframes"),m)))),{onUpdate:function(e){var t;y.onUpdate(e),null===(t=l.onUpdate)||void 0===t||t.call(l,e)},onComplete:function(){var e;y.onComplete(),null===(e=l.onComplete)||void 0===e||e.call(l)}}))}:function(){var e,n,r=no(u);return t.set(r),i(),null===(e=null==l?void 0:l.onUpdate)||void 0===e||e.call(l,r),null===(n=null==l?void 0:l.onComplete)||void 0===n||n.call(l),{stop:function(){}}}),v=null!==(s=null!==(a=(ii(o=r,e)||{}).delay)&&void 0!==a?a:o.delay)&&void 0!==s?s:0,m=function(){return p=g()};return v?h=window.setTimeout(m,rQ(v)):m(),function(){clearTimeout(h),null==p||p.stop()}})}function ia(e,t){-1===e.indexOf(t)&&e.push(t)}function is(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var iu=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return ia(this.subscriptions,e),function(){return is(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),ic=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new iu,this.velocityUpdateSubscribers=new iu,this.renderSubscribers=new iu,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=eV(),i=r.delta,o=r.timestamp;t.lastUpdated!==o&&(t.timeDelta=i,t.lastUpdated=o,eU.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return eU.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){var e,t;return this.canTrackVelocity?(e=parseFloat(this.current)-parseFloat(this.prev),(t=this.timeDelta)?1e3/t*e:0):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(n){t.hasAnimated=!0,t.stopAnimation=e(n)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function il(e){return new ic(e)}var iA=function(e){return function(t){return t.test(e)}},id=[tV,tj,tM,tU,tQ,tZ,{test:function(e){return"auto"===e},parse:function(e){return e}}],ih=function(e){return id.find(iA(e))},ip=(0,eI.__spreadArray)((0,eI.__spreadArray)([],(0,eI.__read)(id),!1),[re,rs],!1);function ig(e,t,n){void 0===n&&(n={});var r,i=tl(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return iv(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i,o,s,u,c,l,A,d=a.delayChildren;return i=(void 0===d?0:d)+r,o=a.staggerChildren,s=a.staggerDirection,u=n,void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=1),c=[],l=(e.variantChildren.size-1)*o,A=1===s?function(e){return void 0===e&&(e=0),e*o}:function(e){return void 0===e&&(e=0),l-e*o},Array.from(e.variantChildren).sort(im).forEach(function(e,n){c.push(ig(e,t,(0,eI.__assign)((0,eI.__assign)({},u),{delay:i+A(n)})).then(function(){return e.notifyAnimationComplete(t)}))}),Promise.all(c)}:function(){return Promise.resolve()},c=a.when;if(!c)return Promise.all([s(),u(n.delay)]);var l=(0,eI.__read)("beforeChildren"===c?[s,u]:[u,s],2),A=l[0],d=l[1];return A().then(d)}function iv(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),l=c.transition,A=void 0===l?e.getDefaultTransition():l,d=c.transitionEnd,f=(0,eI.__rest)(c,["transition","transitionEnd"]);s&&(A=s);var h=[],p=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var g in f){var v=e.getValue(g),m=f[g];if(!(!v||void 0===m||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,g))){var y=(0,eI.__assign)({delay:a},A);e.shouldReduceMotion&&tB(g)&&(y=(0,eI.__assign)((0,eI.__assign)({},y),{type:!1,delay:0}));var b=io(g,v,m,y);h.push(b)}}return Promise.all(h).then(function(){d&&function(e,t){var n=tl(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd;r.transition;var o=(0,eI.__rest)(r,["transitionEnd","transition"]);for(var a in o=(0,eI.__assign)((0,eI.__assign)({},o),void 0===i?{}:i)){var s=no(o[a]);e.hasValue(a)?e.getValue(a).set(s):e.addValue(a,il(s))}}(e,d)})}function im(e,t){return e.sortNodePosition(t)}var iy=[A.Animate,A.InView,A.Focus,A.Hover,A.Tap,A.Drag,A.Exit],ib=(0,eI.__spreadArray)([],(0,eI.__read)(iy),!1).reverse(),iw=iy.length;function i_(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var iE={animation:nP(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=function(e){var t,n=function(t){return Promise.all(t.map(function(t){return function(e,t,n){if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var r;r=Promise.all(t.map(function(t){return ig(e,t,n)}))}else if("string"==typeof t)r=ig(e,t,n);else{var i="function"==typeof t?tl(e,t,n.custom):t;r=iv(e,i,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}(e,t.animation,t.options)}))},r=((t={})[A.Animate]=i_(!0),t[A.InView]=i_(),t[A.Hover]=i_(),t[A.Tap]=i_(),t[A.Drag]=i_(),t[A.Focus]=i_(),t[A.Exit]=i_(),t),i={},o=!0,a=function(t,n){var r=tl(e,n);if(r){r.transition;var i=r.transitionEnd,o=(0,eI.__rest)(r,["transition","transitionEnd"]);t=(0,eI.__assign)((0,eI.__assign)((0,eI.__assign)({},t),o),i)}return t};function s(t,s){for(var u,c=e.getProps(),l=e.getVariantContext(!0)||{},A=[],d=new Set,f={},h=1/0,p=0;p<iw;p++)!function(n){var i,p=ib[n],g=r[p],v=null!==(u=c[p])&&void 0!==u?u:l[p],m=tu(v),y=p===s?g.isActive:null;!1===y&&(h=n);var b=v===l[p]&&v!==c[p]&&m;if(b&&o&&e.manuallyAnimateOnMount&&(b=!1),g.protectedKeys=(0,eI.__assign)({},f),!(!g.isActive&&null===y||!v&&!g.prevProp||nr(v))&&"boolean"!=typeof v){var w=(i=g.prevProp,"string"==typeof v?v!==i:!!ts(v)&&!nj(v,i)),_=w||p===s&&g.isActive&&!b&&m||n>h&&m,E=Array.isArray(v)?v:[v],C=E.reduce(a,{});!1===y&&(C={});var B=g.prevResolvedValues,I=void 0===B?{}:B,x=(0,eI.__assign)((0,eI.__assign)({},I),C),T=function(e){_=!0,d.delete(e),g.needsAnimating[e]=!0};for(var S in x){var k=C[S],N=I[S];f.hasOwnProperty(S)||(k!==N?ni(k)&&ni(N)?!nj(k,N)||w?T(S):g.protectedKeys[S]=!0:void 0!==k?T(S):d.add(S):void 0!==k&&d.has(S)?T(S):g.protectedKeys[S]=!0)}g.prevProp=v,g.prevResolvedValues=C,g.isActive&&(f=(0,eI.__assign)((0,eI.__assign)({},f),C)),o&&e.blockInitialAnimation&&(_=!1),_&&!b&&A.push.apply(A,(0,eI.__spreadArray)([],(0,eI.__read)(E.map(function(e){return{animation:e,options:(0,eI.__assign)({type:p},t)}})),!1))}}(p);if(i=(0,eI.__assign)({},f),d.size){var g={};d.forEach(function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)}),A.push({animation:g})}var v=!!A.length;return o&&!1===c.initial&&!e.manuallyAnimateOnMount&&(v=!1),o=!1,v?n(A):Promise.resolve()}return{isAnimated:function(e){return void 0!==i[e]},animateChanges:s,setActive:function(t,n,i){if(r[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;var o,a=s(i,t);for(var u in r)r[u].protectedKeys={};return a},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}(t)),nr(n)&&(0,y.useEffect)(function(){return n.subscribe(t)},[n])}),exit:nP(function(e){var t=e.custom,n=e.visualElement,r=(0,eI.__read)(nM(),2),i=r[0],o=r[1],a=(0,y.useContext)(eW);(0,y.useEffect)(function(){n.isPresent=i;var e,r,s=null===(e=n.animationState)||void 0===e?void 0:e.setActive(A.Exit,!i,{custom:null!==(r=null==a?void 0:a.custom)&&void 0!==r?r:t});i||null==s||s.then(o)},[i])})};let iC=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),iB=e=>iC(e)&&e.hasOwnProperty("z"),iI=(e,t)=>Math.abs(e-t);function ix(e,t){return ru(e)&&ru(t)?iI(e,t):iC(e)&&iC(t)?Math.sqrt(Math.pow(iI(e.x,t.x),2)+Math.pow(iI(e.y,t.y),2)+Math.pow(iB(e)&&iB(t)?iI(e.z,t.z):0,2)):void 0}var iT=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=iN(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=ix(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=eV().timestamp;r.history.push((0,eI.__assign)((0,eI.__assign)({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,u=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){if(r.lastMoveEvent=e,r.lastMoveEventInfo=iS(t,r.transformPagePoint),nf(e)&&0===e.buttons){r.handlePointerUp(e,t);return}eU.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=iN(iS(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!e.touches||!(e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=iS(np(e),this.transformPagePoint),a=o.point,s=eV().timestamp;this.history=[(0,eI.__assign)((0,eI.__assign)({},a),{timestamp:s})];var u=t.onSessionStart;u&&u(e,iN(o,this.history)),this.removeListeners=nk(nb(window,"pointermove",this.handlePointerMove),nb(window,"pointerup",this.handlePointerUp),nb(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),eM.update(this.updatePoint)},e}();function iS(e,t){return t?{point:t(e.point)}:e}function ik(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iN(e,t){var n=e.point;return{point:n,delta:ik(n,iD(t)),offset:ik(n,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=iD(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>rQ(.1)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function iD(e){return e[e.length-1]}function iO(e){return e.max-e.min}function iR(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),ix(e,t)<n}function iF(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=nq(t.min,t.max,e.origin),e.scale=iO(n)/iO(t),(iR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=nq(n.min,n.max,e.origin)-e.originPoint,(iR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function iL(e,t,n,r){iF(e.x,t.x,n.x,null==r?void 0:r.originX),iF(e.y,t.y,n.y,null==r?void 0:r.originY)}function iP(e,t,n){e.min=n.min+t.min,e.max=e.min+iO(t)}function iU(e,t,n){e.min=t.min-n.min,e.max=e.min+iO(t)}function iM(e,t,n){iU(e.x,t.x,n.x),iU(e.y,t.y,n.y)}function ij(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function iZ(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=(0,eI.__read)([i,r],2))[0],i=n[1]),{min:r,max:i}}function iQ(e,t,n){return{min:iH(e,t),max:iH(e,n)}}function iH(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}var iV=function(){return{translate:0,scale:1,origin:0,originPoint:0}},iK=function(){return{x:iV(),y:iV()}},iG=function(){return{min:0,max:0}},iz=function(){return{x:iG(),y:iG()}};function iW(e){return[e("x"),e("y")]}function iq(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function iY(e){return void 0===e||1===e}function i$(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!iY(t)||!iY(n)||!iY(r)}function iX(e){var t,n;return i$(e)||(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n||e.z||e.rotate||e.rotateX||e.rotateY}function iJ(e,t,n,r,i){return void 0!==i&&(e=r+i*(e-r)),r+n*(e-r)+t}function i0(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=iJ(e.min,t,n,r,i),e.max=iJ(e.max,t,n,r,i)}function i1(e,t){var n=t.x,r=t.y;i0(e.x,n.translate,n.scale,n.originPoint),i0(e.y,r.translate,r.scale,r.originPoint)}function i2(e,t){e.min=e.min+t,e.max=e.max+t}function i4(e,t,n){var r=(0,eI.__read)(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,u=nq(e.min,e.max,s);i0(e,t[i],t[o],u,t.scale)}var i3=["x","scaleX","originX"],i5=["y","scaleY","originY"];function i6(e,t){i4(e.x,t,i3),i4(e.y,t,i5)}function i8(e,t){return iq(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var i9=new WeakMap,i7=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iz(),this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new iT(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(np(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=nB(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),iW(function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(tM.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];o&&(i=iO(o)*(parseFloat(i)/100))}n.originPoint[e]=i}),null==s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(A.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u,c,l=t.offset;if(o&&null===n.currentDirection){n.currentDirection=(void 0===u&&(u=10),c=null,Math.abs(l.y)>u?c="y":Math.abs(l.x)>u&&(c="x"),c),null!==n.currentDirection&&(null==a||a(n.currentDirection));return}n.updateAxis("x",t.point,l),n.updateAxis("y",t.point,l),n.visualElement.syncRender(),null==s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(A.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&oe(e,r,this.currentDirection)){var i,o,a,s,u,c=this.getAxisMotionValue(e),l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=l,o=this.constraints[e],a=this.elastic[e],s=o.min,u=o.max,void 0!==s&&i<s?i=a?nq(s,i,a.min):Math.max(i,s):void 0!==u&&i>u&&(i=a?nq(u,i,a.max):Math.min(i,u)),l=i),c.set(l)}},e.prototype.resolveConstraints=function(){var e,t,n,r,i,o,a=this,s=this.getProps(),u=s.dragConstraints,c=s.dragElastic,l=(this.visualElement.projection||{}).layout,A=this.constraints;u&&ta(u)?this.constraints||(this.constraints=this.resolveRefConstraints()):u&&l?this.constraints=(e=l.actual,t=u.top,n=u.left,r=u.bottom,i=u.right,{x:ij(e.x,n,i),y:ij(e.y,t,r)}):this.constraints=!1,this.elastic=(void 0===(o=c)&&(o=.35),!1===o?o=0:!0===o&&(o=.35),{x:iQ(o,"left","right"),y:iQ(o,"top","bottom")}),A!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&iW(function(e){if(a.getAxisMotionValue(e)){var t,n,r;a.constraints[e]=(t=l.actual[e],n=a.constraints[e],r={},void 0!==n.min&&(r.min=n.min-t.min),void 0!==n.max&&(r.max=n.max-t.min),r)}})},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ta(t))return!1;var r=t.current;e9(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=(s=i.root,u=i8(r,this.visualElement.getTransformPagePoint()),(c=s.scroll)&&(i2(u.x,c.x),i2(u.y,c.y)),u),a={x:iZ((l=i.layout.actual).x,o.x),y:iZ(l.y,o.y)};if(n){var s,u,c,l,A,d,f,h=n((d=(A=a).x,{top:(f=A.y).min,right:d.max,bottom:f.max,left:d.min}));this.hasMutatedConstraints=!!h,h&&(a=iq(h))}return a},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{};return Promise.all(iW(function(n){if(oe(n,r,t.currentDirection)){var u,l=null!==(u=null==c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var A=(0,eI.__assign)((0,eI.__assign)({type:"inertia",velocity:i?e[n]:0,bounceStiffness:o?200:1e6,bounceDamping:o?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},a),l);return t.startAxisValueAnimation(n,A)}})).then(u)},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);return io(e,n,0,t)},e.prototype.stopAnimation=function(){var e=this;iW(function(t){return e.getAxisMotionValue(t).stop()})},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;iW(function(n){if(oe(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],a=o.min,s=o.max;i.set(e[n]-nq(a,s,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(ta(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};iW(function(e){var n=t.getAxisMotionValue(e);if(n){var r,i,o,s,u,c=n.get();a[e]=(r={min:c,max:c},i=t.constraints[e],o=.5,s=iO(r),(u=iO(i))>s?o=nW(i.min,i.max-s,r.min):s>u&&(o=nW(r.min,r.max-u,i.min)),nZ(0,1,o))}});var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),iW(function(e){if(oe(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(nq(o,s,a[e]))}})}},e.prototype.addListeners=function(){var e,t=this;i9.set(this.visualElement,this);var n=nb(this.visualElement.getInstance(),"pointerdown",function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)}),r=function(){ta(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var a=nA(window,"resize",function(){return t.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(iW(function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))}),t.visualElement.syncRender())}),function(){a(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=e.dragDirectionLock,r=e.dragPropagation,i=e.dragConstraints,o=e.dragElastic,a=e.dragMomentum;return(0,eI.__assign)((0,eI.__assign)({},e),{drag:void 0!==t&&t,dragDirectionLock:void 0!==n&&n,dragPropagation:void 0!==r&&r,dragConstraints:void 0!==i&&i,dragElastic:void 0===o?.35:o,dragMomentum:void 0===a||a})},e}();function oe(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var ot={pan:nP(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,o=e.visualElement,a=(0,y.useRef)(null),s=(0,y.useContext)(tn).transformPagePoint,u={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){a.current=null,r&&r(e,t)}};(0,y.useEffect)(function(){null!==a.current&&a.current.updateHandlers(u)}),nw(o,"pointerdown",(t||n||r||i)&&function(e){a.current=new iT(e,u,{transformPagePoint:s})}),e2(function(){return a.current&&a.current.end()})}),drag:nP(function(e){var t=e.dragControls,n=e.visualElement,r=eq(function(){return new i7(n)});(0,y.useEffect)(function(){return t&&t.subscribe(r)},[r,t]),(0,y.useEffect)(function(){return r.addListeners()},[r])})},on=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],or=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,A=e.scrapeMotionValuesFromProps;return function(e,t){var d,f,h,p,g,v=e.parent,m=e.props,y=e.presenceId,b=e.blockInitialAnimation,w=e.visualState,_=e.shouldReduceMotion;void 0===t&&(t={});var E=!1,C=w.latestValues,B=w.renderState,I=(d=on.map(function(){return new iu}),f={},h={clearAllListeners:function(){return d.forEach(function(e){return e.clear()})},updatePropListeners:function(e){on.forEach(function(t){var n,r="on"+t,i=e[r];null===(n=f[t])||void 0===n||n.call(f),i&&(f[t]=h[r](i))})}},d.forEach(function(e,t){h["on"+on[t]]=function(t){return e.add(t)},h["notify"+on[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,(0,eI.__spreadArray)([],(0,eI.__read)(t),!1))}}),h),x=new Map,T=new Map,S={},k=(0,eI.__assign)({},C);function N(){p&&E&&(D(),s(p,B,m.style,j.projection))}function D(){r(j,B,C,t,m)}function O(){I.notifyUpdate(C)}function R(e,t){var n=t.onChange(function(t){C[e]=t,m.onUpdate&&eU.update(O,!1,!0)}),r=t.onRenderRequest(j.scheduleRender);T.set(e,function(){n(),r()})}var F=A(m);for(var L in F){var P=F[L];void 0!==C[L]&&tT(P)&&P.set(C[L],!1)}var U=tA(m),M=td(m),j=(0,eI.__assign)((0,eI.__assign)({treeType:n,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:y,shouldReduceMotion:_,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(null==v?void 0:v.isMounted()),blockInitialAnimation:b,isMounted:function(){return!!p},mount:function(e){E=!0,p=j.current=e,j.projection&&j.projection.mount(e),M&&v&&!U&&(g=null==v?void 0:v.addVariantChild(j)),x.forEach(function(e,t){return R(t,e)}),null==v||v.children.add(j),j.setProps(m)},unmount:function(){var e;null===(e=j.projection)||void 0===e||e.unmount(),eM.update(O),eM.render(N),T.forEach(function(e){return e()}),null==g||g(),null==v||v.children.delete(j),I.clearAllListeners(),p=void 0,E=!1},addVariantChild:function(e){var t,n=j.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(j.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?j:null==v?void 0:v.getClosestVariantNode()},getLayoutId:function(){return m.layoutId},getInstance:function(){return p},getStaticValue:function(e){return C[e]},setStaticValue:function(e,t){return C[e]=t},getLatestValues:function(){return C},setVisibility:function(e){j.isVisible!==e&&(j.isVisible=e,j.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(j,e,m,t)},measureViewportBox:function(){return a(p,m)},addValue:function(e,t){j.hasValue(e)&&j.removeValue(e),x.set(e,t),C[e]=t.get(),R(e,t)},removeValue:function(e){var t;x.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete C[e],c(e,B)},hasValue:function(e){return x.has(e)},getValue:function(e,t){var n=x.get(e);return void 0===n&&void 0!==t&&(n=il(t),j.addValue(e,n)),n},forEachValue:function(e){return x.forEach(e)},readValue:function(e){var n;return null!==(n=C[e])&&void 0!==n?n:u(p,e,t)},setBaseTarget:function(e,t){k[e]=t},getBaseTarget:function(e){if(i){var t=i(m,e);if(void 0!==t&&!tT(t))return t}return k[e]}},I),{build:function(){return D(),B},scheduleRender:function(){eU.render(N,!1,!0)},syncRender:N,setProps:function(e){(e.transformTemplate||m.transformTemplate)&&j.scheduleRender(),m=e,I.updatePropListeners(e),S=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(tT(o))e.addValue(i,o);else if(tT(a))e.addValue(i,il(o));else if(a!==o){if(e.hasValue(i)){var s=e.getValue(i);s.hasAnimated||s.set(o)}else e.addValue(i,il(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(j,A(m),S)},getProps:function(){return m},getVariant:function(e){var t;return null===(t=m.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return m.transition},getTransformPagePoint:function(){return m.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==v?void 0:v.getVariantContext();if(!U){var t=(null==v?void 0:v.getVariantContext())||{};return void 0!==m.initial&&(t.initial=m.initial),t}for(var n={},r=0;r<oo;r++){var i=oi[r],o=m[i];(tu(o)||!1===o)&&(n[i]=o)}return n}});return j}},oi=(0,eI.__spreadArray)(["initial"],(0,eI.__read)(iy),!1),oo=oi.length;function oa(e){return"string"==typeof e&&e.startsWith("var(--")}var os=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ou(e,t,n){void 0===n&&(n=1),e9(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=(0,eI.__read)(function(e){var t=os.exec(e);if(!t)return[,];var n=(0,eI.__read)(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():oa(o)?ou(o,t,n+1):o}}var oc=new Set(["width","height","top","left","right","bottom","x","y"]),ol=function(e){return oc.has(e)},oA=function(e,t){e.set(t,!1),e.set(t)},od=function(e){return e===tV||e===tj};(l=d||(d={})).width="width",l.height="height",l.left="left",l.right="right",l.top="top",l.bottom="bottom";var of=function(e,t){return parseFloat(e.split(", ")[t])},oh=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return of(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?of(a[1],e):0}},op=new Set(["x","y","z"]),og=t_.filter(function(e){return!op.has(e)}),ov={width:function(e,t){var n=e.x,r=t.paddingLeft,i=t.paddingRight;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===i?"0":i)},height:function(e,t){var n=e.y,r=t.paddingTop,i=t.paddingBottom;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===i?"0":i)},top:function(e,t){return parseFloat(t.top)},left:function(e,t){return parseFloat(t.left)},bottom:function(e,t){var n=e.y;return parseFloat(t.top)+(n.max-n.min)},right:function(e,t){var n=e.x;return parseFloat(t.left)+(n.max-n.min)},x:oh(4,13),y:oh(5,14)},om=function(e,t,n){var r=t.measureViewportBox(),i=getComputedStyle(t.getInstance()),o=i.display,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(function(e){a[e]=ov[e](r,i)}),t.syncRender();var s=t.measureViewportBox();return n.forEach(function(n){oA(t.getValue(n),a[n]),e[n]=ov[n](s,i)}),e},oy=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=(0,eI.__assign)({},t),r=(0,eI.__assign)({},r);var i=Object.keys(t).filter(ol),o=[],a=!1,s=[];if(i.forEach(function(i){var u,c=e.getValue(i);if(e.hasValue(i)){var l=n[i],A=ih(l),d=t[i];if(ni(d)){var f=d.length,h=null===d[0]?1:0;A=ih(l=d[h]);for(var p=h;p<f;p++)u?e9(ih(d[p])===u,"All keyframes must be of the same type"):e9((u=ih(d[p]))===A||od(A)&&od(u),"Keyframes must be of the same dimension as the current value")}else u=ih(d);if(A!==u){if(od(A)&&od(u)){var g,v=c.get();"string"==typeof v&&c.set(parseFloat(v)),"string"==typeof d?t[i]=parseFloat(d):Array.isArray(d)&&u===tj&&(t[i]=d.map(parseFloat))}else(null==A?void 0:A.transform)&&(null==u?void 0:u.transform)&&(0===l||0===d)?0===l?c.set(u.transform(l)):t[i]=A.transform(d):(a||(g=[],og.forEach(function(t){var n=e.getValue(t);void 0!==n&&(g.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),g.length&&e.syncRender(),o=g,a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],oA(c,d))}}}),!s.length)return{target:t,transitionEnd:r};var u=s.indexOf("height")>=0?window.pageYOffset:null,c=om(t,e,s);return o.length&&o.forEach(function(t){var n=(0,eI.__read)(t,2),r=n[0],i=n[1];e.getValue(r).set(i)}),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}},ob=function(e,t,n,r){var i,o,a=function(e,t,n){var r,i=(0,eI.__rest)(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:n};for(var a in n&&(n=(0,eI.__assign)({},n)),e.forEachValue(function(e){var t=e.get();if(oa(t)){var n=ou(t,o);n&&e.set(n)}}),i){var s=i[a];if(oa(s)){var u=ou(s,o);u&&(i[a]=u,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return i=t=a.target,o=r=a.transitionEnd,Object.keys(i).some(ol)?oy(e,i,n,o):{target:i,transitionEnd:o}},ow={treeType:"dom",readValueFromInstance:function(e,t){if(tB(t)){var n=r9(t);return n&&n.default||0}var r=window.getComputedStyle(e);return(tk(t)?r.getPropertyValue(t):r[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return i8(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=(0,eI.__rest)(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!==(r=function(e,t){if(t)return(t[e]||t.default||t).from}(a,t))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,o,a=Object.keys(t).filter(function(t){return!e.hasValue(t)}),s=a.length;if(s)for(var u=0;u<s;u++){var c,l,A,d=a[u],f=t[d],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[d])&&void 0!==r?r:e.readValue(d))&&void 0!==i?i:t[d]),null!=h&&("string"==typeof h&&(c=h,/^\-?\d*\.?\d+$/.test(c)||(l=h,/^0[^.\s]+$/.test(l)))?h=parseFloat(h):(A=h,!ip.find(iA(A))&&rs.test(f)&&(h=r7(d,f))),e.addValue(d,il(h)),null!==(o=n[d])&&void 0!==o||(n[d]=h),e.setBaseTarget(d,h))}}(e,s,u);var c=ob(e,s,u,a);a=c.transitionEnd,s=c.target}return(0,eI.__assign)({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:nt,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),tq(t,n,r,i.transformTemplate)},render:t9},o_=or(ow),oE=or((0,eI.__assign)((0,eI.__assign)({},ow),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return tB(t)?(null===(n=r9(t))||void 0===n?void 0:n.default)||0:(t=t7.has(t)?t:t8(t),e.getAttribute(t))},scrapeMotionValuesFromProps:nn,build:function(e,t,n,r,i){t3(t,n,r,i.transformTemplate)},render:ne})),oC=function(e,t){return ty(e)?oE(t,{enableHardwareAcceleration:!1}):o_(t,{enableHardwareAcceleration:!0})};function oB(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var oI={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!tj.test(e))return e;e=parseFloat(e)}var n=oB(e,t.target.x),r=oB(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},ox="_$css",oT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,eI.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.visualElement,r=t.layoutGroup,i=t.switchLayoutGroup,o=t.layoutId,a=n.projection;Object.assign(tb,oS),a&&((null==r?void 0:r.group)&&r.group.add(a),(null==i?void 0:i.register)&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",function(){e.safeToRemove()}),a.setOptions((0,eI.__assign)((0,eI.__assign)({},a.options),{onExitComplete:function(){return e.safeToRemove()}}))),th.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s&&(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent===a||(a?s.promote():s.relegate()||eU.postRender(function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(y.Component),oS={borderRadius:(0,eI.__assign)((0,eI.__assign)({},oI),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:oI,borderTopRightRadius:oI,borderBottomLeftRadius:oI,borderBottomRightRadius:oI,boxShadow:{correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(os,function(e){return a.push(e),ox}));var s=rs.parse(e);if(s.length>5)return i;var u=rs.createTransformer(e),c="number"!=typeof s[0]?1:0,l=r.x.scale*n.x,A=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=A;var d=nq(l,A,.5);"number"==typeof s[2+c]&&(s[2+c]/=d),"number"==typeof s[3+c]&&(s[3+c]/=d);var f=u(s);if(o){var h=0;f=f.replace(ox,function(){var e=a[h];return h++,e})}return f}}},ok=["TopLeft","TopRight","BottomLeft","BottomRight"],oN=ok.length,oD=function(e){return"string"==typeof e?parseFloat(e):e},oO=function(e){return"number"==typeof e||tj.test(e)};function oR(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var oF=oP(0,.5,rI),oL=oP(.5,.95,rw);function oP(e,t,n){return function(r){return r<e?0:r>t?1:n(nW(e,t,r))}}function oU(e,t){e.min=t.min,e.max=t.max}function oM(e,t){oU(e.x,t.x),oU(e.y,t.y)}function oj(e,t,n,r,i){return e-=t,e=r+1/n*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function oZ(e,t,n,r,i){var o=(0,eI.__read)(n,3),a=o[0],s=o[1],u=o[2];!function(e,t,n,r,i,o,a){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===a&&(a=e),tM.test(t)&&(t=parseFloat(t),t=nq(a.min,a.max,t/100)-a.min),"number"==typeof t){var s=nq(o.min,o.max,r);e===o&&(s-=t),e.min=oj(e.min,t,n,s,i),e.max=oj(e.max,t,n,s,i)}}(e,t[a],t[s],t[u],t.scale,r,i)}var oQ=["x","scaleX","originX"],oH=["y","scaleY","originY"];function oV(e,t,n,r){oZ(e.x,t,oQ,null==n?void 0:n.x,null==r?void 0:r.x),oZ(e.y,t,oH,null==n?void 0:n.y,null==r?void 0:r.y)}function oK(e){return 0===e.translate&&1===e.scale}function oG(e){return oK(e.x)&&oK(e.y)}function oz(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var oW=function(){function e(){this.members=[]}return e.prototype.add=function(e){ia(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(is(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex(function(t){return e===t});if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)})},e.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();function oq(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(o+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),u&&(o+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(o+="scale(".concat(c,", ").concat(l,")"))?"none":o}var oY=function(e,t){return e.depth-t.depth},o$=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){ia(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){is(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(oY),this.isDirty=!1,this.children.forEach(e)},e}();function oX(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(o5),i.nodes.forEach(o6)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?(0,eI.__spreadArray)((0,eI.__spreadArray)([],(0,eI.__read)(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new iu),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,(0,eI.__spreadArray)([],(0,eI.__read)(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,o=i.layoutId,a=i.layout,s=i.visualElement;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(u=this.parent)||void 0===u||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(a||o)&&(this.isLayoutDirty=!0),t){var u,c,l=function(){return r.root.updateBlockedByResize=!1};t(e,function(){r.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),th.hasAnimatedSinceResize&&(th.hasAnimatedSinceResize=!1,r.nodes.forEach(o3))})}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||a)&&this.addEventListener("didUpdate",function(e){var t,n,i,o,a,u=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,A=e.layout;if(r.isTreeAnimationBlocked()){r.target=void 0,r.relativeTarget=void 0;return}var d=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:s.getDefaultTransition())&&void 0!==n?n:an,f=s.getProps(),h=f.onLayoutAnimationStart,p=f.onLayoutAnimationComplete,g=!r.targetLayout||!oz(r.targetLayout,A)||l,v=!c&&l;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||v||c&&(g||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(u,v);var m=(0,eI.__assign)((0,eI.__assign)({},ii(d,"layout")),{onPlay:h,onComplete:p});s.shouldReduceMotion&&(m.delay=0,m.type=!1),r.startAnimation(m)}else c||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(a=(o=r.options).onExitComplete)||void 0===a||a.call(o));r.targetLayout=A})}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,eM.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(o8))},e.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked()){null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t,n,r,i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,u=a.layout;if(void 0!==s||u){var c=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==c?void 0:c(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o2);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ar),this.potentialNodes.clear()),this.nodes.forEach(o4),this.nodes.forEach(oJ),this.nodes.forEach(o0),this.clearAllSnapshots(),ej.update(),ej.preRender(),ej.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(o1),this.sharedNodes.forEach(o9)},e.prototype.scheduleUpdateProjection=function(){eU.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;eU.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));ao(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e,t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();ao(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected=iz(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))},e.prototype.resetTransform=function(){if(o){var e,t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!oG(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null==r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(n||iX(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return iz();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(i2(t.x,n.x),i2(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t=iz();oM(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options,a=r.isScrollRoot;if(r!==this.root&&i&&o.layoutScroll){if(a){oM(t,e);var s=this.root.scroll;s&&(i2(t.x,-s.x),i2(t.y,-s.y))}i2(t.x,i.x),i2(t.y,i.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=iz();oM(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&i6(n,{x:-i.scroll.x,y:-i.scroll.y}),iX(i.latestValues)&&i6(n,i.latestValues)}return iX(this.latestValues)&&i6(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n=iz();oM(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&iX(i.latestValues)){i$(i.latestValues)&&i.updateSnapshot();var o=iz();oM(o,i.measure()),oV(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return iX(this.latestValues)&&oV(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=(0,eI.__assign)((0,eI.__assign)((0,eI.__assign)({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=iz(),this.relativeTargetOrigin=iz(),iM(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),oM(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=iz(),this.targetWithTransforms=iz()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(r=this.relativeParent)||void 0===r?void 0:r.target))?(e=this.target,t=this.relativeTarget,n=this.relativeParent.target,iP(e.x,t.x,n.x),iP(e.y,t.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):oM(this.target,this.layout.actual),i1(this.target,this.targetDelta)):oM(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=iz(),this.relativeTargetOrigin=iz(),iM(this.relativeTargetOrigin,this.target,this.relativeParent.target),oM(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(!(!this.parent||iX(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=!!((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();oM(this.layoutCorrected,this.layout.actual),function(e,t,n,r){void 0===r&&(r=!1);var i,o,a,s,u=n.length;if(u){t.x=t.y=1;for(var c=0;c<u;c++)s=(a=n[c]).projectionDelta,(null===(o=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&i6(e,{x:-a.scroll.x,y:-a.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,i1(e,s)),r&&iX(a.latestValues)&&i6(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta=iK(),this.projectionDeltaWithTransform=iK());var a=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;iL(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=oq(this.projectionDelta,this.treeScale),(this.projectionTransform!==u||this.treeScale.x!==a||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null==i?void 0:i.latestValues)||{},a=(0,eI.__assign)({},this.latestValues),s=iK();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u=iz(),c=null==i?void 0:i.isShared,l=1>=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0),A=!!(c&&!l&&!0===this.options.crossfade&&!this.path.some(at));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i,d,f=t/1e3;o7(s.x,e.x,f),o7(s.y,e.y,f),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(d=r.relativeParent)||void 0===d?void 0:d.layout)&&(iM(u,r.layout.actual,r.relativeParent.layout.actual),n=r.relativeTarget,i=r.relativeTargetOrigin,ae(n.x,i.x,u.x,f),ae(n.y,i.y,u.y,f)),c&&(r.animationValues=a,function(e,t,n,r,i,o){var a,s,u,c;i?(e.opacity=nq(0,null!==(a=n.opacity)&&void 0!==a?a:1,oF(r)),e.opacityExit=nq(null!==(s=t.opacity)&&void 0!==s?s:1,0,oL(r))):o&&(e.opacity=nq(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<oN;l++){var A="border".concat(ok[l],"Radius"),d=oR(t,A),f=oR(n,A);(void 0!==d||void 0!==f)&&(d||(d=0),f||(f=0),0===d||0===f||oO(d)===oO(f)?(e[A]=Math.max(nq(oD(d),oD(f),r),0),(tM.test(f)||tM.test(d))&&(e[A]+="%")):e[A]=f)}(t.rotate||n.rotate)&&(e.rotate=nq(t.rotate||0,n.rotate||0,r))}(a,o,r.latestValues,f,A,l)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=f},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(eM.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eU.update(function(){var t,n;th.hasAnimatedSinceResize=!0,r.currentAnimation=(void 0===(t=(0,eI.__assign)((0,eI.__assign)({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}}))&&(t={}),io("",n=tT(0)?0:il(0),1e3,t),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0})},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(oM(t,n),i6(t,i),iL(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new oW),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<tw.length;r++){var i="rotate"+tw[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){void 0===e&&(e={});var t,n,r,i,o,a,s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=na(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=na(e.pointerEvents)||""),this.hasProjected&&!iX(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1),l}var A=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=oq(this.projectionDeltaWithTransform,this.treeScale,A),u&&(s.transform=u(A,s.transform));var d=this.projectionDelta,f=d.x,h=d.y;for(var p in s.transformOrigin="".concat(100*f.origin,"% ").concat(100*h.origin,"% 0"),c.animationValues?s.opacity=c===this?null!==(i=null!==(r=A.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:s.opacity=c===this?null!==(o=A.opacity)&&void 0!==o?o:"":null!==(a=A.opacityExit)&&void 0!==a?a:0,tb)if(void 0!==A[p]){var g=tb[p],v=g.correct,m=g.applyTo,y=v(A[p],c);if(m)for(var b=m.length,w=0;w<b;w++)s[m[w]]=y;else s[p]=y}return this.options.layoutId&&(s.pointerEvents=c===this?na(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach(function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(o2),this.root.sharedNodes.clear()},e}()}function oJ(e){e.updateLayout()}function o0(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,u=a.measured;"size"===e.options.animationType?iW(function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=iO(t);t.min=s[e].min,t.max=t.min+n}):"position"===e.options.animationType&&iW(function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=iO(s[e]);t.max=t.min+n});var c=iK();iL(c,s,o.layout);var l=iK();o.isShared?iL(l,e.applyTransform(u,!0),o.measured):iL(l,s,o.layout);var A=!oG(c),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var f=e.relativeParent,h=f.snapshot,p=f.layout;if(h&&p){var g=iz();iM(g,o.layout,h.layout);var v=iz();iM(v,s,p.actual),oz(g,v)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:l,layoutDelta:c,hasLayoutChanged:A,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function o1(e){e.clearSnapshot()}function o2(e){e.clearMeasurements()}function o4(e){var t=e.options.visualElement;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function o3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function o5(e){e.resolveTargetDelta()}function o6(e){e.calcProjection()}function o8(e){e.resetRotation()}function o9(e){e.removeLeadSnapshot()}function o7(e,t,n){e.translate=nq(t.translate,0,n),e.scale=nq(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ae(e,t,n,r){e.min=nq(t.min,n.min,r),e.max=nq(t.max,n.max,r)}function at(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var an={duration:.45,ease:[.4,0,.1,1]};function ar(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(e.path[r].instance){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function ai(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ao(e){ai(e.x),ai(e.y)}var aa=oX({attachResizeListener:function(e,t){return nA(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),as={current:void 0},au=oX({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!as.current){var e=new aa(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),as.current=e}return as.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"},checkIsScrollRoot:function(e){return"fixed"===window.getComputedStyle(e).position}}),ac=(0,eI.__assign)((0,eI.__assign)((0,eI.__assign)((0,eI.__assign)({},iE),nU),ot),{measureLayout:function(e){var t=(0,eI.__read)(nM(),2),n=t[0],r=t[1],i=(0,y.useContext)(e1);return y.createElement(oT,(0,eI.__assign)({},e,{layoutGroup:i,switchLayoutGroup:(0,y.useContext)(tg),isPresent:n,safeToRemove:r}))}}),al=/*@__PURE__*/function(e){function t(t,n){var r,i,o,a,s,u,c;return void 0===n&&(n={}),i=(r=e(t,n)).preloadedFeatures,o=r.createVisualElement,a=r.projectionNodeConstructor,s=r.useRender,u=r.useVisualState,c=r.Component,i&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?e6.projectionNodeConstructor=e[t]:e6[t].Component=e[t])}(i),(0,y.forwardRef)(function(e,t){var n,r,l,A,d,f,h,p,g,v,m,b,w,_,E,C,B,I,x,T,S,k,N,D,O,R,F,L=(b=e.layoutId,(w=null===(m=(0,y.useContext)(e1))||void 0===m?void 0:m.id)&&void 0!==b?w+"-"+b:b);e=(0,eI.__assign)((0,eI.__assign)({},e),{layoutId:L});var P=(0,y.useContext)(tn),U=null,M=(E=(_=function(e,t){if(tA(e)){var n=e.initial,r=e.animate;return{initial:!1===n||tu(n)?n:void 0,animate:tu(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,y.useContext)(tr))).initial,C=_.animate,(0,y.useMemo)(function(){return{initial:E,animate:C}},[tf(E),tf(C)])),j=P.isStatic?void 0:eq(function(){if(th.hasEverUpdated)return tp++}),Z=u(e,P.isStatic);return!P.isStatic&&eK&&(M.visualElement=(B=(0,eI.__assign)((0,eI.__assign)({},P),e),I=o,x=(0,y.useContext)(e7),T=(0,y.useContext)(tr).visualElement,S=(0,y.useContext)(eW),to||function(){if(to=!0,eK){if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return ti.current=e.matches};e.addListener(t),t()}else ti.current=!1}}(),k=(0,eI.__read)((0,y.useState)(ti.current),1)[0],D="never"!==(N=(0,y.useContext)(tn).reducedMotion)&&("always"===N||k),O=(0,y.useRef)(void 0),I||(I=x.renderer),!O.current&&I&&(O.current=I(c,{visualState:Z,parent:T,props:B,presenceId:null==S?void 0:S.id,blockInitialAnimation:(null==S?void 0:S.initial)===!1,shouldReduceMotion:D})),R=O.current,eG(function(){null==R||R.syncRender()}),(0,y.useEffect)(function(){var e;null===(e=null==R?void 0:R.animationState)||void 0===e||e.animateChanges()}),eG(function(){return function(){return null==R?void 0:R.notifyUnmount()}},[]),R),n=e,r=M.visualElement,l=a||e6.projectionNodeConstructor,d=n.layoutId,f=n.layout,h=n.drag,p=n.dragConstraints,g=n.layoutScroll,v=(0,y.useContext)(tg),!l||!r||(null==r?void 0:r.projection)||(r.projection=new l(j,r.getLatestValues(),null===(A=r.parent)||void 0===A?void 0:A.projection),r.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!h||p&&ta(p),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:"string"==typeof f?f:"both",initialPromotionConfig:v,layoutScroll:g})),U=function(e,t,n){var r=[],i=(0,y.useContext)(e7);if(!t)return null;"production"!==eT&&n&&i.strict&&e9(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var o=0;o<tt;o++){var a=te[o],s=e6[a],u=s.isEnabled,c=s.Component;u(e)&&c&&r.push(y.createElement(c,(0,eI.__assign)({key:a},e,{visualElement:t})))}return r}(e,M.visualElement,i)),y.createElement(tv,{visualElement:M.visualElement,props:(0,eI.__assign)((0,eI.__assign)({},P),e)},U,y.createElement(tr.Provider,{value:M},s(c,e,j,(F=M.visualElement,(0,y.useCallback)(function(e){var n;e&&(null===(n=Z.mount)||void 0===n||n.call(Z,e)),F&&(e?F.mount(e):F.unmount()),t&&("function"==typeof t?t(e):ta(t)&&(t.current=e))},[F])),Z,P.isStatic,M.visualElement)))})}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}(function(e,t){var n,r,i;return n=t.forwardMotionProps,r=ty(e)?nc:nl,(0,eI.__assign)((0,eI.__assign)({},r),{preloadedFeatures:ac,useRender:(void 0===(i=void 0!==n&&n)&&(i=!1),function(e,t,n,r,o,a){var s=o.latestValues,u=(ty(e)?function(e,t){var n=(0,y.useMemo)(function(){var n=t5();return t3(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,eI.__assign)((0,eI.__assign)({},n.attrs),{style:(0,eI.__assign)({},n.style)})},[t]);if(e.style){var r={};t$(r,e.style,e),n.style=(0,eI.__assign)((0,eI.__assign)({},r),n.style)}return n}:function(e,t,n){var r,i,o={},a=(t$(r={},e.style||{},e),Object.assign(r,(i=e.transformTemplate,(0,y.useMemo)(function(){var e=tY();tq(e,t,{enableHardwareAcceleration:!n},i);var r=e.vars,o=e.style;return(0,eI.__assign)((0,eI.__assign)({},r),o)},[t]))),e.transformValues&&(r=e.transformValues(r)),r);return e.drag&&!1!==e.dragListener&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),o.style=a,o})(t,s,a),c=function(e,t,n){var r={};for(var i in e)(t0(i)||!0===n&&tJ(i)||!t&&!tJ(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,i),l=(0,eI.__assign)((0,eI.__assign)((0,eI.__assign)({},c),u),{ref:r});return n&&(l["data-projection-id"]=n),(0,y.createElement)(e,l)}),createVisualElement:oC,projectionNodeConstructor:au,Component:e})}),aA=n(98537),ad=/*#__PURE__*/n.n(aA),af=[.4,0,1,1],ah=[0,0,.2,1],ap={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return{opacity:0,transition:{duration:null!==(f=null==e?void 0:e.exitDuration)&&void 0!==f?f:.1,ease:ah}}},enter:function(e){return{opacity:1,transition:{delay:null!==(h=null==e?void 0:e.enterDelay)&&void 0!==h?h:0,duration:null!==(p=null==e?void 0:e.enterDuration)&&void 0!==p?p:.1,ease:af}}}}},ag=/*#__PURE__*/(0,y.forwardRef)(function(e,t){var n=e.unmountOnExit,r=e.in,i=e.className,o=e.enterDelay,a=e.enterDuration,s=e.exitDuration,u=e.variants,c=e.onExitComplete,l=(0,eB.Z)(e,["unmountOnExit","in","className","enterDelay","enterDuration","exitDuration","variants","onExitComplete"]),A={enterDuration:a,exitDuration:s,enterDelay:void 0===o?0:o},d=(0,v.Z)((0,g.Z)({},ap),{custom:ad()(ap.custom,A)});return/*#__PURE__*/(0,m.jsx)(e3,{custom:A,onExitComplete:c,children:(!n||r&&n)&&/*#__PURE__*/(0,m.jsx)(al.div,(0,g.Z)((0,v.Z)((0,g.Z)({ref:t,className:"".concat(i||""," po1"),variants:u},d),{animate:r||n?"enter":"exit"}),l))})});ag.displayName="Fade";var av=n(27196),am=function(e){var t=e.ref,n=e.handler,r=e.isEnabled,i=(0,av.W6)(n),o=(0,y.useRef)({isEnabled:void 0===r||r}),a=o.current;return(0,y.useEffect)(function(){var r=function(r){n&&t.current&&a.isEnabled&&function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t.current)return!1;var r=e.target;if(n&&e.button>0)return!1;if(r){var i=r.ownerDocument;if(!i||!i.body.contains(r))return!1}return!t.current.contains(r)}(r,t,e.ignoreContextMenu)&&i(r)};return document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),function(){document.removeEventListener("mousedown",r,!0),document.removeEventListener("touchstart",r,!0)}},[n,e.ignoreContextMenu,t,a]),o},ay=n(3635),ab=n(16593),aw=/*#__PURE__*/n.n(ab),a_=n(46453),aE={strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,10]}}]},aC=[],aB=function(e){aC.push(e)},aI=function(e){var t=aC.indexOf(e);-1!==t&&aC.splice(t,1)},ax=function(){return aC},aT=function(e){var t,n=e.zIndex,r=e.onHide,i=e.onClick,o=e.children,a=e.className,s=e.targetNode,u=e.onOverflow,c=e.enterDelay,l=e.disableArrow,A=e.enterDuration,d=e.arrowClassName,f=e.onExitComplete,h=e.visible,p=e.animationClassName,b=e.shouldUseDomObserver,w=e.renderInPortal,_=e.stayOpenOnOutsideClick,E=e.closeOnOtherPopperClick,C=e.style,B=e.ignoreClicksOnTargetNode,I=e.popperDataAttributes,x=e.placement,T=void 0===x?"bottom-start":x,S=e.shouldUseDomObserverOnTarget,k=e.popperProps,N=void 0===k?aE:k,D=(0,y.useState)(null),O=D[0],R=D[1],F=eC(s,O,(0,g.Z)({placement:T},N)),L=F.styles,P=F.attributes,U=F.state,M=F.forceUpdate;if((0,y.useEffect)(function(){if(M&&(b&&O||S&&s)){var e=new MutationObserver(M);return b&&e.observe(O,{childList:!0,subtree:!0}),S&&e.observe(s,{attributes:!0}),function(){return e.disconnect()}}},[O,s,M,b,S]),(0,y.useEffect)(function(){if(s&&null!==U&&u){var e=eo(U,(0,g.Z)({placement:T},N));(e.bottom>0||e.top>0||e.left>0||e.right>0)&&u(e)}},[s,U]),(0,y.useEffect)(function(){if(O)return aB(O),function(){aI(O)}},[O]),am({ref:{current:O},handler:(0,y.useCallback)(function(e){if(h){var t=null==s?void 0:s.contains(e.target);(!B||!t)&&(!_||t)&&(E||aC.every(function(t){return!t.contains(e.target)}))&&(null==r||r(e))}},[h,B,s,E,r,_]),isEnabled:!0,ignoreContextMenu:!1}),(0,y.useEffect)(function(){O&&(null==M||M())},[O,M]),!s)return null;var j=!l&&!!(null===(t=N.modifiers)||void 0===t?void 0:t.length),Z=/*#__PURE__*/(0,m.jsx)(ag,{in:h,unmountOnExit:!0,style:{zIndex:n},enterDelay:c,enterDuration:A,onExitComplete:f,className:(0,ay.Z)(aw().fade,p),children:/*#__PURE__*/(0,m.jsxs)("div",(0,v.Z)((0,g.Z)((0,v.Z)((0,g.Z)({onClick:i,ref:R},void 0===I?{}:I),{className:(0,ay.Z)(aw().popper,a),style:(0,g.Z)({},L.popper,void 0===C?{}:C)}),P.popper),{children:[j&&/*#__PURE__*/(0,m.jsx)("div",{"data-popper-arrow":!0,style:L.arrow,className:(0,ay.Z)(aw().arrow,d)}),o]}))});return void 0===w||w?/*#__PURE__*/(0,m.jsx)(a_.k,{children:Z}):Z}},46453:function(e,t,n){"use strict";n.d(t,{k:function(){return s}}),n(52322);var r,i=n(2784),o=n(28316),a=n(71059),s=(r="popper-root",function(e){var t=e.children,n=(0,i.useRef)(null),s=(0,i.useState)(!1),u=s[0],c=s[1];return(0,a.Z)(function(){n.current=document.getElementById(r),n.current&&c(!0)},[]),u?/*#__PURE__*/(0,o.createPortal)(t,n.current):null})},47330:function(e,t,n){"use strict";n.d(t,{K:function(){return r.KL}});var r=n(47814);t.Z=r.ZP},28563:function(e,t,n){"use strict";n.d(t,{_:function(){return o},Z:function(){return B}});var r,i,o,a=n(70865),s=n(96670),u=n(26297),c=n(52322),l=n(2784);function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var d=function(e){return /*#__PURE__*/l.createElement("svg",A({width:12,height:9,viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=/*#__PURE__*/l.createElement("path",{d:"M.8 4.6l3.6 3.6 6.8-6.8",fill:"none",stroke:"currentColor",strokeLinecap:"square"})))},f=n(88404),h=n(75426),p=n(3635),g=n(59211),v=/*#__PURE__*/n.n(g),m=n(4742),y=/*#__PURE__*/n.n(m),b=n(51992),w=n(95114),_=function(){var e=(0,w.Z)(function(){return y()([100,125,150])});return/*#__PURE__*/(0,c.jsx)(b.yB,{color:"var(--grey-500) !important",highlightColor:"var(--grey-400) !important",children:/*#__PURE__*/(0,c.jsx)(b.ZP,{count:1,width:e,height:14})})},E=n(55499);(r=o||(o={})).Primary="primary",r.Grey="grey";var C=/*#__PURE__*/(0,l.forwardRef)(function(e,t){var n=e.href,r=e.icon,i=e.label,A=e.onClick,g=e.asyncOnClick,m=e.children,y=e.className,b=e.explanation,w=e.asCheckbox,C=e.isSelected,B=e.selectionVariant,I=void 0===B?o.Primary:B,x=e.rightElement,T=e.activeClassName,S=e.isLoading,k=void 0!==S&&S,N=e.isDisabled,D=void 0!==N&&N,O=e.preventDefault,R=void 0===O||O,F=e.focusOnMouseEnter,L=void 0===F||F,P=e.focusSelectedOnMount,U=void 0===P||P,M=e.stayOpenOnClick,j=void 0!==M&&M,Z=(0,u.Z)(e,["href","icon","label","onClick","asyncOnClick","children","className","explanation","asCheckbox","isSelected","selectionVariant","rightElement","activeClassName","isLoading","isDisabled","preventDefault","focusOnMouseEnter","focusSelectedOnMount","stayOpenOnClick"]),Q=(0,l.useRef)(null);(0,l.useImperativeHandle)(t,function(){return Q.current});var H=(0,l.useContext)(E.c),V=H.setTarget,K=H.parentMenu,G=H.closeThisMenu,z=H.isTopLevel,W=(0,l.useState)(!1),q=W[0],Y=W[1];(0,l.useEffect)(function(){U&&Q.current&&C&&Q.current.focus()},[U,C]);var $=(0,l.useCallback)(function(e){if((R||w||j)&&(e.preventDefault(),e.stopPropagation()),!D){n&&window.open(n,"_blank","noreferrer noopener");var t=function(){w||j||(null==V||V(void 0),null==G||G(),K&&!z&&K.closeThisMenu())};null==A||A(e),"function"==typeof g?(Y(!0),g(e).finally(function(){Y(!1),t()})):t()}},[R,D,n,A,w,V,K,g,G,z,j]),X=(0,l.useCallback)(function(){var e;L&&(null===(e=Q.current)||void 0===e||e.focus())},[L]),J=(0,l.useCallback)(function(){var e;L&&(null===(e=Q.current)||void 0===e||e.blur())},[L]),ee=!!(r||w);return k?/*#__PURE__*/(0,c.jsx)("span",{className:(0,p.Z)(v().option,k&&v().isLoading,y),children:/*#__PURE__*/(0,c.jsx)(_,{})}):/*#__PURE__*/(0,c.jsxs)("button",(0,s.Z)((0,a.Z)({type:"button",ref:Q,className:(0,p.Z)(v().option,w&&v().checkbox,D&&v().disabled,C&&v().selected,C&&(null!=T?T:v()["selected-".concat(I)]),!!b&&v().paddingLarge,y),onMouseEnter:X,onMouseLeave:J,onClick:$,tabIndex:-1,disabled:D||q},Z),{children:[/*#__PURE__*/(0,c.jsxs)("span",{className:v().row,children:[ee?/*#__PURE__*/(0,c.jsx)("span",{className:v().icon,children:w?/*#__PURE__*/(0,c.jsx)(f.J,{icon:d}):r}):null,/*#__PURE__*/(0,c.jsx)("span",{className:v().content,children:m||i}),x&&!q?/*#__PURE__*/(0,c.jsx)("span",{className:(0,p.Z)(v().right,"rowCentered"),children:x}):null,q?/*#__PURE__*/(0,c.jsx)(h.Z,{className:v().right}):null]}),b?/*#__PURE__*/(0,c.jsx)("span",{className:(0,p.Z)(v().explanation,ee&&v().marginLeft),children:b}):null]}))});C.displayName="Option";var B=Object.assign(C,{SelectionVariants:o})},55499:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=(0,n(2784).createContext)({setTarget:function(){return!1},closeThisMenu:function(){},closeWithTimeout:function(){},closeDescendentPopups:function(){},getDescendantPopups:function(){return[]},showModal:function(){}})},62866:function(e,t,n){"use strict";n.d(t,{Wx:function(){return y.Z},GI:function(){return x},QR:function(){return I}});var r=n(52322),i=n(2784),o=n(80498),a=n(70865),s=n(96670),u=n(26297),c=n(50930),l=n(47330),A=n(3635),d=n(87042),f=/*#__PURE__*/n.n(d),h=n(55499),p={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")?[10,10]:t.endsWith("start")?[-10,10]:[0,10]}}},{name:"arrow",options:{padding:0}}]},g={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")||t.endsWith("start"),[0,10]}}},{name:"arrow",options:{padding:0}}]},v={modifiers:[{name:"offset",options:{offset:[-5,10]}},{name:"arrow",options:{padding:0}}]},m=function(e){var t=e.children,n=e.disableArrow,o=e.className,d=e.popperProps,m=(0,u.Z)(e,["children","disableArrow","className","popperProps"]),y=(0,i.useContext)(h.c),b=y.target,w=y.closeWithTimeout,_=y.isTopLevel,E=y.onOverflow,C=(0,i.useMemo)(function(){var e,t=_?n?g:p:v,r=_?"bottom-start":"right-start";return(0,s.Z)((0,a.Z)({},t),{strategy:null==d?void 0:d.strategy,placement:null!==(e=null==d?void 0:d.placement)&&void 0!==e?e:r,modifiers:(0,c.Z)((null==t?void 0:t.modifiers)||[]).concat((0,c.Z)((null==d?void 0:d.modifiers)||[]))})},[_,n,null==d?void 0:d.strategy,null==d?void 0:d.modifiers,null==d?void 0:d.placement]);return/*#__PURE__*/(0,r.jsx)(l.Z,(0,s.Z)((0,a.Z)({className:(0,A.Z)(f().menu,o,_&&f().isSubmenu),popperProps:C,onOverflow:E,closeOnOtherPopperClick:!_},m),{targetNode:b||null,visible:!!b,onHide:w,disableArrow:n,children:t}))};m.displayName="Popup.Menu";var y=n(28563),b=n(42838),w=n(33484),_=n(47814),E=n(9107),C=/*#__PURE__*/(0,i.forwardRef)(function(e,t){var n=e.className,o=e.onClick,c=e.isDisabled,l=e.openOnClick,d=(0,u.Z)(e,["className","onClick","isDisabled","openOnClick"]),p=(0,i.useRef)(!0),g=(0,i.useRef)(null),v=(0,E.Z)(g,t),m=(0,i.useContext)(h.c),y=m.setTarget,C=m.target,B=m.isTopLevel,I=m.closeThisMenu,x=m.parentMenu,T=m.controller,S=(0,w.f)();(0,i.useEffect)(function(){if(!B){var e,t=(0,_.uw)(),n=g.current&&t.find(function(e){return e.contains(g.current)}),r=function(r){clearTimeout(e);var i,o=r.target;if((0,b.Z)(o,HTMLElement)){var a=t.find(function(e){return e.contains(o)}),s=C===g.current;if(n===a||s){var u=T&&t.some(function(e){return e.contains(o)&&e!==n});if((null===(i=g.current)||void 0===i?void 0:i.contains(o))||u){clearTimeout(e),s||k();return}s&&(clearTimeout(e),e=setTimeout(function(){I(),null==x||x.closeDescendentPopups()},50))}}};return window.addEventListener("mousemove",r),function(){window.removeEventListener("mousemove",r)}}},[I,B,x,C,g,T]),(0,i.useEffect)(function(){if(p.current){p.current=!1;return}(null==T?void 0:T.openPopup)&&g.current&&y(g.current)},[null==T?void 0:T.openPopup]);var k=(0,i.useCallback)(function(){g.current!==C&&(null==x||x.closeDescendentPopups(T),setTimeout(function(){y(g.current)},0))},[T,x,y,C,g]),N=(0,i.useCallback)(function(e){e.preventDefault(),!c&&(B||l||S)&&(o?o(e):(C?I():k(),e.stopPropagation()))},[B,S,c,o,C,I,l,k]),D=(0,i.useCallback)(function(){var e;null==g||null===(e=g.current)||void 0===e||e.blur()},[]),O=(0,i.useCallback)(function(e){c||"Enter"!==e.key&&" "!==e.key||N(e)},[c,N]);return/*#__PURE__*/(0,r.jsx)("span",(0,s.Z)((0,a.Z)({},d),{ref:v,role:"button",tabIndex:0,onClick:N,onMouseLeave:D,onKeyPress:O,className:(0,A.Z)(f().toggler,C&&"popupOpen",c&&f().disabled,n)}))});function B(e){var t=(0,i.useState)(1),n=t[0],r=t[1];return(0,i.useCallback)(function(t){!0!==t&&r(function(e){return e+1}),e()},[n])}C.displayName="Popup.Toggle";var I=function(){var e=(0,o.Z)(),t=e.onOpen,n=e.isOpen,r=B(e.onClose),a=B(t);return(0,i.useMemo)(function(){return{isOpen:n,closePopup:r,openPopup:a}},[n,r,a])},x=function(e){var t=e.children,n=e.displayRefOverride,o=e.onShow,a=e.onHide,s=e.controller,u=e.onOverflow,c=e.asNested,l=(0,i.useState)(),A=l[0],d=l[1],f=(0,i.useContext)(h.c),p=(0,i.useState)(),g=p[0],v=p[1],m=(0,i.useRef)([]),y=(0,i.useRef)(!0),b=(0,i.useRef)(),w=(0,i.useCallback)(function(e){b.current||d(e)},[]),_=(0,i.useCallback)(function(){w(void 0),clearTimeout(b.current),b.current=setTimeout(function(){b.current=void 0},250)},[w]);(0,i.useEffect)(function(){!y.current&&(null==s?void 0:s.closePopup)&&w(void 0)},[null==s?void 0:s.closePopup,w]),(0,i.useEffect)(function(){if(y.current){y.current=!1;return}void 0===A?(m.current=[],a&&a(),s&&s.closePopup(!0)):(o&&o(),s&&s.openPopup(!0))},[A]);var E=(0,i.useCallback)(function(){return m.current},[]);(0,i.useLayoutEffect)(function(){(null==n?void 0:n.current)&&w(n.current)},[n,w]),(0,i.useEffect)(function(){if(A){var e=function(e){"Escape"!==e.key||E().length>0||(e.stopPropagation(),w(void 0))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[A,w,E]);var C=null!=c?!c:void 0===f.isTopLevel;return/*#__PURE__*/(0,r.jsxs)(h.c.Provider,{value:{target:A,setTarget:w,closeThisMenu:function(){return w(void 0)},closeWithTimeout:_,getDescendantPopups:E,closeDescendentPopups:function(e){var t=[];m.current.forEach(function(e){e.closePopup()}),e&&t.push(e),m.current=t},parentMenu:f,isTopLevel:C,controller:s,onOverflow:u,showModal:C?f.showModal:v},children:[t,g||null]})};x.Toggle=C,x.Menu=m,x.Option=y.Z,x.context=h.c},44498:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r=n(70865),i=n(52322),o=n(3635),a=n(88859),s=n(6956),u=/*#__PURE__*/n.n(s),c=function(e){var t=e.limit,n=e.current,s=e.useColor,c=e.className,l=e.fullColor,A=null!=l?l:"var(--red-primary)";if(t===a.fY)return null;var d=0,f={};return 0===t?(d=n>0?100:0,f=n>0?{backgroundColor:A}:{}):(d=n>=t?100:Math.round(n/t*100),f=n>=t?{backgroundColor:A}:{}),/*#__PURE__*/(0,i.jsx)("div",{className:(0,o.Z)(u().progressBar,c),children:/*#__PURE__*/(0,i.jsx)("div",{className:(0,o.Z)(u().progress,s&&u().withColor),style:(0,r.Z)({width:"".concat(d,"%")},f)})})}},35637:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(97848),a=n(88404),s=n(3635),u=n(96296),c=/*#__PURE__*/n.n(u),l=n(89563),A=n(22805);t.Z=function(e){var t=e.className,n=e.setSearchTerm,u=e.role,d=e.searchTerm,f=void 0===d?"":d,h=e.autoFocus,p=void 0!==h&&h,g=e.showShortcut,v=void 0!==g&&g,m=e.placeholder,y=(0,i.useRef)(null),b=(0,i.useCallback)(function(e){if("Escape"===e.key){var t,n;null===(t=y.current)||void 0===t||t.blur(),((null===(n=y.current)||void 0===n?void 0:n.value)||!p)&&e.stopPropagation()}},[p]);return(0,A.Z)({"/":v?function(e){var t;e.preventDefault(),e.stopPropagation(),null===(t=y.current)||void 0===t||t.focus()}:void 0}),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,s.Z)(c().searchContainer,t),children:[/*#__PURE__*/(0,r.jsx)(a.J,{icon:o.Z}),/*#__PURE__*/(0,r.jsx)("input",{type:"text",role:void 0===u?"Search":u,ref:y,value:f,autoFocus:p,placeholder:void 0===m?"Search":m,onKeyDown:b,onChange:function(e){return n(e.target.value)}}),v&&!f&&/*#__PURE__*/(0,r.jsx)("div",{className:c().shortcut,children:/*#__PURE__*/(0,r.jsx)(l.P,{keys:["/"]})})]})}},62451:function(e,t,n){"use strict";n.d(t,{$:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(43664),l=/*#__PURE__*/n.n(c),A=/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.thickness,s=e.speed,c=e.emptyColor,A=e.color,d=e.className,f=e.inline,h=e.fancy,p=(0,o.Z)(e,["thickness","speed","emptyColor","color","className","inline","fancy"]);return/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({},p),{ref:t,style:{borderWidth:n,borderBottomColor:c,borderLeftColor:c,animationDuration:s,color:A},className:(0,u.Z)(l().spinner,d,f&&l().inline,h&&l().fancySpinner)}))});A.displayName="Spinner",t.Z=A},75426:function(e,t,n){"use strict";var r=n(62451);t.Z=r.Z},79170:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(86588),c=n(3635),l=n(56706),A=/*#__PURE__*/n.n(l);t.Z=/*#__PURE__*/(0,s.memo)(/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.className,s=e.disabled,l=e.disabledTooltip,d=void 0===l?"":l,f=e.enabledTooltip,h=e.label,p=e.labelSide,g=(0,o.Z)(e,["className","disabled","disabledTooltip","enabledTooltip","label","labelSide"]),v=/*#__PURE__*/(0,a.jsxs)("label",{className:(0,c.Z)(A().switch,n,s&&A().disabled),children:[h&&"left"===p&&/*#__PURE__*/(0,a.jsx)("span",{className:(0,c.Z)(A().label,A().labelLeft),children:h}),/*#__PURE__*/(0,a.jsx)("input",(0,i.Z)((0,r.Z)({},g),{className:A().input,type:"checkbox",ref:t,disabled:s})),/*#__PURE__*/(0,a.jsx)("div",{className:A().presentation,children:/*#__PURE__*/(0,a.jsx)("span",{className:(0,c.Z)(A().slider,s&&A().disabled),children:/*#__PURE__*/(0,a.jsx)("span",{className:(0,c.Z)(A().sliderDot,s&&A().disabled)})})}),"left"!==p&&/*#__PURE__*/(0,a.jsx)("span",{className:A().label,children:h})]});return d||f?/*#__PURE__*/(0,a.jsx)(u.Z,{disabled:!s&&!f,text:s?d:null!=f?f:d,children:v}):v}))},50952:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(44784),l=n(97420),A=n(71059),d=n(9717),f=/*#__PURE__*/n.n(d);t.Z=/*#__PURE__*/(0,s.memo)(/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.name,d=e.label,h=e.explanation,p=e.autoGrow,g=e.error,v=e.width,m=e.touched,y=e.tooltip,b=e.required,w=e.disabled,_=e.className,E=e.fadeRightSide,C=e.labelClassNames,B=e.optional,I=e.height,x=e.onChangeValue,T=e.onCmdEnter,S=e.onKeyDown,k=e.onSlashCommand,N=e.children,D=(0,o.Z)(e,["name","label","explanation","autoGrow","error","width","touched","tooltip","required","disabled","className","fadeRightSide","labelClassNames","optional","height","onChangeValue","onCmdEnter","onKeyDown","onSlashCommand","children"]),O=(0,s.useRef)(null),R=(0,s.useRef)(null),F=!!g&&!1!==m,L=F?(0,c.lv)(g,n||"Field"):"",P=(0,s.useState)(!1),U=P[0],M=P[1],j=O.current;(0,A.Z)(function(){if(null!=D.onDrop&&j){var e=function(e){M(!0)},t=function(e){M(!1)};return j.addEventListener("dragover",e),j.addEventListener("dragleave",t),function(){j.removeEventListener("dragover",e),j.removeEventListener("dragleave",t)}}},[D.onDrop,j]);var Z=function(){var e=R.current;if(p&&e){e.style.height="auto";var t=e.scrollHeight,n=Math.max(p.minHeight,Math.min(t,p.maxHeight));e.style.height=n+"px"}};return(0,A.Z)(function(){D.value&&p&&Z()},[D.value,p]),/*#__PURE__*/(0,a.jsxs)(l.A,{label:d,style:{width:v},tooltip:y,ref:O,required:b,optional:B,labelClassNames:(0,i.Z)((0,r.Z)({},C),{root:(0,u.Z)(f().label,null==C?void 0:C.root,w&&f().disabled,E&&f().fadeRightSideOfInput)}),errorMessage:L,explanation:h,children:[/*#__PURE__*/(0,a.jsx)("textarea",(0,i.Z)((0,r.Z)({required:b,tabIndex:0,name:n},D),{onChange:function(e){var t=e.target.value,n=D.value||"";if(k&&t.length>n.length&&"/"===t.charAt(t.length-1)){var r,i,o=t.split("\n")[e.target.selectionStart?t.substring(0,e.target.selectionStart).split("\n").length-1:0];(null===(i=null==o?void 0:o.trim())||void 0===i?void 0:i.startsWith("/"))&&k()}null==x||x(t),null===(r=D.onChange)||void 0===r||r.call(D,e)},className:(0,u.Z)(f().textarea,_,!1!==F&&"hasError",U&&"dragOver"),ref:function(e){R.current=e,"function"==typeof t?t(e):t&&(t.current=e)},disabled:w,style:{height:I},onKeyDown:function(e){if(T&&"Enter"===e.key&&(e.metaKey||e.ctrlKey)){var t;e.preventDefault(),e.stopPropagation(),T(e),null===(t=R.current)||void 0===t||t.blur()}else S&&S(e)},onInput:Z})),N]})}))},7956:function(e,t,n){"use strict";var r=n(50952);t.Z=r.Z},89038:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r,i,o=n(98788),a=n(70865),s=n(96670),u=n(26297),c=n(22970),l=n(52322),A=n(2784),d=n(97420),f=n(3635),h=n(75203),p=n(29340),g=n(20954),v=n(51716),m=n(51390),y=n(89813),b=n(73149),w=/*#__PURE__*/n.n(b),_=n(44784);(r=i||(i={})).SMALL="small",r.MEDIUM="medium",r.LARGE="large";var E=/*#__PURE__*/(0,A.memo)(/*#__PURE__*/(0,A.forwardRef)(function(e,t){var n=e.label,r=e.error,b=e.explanation,E=e.width,C=e.button,B=e.onFocus,I=e.touched,x=e.tooltip,T=e.required,S=e.optional,k=e.disabled,N=e.autoFocus,D=e.className,O=e.fadeRightSide,R=e.labelClassNames,F=e.selectAllOnFocus,L=e.size,P=void 0===L?i.MEDIUM:L,U=e.onChangeValue,M=(0,u.Z)(e,["label","error","explanation","width","button","onFocus","touched","tooltip","required","optional","disabled","autoFocus","className","fadeRightSide","labelClassNames","selectAllOnFocus","size","onChangeValue"]),j=(0,A.useRef)(null);(0,A.useEffect)(function(){N&&setTimeout(function(){var e,t;null===(t=null===(e=j.current)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.focus()},50)},[N]);var Z=(0,A.useCallback)(function(e){F&&e.currentTarget.select(),null==B||B(e)},[F,B]),Q=!!r&&!1!==I,H=Q?(0,_.lv)(r,M.name||"Field"):"",V=(0,A.useRef)(null),K=(0,g.H)(V.current),G=(0,v.Z)();return(0,m.Z)(function(){requestAnimationFrame(/*#__PURE__*/(0,o.Z)(function(){var e;return(0,c.__generator)(this,function(t){switch(t.label){case 0:e=1,t.label=1;case 1:if(K)return G(),[3,3];return[4,(0,y.Z)(e)];case 2:return t.sent(),e*=2,[3,1];case 3:return[2]}})}))},[!!V.current]),/*#__PURE__*/(0,l.jsx)(d.A,{label:n,style:{width:E},tooltip:x,ref:j,required:T,optional:S,labelClassNames:(0,s.Z)((0,a.Z)({},R),{root:(0,f.Z)(null==R?void 0:R.root,k&&w().disabled,O&&w().fadeRightSideOfInput,M.readOnly&&w().readOnly)}),errorMessage:H,explanation:b,children:/*#__PURE__*/(0,l.jsxs)("div",{style:{position:"relative"},children:[/*#__PURE__*/(0,l.jsx)("input",(0,s.Z)((0,a.Z)({type:"text",required:T,tabIndex:0},M),{onChange:function(e){var t;null==U||U(e.target.value),null===(t=M.onChange)||void 0===t||t.call(M,e)},className:(0,f.Z)(w().textInput,P&&w()[P],D,Q&&"hasError"),style:(0,s.Z)((0,a.Z)({},M.style),{paddingRight:C?((null==K?void 0:K.width)||30)+10:void 0}),onFocus:Z,ref:t,disabled:k})),M.readOnly&&/*#__PURE__*/(0,l.jsx)(p.Z,{className:w().lockIcon,width:16,height:16}),!!C&&/*#__PURE__*/(0,A.cloneElement)(C,{className:(0,f.Z)(w().button,C.props.className),ref:V}),Q&&/*#__PURE__*/(0,l.jsx)(h.Z,{className:w().errorIcon})]})})}));Object.assign(E,{Sizes:i}),t.Z=E},55929:function(e,t,n){"use strict";var r=n(89038);t.Z=r.Z},59125:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(52322),i=n(2784);function o(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}function a(e){let t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;let n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;{let[e,t,...r]=n.map(e=>parseInt(e));return new Date(Date.UTC(e,t-1,...r))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u({date:e,formatter:t=o,component:n="time",live:r=!0,minPeriod:u=0,maxPeriod:c=604800,title:l,now:A=()=>Date.now(),...d}){let f=function(){let[e,t]=(0,i.useState)(0);return(0,i.useCallback)(()=>{t(e=>e+1)},[])}();(0,i.useEffect)(()=>{let t;if(!r)return;let n=r=>{let i=a(e).valueOf();if(!i){console.warn("[react-timeago] Invalid Date provided");return}let o=Math.round(Math.abs(A()-i)/1e3),s=Math.min(Math.max(o<60?1e3:o<3600?6e4:o<86400?36e5:6048e5,1e3*u),1e3*c);s&&(t&&clearTimeout(t),t=setTimeout(n,s)),r||f()};return n(!0),()=>{clearTimeout(t)}},[e,f,r,c,u,A]);let h=a(e).valueOf();if(!h)return null;let p=A(),g=Math.round(Math.abs(p-h)/1e3),v=h<p?"ago":"from now",[m,y]=g<60?[Math.round(g),"second"]:g<3600?[Math.round(g/60),"minute"]:g<86400?[Math.round(g/3600),"hour"]:g<604800?[Math.round(g/86400),"day"]:g<2592e3?[Math.round(g/604800),"week"]:g<31536e3?[Math.round(g/2592e3),"month"]:[Math.round(g/31536e3),"year"],b=void 0===l?"string"==typeof e?e:a(e).toISOString().substr(0,16).replace("T"," "):l,w="time"===n?{...d,dateTime:a(e).toISOString()}:d,_=o.bind(null,m,y,v);return /*#__PURE__*/i.createElement(n,s({},w,{title:b}),t(m,y,v,h,_,A))}var c=function(e,t,n,r,i){if("second"===t)return"Recently";var o={minute:"min",hour:"hrs"};return o[t]?"".concat(e," ").concat(o[t]," ago"):(null==i?void 0:i(e,t,n,r))||"".concat(e," ").concat(t," ago")},l=function(e,t){return"second"===t?"1m":"".concat(e).concat(t.slice(0,1))},A=/*#__PURE__*/(0,i.memo)(function(e){var t=e.type,n=e.time,i=new Date(n).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});return/*#__PURE__*/(0,r.jsx)(u,{date:n,minPeriod:60,formatter:"duration"===(void 0===t?"past":t)?l:c,title:i})})},71921:function(e,t,n){"use strict";var r=n(59125);t.Z=r.Z},88232:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(52322),s=n(2784),u=n(12436),c=/*#__PURE__*/n.n(u),l=n(47330),A=n(89563),d=n(3635),f=n(43446),h=n(26772),p=/*#__PURE__*/n.n(h),g=function e(){(0,r.Z)(this,e)};g.DELAY=650,g.isVisible=!1,g.hide=c()(function(){g.isVisible=!1},g.DELAY,{leading:!1,trailing:!0}),g.show=c()(function(e){g.hide.cancel(),g.isVisible=!0,e()},g.DELAY,{leading:!1,trailing:!0}),t.Z=/*#__PURE__*/(0,s.memo)(function(e){var t=e.text,n=e.subText,r=e.disabled,u=e.children,c=e.popperProps,h=e.shortcutKeys,v=e.contentStyle,m=e.textClassName,y=e.contentClassName,b=e.placement,w=e.tooltipPopperProps,_=e.skipDelay,E=void 0!==_&&_,C=(0,s.useRef)(null),B=(0,s.useState)(!1),I=B[0],x=B[1],T=(0,f.Z)(),S=(0,s.useCallback)(function(e){T()&&x(e)},[T]),k=(0,s.useCallback)(function(){g.show(function(){return S(!0)}),g.isVisible?g.show.flush():E&&requestAnimationFrame(function(){g.show.flush()})},[E,S]),N=(0,s.useCallback)(function(){S(!1),g.show.cancel(),g.hide()},[S]);return/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsxs)(l.Z,(0,o.Z)((0,i.Z)({disableArrow:!0,enterDuration:.05,placement:void 0===b?"bottom":b,popperProps:c,visible:!r&&I&&!!t,targetNode:C.current,className:(0,d.Z)(p().tooltip,m)},void 0===w?{}:w),{enterDelay:0,onExitComplete:function(){return x(!1)},children:[/*#__PURE__*/(0,a.jsxs)("span",{className:p().mainText,children:[t,h?/*#__PURE__*/(0,a.jsx)(A.P,{className:p().shortcut,keys:h}):null]}),n?/*#__PURE__*/(0,a.jsx)("span",{className:p().subText,children:n}):null]})),/*#__PURE__*/(0,a.jsx)("span",{ref:C,onMouseEnter:k,onMouseLeave:N,style:v,className:y,children:u})]})})},86588:function(e,t,n){"use strict";var r=n(88232);t.Z=r.Z},27198:function(e,t,n){"use strict";n.d(t,{a:function(){return c},Z:function(){return l}});var r=n(52322),i=n(54848),o=n(146),a=/*#__PURE__*/n.n(o),s=function(e){var t=e.user,n=e.style,o=e.displayNameSuffix,s=e.avatarSize;return t?/*#__PURE__*/(0,r.jsxs)("div",{className:a().user,style:n,onClick:function(e){return e.stopPropagation()},children:[/*#__PURE__*/(0,r.jsx)(i.Z,{size:void 0===s?30:s,fallback:"\xa0",color:t.color,photoURL:t.photoURL,className:a().avatar,displayName:t.displayName}),/*#__PURE__*/(0,r.jsxs)("div",{className:a().content,children:[/*#__PURE__*/(0,r.jsx)("h4",{children:t.displayName+(void 0===o?"":o)}),/*#__PURE__*/(0,r.jsx)("h5",{children:t.email})]})]}):null};n(2784);var u=n(52826),c=function(e){var t,n,i,o=e.userId,a=e.displayName,c=e.email,l=e.profile,A=e.avatarSize,d=e.displayNameSuffix,f=(0,u.ZP)(o),h=null!=l?l:f,p={email:c,id:null!=o?o:"",photoURL:null==h?void 0:h.photoURL,color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"var(--grey-900)",displayName:null!==(i=null!==(n=null==h?void 0:h.displayName)&&void 0!==n?n:a)&&void 0!==i?i:""};return/*#__PURE__*/(0,r.jsx)(s,{user:p,avatarSize:A,displayNameSuffix:void 0===d?"":d})},l=s},68608:function(e,t,n){"use strict";n.d(t,{dq:function(){return d},h7:function(){return i}});var r,i,o=n(52322),a=n(2784),s=n(21746),u=n(71059);(r=i||(i={})).Server="server",r.Mobile="mobile",r.Tablet="tablet",r.Desktop="desktop";var c={device:i.Server},l=(0,s.kr)(c),A=function(){var e=(0,a.useState)(i.Server),t=e[0],n=e[1];return(0,u.Z)(function(){var e=function(){window.innerWidth<500?n(i.Mobile):window.innerWidth>=500&&window.innerWidth<=1024?n(i.Tablet):n(i.Desktop)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[1024,500]),t},d=function(e){var t=e.children,n=A(),r=(0,a.useMemo)(function(){return{device:n}},[n]);return/*#__PURE__*/(0,o.jsx)(l.Provider,{value:r,children:t})};t.ZP=l},85591:function(e,t,n){"use strict";var r=(0,n(21746).kr)({isKeyboardShortcutsOpen:!1,openKeyboardShortcuts:function(){return null},closeKeyboardShortcuts:function(){return null}});t.Z=r},97001:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var r=n(90581),i=n(21218),o=n(42838),a=n(70865),s=n(20624),u=n(39309),c=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n);var u=s.cause,c=s.data,l=void 0===c?{}:c,A=s.statusCode;return(0,o.Z)(u,n)&&(l=(0,a.Z)({},u.data,l),A=null!=A?A:u.statusCode),(i=t.call(this,e,{cause:u})).isCaptured=!1,i.data={},i.statusCode=500,i.isEraserError=!0,i.name="EraserError",i.data=l,i.hint=s.hint,i.statusCode=null!=A?A:500,i.cause=u,i}return n.prototype.toJSON=function(){return{name:this.name,message:this.message,data:this.data,statusCode:this.statusCode,hint:this.hint,stack:this.stack,isEraserError:!0}},n}((0,s.Z)(Error));c.Name="EraserError"},24066:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(this,n),(i=t.call(this,e,o)).name="PaywallError",i.statusCode=402,i}return n}(n(97001).t);a.Name="PaywallError"},70621:function(e,t,n){"use strict";n.d(t,{MS:function(){return u},tk:function(){return c.t},QW:function(){return g},dR:function(){return f},WH:function(){return l.W},vm:function(){return v},T0:function(){return B},J5:function(){return _},Lr:function(){return E}});var r=n(42838),i=n(90581),o=n(21218),a=n(20624),s=n(39309),u=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,o,a){var s;return(0,i.Z)(this,n),(s=t.call(this,e)).status=r,s.statusCode=r,s.code=o,s.cause&&(s.cause=a),s.name="ApiError",s}return n}((0,a.Z)(Error)),c=n(97001),l=n(24066),A=n(70865),d=n(96670),f=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not Found",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:404}))).name="NotFoundError",e}return n}(c.t),h=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Internal error",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:500}))).name="InternalError",e}return n}(c.t),p=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Already exists",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:409}))).name="AlreadyExistsError",e}return n}(c.t),g=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid request",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:400}))).name="InvalidRequestError",e}return n}(c.t),v=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Log in required",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:401}))).name="UnauthenticatedError",e}return n}(c.t),m=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Permission denied",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:403}))).name="PermissionDeniedError",e}return n}(c.t),y=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Method not allowed",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(e=t.call(this,r,(0,d.Z)((0,A.Z)({},o),{statusCode:405}))).name="MethodNotAllowedError",e}return n}(c.t),b={"invalid-argument":400,"failed-precondition":400,unauthenticated:401,"permission-denied":403,"not-found":404,aborted:409,"resource-exhausted":429,cancelled:499,unimplemented:501,"already-exists":409,internal:500,unavailable:503,"deadline-exceeded":504},w={"auth/user-not-found":"Invalid Credentials","auth/wrong-password":"Invalid Credentials","auth/email-already-in-use":"Email already in use","auth/credential-already-in-use":"Email already in use"},_=function(e){var t,n,r,i=500,o=e.message;return"code"in e&&null!=e.code&&(i=null!==(t=b[e.code])&&void 0!==t?t:500,o=null!==(n=w[e.code])&&void 0!==n?n:o),{title:o,message:o,statusCode:i,explanation:"",code:null!==(r=e.code)&&void 0!==r?r:""}},E=function(e){if("string"==typeof e)return new u(e,500);var t=C(e);if(t)return t;var n=null!=e?e:{},r=n.message,i=void 0===r?"Unknown error":r,o=n.statusCode;return new u(null!=i?i:"Unknown error",null!=o?o:500,n.code)},C=function(e){if(e&&"object"==typeof e){var t=null!=e?e:{},n=t.name,r=void 0===n?"":n,i=t.data,o=t.message,a=void 0===o?"Unknown error":o,s=t.statusCode,u=t.hint,A=t.isEraserError;if(r===c.t.Name)return new c.t(a,{data:i,hint:u,statusCode:s});if(r===l.W.Name)return new l.W(a,{data:i,hint:u,statusCode:s});if(A)switch(r){case"NotFoundError":return new f(a,{data:i,hint:u});case"InternalError":return new h(a,{data:i,hint:u});case"AlreadyExistsError":return new p(a,{data:i,hint:u});case"InvalidRequestError":return new g(a,{data:i,hint:u});case"UnauthenticatedError":return new v(a,{data:i,hint:u});case"PermissionDeniedError":return new m(a,{data:i,hint:u});case"MethodNotAllowedError":return new y(a,{data:i,hint:u})}}},B=function(e){if(e){if((0,r.Z)(e,c.t))return{statusCode:e.statusCode,message:e.message,cause:e.cause};if((0,r.Z)(e,Error))return{statusCode:500,message:e.message,cause:e.cause};if("object"==typeof e&&e){var t,n,i;return{statusCode:null!==(t=e.statusCode)&&void 0!==t?t:500,message:null!==(n=e.message)&&void 0!==n?n:"Unknown error",cause:null!==(i=e.cause)&&void 0!==i?i:void 0}}if("string"==typeof e)return{statusCode:500,message:e,cause:void 0}}}},44784:function(e,t,n){"use strict";n.d(t,{Le:function(){return u.Le},lv:function(){return s},ym:function(){return u.ym}});var r=n(42838),i=n(82108),o=/*#__PURE__*/n.n(i),a=n(2784);function s(e,t){if(!e)return"";if("string"==typeof e||(0,a.isValidElement)(e))return e;if(e.message&&"string"==typeof e.message)return e.message;if("required"===e.type)return"".concat(o()(t)," is required.");if("minLength"===e.type){var n=function(e,t){if((0,r.Z)(null==e?void 0:e.ref,HTMLElement))return e.ref.getAttribute(t)}(e,"minLength");if(n)return"".concat(o()(t)," must be at least ").concat(n," characters.")}return"".concat(o()(t)," is invalid.")}var u=n(18858)},18858:function(e,t,n){"use strict";n.d(t,{Le:function(){return i},po:function(){return o},ym:function(){return a}});var r=n(98559),i=function(e){if(!(0,r.J)(e))return"Enter a valid e-mail"};function o(e){if(!e)return"Required";try{var t=new URL(e);if("https:"!==t.protocol&&"http:"!==t.protocol)return"Protocol must be https or http"}catch(e){return"Invalid URL"}}var a=function(e){if(e.length<12||!e.match(/[a-z]/)||!e.match(/[A-Z]/)||!e.match(/\d/)||!e.match(/[~`!@#$%^&*(){}\[\]\-_=\+|,<.>\/\?\\;:'"]/))return"Password must contain at least 12 characters, including at least one uppercase letter, one lowercase letter, one number, and one special character"}},27196:function(e,t,n){"use strict";n.d(t,{D9:function(){return u},W6:function(){return s},ZS:function(){return a}});var r=n(50930),i=n(2784),o=n(71059);function a(e){var t=(0,i.useRef)(e);return t.current=e,t}function s(e){var t=(0,i.useRef)(e);return(0,o.Z)(function(){t.current=e},[e]),(0,i.useCallback)(function(){for(var e,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat((0,r.Z)(i)))},[])}function u(e){var t=(0,i.useRef)();return(0,i.useEffect)(function(){t.current=e},[e]),t.current}},75194:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(21746),i=n(68608),o=function(){return(0,r.Sz)(i.ZP,function(e){return(null==e?void 0:e.device)===i.h7.Mobile})}},80498:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87394),i=n(2784);n(27196),n(61490);var o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClose,o=t.onOpen,a=t.isOpen,s=(0,i.useState)(t.defaultIsOpen||!1),u=s[0],c=s[1],l=(0,r.Z)([e=void 0!==a,e&&void 0!==a?a:u],2),A=l[0],d=l[1],f=(0,i.useCallback)(function(){A||c(!1),null==n||n()},[A,n]),h=(0,i.useCallback)(function(){A||c(!0),null==o||o()},[A,o]),p=(0,i.useCallback)(function(){(d?f:h)()},[d,h,f]);return{isOpen:d,onOpen:h,onClose:f,onToggle:p,isControlled:A}}},51716:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(0),t=(e[0],e[1]);return(0,r.useCallback)(function(){return t(function(e){return 1^e})},[])}},43446:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2784);function i(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,r.useCallback)(function(){return e.current},[])}},24089:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(21746),i=n(85591),o=function(){return(0,r.Sz)(i.Z,function(e){return{isOpen:e.isKeyboardShortcutsOpen,onOpen:e.openKeyboardShortcuts,onClose:e.closeKeyboardShortcuts}})}},71059:function(e,t,n){"use strict";var r=n(2784),i=n(19179).jU?r.useLayoutEffect:r.useEffect;t.Z=i},62557:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(90581),i=n(50930),o=n(97030),a=/*#__PURE__*/n.n(o),s=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._config=t}var t=e.prototype;return t.getBoolean=function(e){var t=this._config[e];if(null!=t&&"boolean"==typeof t)return t},t.getNumber=function(e){var t=this._config[e];if(null!=t&&"number"==typeof t)return t},t.getString=function(e){var t=this._config[e];if(null!=t&&"string"==typeof t)return t},t.getArray=function(e){var t=this._config[e];if(null!=t&&Array.isArray(t))return(0,i.Z)(t)},t.getMap=function(e){var t=this._config[e];if(null!=t&&a()(t))return Object.assign({},t)},t.getTimestamp=function(e){var t=this._config[e];if(null!=t)return t},e}()},69474:function(e,t,n){"use strict";function r(){return window.self!==window.top}n.d(t,{$:function(){return r}})},75215:function(e,t,n){"use strict";n.d(t,{Ak:function(){return s},Vg:function(){return o},f4:function(){return a}});var r=n(37164),i={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","image/webp":"webp"},o=function(e){var t,n=e.blobType,o=e.fileName,a=e.uploadBasePath,s=null!=o?o:(0,r.x0)(),u=null!==(t=i[n])&&void 0!==t?t:"png";return"".concat(a).concat(s,".").concat(u)},a=function(e,t){return"images/".concat(s(e,t))},s=function(e,t){return"workspaces/".concat(e,"/").concat(t,"/")}},35937:function(e,t,n){"use strict";let r;n.d(t,{V:function(){return ei}});var i=n(48834).lW;let o="function"==typeof atob,a="function"==typeof btoa,s="function"==typeof i,u="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),A=(r={},l.forEach((e,t)=>r[e]=t),r),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,f=String.fromCharCode.bind(String),h="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=e=>e)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),p=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),g=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),v=a?e=>btoa(e):s?e=>i.from(e,"binary").toString("base64"):e=>{let t,n,r,i,o="",a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw TypeError("invalid character found");o+=l[(t=n<<16|r<<8|i)>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},m=s?e=>i.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(f.apply(null,e.subarray(n,n+4096)));return v(t.join(""))},y=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?f(192|t>>>6)+f(128|63&t):f(224|t>>>12&15)+f(128|t>>>6&63)+f(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return f(240|t>>>18&7)+f(128|t>>>12&63)+f(128|t>>>6&63)+f(128|63&t)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,w=e=>e.replace(b,y),_=s?e=>i.from(e,"utf8").toString("base64"):c?e=>m(c.encode(e)):e=>v(w(e)),E=(e,t=!1)=>t?p(_(e)):_(e),C=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,B=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return f((t>>>10)+55296)+f((1023&t)+56320);case 3:return f((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return f((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},I=e=>e.replace(C,B),x=o?e=>atob(g(e)):s?e=>i.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!d.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n="",r,i;for(let o=0;o<e.length;)t=A[e.charAt(o++)]<<18|A[e.charAt(o++)]<<12|(r=A[e.charAt(o++)])<<6|(i=A[e.charAt(o++)]),n+=64===r?f(t>>16&255):64===i?f(t>>16&255,t>>8&255):f(t>>16&255,t>>8&255,255&t);return n},T=s?e=>h(i.from(e,"base64")):e=>h(x(e),e=>e.charCodeAt(0)),S=s?e=>i.from(e,"base64").toString("utf8"):u?e=>u.decode(T(e)):e=>I(x(e)),k=e=>g(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),N={encodeURI:e=>E(e,!0)};var D=n(68762),O=/*#__PURE__*/n.n(D);let R=/\+/g;function F(e=""){try{return decodeURIComponent(""+e)}catch(t){return""+e}}let L=/^\w+:(\/\/)?/,P=/^\/\/[^/]+/;function U(e,t=!1){return L.test(e)||t&&P.test(e)}function M(e){return function(e=""){let t={};for(let n of("?"===e[0]&&(e=e.substr(1)),e.split("&"))){let e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let r=F(e[1]);if("__proto__"===r||"constructor"===r)continue;let i=F((e[2]||"").replace(R," "));t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}return t}(j(e).search)}function j(e="",t){if(!U(e,!0))return t?j(t+e):Z(e);let[n="",r,i=""]=(e.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[o="",a=""]=(i.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:s,search:u,hash:c}=Z(a);return{protocol:n,auth:r?r.substr(0,r.length-1):"",host:o,pathname:s,search:u,hash:c}}function Z(e=""){let[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,t)||W(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=/^(?:[a-z\d\-_]{1,62}\.){0,125}(?:[a-z\d](?:\-(?=\-*[a-z\d])|[a-z]|\d){0,62}\.)[a-z\d]{1,63}$/i,$={1:75,2:50,3:35,4:23,5:20},X=[1,2,3,4,5],J={domain:null,useHTTPS:!0,includeLibraryParam:!0,urlPrefix:"https://",secureURLToken:null};function ee(e){var t=e.url,n=void 0===t?"":t,r=e.useHttps;return U(n,!0)?j(n):ee({url:(void 0!==r&&r?"https://":"http://")+n})}function et(e,t){if(!(Number.isInteger(e)&&Number.isInteger(t))||e<=0||t<=0||e>t)throw Error("The min and max srcset widths can only be passed positive Number values, and min must be less than max. Found min: ".concat(e," and max: ").concat(t,"."))}function en(e){if("number"!=typeof e||e<.01)throw Error("The srcset widthTolerance must be a number greater than or equal to 0.01")}var er=new/*#__PURE__*/(function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.settings=H(H({},J),e),this.targetWidthsCache={},"string"!=typeof this.settings.domain)throw Error("ImgixClient must be passed a valid string domain");if(null==Y.exec(this.settings.domain))throw Error('Domain must be passed in as fully-qualified domain name and should not include a protocol or any path element, i.e. "example.imgix.net".');this.settings.includeLibraryParam&&(this.settings.libraryParam="js-"+n.version()),this.settings.urlPrefix=this.settings.useHTTPS?"https://":"http://"}return e=[{key:"buildURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._sanitizePath(e,n),i=this._buildParams(t,n);return this.settings.secureURLToken&&(i=this._signParams(r,i)),this.settings.urlPrefix+this.settings.domain+r+i}},{key:"_buildParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoder||encodeURIComponent,r=[].concat(z(this.settings.libraryParam?["ixlib=".concat(this.settings.libraryParam)]:[]),z(Object.entries(e).reduce(function(e,t){var r=G(t,2),i=r[0],o=r[1];if(null==o)return e;var a=n(i),s="64"===i.substr(-2)?N.encodeURI(o):n(o);return e.push("".concat(a,"=").concat(s)),e},[])));return"".concat(r.length>0?"?":"").concat(r.join("&"))}},{key:"_signParams",value:function(e,t){var n=this.settings.secureURLToken+e+t,r=O()(n);return t.length>0?t+"&s="+r:"?s="+r}},{key:"_sanitizePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace(/^\//,"");return t.disablePathEncoding?"/"+n:"/"+(n=t.encoder?t.encoder(n):/^https?:\/\//.test(n)?encodeURIComponent(n):encodeURI(n).replace(/[#?:+]/g,encodeURIComponent))}},{key:"buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.w,i=t.h;return r||i?this._buildDPRSrcSet(e,t,n):this._buildSrcSetPairs(e,t,n)}},{key:"_buildSrcSetPairs",value:function(e){var t,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=G((void 0!==u.widthTolerance?(en(u.widthTolerance),t=u.widthTolerance):t=.08,r=void 0===u.minWidth?100:u.minWidth,i=void 0===u.maxWidth?8192:u.maxWidth,(100!=r||8192!=i)&&et(r,i),[t,r,i]),3),l=c[0],A=c[1],d=c[2];return u.widths?(function(e){if(Array.isArray(e)&&e.length){if(!e.every(function(e){return Number.isInteger(e)&&e>0}))throw Error("A custom widths argument can only contain positive integer values")}else throw Error("The widths argument can only be passed a valid non-empty array of integers")}(u.widths),o=z(u.widths)):o=n.targetWidths(A,d,l,this.targetWidthsCache),o.map(function(t){return"".concat(a.buildURL(e,H(H({},s),{},{w:t}),u)," ").concat(t,"w")}).join(",\n")}},{key:"_buildDPRSrcSet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.devicePixelRatios&&function(e){if(Array.isArray(e)&&e.length){if(!e.every(function(e){return"number"==typeof e&&e>=1&&e<=5}))throw Error("The devicePixelRatios argument can only contain positive integer values between 1 and 5")}else throw Error("The devicePixelRatios argument can only be passed a valid non-empty array of integers")}(r.devicePixelRatios);var i=r.devicePixelRatios||X,o=r.disableVariableQuality||!1;o||function(e){if("boolean"!=typeof e)throw Error("The disableVariableQuality argument can only be passed a Boolean value")}(o),r.variableQualities&&function(e){if("object"!==V(e))throw Error("The variableQualities argument can only be an object")}(r.variableQualities);var a=H(H({},$),r.variableQualities);return(o?i.map(function(i){return"".concat(t.buildURL(e,H(H({},n),{},{dpr:i}),r)," ").concat(i,"x")}):i.map(function(i){return"".concat(t.buildURL(e,H(H({},n),{},{dpr:i,q:n.q||a[i]||a[Math.floor(i)]}),r)," ").concat(i,"x")})).join(",\n")}}],t=[{key:"version",value:function(){return"3.7.0"}},{key:"_buildURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return"";var i=ee({url:e,useHTTPS:r.useHTTPS}),o=i.host,a=i.pathname,s=H(H({},M(i.search)),t);if(!o.length||!a.length)throw Error("_buildURL: URL must match {host}/{pathname}?{query}");return new n(H({domain:o},r)).buildURL(a,s)}},{key:"_buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==e)return"";var o=ee({url:e,useHTTPS:i.useHTTPS}),a=o.host,s=o.pathname,u=H(H({},M(o.search)),t);if(!a.length||!s.length)throw Error("_buildOneStepURL: URL must match {host}/{pathname}?{query}");return new n(H({domain:a},i)).buildSrcSet(s,u,r)}},{key:"targetWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Math.floor(e),o=Math.floor(t);et(e,t),en(n);var a=n+"/"+i+"/"+o;if(a in r)return r[a];if(i===o)return[i];for(var s=[],u=i;u<o;)s.push(Math.round(u)),u*=1+2*n;return s[s.length-1]<o&&s.push(o),r[a]=s,s}}],e&&K(n.prototype,e),t&&K(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}())({domain:n(66140).y2.baseUrl.replace(/^https?:\/\//,"")}),ei=function(e,t){return e.startsWith("blob:")||e.startsWith("http:")||e.startsWith("https:")?e:er.buildURL(e,t)}},98559:function(e,t,n){"use strict";n.d(t,{J:function(){return d},R:function(){return c}});var r=n(87394),i=/\./g,o={"gmail.com":{removeDots:!0,splitBy:"+"},"googlemail.com":{removeDots:!0,splitBy:"+",aliasOf:"gmail.com"},"google.com":{removeDots:!0,splitBy:"+"},"hotmail.com":{splitBy:"+"},"live.com":{splitBy:"+"},"outlook.com":{splitBy:"+"},"yahoo.com":{splitBy:"-"},"ymail.com":{splitBy:"-"}},a={"fastmail.*":{matchRegExp:/(fastmail|messagingengine)\.(com|fm)$/i,splitBy:"+"}};function s(e,t){var n,r;return u((n=t.user,r=t.domain,e.removeDots&&(n=n.replace(i,"")),e.splitBy&&(n=n.split(e.splitBy,2)[0]),e.aliasOf&&(r=e.aliasOf),{user:n,domain:r}))}function u(e){var t=e.user,n=e.domain;return"".concat(t,"@").concat(n)}function c(e){e=e.trim().toLowerCase();var t=(0,r.Z)(e.split("@"),2),n=t[0],i=t[1],c={user:n,domain:i};if(Object.prototype.hasOwnProperty.call(o,i))return s(o[i],c);for(var l in a){var A=a[l];if(A.matchRegExp.test(i))return s(A,c)}return u(c)}var l=/^[\w!#$%&'*+\-/=?^`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/,A=/^([\s\x01-\x08\v\f\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\v\f\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/;function d(e){var t,n,r=e.split("@"),i=r.pop(),o=r.join("@");if(!f(o,{max:64})||!f(i,{max:254})||(n=(t=i.split("."))[t.length-1],!(!(t.length<2||/\s/.test(n)||/^\d+$/.test(n))&&t.every(function(e){return!(e.length>63||!/^[\w\u00a1-\uffff-]+$/.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||/_/.test(e))}))))return!1;if('"'===o[0])return o=o.slice(1,o.length-1),A.test(o);for(var a=o.split("."),s=0;s<a.length;s++)if(!l.test(a[s]))return!1;return!0}function f(e,t){var n=t.min,r=t.max,i=encodeURI(e).split(/%..|./).length-1;return i>=(void 0===n?0:n)&&i<=(void 0===r?1/0:r)}},90731:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=/*#__PURE__*/function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.Events={},e}return n.prototype.clean=function(){},n}(n(30686).v)},78950:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(90581),i=n(85117),o=/*#__PURE__*/function(){function e(t,n){(0,r.Z)(this,e),this.params=t,this._makeObservable=n,this.subscribers=[]}var t=e.prototype;return t.setParams=function(e){(0,i.Z)(e,this.params)||(this.params=e,this.observable=this.makeObservable(e),this.updateSubscription(!0))},t.subscribe=function(e,t){return"function"==typeof e?this.subscribers.push({next:e,error:t}):this.subscribers.push(e),this.updateSubscription(),this.unsubscribe.bind(this,e,t)},t.unsubscribe=function(e,t){var n="function"==typeof e?{next:e,error:t}:e;this.subscribers=this.subscribers.filter(function(e){return!(0,i.Z)(e,n)}),this.updateSubscription()},t.makeObservable=function(e){if(this._makeObservable)return this._makeObservable(e);throw Error("makeObservable is not implemented")},t.updateSubscription=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.subscribers.length&&!t||(null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.observable=void 0,this.subscription=void 0,t))&&(this.subscription||(this.observable=this.makeObservable(this.params),this.subscription=this.observable.subscribe({next:this.onNext.bind(this),error:this.onError.bind(this)})))},t.onNext=function(e){this.subscribers.forEach(function(t){var n;return null===(n=t.next)||void 0===n?void 0:n.call(t,e)})},t.onError=function(e){this.subscribers.forEach(function(t){var n;return null===(n=t.error)||void 0===n?void 0:n.call(t,e)})},e.makeStreamFactory=function(t){return function(n){return new e(n,t)}},e}()},14885:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var r=n(98788),i=n(90581),o=n(21218),a=n(42838),s=n(70865),u=n(96670),c=n(26297),l=n(50930),A=n(39309),d=n(22970),f=n(17620),h=/*#__PURE__*/n.n(f),p=n(10097),g=n(34899),v=n(70621),m=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),(r=t.call(this))._collectionName=e,r._opts=(0,u.Z)((0,s.Z)({},l),{converter:null!==(o=l.converter)&&void 0!==o?o:{toFirestore:function(e){e.id;var t=(0,c.Z)(e,["id"]);if(l.firestoreTimestampFields){var n=!0,r=!1,i=void 0;try{for(var o,s=l.firestoreTimestampFields[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,A=u in e?e[u]:void 0,d=void 0;"number"==typeof A?d=p.EK.fromMillis(A):(0,a.Z)(A,Date)&&(d=p.EK.fromDate(A)),d&&(t[u]=d)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return t},fromFirestore:function(e){var t=e.data(),n=(0,u.Z)((0,s.Z)({},t),{id:e.id});if(l.firestoreTimestampFields){var r=!0,i=!1,o=void 0;try{for(var a,c=l.firestoreTimestampFields[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var A,d=a.value,f=d in t?t[d]:void 0;f&&(n[d]=(null===(A=l.dateFields)||void 0===A?void 0:A.includes(d))?f.toDate():f.toMillis())}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}return n}}}),r}var f=n.prototype;return f.getCollectionRef=function(e){if("teams"===this._opts.parentCollection){if(!e)throw Error("Parent ID is required for nested collections");return p.RZ.collection("teams").doc(e).collection(this._collectionName).withConverter(this._opts.converter)}return p.RZ.collection(this._collectionName).withConverter(this._opts.converter)},f.getParentKey=function(){switch(this._opts.parentCollection){case"teams":return"teamId";case"workspaces":return"workspaceId"}},f.getParentId=function(e){var t=this.getParentKey();if(t)return null==e?void 0:e[t]},f.getDocRef=function(e,t){return e?this.getCollectionRef(t).doc(e):this.getCollectionRef(t).doc()},f.create=function(e,t){var n=this;return(0,r.Z)(function(){var r,i,o,a,u;return(0,d.__generator)(this,function(c){switch(c.label){case 0:var l,A,d,f,h,p,g,v;return r=n.getParentId(null!=t?t:e),o=null!==(i=e.id)&&void 0!==i?i:n.getCollectionRef(r).doc().id,a=n.getDocRef(o,r),l=n._opts,p=(0,s.Z)({},e),g=new Date,v=Date.now(),l.addCreatedAt&&(p.createdAt=null!==(d=e.createdAt)&&void 0!==d?d:(null===(A=l.dateFields)||void 0===A?void 0:A.includes("createdAt"))?g:v),l.addUpdatedAt&&(p.updatedAt=null!==(h=e.updatedAt)&&void 0!==h?h:(null===(f=l.dateFields)||void 0===f?void 0:f.includes("updatedAt"))?g:v),u=p,[4,a.set(u)];case 1:return c.sent(),[2,o]}})})()},f.fetchById=function(e,t){var n=this;return(0,r.Z)(function(){var r;return(0,d.__generator)(this,function(i){switch(i.label){case 0:return[4,n.getDocRef(e,n.getParentId(t)).get()];case 1:if(!(r=i.sent()).exists){if(n._opts.allowNotFound)return[2,void 0];throw new v.dR("Not Found",{data:{id:e}})}return[2,(0,u.Z)((0,s.Z)({},r.data()),{id:r.id})]}})})()},f.updateById=function(e,t,n){var i=this;return(0,r.Z)(function(){var r,o;return(0,d.__generator)(this,function(a){switch(a.label){case 0:var u,c,l,A;return r=i.getDocRef(e,i.getParentId(n)),u=i._opts,A=(0,s.Z)({},t),u.addUpdatedAt&&(A.updatedAt=null!==(l=t.updatedAt)&&void 0!==l?l:(null===(c=u.dateFields)||void 0===c?void 0:c.includes("updatedAt"))?new Date:Date.now()),o=A,[4,r.set(o,{merge:!0})];case 1:return a.sent(),[2]}})})()},f.deleteById=function(e,t){var n=this;return(0,r.Z)(function(){return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getDocRef(e,n.getParentId(t)).delete()];case 1:return r.sent(),[2]}})})()},f.makeFilters=function(e,t){var n=this.getParentKey();if(n){if(null==t?void 0:t[n])return{parentId:t[n],filters:e};var r=e[n];if(r&&"string"==typeof r)return{parentId:r,filters:h()(e,n)}}return{parentId:void 0,filters:e}},f.fetchByTeam=function(e){var t=this;return(0,r.Z)(function(){return(0,d.__generator)(this,function(n){return[2,t.list({teamId:e},{})]})})()},f.list=function(e,t){var n=this;return(0,r.Z)(function(){var r,i,o;return(0,d.__generator)(this,function(a){switch(a.label){case 0:return i=(r=n.makeFilters(e,{})).filters,o=r.parentId,[4,(0,g.J)(n.getCollectionRef(o),i,t).get()];case 1:return[2,a.sent().docs.map(function(e){return e.data()})]}})})()},f.subscribeByTeam=function(e,t){var n=this,r=this.makeFilters({teamId:e},{}),i=r.filters,o=r.parentId,a=(0,g.J)(this.getCollectionRef(o),i);if(!this._opts.storeTeamSubscription)return this._subscribe(a,t);var s=this._cachedTeamSubscription;return(null==s?void 0:s.teamId)!==e&&(null==s||s.unsubscribe(),s=void 0),s||(s={teamId:e,currentDocs:void 0,cbs:[],unsubscribe:function(){}},this._cachedTeamSubscription=s,s.unsubscribe=this._subscribe(a,function(t){if(!n._cachedTeamSubscription){console.warn("No cached team subscription found");return}if(n._cachedTeamSubscription.teamId!==e){n._cachedTeamSubscription.unsubscribe(),n._cachedTeamSubscription.cbs.forEach(function(e){return e([])}),n._cachedTeamSubscription=void 0,console.warn("Stale cached team subscription found");return}n._cachedTeamSubscription.currentDocs=t,n._cachedTeamSubscription.cbs.forEach(function(e){return e(t)})})),s.cbs.push(t),s.currentDocs&&t(s.currentDocs),function(){s&&(s.cbs=s.cbs.filter(function(e){return e!==t}))}},f.subscribeByParams=function(e,t){var n=this.makeFilters(e,{}),r=n.filters,i=n.parentId,o=(0,g.J)(this.getCollectionRef(i),r);return this._subscribe(o,t)},f.subscribeById=function(e,t,n){return this.getCollectionRef(this.getParentId(n)).doc(e).withConverter(this._opts.converter).onSnapshot(function(e){return t(e.data())},function(e){console.error(e)})},f._subscribe=function(e,t){var n=this,r=[];return e.onSnapshot(function(e){r=(0,l.Z)(r);var n=!0,i=!1,o=void 0;try{for(var a,s=e.docChanges()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=u.oldIndex,A=u.newIndex;if("added"===u.type){r.splice(A,0,u.doc.data());continue}if("modified"===u.type){r.splice(c,1),r.splice(A,0,u.doc.data());continue}r.splice(c,1)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}t(r)},function(t){console.error("[DAO] Error subscribing to ".concat(n._collectionName),t,e)})},n}(n(90731).Z)},8042:function(e,t,n){"use strict";n.d(t,{E:function(){return r},h:function(){return i}});var r={workspaceById:{},canvasElementsByWorkspaceId:{},aiDiagramGenerator:function(){}};function i(e){Object.assign(r,e)}},44335:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={})).UPDATE="update",i.DELETE="delete"},99950:function(e,t,n){"use strict";var r,i;n.d(t,{v:function(){return r}}),(i=r||(r={})).READY="ready",i.CHANGE="change"},28055:function(e,t,n){"use strict";var r,i;n.d(t,{S:function(){return r}}),(i=r||(r={})).AuthUserChanged="auth-user-changed",i.UserChanged="user-changed"},48223:function(e,t,n){"use strict";var r,i;n.d(t,{C:function(){return r}}),(i=r||(r={})).CONNECTION_CHANGED="connection-change",i.OPS_ADDED="ops-added",i.BAD_DATA="bad-data"},61534:function(e,t,n){"use strict";var r,i;n.d(t,{X:function(){return r}}),(i=r||(r={})).Both="both",i.Canvas="canvas",i.Document="document"},88995:function(e,t,n){"use strict";var r=(0,n(53875).Z)();t.Z=r},46965:function(e,t,n){"use strict";var r=n(88995).Z;t.Z=r},55435:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(18149),u=/*#__PURE__*/n.n(s),c=n(35445);function l(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if("string"==typeof t)return JSON.parse(t);var i=t.modifiedBy,o=t.modifiedAt,s=t.userId,u=t.x,l=t.y,A=t.version,d=t.versionNonce,f=JSON.parse(t.data),h=(0,r.Z)({modifiedBy:i,modifiedAt:o,userId:s,id:e,x:u,y:l,version:A,versionNonce:d},f),p=(0,c.Oi)(h);if((null==p?void 0:p.defaultProperties)&&n){var g=!0,v=!1,m=void 0;try{for(var y,b=Object.entries(p.defaultProperties)[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=(0,a.Z)(y.value,2),_=w[0],E=w[1];_ in h||(h[_]=E)}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}}return h}t.Z={toDatabase:function(e){e.id;var t=e.modifiedBy,n=e.modifiedAt,s=e.userId,l=e.x,A=e.y,d=e.version,f=e.versionNonce,h=e.isDeleted,p=void 0!==h&&h,g=e.type,v=(0,o.Z)(e,["id","modifiedBy","modifiedAt","userId","x","y","version","versionNonce","isDeleted","type"]),m=null===(_=(0,c.Oi)(e))||void 0===_?void 0:_.defaultProperties;if(m){var y=!0,b=!1,w=void 0;try{for(var _,E,C=Object.entries(m)[Symbol.iterator]();!(y=(E=C.next()).done);y=!0){var B=(0,a.Z)(E.value,2),I=B[0],x=B[1];u()(v[I],x)&&(v[I]=void 0)}}catch(e){b=!0,w=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw w}}}return"html"in v&&v.html&&"slate"in v&&v.slate&&(v.html=void 0),{modifiedBy:t,modifiedAt:n,userId:s,x:l,y:A,version:void 0===d?1:d,versionNonce:void 0===f?0:f,type:g,isDeleted:p,data:JSON.stringify((0,i.Z)((0,r.Z)({},v),{isDeleted:p,type:g}))}},fromDatabase:function(e){return l(e.key,e.val())}}},50989:function(e,t,n){"use strict";var r=n(88995).Z;t.Z=r},67078:function(e,t,n){"use strict";n.d(t,{BG:function(){return m},hL:function(){return w},An:function(){return b},xI:function(){return h},UK:function(){return p},oO:function(){return E},kk:function(){return r.Z},ML:function(){return c},q0:function(){return l},yN:function(){return i},Zd:function(){return u},vT:function(){return y.Z},q9:function(){return v.Z},BV:function(){return A.Z},hu:function(){return g},nJ:function(){return d},A1:function(){return _}});var r=n(88995),i=r.Z,o=n(70865),a=n(96670),s=n(53875);(0,a.Z)((0,o.Z)({},(0,s.Z)()),{fromFirestore:function(e){var t,n,r=e.data(),i=(0,o.Z)({id:e.id},r);return r.gitHubInfo&&(i.gitHubInfo=(0,a.Z)((0,o.Z)({},r.gitHubInfo),{userTokenExpiry:null===(t=r.gitHubInfo.userTokenExpiry)||void 0===t?void 0:t.toDate(),refreshTokenExpiry:null===(n=r.gitHubInfo.refreshTokenExpiry)||void 0===n?void 0:n.toDate()})),i}});var u=r.Z,c=r.Z,l=r.Z,A=n(50989);r.Z;var d=r.Z,f=n(95550),h=(0,a.Z)((0,o.Z)({},(0,s.Z)()),{toFirestore:function(e){return e.type===f.PA.Email&&e.inviteeEmail&&(e.inviteeEmail=String(e.inviteeEmail).toLowerCase()),e}}),p=r.Z,g=r.Z;r.Z;var v=n(55435),m=r.Z,y=n(46965),b=r.Z,w=r.Z;function _(e){return JSON.parse(e)}r.Z,r.Z;var E={fromDatabase:function(e){var t=e.val();return{clientId:t.clientId,userId:t.userId,ops:_(t.ops),id:e.key,time:t.time||new Date().toUTCString()}},toDatabase:function(e){return(0,a.Z)((0,o.Z)({},e),{ops:JSON.stringify(e.ops)})}}},53875:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297);t.Z=function(){return{toFirestore:function(e){return e.id,(0,o.Z)(e,["id"])},fromFirestore:function(e,t){var n=e.id,o=e.data(t);return(0,i.Z)((0,r.Z)({},o),{id:n})}}}},51390:function(e,t,n){"use strict";var r=n(50930),i=n(2784);t.Z=function(e,t){var n=(0,i.useRef)(!0);(0,i.useEffect)(function(){t.every(function(e){return e})&&n.current&&(e(),n.current=!1)},(0,r.Z)(t))}},56983:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r,i=n(98788),o=n(47842),a=n(70865),s=n(96670),u=n(26297),c=n(22970),l=n(2784),A=n(43931),d=/*#__PURE__*/n.n(A),f=n(11269),h=n(96933),p=n(50989),g=n(10097),v=n(10186);function m(){return(m=(0,i.Z)(function(e){var t,n,r=arguments;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"array",[4,v.Z.workspaces.withConverter(p.Z).where(g.ZP.firestore.FieldPath.documentId(),"in",e).get()];case 1:if(n=i.sent(),"array"===t)return[2,n.docs.map(function(e){return(0,s.Z)((0,a.Z)({},e.data()),{id:e.id})})];return[2,n.docs.reduce(function(e,t){return e.set(t.id,t.data())},new Map)]}})})).apply(this,arguments)}var y=n(66140),b=n(46965),w=n(18698);function _(e){return(null==e?void 0:e.map(function(e){var t=e.objectID,n=(0,u.Z)(e,["objectID"]);return(0,a.Z)({id:t},n)}))||[]}var E=(r=(0,i.Z)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:if(!e||!e.length)return[2];return[4,function(e){return m.apply(this,arguments)}(e.map(function(e){return e.id}),"map")];case 1:return t=n.sent(),e.forEach(function(e){var n;e.gitHubRepository=(null===(n=t.get(e.id))||void 0===n?void 0:n.gitHubRepository)||null}),[2]}})}),function(e){return r.apply(this,arguments)}),C=void 0;function B(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,u=(0,l.useState)({}),A=u[0],p=u[1],g=(0,l.useState)([]),m=g[0],B=g[1],I=(0,l.useState)(void 0),x=I[0],T=I[1],S=(0,w.ZP)(),k=(0,f.LP)(),N=(0,h.II)(),D=(0,l.useMemo)(function(){if(S)return d()(y.O9.appId,S).initIndex(y.O9.workspacesIndex)},[S]),O=(0,l.useCallback)(/*#__PURE__*/(0,i.Z)(function(){var e,t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,v.Z.visitedWorkspaces.withConverter(b.Z).where("userId","==",N).where("teamId","==",k).orderBy("lastVisitedAt","desc").limit(r).get()];case 1:if(!(e=n.sent().docs.map(function(e){return e.data().workspaceId})).length)return[2,[]];return[4,null==D?void 0:D.search("",{filters:e.map(function(e){return"objectID:".concat(e)}).join(" OR "),attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"],hitsPerPage:r})];case 2:return[2,_(null==(t=n.sent())?void 0:t.hits)]}})}),[D,r,N,k]),R=(0,l.useCallback)((t=(0,i.Z)(function(e,t){var n,r;return(0,c.__generator)(this,function(i){switch(i.label){case 0:if(!k||!N||!t)return[2,[]];return n=["teamId:".concat(k),"NOT isTemplate:true","isTitleEmpty:false","isWorkspaceArchived:false","(isPrivate:false OR ownerId:".concat(N,")")].join(" AND "),[4,null==D?void 0:D.search(e,{filters:n,hitsPerPage:t,restrictSearchableAttributes:["title","folderName"],attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"]})];case 1:return[2,_(null==(r=i.sent())?void 0:r.hits)]}})}),function(e,n){return t.apply(this,arguments)}),[D,k,N]),F=(0,l.useCallback)(/*#__PURE__*/(0,i.Z)(function(){var e,t,n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return[4,O()];case 1:if((e=i.sent()).length===r)return[2,e];return t=e.map(function(e){return e.id}),[4,R("",r)];case 2:return n=i.sent().filter(function(e){var n=e.id;return!t.includes(n)}),[2,e.concat(n).slice(0,r)]}})}),[R,O,r]),L=(0,l.useCallback)((n=(0,i.Z)(function(e){var t,n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:if("string"!=typeof e)return p({}),T(void 0),[2];if(t=A[e])return T(t),[2];if(B(function(t){return t.concat(e)}),n=[],!(e.length>0))return[3,2];return[4,R(e,r)];case 1:return n=i.sent(),[3,5];case 2:if(!C)return[3,3];return n=C.slice(0,r),[3,5];case 3:return[4,F()];case 4:C=n=i.sent(),i.label=5;case 5:return[4,E(n)];case 6:return i.sent(),p(function(t){return(0,s.Z)((0,a.Z)({},t),(0,o.Z)({},e,n))}),T(n),B(function(t){return t.filter(function(t){return t!==e})}),[2]}})}),function(e){return n.apply(this,arguments)}),[R,F,r,A]);return(0,l.useEffect)(function(){L(e)},[e,S]),(0,l.useEffect)(function(){C=void 0,T(void 0),p({})},[k]),{results:x,isLoading:m.includes(e)}}},17423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(98788),i=n(22970),o=n(2784),a=n(45403);function s(e,t){var n,s=(0,o.useState)(void 0),u=s[0],c=s[1],l=(0,o.useState)(!1),A=l[0],d=l[1],f=(0,a.Pe)(),h=(0,o.useCallback)((n=(0,r.Z)(function(e){return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(c(void 0),!e||!t)return[2];d(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,f.folders.fetchById(e,{teamId:t})];case 2:return c(n.sent()),[3,4];case 3:return d(!1),[7];case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),[t]);return(0,o.useEffect)(function(){h(e)},[h,e]),{data:u,isLoading:A}}},22805:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(50930),i=n(2784),o=n(27495),a=/*#__PURE__*/n.n(o),s=n(6901);function u(e,t){var n=(0,i.useMemo)(function(){var e;try{e=new(a())}catch(t){e=a()}return void 0===(null==t?void 0:t.stopCallback)||("function"!=typeof t.stopCallback?e.stopCallback=function(){return!1}:e.stopCallback=t.stopCallback),e},[null==t?void 0:t.stopCallback]),o=(0,r.Z)(Object.keys(e)).concat((0,r.Z)(Object.values(e)));(0,i.useEffect)(function(){return Object.keys(e).forEach(function(t){var r=e[t];if(r){var i="/"===t?"keydown":void 0;if("function"==typeof r)n.bind(t,r,i);else{var o=r.macOS,a=r.windows,u=r.callback;(void 0===o||o)&&s.Um&&n.bind(t,u,i),(void 0===a||a)&&!s.Um&&n.bind(t,u,i)}}}),function(){n.reset()}},(0,r.Z)(o).concat([n]))}},9107:function(e,t,n){"use strict";var r=n(2784);t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(function(){return t.every(function(e){return null==e})?null:function(e){t.forEach(function(t){t&&function(e,t){if(null!=e){if("function"==typeof e){e(t);return}if(!Object.isFrozen(e))try{e.current=t}catch(n){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}}(t,e)})}},t)}},18698:function(e,t,n){"use strict";n.d(t,{pW:function(){return _}});var r,i=n(98788),o=n(87394),a=n(22970),s=n(2784),u=n(20810),c=n(39739),l=n(35120),A=n(19184),d=n(12335),f=n(96933),h=n(67640),p=n(99669),g=n(89960),v=n(66140),m=n(32472),y="user-search-token",b=function(e){var t=atob(e),n=/validUntil=(\d+)/.exec(t);return null===n?0:parseInt(n[1],10)-Math.round(new Date().getTime()/1e3)},w=function(){p.J.removeItem(y)},_=(r=(0,i.Z)(function(e){var t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return w(),[4,h.Z.post("searchTokens",{},{responseType:"text"}).catch(g.T)];case 1:if(!(t=n.sent()))return[2,""];return p.J.setItem(y,{userId:e,token:t}),[2,t]}})}),function(e){return r.apply(this,arguments)});t.ZP=function(){var e=(0,f.II)(),t=(0,s.useState)(),n=t[0],r=t[1],i=(0,u.m)(function(e){return e.pipe((0,d.w)(function(e){var t,n,r=(0,o.Z)(e,1)[0];if(!r||"development"===m.Wi&&v.wC.emulatorEnabled)return(0,l.of)(null);var i=p.J.getItem(y)||void 0;return(t=r,"object"==typeof(n=i)&&"string"==typeof n.userId&&"string"==typeof n.token&&n.userId===t&&b(n.token)>86400)?(0,l.of)(i.token):(0,A.D)(_(r))}))},[e]);return(0,c.m)(i,r,g.T),n}},60131:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(2784),i=n(37164),o=n(71059);function a(){var e=(0,r.useState)(void 0),t=e[0],n=e[1];return(0,o.Z)(function(){n((0,i.x0)())},[]),t}},62915:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(98788),i=n(22970),o=n(2784),a=n(10186),s=n(67078);function u(e){var t,n=(0,o.useState)(void 0),u=n[0],c=n[1],l=(0,o.useState)(!1),A=l[0],d=l[1],f=(0,o.useCallback)((t=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:if(c(void 0),!e)return[2];d(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,a.Z.workspace(e).withConverter(s.BV).get()];case 2:return c(t.sent().data()),[3,4];case 3:return d(!1),[7];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),[]);return(0,o.useEffect)(function(){f(e)},[f,e]),{data:u,isLoading:A}}},56060:function(e,t,n){"use strict";var r,i;n.d(t,{c:function(){return r}}),(i=r||(r={})).AddIcon="add-icon",i.CreateFile="create-file",i.AddNoteContent="add-note-content",i.AddFigure="add-figure",i.AddFigureEmbed="add-figure-embed",i.AddComment="add-comment",i.OpenInsertMenu="open-insert-menu",i.UseInsertMenu="use-insert-menu",i.GenerateAiDiagram="generate-ai-diagram",i.GenerateDiagramWithCode="generate-diagram-with-code",i.InviteTeamMember="invite-team-member",i.GitHubSync="github-sync",i.VsCodeExtensionDownload="vscode-extension-download",i.GetStartedNotionIntegrationClicked="get-started-notion-integration-clicked",i.GetStartedConfluenceIntegrationClicked="get-started-confluence-integration-clicked"},60869:function(e,t,n){"use strict";var r,i,o,a;n.d(t,{P_:function(){return i},en:function(){return r}}),(o=r||(r={})).Fast="fast",o.ReasoningFast="reasoning-fast",o.ReasoningMedium="reasoning-medium",o.Standard="standard",o.Premium="premium",(a=i||(i={})).TokenLengthExceeded="token-length-exceeded",a.UnknownAiError="unknown-ai-error",a.RateLimitExceeded="rate-limit-exceeded",a.ServiceUnavailable="service-unavailable",a.UnsupportedRequest="unsupported-request",a.NotEnoughInformation="not-enough-information",a.FileTooLarge="file-too-large"},59590:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,A,d;function f(e){return e===s.Pending||e===s.InProgress}n.d(t,{Rp:function(){return r},Yi:function(){return s},aS:function(){return f},g0:function(){return i},s1:function(){return o}}),(u=r||(r={})).InfrastructureAsCode="infrastructure-as-code",u.SchemaDefinition="schema-definition",u.ApplicationCode="application-code",u.DiagramAsCode="diagram-as-code",(c=i||(i={})).notEnoughInformation="not-enough-information",c.unknownDiagramType="unknown-diagram-type",c.unknown="unknown",c.tokenLengthExceeded="token-length-exceeded",(l=o||(o={})).Infer="infer",l.Generate="generate",l.PostProcess="post-process",l.Complete="complete",l.Error="error",l.Unimplemented="unimplemented",(A=a||(a={})).Initiated="initiated",A.Completed="completed",A.Failed="failed",(d=s||(s={})).Pending="pending",d.InProgress="in-progress",d.Completed="completed",d.Error="error"},81961:function(e,t,n){"use strict";var r,i;n.d(t,{G:function(){return r}}),(i=r||(r={})).DashboardAccess="dashboard-access",i.PricingAnnouncement="pricing-announcement",i.GitHubFirstTimeHelp="github-first-time-help",i.FreeTierBezel="free-tier-bezel",i.LaunchAnnouncement="launch-announcement"},70599:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,A;n.d(t,{AC:function(){return i},M$:function(){return o},h8:function(){return a},k9:function(){return r},yh:function(){return s}}),(u=r||(r={})).Pro="pro",u.Free="free",u.Business="business",u.Enterprise="enterprise",(c=i||(i={})).ApiAccess="api-access",c.ExportPDF="export-pdf",c.NoLinkAccess="no-link-access",c.AnonymousCollaboration="anonymous-collaboration",c.PrivateWorkspaces="private-workspaces",c.SSO="sso",c.CustomAiContext="custom-ai-context",c.AiImport="ai-import",c.ExportQualityControls="export-quality-controls",c.ExportWatermarkToggle="export-watermark-toggle",(l=o||(o={})).Workspaces="workspaces",l.CustomIcons="custom-icons",l.AiDiagramAndOutlineCredits="ai-credits",l.PremiumCredits="premium-credits",l.MonthlyAiDiagramApiCalls="monthly-ai-diagram-api-calls",l.PremiumApiCalls="premium-api-calls",(a||(a={})).VersionHistory="version-history",(A=s||(s={})).active="active",A.paused="paused",A.canceled="canceled"},95550:function(e,t,n){"use strict";var r,i,o,a,s,u;n.d(t,{FU:function(){return r},PA:function(){return o},aj:function(){return i}}),(a=r||(r={})).Team="team",a.Workspace="workspace",(s=i||(i={})).Pending="pending",s.Accepted="accepted",s.Cancelled="cancelled",(u=o||(o={})).Link="link",u.Email="email"},94130:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={})).DiagramCreate="ai-diagram-create",i.DiagramEdit="ai-diagram-edit",i.OutlineCreate="ai-outline-create",i.Api="ai-api",i.DiagramGPT="diagram-gpt",i.DiagramUnknownAction="ai-diagram-unknown-action"},23143:function(e,t,n){"use strict";n.d(t,{Pq:function(){return r},SF:function(){return a},ff:function(){return i}});var r="ERASER",i={id:r,displayName:"Eraser",photoURL:"/_next/static/canvas-icons/eraser-io.svg",color:"var(--grey-100)"},o=["SERVER","GITHUB","ERASER"];function a(e){return o.includes(e)}},46572:function(e,t,n){"use strict";n.d(t,{i4:function(){return r.i}}),n(70599);var r=n(20097)},20097:function(e,t,n){"use strict";var r,i;n.d(t,{i:function(){return r}}),(i=r||(r={})).Admin="admin",i.Member="member",i.Guest="guest"},45932:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,A,d;n.d(t,{Ib:function(){return o},c:function(){return i},hT:function(){return a},lp:function(){return s}}),(u=r||(r={})).ARCHITECTURE="Architecture",u.DESIGN_DOCS="Design Docs",u.WIREFRAMES="Wireframes",u.INTERVIEWS="Interviews",u.BRAINSTORMING="Brainstorming",u.DOCUMENTATION="Documentation",(c=i||(i={})).ARCHITECT="Architect",c.ENGINEER="Engineer",c.INFRASTRUCTURE="Infrastructure",c.CONSULTANT="Consultant",c.PRODUCT="Product & Design",c.OTHER="Other",(l=o||(o={})).GITHUB="GitHub",l.GITLAB="GitLab",l.NOTION="Notion",l.CONFLUENCE="Confluence",l.AWS="AWS",l.AZURE="Azure",l.GCLOUD="GCloud",l.TRRAFORM="Terraform",l.PULUMI="Pulumi",l.CIRCLECI="Circle CI",l.JENKINS="Jenkins",l.KUBERNETES="Kubernetes",l.VS_CODE="VS Code",(A=a||(a={})).CREATE_SURVEY_INCOMPLETE="CREATE_SURVEY_INCOMPLETE",A.CREATE_SURVEY_COMPLETE="CREATE_SURVEY_COMPLETE",A.JOIN_EXISTING_TEAM="JOIN_EXISTING_TEAM",(d=s||(s={})).CREATE_TEAM="CREATE_TEAM",d.INVITE_MEMBERS="INVITE_MEMBERS",d.PREFERENCES="PREFERENCES",d.USE_CASES="USE_CASES",d.ROLE="ROLE",d.TOOLS="TOOLS"},59711:function(e,t,n){"use strict";var r,i,o,a,s,u;n.d(t,{bR:function(){return o},lL:function(){return r}}),(a=r||(r={})).Write="write",a.Read="read",(s=i||(i={})).userDataModel="userDataModel",s.technicalDesign="technicalDesign",s.dataFlowDiagram="dataFlowDiagram",s.systemArhcitecture="systemArhcitecture",s.productRequirements="productRequirements",(u=o||(o={})).NONE="none",u.READ="read",u.WRITE="write",u.ANONYMOUS_WRITE="anonymous-write"},50852:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=n(6901).Um?"metaKey":"ctrlKey"},40052:function(e,t,n){"use strict";n.d(t,{i:function(){return o},q:function(){return s}});var r=n(98788),i=n(22970);function o(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:switch(e.contextId){case"aws":return[3,1];case"azure":return[3,3];case"gcp":return[3,5]}return[3,7];case 1:return[4,n.e(8994).then(n.bind(n,88994))];case 2:return[2,t.sent().AWS_CONTEXT];case 3:return[4,n.e(7597).then(n.bind(n,97597))];case 4:return[2,t.sent().AZURE_CONTEXT];case 5:return[4,n.e(5226).then(n.bind(n,5226))];case 6:return[2,t.sent().GCP_CONTEXT];case 7:return[2,void 0];case 8:return[2]}})})).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e.teamId,[4,Promise.all(["aws","azure","gcp"].map(function(e){return o({contextId:e})}))];case 1:return[2,t.sent().filter(Boolean)]}})})).apply(this,arguments)}},53788:function(e,t,n){"use strict";n.d(t,{Uy:function(){return c},fo:function(){return u},r2:function(){return a},wL:function(){return l}});var r,i,o,a,s=["gcp","aws","azure"];function u(e){return s.includes(e)}function c(e){return(null==e?void 0:e.type)===a.DiagramLibrary}function l(e){return(null==e?void 0:e.type)===a.Git}(r=o||(o={})).ReferenceDiagram="referenceDiagrams",r.ExampleDiagram="exampleDiagrams",(i=a||(a={})).DiagramLibrary="diagramLibrary",i.Git="git"},19198:function(e,t,n){"use strict";n.d(t,{Gl:function(){return u},Io:function(){return a},Jb:function(){return s},K:function(){return o}});var r=n(31632),i=n(59590);function o(e,t){return"teams/".concat(t,"/ai-context/temp/").concat(e)}function a(e){return e.reduce(function(e,t){if(e+="Q: "+t.question,"freeResponse"===t.type){var n;(null===(n=t.freeResponseValue)||void 0===n?void 0:n.trim())&&(e+="\nA: "+t.freeResponseValue.trim())}else t.answers.forEach(function(n){var r;n.selected&&(e+="\n","other"===n.text.toLowerCase().trim()&&(null===(r=t.otherValue)||void 0===r?void 0:r.trim())?e+="A: "+t.otherValue.trim():e+="A: "+n.text)});return e+="\n\n"},"")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.pj.CAD:return"Cloud Architecture Diagram";case r.pj.FLOW:return t?"Flow Chart":"Flowchart";case r.pj.SD:return"Sequence Diagram";case r.pj.ERD:return"Entity Relationship Diagram";case r.pj.BPMN:return t?"Business Process Model":"BPMN";default:return"Diagram"}}function u(e){switch(e){case i.Rp.InfrastructureAsCode:case i.Rp.SchemaDefinition:case i.Rp.ApplicationCode:case i.Rp.DiagramAsCode:return!0;default:return!1}}},21732:function(e,t,n){"use strict";n.d(t,{Y:function(){return f}});var r=n(70865),i=n(96670),o=n(87394),a=n(2784),s=n(2732),u=n(54073),c=/*#__PURE__*/n.n(u),l=n(42541),A=(0,s.cn)({key:"commandKModalState",default:{isModalOpen:!1,screen:"commands",inputValue:""}}),d=c()(function(e,t){l.Z.trackEvent("command_k","search",{screen:t,query:e})},500),f=function(){var e=(0,o.Z)((0,s.FV)(A),2),t=e[0],n=e[1],u=(0,a.useCallback)(function(){n({isModalOpen:!1,screen:"commands",inputValue:""})},[n]),c=(0,a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputValue;n({isModalOpen:!0,screen:e.screen||"commands",inputValue:t||""})},[n]);return{switchScreen:(0,a.useCallback)(function(e){n(function(t){return(0,r.Z)({},t,e)})},[n]),setInputValue:(0,a.useCallback)(function(e){n(function(t){return(0,i.Z)((0,r.Z)({},t),{inputValue:e})}),e.trim()&&d(e,t.screen)},[n,t.screen]),openCommandKModal:c,closeCommandKModal:u,screen:t.screen,inputValue:t.inputValue,query:t.inputValue.trim(),isModalOpen:t.isModalOpen}}},64442:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(2784),i=n(21732),o={},a=function(){var e=(0,i.Y)().closeCommandKModal,t=(0,r.useCallback)(function(t,n){var r=function(t){return function(){!1!==t()&&e()}};if("function"==typeof n)a=void 0,i=r(n);else{var i,a,s,u,c=n.action,l=n.isHidden;a=null!=l?l:null===(s=o[t])||void 0===s?void 0:s.isHidden,i=c?r(c):null===(u=o[t])||void 0===u?void 0:u.execute}o[t]={execute:i,isHidden:a}},[e]);return{registrar:o,register:t}}},92106:function(e,t,n){"use strict";n.d(t,{Ld:function(){return o},Li:function(){return u},M4:function(){return c},Pe:function(){return A},Xy:function(){return d},hl:function(){return a},r8:function(){return l},w7:function(){return s}});var r=n(76476),i=n(31632),o=(0,r.J)("cardinalElbow").defaultZeroGapValueForIntersections,a=.875,s={STROKE_MULTIPLIER:1.75,ROUGHNESS_MULTIPLIER:.8,ARROWHEAD_SIZE:12,ARROWHEAD_ANGLE:30,SELECTION_LINE_WIDTH:1.5},u={LEFT:100,TOP:60,RIGHT:15,BOTTOM:15},c=30,l={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard"},A={FIGURE_PADDING:34,DISTANCE_BETWEEN_FIGURES:300},d=Object.values(i.pj).filter(function(e){return e!==i.pj.CUSTOM})},54367:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){return e&&e.length?e.sort(function(e,t){var n,r;return"number"==typeof e.zIndex&&"number"==typeof t.zIndex&&e.zIndex!==t.zIndex?e.zIndex-t.zIndex:(null!==(n=e.zIndex)&&void 0!==n?n:0)-(null!==(r=t.zIndex)&&void 0!==r?r:0)}):[]}},65633:function(e,t,n){"use strict";n.d(t,{E0:function(){return l},LD:function(){return s},dq:function(){return u}});var r,i=n(98788),o=n(22970),a=n(88386),s=new Map,u=function(e){return s.get(e)},c=function(e,t){s.set(e,t)},l=(r=(0,i.Z)(function(e){var t,n,r,s,u,l,A,d;return(0,o.__generator)(this,function(f){switch(f.label){case 0:if(!e.length)return[2];t=[],n=!0,r=!1,s=void 0;try{for(u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)A=l.value,d=fetch(A.url).then(function(e){return e.text()}),t.push(d)}catch(e){r=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw s}}return[4,Promise.all(t)];case 1:var h;return f.sent().forEach((h=(0,i.Z)(function(t,n){return(0,o.__generator)(this,function(r){switch(r.label){case 0:return c(e[n].label,t),[4,(0,a.w)(t)];case 1:return r.sent(),[2]}})}),function(e,t){return h.apply(this,arguments)})),[2]}})}),function(e){return r.apply(this,arguments)})},88386:function(e,t,n){"use strict";n.d(t,{U:function(){return s},w:function(){return u}});var r,i=n(98788),o=n(22970),a=n(48005),s=new Map,u=(r=(0,i.Z)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:if(!e)return[2,null];if(s.has(e))return[2,s.get(e)];if(t=a.t.sanitizeString(e,window),(n=new Image).src="data:image/svg+xml;utf8,"+encodeURIComponent(t),"function"!=typeof n.decode)return[3,2];return[4,n.decode()];case 1:r.sent(),r.label=2;case 2:return s.set(e,n),[2,n]}})}),function(e){return r.apply(this,arguments)})},6041:function(e,t,n){"use strict";n.d(t,{N:function(){return i},O:function(){return o}}),(r=i||(i={})).UP="up",r.DOWN="down",r.LEFT="left",r.RIGHT="right";var r,i,o=[i.DOWN,i.UP,i.LEFT,i.RIGHT]},31632:function(e,t,n){"use strict";n.d(t,{G4:function(){return d},Nm:function(){return p.N},OD:function(){return p.O},QN:function(){return g},UX:function(){return l},ck:function(){return c},pj:function(){return f},qB:function(){return h},wi:function(){return A}});var r,i,o,a,s,u,c,l,A,d,f,h,p=n(6041);(r=c||(c={})).Normal="normal",r.CodeBlock="code-block",(i=l||(l={}))[i.Pastel=0]="Pastel",i[i.Bold=1]="Bold",i[i.Outline=2]="Outline",(o=A||(A={}))[o.Plain=0]="Plain",o[o.Shadow=1]="Shadow",o[o.Watercolor=2]="Watercolor",(a=d||(d={})).x="x",a.y="y",a.HORIZONTAL="x",a.VERTICAL="y",(s=f||(f={})).SD="sequence-diagram",s.ERD="entity-relationship-diagram",s.CAD="cloud-architecture-diagram",s.FLOW="flowchart-diagram",s.BPMN="bpmn-diagram",s.CUSTOM="custom-diagram",(u=h||(h={})).Group="group",u.GroupLabel="group-label",u.Node="node",u.NodeIcon="node-icon";var g=function(e){return"rectangle"===e.type&&"sharp"!==e.strokeSharpness?"rounded-rect":e.type}},34803:function(e,t,n){"use strict";n.d(t,{HN:function(){return s},Id:function(){return o},bj:function(){return i},sF:function(){return a},tK:function(){return u}});var r=n(87394),i=function(e){var t=e.commitSha,n=e.repositoryName,r=e.organizationName;return"https://github.com/".concat(r,"/").concat(n,"/commit/").concat(t)},o=function(e){if(!e)return"";var t=e.split("/");return(t.pop(),t.length)?"/".concat(t.join("/")):""},a=function(e){var t=e.filePath,n=e.branchName,r=e.repositoryName,i=e.organizationName;return"https://github.com/".concat(i,"/").concat(r,"/blob/").concat(n,"/").concat(t)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=t.mustBeMd,i=void 0===n||n,o=t.requireBlobFormatUrl,a=(null==e?void 0:e.includes("github.com"))?"github":(null==e?void 0:e.includes("gitlab.com"))?"gitlab":null;if(!a)return null;var s=new URL(e).pathname,u=(0,r.Z)(s.split("/"),3),c=(u[0],u[1]),l=u[2],A="",d="",f="",h=s.toLocaleLowerCase().endsWith(".md");if(i&&h||!i){var p=s.split("/");"blob"===p[3]||"tree"===p[3]?(d=p[4],A=p.slice(5).join("/"),f=p.slice(4).join("/")):p[3]&&!(void 0===o||o)&&(d=p[3],A=p.slice(4).join("/"),f=p.slice(3).join("/"))}return{owner:c,repo:l,branchNameAndFilePath:f,branchName:d,filePath:A,provider:a}};function u(e){var t=e.orgName,n=e.repoName;switch(e.provider){case"github":return"https://api.github.com/repos/".concat(t,"/").concat(n);case"gitlab":return"https://gitlab.com/api/v4/projects/".concat(encodeURIComponent("".concat(t,"/").concat(n)))}}},89563:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(52322),i=n(67058),o=n(3635),a=n(16216),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.keys,n=e.shortcutStyle,a=void 0===n?"text":n,u=e.darkBackground,c=e.className,l=e.style,A=e.inline,d=t.map(function(e){return(0,i.K8)(e,!0)});return/*#__PURE__*/(0,r.jsx)("span",{className:(0,o.Z)(s().shortcut,u&&s().darkBackground,c,A&&s().inline),style:l,children:d.map(function(e){return/*#__PURE__*/(0,r.jsx)("kbd",{className:(0,o.Z)(s().shortcutKey,"text"===a&&s().text,"pills"===a&&s().pill),children:e},e)})})}},67058:function(e,t,n){"use strict";n.d(t,{K8:function(){return s},PF:function(){return i}});var r=n(6901),i=r.Um?"metaKey":"ctrlKey",o={CtrlOrCmd:"Command","Control|Alt":"Control"},a={Shift:"",Enter:"",ArrowUp:"",ArrowDown:"",ArrowLeft:"",ArrowRight:"",Del:"",Control:"Ctrl",CtrlOrCmd:"Ctrl",Esc:"Esc",Alt:"Alt",Option:"Alt",AltOrOption:"Alt","Control|Alt":"Alt"};r.Um&&Object.assign(a,{Control:"^",CtrlOrCmd:"",Alt:"",Option:"",AltOrOption:"","Control|Alt":"^"});var s=function(e,t){return r.Um&&!t?o[e]||e:a[e]||e};r.Um&&Object.assign({CtrlOrCmd:"ctrl",AltOrOption:"alt","Control|Alt":"alt",Tab:"tab",Enter:"enter",Esc:"escape",Shift:"shift",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"},{CtrlOrCmd:"command",AltOrOption:"option","Control|Alt":"ctrl"})},39274:function(e,t,n){"use strict";n.d(t,{Eu:function(){return f},H$:function(){return h},fH:function(){return m},kI:function(){return g},tM:function(){return A},wL:function(){return d}});var r=n(42838),i=n(87394),o=n(2784),a=n(12995),s=n(85009),u=n(51716),c=n(20954),l=n(89960),A="left-side-menu-container",d="right-side-menu-container",f={top:function(e){return{top:e.top}},center:function(e){return{top:e.top+e.height/2}},bottom:function(e){return{top:e.bottom}}};function h(e){var t=d;return"left"===e&&(t=A),document.getElementById(t)}var p=new WeakMap;function g(e){var t=(0,u.Z)(),n=(0,o.useRef)(p.get(e));return(0,o.useLayoutEffect)(function(){if(!n.current)try{var r=s.F3.toDOMNode(e,e);r&&(p.set(e,r),n.current=r)}catch(e){t()}},[e,t]),n.current}var v=function(e,t,n){try{if(!t)return null;if((0,r.Z)(t,HTMLElement)||(0,r.Z)(t,Range))return t;if(a.xv.isText(t)||a.W_.isElement(t))return s.F3.toDOMNode(e,t);if(a.e6.isRange(t)){var i=s.F3.toDOMRange(e,t),o="bottom"===n?i.endContainer:i.startContainer;return(0,r.Z)(o,HTMLElement)?o:o.parentElement}}catch(e){(0,l.T)(Error("Error finding target position",{cause:e}))}return null};function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=(0,i.Z)(t,1)[0],o=g(e);return(0,c.H)(v(e,r,n),{scrollTargetId:"note-container",resizeTarget:o})}},28378:function(e,t,n){"use strict";n.d(t,{W:function(){return m}});var r=n(98788),i=n(90581),o=n(70865),a=n(96670),s=n(87394),u=n(22970),c=n(60417),l=/*#__PURE__*/n.n(c),A=n(96795),d=/*#__PURE__*/n.n(A),f=n(89960),h=n(32021),p=n(12995),g=/*#__PURE__*/function(){function e(t,n,r,o){(0,i.Z)(this,e),this.userId=t,this.lastOpId=n,this.selection=r,this.collab=o,this.isFading=!1,this.initFadeTimer(),this.decoration=this.makeDecoration(),this.isFading=!1}var t=e.prototype;return t.update=function(e,t){this.selection=e,t&&(this.lastOpId=t),this.initFadeTimer()},t.initFadeTimer=function(){var e=this;this._timer&&clearTimeout(this._timer),this.isFading=!1,this.setDecoration(),this._timer=setTimeout(function(){e.destroy()},3e4)},t.destroy=function(){var e=this;this.isFading=!0,this.setDecoration(),this._timer=setTimeout(function(){e.selection=null,e.setDecoration()},800)},t.setDecoration=function(){var e,t;this.decoration=this.makeDecoration(),null===(t=(e=this.collab).triggerUpdate)||void 0===t||t.call(e)},t.makeDecoration=function(){if(null!=this.selection)return(0,a.Z)((0,o.Z)({},this.selection),{lastOpId:this.lastOpId,userId:this.userId,remoteSelection:this.selection,isFading:this.isFading})},e}(),v=/*#__PURE__*/function(){function e(t){(0,i.Z)(this,e),this._collab=t,this._selections={},this._selections={}}var t=e.prototype;return t.setUserSelection=function(e,t,n){this._selections[e]||(this._selections[e]=new g(e,n,t,this._collab));try{this._selections[e].update(t,n)}catch(t){(0,f.T)(Error("Error setting selection",{cause:t})),this._selections[e].update(null,n)}},t.getSelections=function(){return this._selections},t.updateSelections=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e.length&&Object.keys(this._selections).forEach(function(r){try{if(t.exclude&&t.exclude===r)return;var i=n._selections[r].selection;if(i){var o=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,A=p.e6.transform(i,l);if(!A)break;i=A}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}n.setUserSelection(r,i)}catch(e){(0,f.T)(Error("Error updating selection",{cause:e})),n.setUserSelection(r,null)}})},e}(),m=/*#__PURE__*/function(){function e(t){var n,c=this;(0,i.Z)(this,e),this.onConnectionChange=function(){},this.isReady=!1,this._hasDisconnected=!1,this._pendingQueue=[],this.getRemoteSelections=function(){var e=c.selectionManager.getSelections();return l()(Object.keys(e).map(function(t){return e[t].decoration}))};var A=this;this._onBadDataDetected=(n=(0,r.Z)(function(e){var t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return A.onError(e),A.isReady=!1,[4,A._adapter.fetchValue()];case 1:return t=n.sent(),A.isReady=!0,A.editor&&t&&(A.editor.children=t.children,A.editor.onChange()),[2]}})}),function(e){return n.apply(this,arguments)}),this._onReceive=function(e){if(c.clientId!==e.clientId){if("function"!=typeof c._onRemoteOpsReceived){c._pendingQueue.push(e);return}var t=(0,s.Z)(d()(e.ops,function(e){return"set_selection"===e.type}),2),n=t[0],r=t[1];if(n.length&&e.userId!==c.userId){var i=!0,u=!1,l=void 0;try{for(var A,p=n[Symbol.iterator]();!(i=(A=p.next()).done);i=!0){var g=A.value;c.selectionManager.setUserSelection(e.userId,g.newProperties,e.id)}}catch(e){u=!0,l=e}finally{try{i||null==p.return||p.return()}finally{if(u)throw l}}}c.selectionManager.updateSelections(r,{exclude:e.userId});try{c._onRemoteOpsReceived((0,a.Z)((0,o.Z)({},e),{ops:r}))}catch(t){var v=new h.bS(t,h.bS.Codes.ApplyOp);v.isSevere=c._adapter.hasPendingOps(),v.handled=!0,v.cause=t,(0,f.T)(v,{msg:JSON.stringify(e)}),c._onBadDataDetected({error:v,area:"ApplyOpServer"})}}},this.clientId=t.clientId,this.userId=t.userId,this._adapter=t.adapter,this.onError=t.onError,this.makeOnConnectionChange(t.onConnectionChange),this.selectionManager=new v(this),this._adapter.on(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.on(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.on(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange)}var t=e.prototype;return t.destroy=function(){this.isReady=!1,this.sendOps([],null),this._adapter.off(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange),this._adapter.off(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.off(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.destroy(),this._onRemoteOpsReceived=void 0,this.editor=void 0},t.isConnected=function(){return this._adapter.isConnected},t.makeOnConnectionChange=function(e){var t=this;this.onConnectionChange=function(n){!1===n&&(t._hasDisconnected=!0,null==e||e(!1)),!0===n&&t._hasDisconnected&&(null==e||e(!0))}},t.getInitialData=function(){var e=this;return(0,r.Z)(function(){var t,n,r;return(0,u.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e._adapter.fetchValue()];case 1:return t=i.sent(),e._adapter.initialize(),e.initialValue=null==t?void 0:t.children,e.isReady=!0,[2,t];case 2:if("status"in(n=i.sent())&&403===n.status)return[2,void 0];return r=new h.bS(n,h.BA.LoadValue),e.onError(r),[2,void 0];case 3:return[2]}})})()},t.setEditor=function(e){this.editor=e},t.sendOps=function(e,t){var n=e.filter(function(e){return"set_selection"!==e.type});this.selectionManager.updateSelections(n),n.push({type:"set_selection",newProperties:null!=t?t:null,properties:null}),this._adapter.sendOps(n)},t.onRemoteOpsReceived=function(e){var t;this._onRemoteOpsReceived=e,(null===(t=this._pendingQueue)||void 0===t?void 0:t.length)&&(this._pendingQueue.forEach(function(t){e(t)}),this._pendingQueue=[])},e}()},69992:function(e,t,n){"use strict";n.d(t,{YV:function(){return g}});var r=n(70865),i=n(96670),o=n(87394),a=n(50930),s=n(12995);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if("move_node"===e.type&&s.y$.equals(e.path,e.newPath))return[];if("move_node"===t.type&&s.y$.equals(t.path,t.newPath))return[e];var o="left"===n?"backward":"forward";if("offset"in e){var a=s.E9.transform({path:e.path,offset:e.offset},t,{affinity:o});return a?[(0,r.Z)({},e,a)]:[]}if("position"in e){var u=s.E9.transform({path:e.path,offset:e.position},t,{affinity:o});return u?[(0,i.Z)((0,r.Z)({},e),{path:u.path,position:u.offset})]:[]}var c="path"in e?s.y$.transform(e.path,t,{affinity:o}):void 0;return c?[(0,i.Z)((0,r.Z)({},e),{path:c})]:[]}function c(e){return[{type:"remove_node",path:e.path.slice(),node:{text:""}},{type:"insert_node",path:s.y$.transform(e.path,e),node:{text:""}}]}function l(e,t){var n=e.path,o=s.y$.transform(t.path,(0,i.Z)((0,r.Z)({},e),{type:"insert_node"}));return s.y$.isSibling(n,o)&&s.y$.endsBefore(n,o)&&(o=s.y$.previous(o)),{type:"move_node",path:n,newPath:o}}function A(e,t){var n=t.path,r=s.y$.transform(e.path,t);return s.y$.isSibling(n,r)&&s.y$.endsBefore(n,r)&&(r=s.y$.previous(r)),{type:"move_node",path:n,newPath:r}}function d(e){return function(t,n,r,i){return t.path===t.newPath?[]:e(t,n,r,i)}}function f(e,t,n){var o=e.path.concat(e.position),a=s.y$.transform(o,t,{affinity:"left"===n?"forward":"backward"});return(null==a?void 0:a.length)?(0,i.Z)((0,r.Z)({},e),{position:a.at(-1)}):e}var h={remove_text:{insert_text:function(e,t,n){if(s.y$.equals(e.path,t.path)&&e.offset<t.offset&&e.offset+e.text.length>t.offset){var o=t.offset-e.offset,a=e.text.slice(0,o),c=e.text.slice(o);return[(0,i.Z)((0,r.Z)({},e),{text:a+t.text+c})]}return u(e,t,n)},remove_text:function(e,t,n){if(s.y$.equals(e.path,t.path)&&e.offset+e.text.length>t.offset&&t.offset+t.text.length>e.offset){var o=Math.max(t.offset-e.offset,0),a=e.text.slice(0,o),c=Math.min(e.text.length,t.offset+t.text.length-e.offset),l=e.text.slice(c);return[(0,i.Z)((0,r.Z)({},e),{offset:Math.min(e.offset,t.offset),text:a+l})]}return u(e,t,n)},split_node:function(e,t,n){return s.y$.equals(e.path,t.path)&&e.offset<t.position&&e.offset+e.text.length>t.position?[(0,i.Z)((0,r.Z)({},e),{text:e.text.slice(0,t.position-e.offset)}),(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(t.path),offset:0,text:e.text.slice(t.position-e.offset)})]:u(e,t,n)}},insert_node:{insert_node:function(e,t,n){return s.y$.equals(e.path,t.path)&&"left"===n?[e]:u(e,t,n)},remove_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[e]:u(e,t,n)},merge_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.xv.isText(e.node)?e.node.text.length:e.node.children.length;return[(0,i.Z)((0,r.Z)({},t),{type:"split_node",path:s.y$.previous(t.path)}),e,t,(0,i.Z)((0,r.Z)({},t),{position:t.position+o})]}return u(e,t,n)},move_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.y$.transform(s.y$.next(e.path),t);return[(0,i.Z)((0,r.Z)({},e),{path:o})]}return u(e,t,n)}},remove_node:{split_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[e,e]:u(e,t,n)},merge_node:function(e,t,n){return s.y$.equals(e.path,t.path)||s.y$.equals(e.path,s.y$.previous(t.path))?[s.OX.inverse(t),e]:u(e,t,n)},move_node:function(e,t,n,u){if(s.y$.equals(t.path,t.newPath))return[e];var l=(0,o.Z)(c(t),2),A=l[0],d=l[1],f=(0,o.Z)(u([e],[A,d],n),2),h=f[0],p=f[1];return 0===h.length?[(0,i.Z)((0,r.Z)({},e),{path:d.path.concat(e.path.slice(A.path.length))})]:1===p.length&&"insert_node"===p[0].type?(0,a.Z)(h).concat([{type:"remove_node",path:p[0].path,node:{text:""}}]):h}},merge_node:{insert_text:function(e,t){return s.y$.equals(e.path,s.y$.next(t.path))?[(0,i.Z)((0,r.Z)({},e),{position:e.position+t.text.length})]:[e]},remove_text:function(e,t){return s.y$.equals(e.path,s.y$.next(t.path))?[(0,i.Z)((0,r.Z)({},e),{position:e.position-t.text.length})]:[e]},insert_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.xv.isText(t.node)?t.node.text.length:t.node.children.length;return[e,(0,i.Z)((0,r.Z)({},e),{position:e.position+o})]}return s.y$.isParent(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{position:e.position+1})]:u(e,t,n)},remove_node:function(e,t){if(s.y$.isParent(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{position:e.position-1})];var n=s.y$.transform(e.path,t),o=s.y$.transform(s.y$.previous(e.path),t);return n&&o?[(0,i.Z)((0,r.Z)({},e),{path:n})]:!n&&o?[(0,i.Z)((0,r.Z)({},t),{path:o})]:n&&!o?[(0,i.Z)((0,r.Z)({},t),{path:n})]:[]},split_node:function(e,t,n){if(s.y$.equals(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path),position:e.position-t.position})];if(s.y$.isParent(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{position:e.position+1})];var o=s.y$.transform(e.path,t,{affinity:"left"===n?"backward":"forward"});return 0===o[o.length-1]?[]:u(e,t,n)},merge_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[]:s.y$.equals(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{path:s.y$.previous(e.path),position:e.position+t.position})]:s.y$.isParent(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{position:e.position-1})]:u(e,t,n)},move_node:function(e,t){if(s.y$.equals(t.path,t.newPath))return[e];var n=e.path,o=s.y$.previous(n),a=s.y$.transform(n,t),u=s.y$.transform(o,t);if(!s.y$.equals(a,s.y$.next(u)))return[{type:"remove_node",path:a,node:{text:""}}];var c=e.position;return s.y$.isParent(o,t.path)&&c--,s.y$.isParent(o,t.newPath)&&c++,[(0,i.Z)((0,r.Z)({},e),{path:a,position:c})]}},move_node:{insert_node:d(function(e,t,n,r){var i=c(e),a=(0,o.Z)(r(i,[t],n),1),s=(0,o.Z)(a[0],2),u=s[0],A=s[1];return(null==u?void 0:u.type)!=="remove_node"||(null==A?void 0:A.type)!=="insert_node"?[]:[l(u,A)]}),remove_node:d(function(e,t,n,i){var a=c(e),s=(0,o.Z)(i(a,[t],n),1)[0];if(1===s.length){if("remove_node"===s[0].type)return[s[0]];if("insert_node"===s[0].type)return[]}return 2===s.length&&"remove_node"===s[0].type&&"insert_node"===s[1].type?[(0,r.Z)({},e,l(s[0],s[1]))]:[]}),split_node:d(function(e,t){var n=s.y$.isSibling(e.path,e.newPath)&&s.y$.endsBefore(e.path,e.newPath);if(s.y$.equals(e.path,t.path)){var o=s.y$.transform(e.newPath,t);if(n)return[(0,i.Z)((0,r.Z)({},e),{newPath:o}),(0,i.Z)((0,r.Z)({},e),{newPath:o})];var a=(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path),newPath:o}),u=(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,a),newPath:s.y$.previous(s.y$.transform(o,a))});return[a,u]}var c=s.y$.transform(e.newPath,t);return s.y$.equals(c,s.y$.next(t.path))&&!n?c=t.path:n&&!s.y$.isSibling(e.path,c)&&(c=s.y$.next(c)),[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:c})]}),merge_node:d(function(e,t){var n=t.path,o=s.y$.previous(n);return(n=s.y$.transform(n,e),s.y$.equals(n,s.y$.next(o)))?s.y$.isParent(s.y$.previous(t.path),e.path)&&s.y$.isParent(t.path,e.newPath)?[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:s.y$.previous(s.y$.transform(e.newPath,t))})]:[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:s.y$.transform(e.newPath,t)})]:[(0,i.Z)((0,r.Z)({},t),{type:"split_node",path:o}),e,{type:"remove_node",path:n,node:{text:""}}]}),move_node:d(function(e,t,n,r){if(s.y$.equals(t.path,t.newPath))return[e];var i=c(e),u=c(t),d="left"===n?[A.apply(void 0,(0,a.Z)(u)),e]:[],f=(0,o.Z)(r(i,u,n),2),h=f[0],p=f[1];if(2===h.length)return"remove_node"!==h[0].type||"insert_node"!==h[1].type?d:[l(h[0],h[1])];if(1===p.length)return d;if("remove_node"!==p[0].type||"insert_node"!==p[1].type)return[];if(0===h.length)h[0]={type:"remove_node",path:u[1].path.concat(i[1].path.slice(u[0].path.length)),node:{text:""}},h[1]={type:"insert_node",path:u[1].path.concat(i[1].path.slice(u[0].path.length)),node:{text:""}};else if("remove_node"===h[0].type)h[1]={type:"insert_node",path:p[1].path.concat(i[1].path.slice(p[0].path.length)),node:{text:""}};else{if("insert_node"!==h[0].type)return d;h[1]=h[0],h[0]={type:"remove_node",path:u[1].path.concat(i[1].path.slice(u[0].path.length)),node:{text:""}}}return[l(h[0],h[1])]}),set_node:d(function(e){return[e]}),insert_text:d(function(e){return[e]}),remove_text:d(function(e){return[e]})},set_node:{split_node:function(e,t){return s.y$.equals(e.path,t.path)?[e,(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path)})]:u(e,t)},merge_node:function(e,t){return s.y$.equals(e.path,t.path)?[]:u(e,t)},set_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o="left"===n?(0,r.Z)({},t.newProperties,e.newProperties):(0,r.Z)({},e.newProperties,t.newProperties);return[(0,i.Z)((0,r.Z)({},e),{newProperties:o})]}return[e]}},split_node:{merge_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[f(e,t,n)]:u(e,t,n)},remove_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[f(e,t,n)]:u(e,t,n)},insert_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[f(e,t,n)]:u(e,t,n)},move_node:function(e,t,n){return s.y$.isParent(e.path,t.path)||s.y$.isParent(e.path,t.newPath)?[f(e,t,n)]:u(e,t,n)},split_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[f(e,t,n)]:u(e,t,n)}}};function p(e,t,n){var r,i;return"set_selection"===t.type?[e]:(null!==(i=null===(r=h[e.type])||void 0===r?void 0:r[t.type])&&void 0!==i?i:u)(e,t,n,g)}function g(e,t,n){for(var u,c,l=function(e){var t=[],n=!0,o=!1,a=void 0;try{for(var u,c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var A=c.value;if(!u){u=A,t.push(A);continue}if("insert_text"===A.type&&"insert_text"===u.type&&A.offset===u.offset+u.text.length&&s.y$.equals(A.path,u.path)){u.isComposed||(u=(0,i.Z)((0,r.Z)({},u),{isComposed:!0}),t[t.length-1]=u),u.text+=A.text;continue}if("remove_text"===A.type&&"remove_text"===u.type&&A.offset===u.offset-u.text.length&&s.y$.equals(A.path,u.path)){u.isComposed||(u=(0,i.Z)((0,r.Z)({},u),{isComposed:!0}),t[t.length-1]=u),u.text+=A.text,u.offset=A.offset;continue}u=A,t.push(A)}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}(e),A=l.length,d=-1,f=[],h=t;A>0;)A--,d++,u=(c=(0,o.Z)(function(e,t,n){for(var r=[],i=t.length,s=-1;i>0;){i--;var u,c=t[++s],l=(0,o.Z)([p(u=e,c,n),p(c,u,"left"===n?"right":"left")],2),A=l[0],d=l[1];if(r.push.apply(r,(0,a.Z)(d)),0===A.length)return[[],r.concat(t.slice(s+1))];if(1===A.length){e=A[0];continue}var f=(0,o.Z)(g(A,t.slice(s+1),n),2),h=f[0],v=f[1];return[h,r.concat(v)]}return[[e],r]}(l[d],h,n),2))[0],h=c[1],f.push.apply(f,(0,a.Z)(u));return[function(e){var t=[],n=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0)!function(){var e=u.value;if(e.isComposed&&("insert_text"===e.type||"remove_text"===e.type)){e.isComposed=void 0;var n=e.offset,o=Array.from(e.text).map(function(t){var o=(0,i.Z)((0,r.Z)({},e),{text:t,offset:n});return n+=t.length,o});return"remove_text"===e.type&&o.reverse(),t.push.apply(t,(0,a.Z)(o))}t.push(e)}()}catch(e){o=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}return t}(f),h]}},46807:function(e,t,n){"use strict";n.d(t,{H4:function(){return u},Kc:function(){return c},R1:function(){return s}});var r=n(70865),i=n(96670),o=n(12995),a=function(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)!function(){var e=a.value;if(void 0!==e){if(void 0!==e.byElementType){var r=e.byElementType;Object.keys(r).forEach(function(e){return t[e]=r[e]})}if(void 0!==e.byFormat){var i=e.byFormat;Object.keys(i).forEach(function(e){return n[e]=i[e]})}}}()}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return{tagRegistrar:t,formatRegistrar:n}},s=function(e){var t=e.element,n=e.markdown,r=e.childrenMarkdownPosition,i=t.text;switch(r){case"before":return i+n;case"after":return n+i;case"between":return n[0]+i+n[1];default:return""}},u=function(e){var t,n,r=e.editor,i=e.element,o=e.markdown,a=e.serializeChildren,s=e.isInTable,u=e.childrenMarkdownPosition,c=null!==(n=null===(t=i.children)||void 0===t?void 0:t.map(function(e){return a({editor:r,element:e,serializeChildren:a,isInTable:s})}).join(""))&&void 0!==n?n:"";switch(u){case"before":return c+o;case"after":return o+c;case"between":return o[0]+c+o[1];default:return""}},c=function(e,t){var n=a(t.map(function(e){return e.toMarkdown})),s=n.tagRegistrar,c=n.formatRegistrar,l=function(e){var t=e.editor,n=e.element,i=e.serializeChildren,o=Object.keys(n).map(function(e){return c[e]}).filter(function(e){return void 0!==e});if(!o.length)return n.text;var a=(0,r.Z)({},n),s=!0,u=!1,l=void 0;try{for(var A,d=o[Symbol.iterator]();!(s=(A=d.next()).done);s=!0){var f=(0,A.value)({editor:t,element:a,serializeChildren:i});a.text=f}}catch(e){u=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}return a.text},A=function(e){var t,n=e.editor,a=e.element,c=e.serializeChildren,A=e.isInTable;return o.xv.isText(a)?l({editor:n,element:a,serializeChildren:c,isInTable:A}):(null!==(t=s[a.type])&&void 0!==t?t:function(e){return u((0,i.Z)((0,r.Z)({},e),{markdown:"",childrenMarkdownPosition:"after"}))})({editor:n,element:a,serializeChildren:c,isInTable:A})};return{toMarkdown:function(t,n){var i=n||e.children;if(t){var o=a(t),u=o.tagRegistrar,l=o.formatRegistrar;s=(0,r.Z)({},s,u),c=(0,r.Z)({},c,l)}return i.map(function(t){return A({editor:e,element:t,serializeChildren:A})}).join("")}}}},3723:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(12995),i=n(85009),o=n(8875);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Jh)();return(0,i.BU)((0,o.V)(e))}},26575:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var r=n(1899),i=n(76592);function o(e,t){var n=t.map(function(e){return e.eventHandlers}).filter(function(e){return void 0!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(n){var r=t[n];n in e&&e[n]?e[n].push(r):e[n]=[r]}),e},{});return Object.keys(n).reduce(function(o,a){return o[a]=function(o){var s=n[a];if(s){var u=!0,c=!1,l=void 0;try{for(var A,d=s[Symbol.iterator]();!(u=(A=d.next()).done);u=!0){var f=function(){var n=A.value;try{var r,s=n(e,o);if(!0===s)return o.preventDefault(),null===(r=e.eventLogger)||void 0===r||r.call(e,"dom_event",{event:a}),{v:!0}}catch(r){if("function"==typeof e.handleError){var u,c=t.find(function(e){return e.eventHandlers&&e.eventHandlers[a]===n});e.handleError((0,i.E)(r,"UserAction",{method:a,plugin:null!==(u=null==c?void 0:c.name)&&void 0!==u?u:"Uknown"}))}}}();if("object"===(0,r.Z)(f))return f.v}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}},o},{})}},56560:function(e,t,n){"use strict";n.d(t,{E:function(){return F}});var r=n(87394),i=n(60417),o=/*#__PURE__*/n.n(i),a=n(75652),s=/*#__PURE__*/n.n(a),u=n(12995),c=n(70865),l=n(96670),A=n(20672),d=n(69992),f=n(47842),h=n(42838),p=n(26297),g=n(50930),v=n(34519),m=/*#__PURE__*/n.n(v),y=n(3220),b=n(37578),w=n(59806),_=n(69803),E=new Set(["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]);function C(e){if("function"==typeof e)return e;var t=(0,y.pq)(e);return function(e){var n=e.domNode,r=e.parseChildren,i=(0,p.Z)(e,["domNode","parseChildren"]),o=r((0,c.Z)({domNode:n.childNodes,parseChildren:r},i));return(0,l.Z)((0,c.Z)({},t),{children:o})}}function B(e){var t="string"==typeof e?(0,f.Z)({},e,!0):e;return function(e){var n=e.domNode,r=e.parseChildren,i=e.textProps;return r({domNode:n.childNodes,parseChildren:r,textProps:(0,c.Z)({},void 0===i?{}:i,t)})}}function I(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s,u=o.value;u.customRules&&(s=e.customRules).push.apply(s,(0,g.Z)(u.customRules)),(null==u?void 0:u.byTag)&&Object.assign(e.byTag,m()(u.byTag,C)),(null==u?void 0:u.formatsByTag)&&Object.assign(e.byTag,m()(u.formatsByTag,B))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}function x(e){(0,h.Z)(e.firstElementChild,HTMLBRElement)&&e.removeChild(e.firstElementChild),(0,h.Z)(e.lastElementChild,HTMLBRElement)&&e.removeChild(e.lastElementChild),0===e.childNodes.length&&e.parentNode&&e.parentNode.removeChild(e)}function T(e){return e?Array.isArray(e)?e:[e]:[]}var S=function(e,t){var n={customRules:[],byTag:{}};I(n,t.filter(function(e){return void 0!==e.fromHtml}).map(function(e){return e.fromHtml}));var r=e.insertTextData;return{fromHtml:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r&&I(n,r),(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=function(e){var r=e.domNode,o=e.parseChildren,a=e.textProps,s=void 0===a?{}:a;try{if((0,h.Z)(r,NodeList)&&(r=Array.from(r)),Array.isArray(r))return Array.from(r).flatMap(function(e){return null!==(_=i({domNode:e,parseChildren:o,textProps:s}))&&void 0!==_?_:[]});if(r.nodeType===Node.TEXT_NODE)return[(0,c.Z)({text:(null!==(E=r.textContent)&&void 0!==E?E:"").replaceAll(/\s+/g," ")},s)];if((0,h.Z)(r,HTMLElement)){if(p=r,g=s,v={},m=p.style.fontWeight,(g.bold&&!m||"bold"===m||"bolder"===m||/^\d+$/.test(m)&&m[0]>"5")&&(v.bold=!0),y=p.style.fontStyle,(g.italic&&!y||"italic"===y||y.startsWith("oblique"))&&(v.italic=!0),b=p.style.textDecoration,w=p.style.borderBottomWidth,(g.underline&&!b||b.includes("underline")||w&&0!==parseFloat(w))&&(v.underline=!0),(g.strike&&!b||b.includes("line-through"))&&(v.strike=!0),s=v,"presentation"===r.getAttribute("role"))return o({domNode:Array.from(r.childNodes),parseChildren:o,textProps:s});var u=t.customRules,l=t.byTag,A=!0,d=!1,f=void 0;try{for(var p,g,v,m,y,b,w,_,E,C,B=u[Symbol.iterator]();!(A=(C=B.next()).done);A=!0){var I=(0,C.value)({domNode:r,parseChildren:o,textProps:s},n);if(I)return T(I)}}catch(e){d=!0,f=e}finally{try{A||null==B.return||B.return()}finally{if(d)throw f}}var x=r.nodeName;if(x&&l[x]){var S=l[x]({domNode:r,parseChildren:o,textProps:s},n);if(S)return T(S)}return o({domNode:Array.from(r.childNodes),parseChildren:o,textProps:s})}return[]}catch(e){return console.error("Error parsing",e),[]}};!function(e,t){var n=t.keepEmptyLines;if(e.querySelectorAll("meta").forEach(function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}),null===(s=e.firstElementChild)||void 0===s?void 0:s.id.startsWith("docs-internal-guid")){for(;e.firstElementChild.childNodes.length;)e.appendChild(e.firstElementChild.firstChild);e.removeChild(e.firstElementChild)}var r=e.ownerDocument.createElement("p"),i=!0,o=!1,a=void 0;try{for(var s,u,c=Array.from(e.childNodes)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;l.nodeType===e.TEXT_NODE||E.has(l.nodeName.toLowerCase())?(null===r.parentNode&&e.insertBefore(r,l),n||r.appendChild(l)):r.parentNode&&(x(r),r=e.ownerDocument.createElement("p"))}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}n||x(r),e.querySelectorAll("br.Apple-interchange-newline").forEach(function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)});var A=e.querySelectorAll("li p"),d=!0,f=!1,p=void 0;try{for(var g,v=A[Symbol.iterator]();!(d=(g=v.next()).done);d=!0)!function(){for(var e,t,n=g.value,r=n.ownerDocument.createElement("span"),i=0;i<n.style.length;i++)""===r.style.getPropertyValue(n.style[i])&&r.style.setProperty(n.style[i],n.style.getPropertyValue(n.style[i]));Array.from(n.childNodes).forEach(function(e){return r.append(e)}),null===(e=n.parentNode)||void 0===e||e.insertBefore(r,n),null===(t=n.parentNode)||void 0===t||t.removeChild(n)}()}catch(e){f=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}var m=e.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),y=!0,b=!1,w=void 0;try{for(var _,C=m[Symbol.iterator]();!(y=(_=C.next()).done);y=!0){var B,I=_.value,T=void 0;I.previousElementSibling&&(0,h.Z)(I.previousElementSibling,HTMLLIElement)?T=I.previousElementSibling:(T=e.ownerDocument.createElement("li"),null===(B=I.parentElement)||void 0===B||B.insertBefore(T,I)),T.appendChild(I)}}catch(e){b=!0,w=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw w}}var S=e.querySelectorAll("p"),k=["hr","img"],N=!0,D=!1,O=void 0;try{for(var R,F=S[Symbol.iterator]();!(N=(R=F.next()).done);N=!0){var L,P,U=R.value,M=Array.from(U.children),j=0===M.length&&!U.textContent,Z=!M.find(function(e){return k.includes(e.tagName.toLocaleLowerCase())})&&(null===(L=U.textContent)||void 0===L?void 0:L.trim())==="";(j||Z)&&(n?U.innerHTML="":null===(P=U.parentNode)||void 0===P||P.removeChild(U))}}catch(e){D=!0,O=e}finally{try{N||null==F.return||F.return()}finally{if(D)throw O}}var Q=e.querySelectorAll("ul, ol, li, table, thead, tbody, tr"),H=!0,V=!1,K=void 0;try{for(var G,z=Q[Symbol.iterator]();!(H=(G=z.next()).done);H=!0)!function(){var e=G.value;e.childNodes.forEach(function(t){t.nodeType===Node.TEXT_NODE&&"\n"===t.textContent&&e.removeChild(t)})}()}catch(e){V=!0,K=e}finally{try{H||null==z.return||z.return()}finally{if(V)throw K}}}(e,r);var o=i({domNode:e,parseChildren:i});return T(o=o.filter(function(e){return!u.xv.isText(e)||""!==e.text.trim()}))})(t,n,e,i).map(function(t){return u.ML.isInline(e,t)||u.xv.isText(t)?{type:"paragraph",children:[t]}:t})},insertTextData:function(t){try{var n=function(e,t){var n=e.getData("text/html"),r=e.getData("text/plain");if(n){var i=new DOMParser().parseFromString(n,"text/html");if(!1===function(e){if((0,h.Z)(e.firstElementChild,HTMLTableElement)&&e.firstElementChild.dataset.tabSize)return!0;var t=!0,n=!1,r=void 0;try{for(var i,o=e.childNodes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,s=i.value;if("#text"===s.nodeName&&(null===(a=s.textContent)||void 0===a?void 0:a.trim())!==""||(0,h.Z)(s,HTMLElement)&&!1===(0,h.Z)(s,HTMLPreElement)&&!1===s.style.fontFamily.includes("monospace")&&"Apple-interchange-newline"!==s.className)return!1}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return!0}(i.body))return{fragment:t.fromHtml(i.body),isParsedAsCode:!1,text:r}}if(/[{}[\]():;'"><=|]/.test(r)){var o,a,s,u=_.ZP.highlightAuto(r);if(null===(s=t.eventLogger)||void 0===s||s.call(t,"paste",{language:u.language,relevance:u.relevance,secondBest:null===(o=u.secondBest)||void 0===o?void 0:o.language,secondBestRelevance:null===(a=u.secondBest)||void 0===a?void 0:a.relevance}),u.language&&"markdown"!==u.language&&"plaintext"!==u.language)return{fragment:[(0,w.mj)(r)],isParsedAsCode:!0,text:r}}return{fragment:t.fromHtml((0,b.e)(r)),isParsedAsCode:!1,text:r}}(t,e),i=n.fragment,o=n.isParsedAsCode,a=n.text;return o?(u.YR.insertNodes(e,[{text:a}]),e.sealHistoryEntry(),u.YR.delete(e,{distance:a.length,reverse:!0,unit:"character"}),e.insertFragment(i),e.sealHistoryEntry()):e.insertFragment(i),!0}catch(e){return r(t)}}}},k=n(46807),N=n(76592),D=n(93707),O=n(53942),R=n(56704);function F(e,t,n,i,a,f,h){var p,g,v,m,b,w,_,E,C,B,I,x,T,F,L,P,U,M,j,Z,Q,H,V=e;return p=V,g=(0,R.lC)(t,function(e){return"inline"in e&&e.inline}),v=p.isInline,p.isInline=function(e){return!!g.includes(e.type)||v(e)},m=V=p,b=(0,R.lC)(t,function(e){return"void"in e&&e.void}),w=(0,R.x0)(t,"isVoid"),_=m.isVoid,m.isVoid=function(e){if(b.includes(e.type))return!0;if(e.type in w){var t=w[e.type];if("function"==typeof t)return t(m,e)}return _(e)},E=V=m,C=(0,R.lC)(t,function(e){return"enterBehavior"in e&&e.enterBehavior}),B=(0,R.lC)(t,function(e){return"softBreakBehavior"in e&&e.softBreakBehavior}),I=E.insertBreak,x=E.insertSoftBreak,E.insertBreak=function(){if((0,O.ss)(E)&&u.YR.move(E,{unit:"offset",distance:1}),(0,O.MO)(E,C["soft-break"])){E.insertText("\n");return}var e=(0,O.MO)(E,C["split-parent"]);if(e){(0,y.a8)(E,e[1]);return}var t=(0,O.MO)(E,C["create-paragraph"]);if(t){(0,y.iL)(E,{type:t[0].type});return}var n=(0,O.MO)(E,C["paragraph-below"]);if(n){var r=u.y$.next(n[1]);u.YR.insertNodes(E,{type:"paragraph",children:[{text:""}]},{at:r}),u.YR.select(E,r);return}I()},E.insertSoftBreak=function(){if((0,O.MO)(E,B["soft-break"])){E.insertText("\n");return}x()},T=V=function(e,t){var n={},i=[],o=[],a=e.normalizeNode;(0,R.B9)(t,function(e,t){t&&"normalize"in t&&"function"==typeof t.normalize&&(n[e]=t.normalize)});var s=!0,u=!1,c=void 0;try{for(var l,A=t[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value;"function"==typeof d.normalizeEditor&&i.push(d.normalizeEditor),"function"==typeof d.genericNormalizer&&o.push(d.genericNormalizer)}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}return e.normalizeNode=function(t){var s=(0,r.Z)(t,2),u=s[0],c=s[1];if(!c.length){var l=!0,A=!1,d=void 0;try{for(var f,h=i[Symbol.iterator]();!(l=(f=h.next()).done);l=!0)if((0,f.value)(e,[u,c]))return!0}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}a([u,c]);return}if("type"in u){var p=!0,g=!1,v=void 0;try{for(var m,y=o[Symbol.iterator]();!(p=(m=y.next()).done);p=!0)if((0,m.value)(e,[u,c]))return!0}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}}var b="type"in u&&n[u.type];if("type"in u&&"function"==typeof b&&b(e,[u,c]))return!0;a([u,c])},e}(V=E,t),F=s()(o()(t.map(function(e){return e.onChange}))),L=T.onChange,T.onChange=function(){F.forEach(function(e){return e(T)}),L()},P=V=T,U=(0,k.Kc)(P,t).toMarkdown,j=(M=S(P,t)).fromHtml,Z=M.insertTextData,P.fromHtml=j,P.toMarkdown=U,P.insertTextData=Z,Q=V=P,H=(0,R.lC)(t,function(e){return"isContainerBlock"in e&&!!e.isContainerBlock}),Q.isContainerBlock=function(e){return u.ML.isBlock(Q,e)&&H.includes(e.type)},V=Q,t.forEach(function(e){e.editor&&(V=e.editor(V))}),V=function(e,t){var n=e.insertText,r=(0,R.lC)(t,function(e){return"disableTextInputHandlers"in e&&e.disableTextInputHandlers}),i=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l,A=s.value;(null===(l=A.textInputHandlers)||void 0===l?void 0:l.length)&&(e=(0,D.Kj)(e,A.textInputHandlers))}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}var d=e.insertText;return e.insertText=function(t){if(u.ML.above(e,{match:function(e){return"type"in e&&!!r.includes(e.type)}})){n(t);return}d(t)},e}(V,t),i&&(V=(0,N.K)(V,i)),n&&(V=function(e,t,n){if(!t||t.editor===e)return e;t.setEditor(e);var i=e.onChange;return t.triggerUpdate=i,t.onRemoteOpsReceived(function(n){if((null===(i=e.children)||void 0===i?void 0:i.length)&&n.ops.length){var i,o=n.ops.map(function(e){return(0,l.Z)((0,c.Z)({},e),{isRemote:!0})});A.MO.withoutSaving(e,function(){o&&o.length&&u.ML.withoutNormalizing(e,function(){var t=!0,n=!1,r=void 0;try{for(var i,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if("set_selection"!==s.type)try{e.apply(s)}catch(e){throw e}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}),function(e,t,n){var i=n>t.clientId?"right":"left";if(null===(A=e.history)||void 0===A?void 0:null===(f=A.undos)||void 0===f?void 0:f.length){var o=[],a=!0,s=!1,u=void 0;try{for(var A,f,h,p,g,v=e.history.undos.reverse()[Symbol.iterator]();!(a=(g=v.next()).done);a=!0){var m=g.value,y=(0,r.Z)((0,d.YV)(m.operations,t.ops,i),1)[0];if(y.length){var b=(0,l.Z)((0,c.Z)({},m),{operations:y});o.unshift(b)}}}catch(e){s=!0,u=e}finally{try{a||null==v.return||v.return()}finally{if(s)throw u}}e.history.undos=o}if(null===(h=e.history)||void 0===h?void 0:null===(p=h.redos)||void 0===p?void 0:p.length){var w=[],_=!0,E=!1,C=void 0;try{for(var B,I=e.history.redos.reverse()[Symbol.iterator]();!(_=(B=I.next()).done);_=!0){var x=B.value,T=(0,r.Z)((0,d.YV)(x.operations,t.ops,i),1)[0];if(T.length){var S=(0,l.Z)((0,c.Z)({},x),{operations:T});w.unshift(S)}}}catch(e){E=!0,C=e}finally{try{_||null==I.return||I.return()}finally{if(E)throw C}}e.history.redos=w}}(e,n,t.clientId)})}}),n||(e.onChange=function(){var n=e.operations.filter(function(e){return!e.isRemote});n.length&&t.sendOps(n,e.selection),i()}),e}(V,n,null!=h&&h)),a&&(V.eventLogger=a),f&&(V.toast=f),V}},3220:function(e,t,n){"use strict";n.d(t,{UT:function(){return C},Yl:function(){return m},Z3:function(){return S},a8:function(){return _},dV:function(){return function e(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(l()(u,n))return u;if("children"in u){var c=e(u.children,n);if(c)return c}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},iL:function(){return b},m_:function(){return E},nv:function(){return I},oe:function(){return T},pq:function(){return g},q2:function(){return v},s6:function(){return w},uk:function(){return B},um:function(){return x}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(18149),u=/*#__PURE__*/n.n(s),c=n(61726),l=/*#__PURE__*/n.n(c),A=n(17620),d=/*#__PURE__*/n.n(A),f=n(12995),h=n(53942),p=n(72572);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"==typeof e?{type:e}:("function"==typeof e&&(e=e(t)),e)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r;return!(!i||(0,h.wu)(e,{at:i,type:t.type}))&&m(e,t,n)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.at,s=void 0===o?e.selection:o,u=t.type;if(!s)return!1;var c=f.ML.unhangRange(e,s),l=(0,a.Z)(f.e6.edges(c),2),A=l[0],d=l[1];if(f.e6.isCollapsed(c)){if((0,h.wu)(e,{at:s,type:u}))return f.YR.unwrapNodes(e,{at:s,match:function(e){return"type"in e&&e.type===u}}),!0;var g=0===s.focus.offset||s.focus.offset===f.ML.node(e,s.focus.path)[0].text.length;return f.YR.insertNodes(e,[(0,i.Z)((0,r.Z)({},t),{children:[{text:p.$}]})],{at:s}),g&&f.YR.move(e,{unit:"character",distance:1}),!0}if(f.y$.equals(A.path,d.path))return y(e,t,{range:c,selectNode:!0});var v=(0,h.Qs)(e,c,{type:u});return f.ML.withoutNormalizing(e,function(){var n=[],r=!0,i=!0,o=!1,s=void 0;try{for(var l,p=f.NB.texts(e,{from:d.path,to:A.path,reverse:!0})[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var g=(0,a.Z)(l.value,2),m=(g[0],g[1]),b=f.e6.intersection(c,f.ML.range(e,m));if(b){var w=f.ML.rangeRef(e,b,{affinity:"backward"});n.push(w),y(e,t,{range:b,selectNode:r,forceCreate:v}),r=!1}}}catch(e){o=!0,s=e}finally{try{i||null==p.return||p.return()}finally{if(o)throw s}}(function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=u.unref();if(c&&u!==t.at(-1)){var l=(0,h.wu)(e,{at:c,type:n});if(l){var A=f.y$.previous(l[1]),d=f.NB.get(e,A);"type"in d&&d.type===n&&f.YR.mergeNodes(e,{at:c.anchor.path,match:function(e){return"type"in e&&e.type===n}})}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}})(e,n,u)}),!0}function y(e,t,n){var r=n.range,i=n.selectNode,o=n.forceCreate,s=t.type,u=(0,a.Z)(f.e6.edges(r),2),c=u[0],l=u[1],A=Object.assign({children:[]},t),d=(0,h.wu)(e,{at:r,type:s}),p=f.ML.pointRef(e,c),g=f.ML.pointRef(e,l,{affinity:"backward"});return f.ML.withoutNormalizing(e,function(){var t=d?function(e){return"type"in e&&e.type===s}:function(e){return f.xv.isText(e)};l.offset!==f.ML.end(e,l.path).offset&&f.YR.splitNodes(e,{at:l,match:t}),0!==c.offset&&f.YR.splitNodes(e,{at:c,match:t}),d?(f.YR.unwrapNodes(e,{match:function(e){return"type"in e&&e.type===s},at:{focus:g.current,anchor:p.current}}),o&&f.YR.wrapNodes(e,A,{match:function(e){return f.xv.isText(e)},at:{focus:g.current,anchor:p.current}})):f.YR.wrapNodes(e,A,{match:function(e){return f.xv.isText(e)},at:{focus:g.current,anchor:p.current}}),i?f.YR.select(e,{focus:p.current,anchor:g.current}):f.YR.setSelection(e,{focus:p.current})}),p.unref(),g.unref(),!0}function b(e,t){var n=t.at,r=void 0===n?e.selection:n,i=t.type;if(!r)return!1;var o=(0,h.yi)(e,{at:r}),a=(0,h.FU)(e,{at:r,includeOffset:!0});if(o||a){var s,u=null===(s=f.ML.above(e,{at:r,match:function(t){return f.ML.isBlock(e,t)}}))||void 0===s?void 0:s[1];if(u){var c=a?u:f.y$.next(u);return f.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:c,select:!a}),!0}}return f.ML.withoutNormalizing(e,function(){var t=f.ML.rangeRef(e,r);f.YR.splitNodes(e,{at:r,always:!0});var n=t.unref();n&&f.YR.setNodes(e,{type:"paragraph"},{at:f.e6.end(n),match:function(e){return"type"in e&&e.type===i}})}),!0}function w(e,t,n){var r,i=n.levels,o=n.abovePath,a=f.ML.pathRef(e,t);if(null!=i)r=i;else if(null!=o)r=t.length-o.length;else{console.warn("Invalid liftElement!");return}f.ML.withoutNormalizing(e,function(){for(var t,n;r>0&&(null!==(n=null===(t=a.current)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>=2;)f.YR.liftNodes(e,{at:a.current}),r--}),a.unref()}function _(e,t){f.ML.withoutNormalizing(e,function(){f.YR.splitNodes(e,{always:!0}),f.YR.splitNodes(e,{at:f.y$.next(t),always:!0})})}function E(e,t,n){var r=n.target,i=n.retainParentType,s=n.retainLevel,u=(0,o.Z)(n,["target","retainParentType","retainLevel"]),c=(0,h.wu)(e,u);if(!c)return!1;var l=(0,a.Z)(c,2),A=(l[0],l[1]),d=r;if((void 0===i||i)&&!r){var p=f.NB.get(e,f.y$.parent(A));d=p&&"type"in p?{type:p.type}:void 0}var g=(0,h._p)(e,A,t,{matchArgs:d,retainLevel:s});return!!(g&&f.NB.has(e,g))&&("down"===t&&0===g[g.length-1]&&(g[g.length-1]=1),f.YR.moveNodes(e,{at:A,to:g}),!0)}function C(e,t){return e&&t&&"type"in e&&"type"in t&&e.type===t.type&&u()(d()(e,"children"),d()(t,"children"))}function B(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];if(0===r.children.length||1===r.children.length&&f.xv.isText(r.children[0])&&""===r.children[0].text)return f.YR.removeNodes(e,{at:i}),!0}var I=function(e,t){var n,r=f.NB.nodes(e);do n=r.next();while(function(e){var n;return(null===(n=e.value)||void 0===n?void 0:n[0].id)!==t&&!e.done}(n));return n.value?n.value:null},x=function(e,t){if(0===e.children.length)return!0;if(!(null==t?void 0:t.requireText)&&e.children.length>1)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(function e(n){return!!f.xv.isText(n)&&""!==n.text||("children"in n?n.children.length>1&&(null==t||!t.requireText)||n.children.some(e):void 0)}(s))return!1}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0},T=function(e){f.YR.delete(e,{at:{anchor:f.ML.start(e,[]),focus:f.ML.end(e,[])}})};function S(e,t,n){if(f.NB.has(e,t)){if(!f.NB.has(e,t.concat(0))){f.YR.removeNodes(e,{at:t});return}f.YR.unwrapNodes(e,null!=n?n:{at:t})}}},76592:function(e,t,n){"use strict";n.d(t,{E:function(){return A},K:function(){return f}});var r=n(42838),i=n(70865),o=n(96670),a=n(26297),s=n(87394),u=n(12995),c=n(32021),l=u.ML.normalize;function A(e,t,n){if(e&&"object"==typeof e&&"error"in e&&"area"in e)return e;var a=(0,r.Z)(e,c.bS),s=a?e:new c.bS(e,t);return(0,o.Z)((0,i.Z)({},n),{error:s,area:a?e.code:t})}function d(e){if((0,r.Z)(e,c.bS)){console.error(e);return}var t=e.error,n=(0,a.Z)(e,["error"]);console.error(t),console.warn(n)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=e.normalizeNode,i=function(n){e.operations=[];var i=(0,r.Z)(n,c.bS)?n:n.error;i.handled||(t(n),i.handled=!0)};return e.handleError=i,e.normalizeNode=function(t){try{n(t)}catch(n){var r=(0,s.Z)(t,1)[0],o=A(n,"Normalize",{nodeType:"type"in r?r.type:"text"in r?"Text":"Editor"});if(i(o),e.__skipNormalizationError)return;throw o.error}},e}u.ML.normalize=function(e,t){try{l(e,t)}catch(t){var n=A(t,"Normalize",{});if("function"==typeof e.handleError&&e.handleError(n),e.__skipNormalizationError)return;throw n.error}}},20660:function(e,t,n){"use strict";n.d(t,{HI:function(){return o},h4:function(){return i},oy:function(){return a}});var r=n(12995);function i(e,t){var n;(n=r.ML.marks(e))&&!0===n[t]?r.ML.removeMark(e,t):r.ML.addMark(e,t,!0)}var o=function(e,t,n){n?r.ML.addMark(e,t,!0):r.ML.removeMark(e,t)},a=function(e,t){var n=Array.from(r.NB.texts(e,{from:t,to:t})).map(function(t){return r.ML.pathRef(e,t[1])}),i=["bold","italic","strike","underline"].reduce(function(e,t){return e[t]=void 0,e},{});n.forEach(function(t){var n=t.unref();n&&r.YR.setNodes(e,i,{at:n})})}},87739:function(e,t,n){"use strict";n.d(t,{AA:function(){return p},R4:function(){return h},UN:function(){return g},km:function(){return d},yy:function(){return f}});var r=n(87394),i=n(50930),o=n(12995),a=n(2012),s=n(95181),u=n(41955),c=n(58490),l=n(31632),A=n(31639),d=function(e){if(e.selection)return o.ML.unhangRange(e,e.selection,{voids:!0})},f=function(e,t){return!t.includes(e.type)},h=function(e,t){var n=(0,c.ZA)(e,{withPaths:!0,match:function(e,n){return f(e,t)}}).map(function(t){return o.ML.pathRef(e,t[1])});o.ML.withoutNormalizing(e,function(){n.forEach(function(t){if(t.current){o.YR.setNodes(e,{type:"paragraph"},{at:t.current});var n=!0,a=!1,s=void 0;try{for(var u,c=o.ML.nodes(e,{at:t.current,match:o.xv.isText,reverse:!0})[Symbol.iterator]();!(n=(u=c.next()).done);n=!0)for(var l=(0,r.Z)(u.value,2),A=l[0],d=l[1],f=A.text.lastIndexOf("\n");-1!==f;)o.YR.splitNodes(e,{at:{path:d,offset:f},match:function(){return!0}}),o.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:o.y$.next(t.current)}),o.YR.moveNodes(e,{at:o.y$.next(d),to:(0,i.Z)(o.y$.next(t.current)).concat([0])}),o.YR.delete(e,{at:{path:(0,i.Z)(o.y$.next(t.current)).concat([0]),offset:0},distance:1,unit:"character"}),f=A.text.lastIndexOf("\n",f-1)}catch(e){a=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw s}}t.unref()}})})},p=function(e,t,n,r){var a=(0,c.ZA)(e,{withPaths:!0,match:function(e){return f(e,n)}});(0,u.U)(e,a,t);var s=(a=(0,c.ZA)(e,{withPaths:!0})).reduce(function(e,t){var i=t[0];return i.type!==r&&f(i,n)?e[e.length-1].push(t):e.push([]),e},[[]]).filter(function(e){return 0!==e.length}),l=s.map(function(t){return t.map(function(t){return o.ML.pathRef(e,t[1])})});s.forEach(function(t,n){var a=l[n].reverse(),s=a[a.length-1].current,u={type:r,children:[]};s&&(o.YR.insertNodes(e,u,{at:s}),a.filter(function(e){return e.current}).forEach(function(t,n){0!==n&&o.YR.insertNodes(e,[{text:"\n"}],{at:(0,i.Z)(s).concat([u.children.length])}),o.YR.moveNodes(e,{at:t.unref(),to:(0,i.Z)(s).concat([u.children.length])})}))})},g=function(e,t,n){var r,i,u,c=t.find(function(e){return"code"===e.name}),f=null!==(u=null==c?void 0:null===(r=c.conversionRules)||void 0===r?void 0:null===(i=r["code-block"])||void 0===i?void 0:i.disallowedTypes)&&void 0!==u?u:[];if(n!==(0,A.r)(e)){if(n===l.ck.Normal)h(e,f);else{var g=o.ML.rangeRef(e,d(e));Array.from(o.ML.nodes(e,{at:g.current,match:s.mY})).map(function(t){return o.ML.pathRef(e,t[1])}).forEach(function(t){return o.YR.unwrapNodes(e,{at:t.unref()})});for(var v=Array.from(o.ML.nodes(e,{at:g.current,match:a.SQ})).map(function(t){return{node:t[0],pathRef:o.ML.pathRef(e,t[1])}}),m=0;m<v.length;m++){var y=v[m],b=y.node,w=y.pathRef,_=b.mentionData;if(_){var E=_.email;o.YR.insertText(e,null!=E?E:"",{voids:!0,at:w.current}),o.YR.unwrapNodes(e,{at:w.unref(),voids:!0})}}o.YR.setSelection(e,g.unref()),p(e,t,f,"code-block")}}}},93707:function(e,t,n){"use strict";n.d(t,{O2:function(){return g},bO:function(){return p},dC:function(){return f},pM:function(){return v},Kj:function(){return h}});var r=n(70865),i=n(96670),o=n(87394),a=n(12995),s=/[.*+?^${}()|[\]\\]/g;function u(e){return e.replace(s,"\\$&")}var c=n(3037),l=n(3220),A=n(20660),d=n(53942);function f(e){var t,n=e.matchMode,r=e.customTest,i=e.isDisabledInTable,s="inline"in e&&e.inline,A="void"in e&&e.void,f="element"in e&&!s;if("customRegExp"in e)t=e.customRegExp;else{var h=e.str,p=u(h),g=u(h[0]);t=new RegExp("surround"===n?"(\\b|\\s|\\(|^)".concat(p,"([^").concat(g,"]+)").concat(p,"(\\b|\\s|\\)|\\.|\\,|\\!|\\?|$)"):"^".concat(p,"(?:\\b|\\s|$)"))}var v=function(s,u){var A=u.leafNode,h=u.insertedText;if(i&&(0,d.wu)(s,{type:"table"})||"str"in e&&!e.str.includes(h)&&!h.includes(e.str))return!1;var p=a.ML.above(s,{match:function(e){return a.ML.isBlock(s,e)}});if(!p)return t.test(A.text);var g=(0,o.Z)(p,1)[0];return!!((!f||(0,c.RF)(g)||g.type===(0,l.pq)(e.element).type)&&("start"!==n||(0,d.FU)(s))&&t.test(A.text)&&(!r||r(s,A,h)))};return function(r,i){var u=i.leafNode;if(!1===v(r,{leafNode:u,insertedText:i.insertedText}))return!1;var c=r.selection.focus,d=c.path,f=c.offset,h=u.text.match(t),p=(0,o.Z)(h,4),g=p[0],m=p[1],y=p[2],b=p[3];if(r.sealHistoryEntry(),"surround"===n?(a.YR.delete(r,{at:{path:d,offset:h.index+m.length},distance:g.length-m.length-b.length}),a.YR.insertText(r,y,{at:{path:d,offset:h.index+m.length}}),a.YR.setSelection(r,{anchor:{path:d,offset:h.index+m.length},focus:{path:d,offset:h.index+y.length+m.length}})):"start"===n&&"str"in e&&a.YR.delete(r,{distance:e.str.length,at:{path:d,offset:0}}),"format"in e)a.ML.addMark(r,e.format,!0),a.YR.setSelection(r,{anchor:r.selection.focus,focus:r.selection.focus}),a.ML.removeMark(r,e.format),null===(w=r.eventLogger)||void 0===w||w.call(r,"auto_format",{type:e.format});else if("element"in e){var w,_,E=(0,l.pq)(e.element,y);if(s){var C=r.selection;0===b.length&&(a.YR.setSelection(r,{focus:C.focus,anchor:C.focus}),a.YR.insertText(r," "),a.YR.setSelection(r,C)),(0,l.q2)(r,E,{at:C})||(f===u.text.length?a.YR.setSelection(r,{focus:{path:d,offset:u.text.length}}):a.YR.setSelection(r,{focus:{path:d,offset:f-1}}));var B=a.e6.end(r.selection);a.YR.setSelection(r,{focus:B,anchor:B}),a.YR.move(r,{unit:"character",distance:b.length||1})}else a.YR.setNodes(r,E,{match:function(e){return a.ML.isBlock(r,e)}});null===(_=r.eventLogger)||void 0===_||_.call(r,"auto_format",{type:E.type})}return A&&a.YR.move(r,{distance:1}),!0}}function h(e,t){var n=e.insertText;return e.insertText=function(r){if(n(r),e.selection){var i=e.selection.focus.path,o=a.NB.leaf(e,i),s=!0,u=!1,c=void 0;try{for(var l,A=t[Symbol.iterator]();!(s=(l=A.next()).done)&&!(0,l.value)(e,{leafNode:o,insertedText:r});s=!0);}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}}},e}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0};return(0,i.Z)((0,r.Z)({name:t},n),{key:e,handler:function(e){var n;return(0,A.h4)(e,t),null===(n=e.eventLogger)||void 0===n||n.call(e,"keyboard_format",{type:t}),!0}})}function g(e){var t=e.key,n=e.code,o=e.elementArg,s=e.opts,u=e.params,c=void 0===u?{}:u,A=(0,l.pq)(o),f=(0,i.Z)((0,r.Z)({name:A.type},void 0===s?{shortKey:!0}:s),{handler:function(e){c.disableInTable&&(0,d.wu)(e,{type:"table"})||((0,d.wu)(e,A)?a.YR.setNodes(e,{type:"paragraph"}):a.YR.setNodes(e,A))}});return t?(0,i.Z)((0,r.Z)({key:t},f),{logEvent:!0}):(0,i.Z)((0,r.Z)({code:n},f),{logEvent:!0})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0},o=(0,l.pq)(t);return(0,i.Z)((0,r.Z)({name:o.type},n),{key:e,handler:function(e){return(0,l.Yl)(e,o)},logEvent:!0})}},79117:function(e,t,n){"use strict";n.d(t,{ON:function(){return b.ON},RH:function(){return b.RH},hE:function(){return y},WB:function(){return m},Uk:function(){return v},$m:function(){return b.$m},r5:function(){return b.r5},oe:function(){return _.oe},wu:function(){return w.wu},T8:function(){return b.T8},yi:function(){return w.yi},FU:function(){return w.FU},t9:function(){return b.t9},zm:function(){return b.zm},um:function(){return _.um},if:function(){return b.if},RF:function(){return b.RF},Xf:function(){return b.Xf},hZ:function(){return b.hZ},O6:function(){return b.O6},eD:function(){return b.eD},lw:function(){return b.lw},RX:function(){return b.RX},QT:function(){return b.QT},IL:function(){return b.W4},b9:function(){return b.b9},O4:function(){return b.O4},eM:function(){return B.e},EG:function(){return I.E},$c:function(){return b.$c},DA:function(){return b.DA},Zp:function(){return C},As:function(){return b.As},Ft:function(){return b.Ft},qi:function(){return b.qi},Hi:function(){return b.Hi},Wn:function(){return b.Wn},Eo:function(){return b.Eo},YV:function(){return E.YV},Ke:function(){return b.Ke},jE:function(){return B.j},$h:function(){return b.$h}});var r=n(70865),i=n(52322),o=n(2784),a=n(28316),s=n(17620),u=/*#__PURE__*/n.n(s),c=n(3635),l=n(20954),A=n(39274),d=n(87394),f=function(e,t,n){var r=Object.entries(n).sort(function(e,t){var n=(0,d.Z)(e,2)[1],r=(0,d.Z)(t,2)[1];return n.position.top-r.position.top}),i=t;n[e]||(n[e]={position:i});var o=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=(0,d.Z)(u.value,2),A=l[0],h=l[1];if(A!==e){var p=h.position,g=h.originalPosition;if(30>Math.abs(p.top-i.top)){var v,m,y,b,w,_,E=null!==(y=null==g?void 0:g.top)&&void 0!==y?y:p.top,C=null!==(b=null===(v=n[e])||void 0===v?void 0:null===(m=v.originalPosition)||void 0===m?void 0:m.top)&&void 0!==b?b:i.top;if(E<=C)i={top:p.top+30},n[e]={position:i,originalPosition:null!==(_=null===(w=n[e])||void 0===w?void 0:w.originalPosition)&&void 0!==_?_:t};else{n[A]={position:{top:i.top+30},originalPosition:null!=g?g:p},f(A,n[A].position,n);break}}}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return n},h=n(83030),p=/*#__PURE__*/n.n(h),g=/*#__PURE__*/(0,o.createContext)(void 0),v=function(e){var t=e.children,n=(0,o.useState)(null),a=n[0],s=n[1],c=(0,o.useState)(null),l=c[0],d=c[1],h=(0,o.useState)({}),p=h[0],v=h[1],m=(0,o.useState)(0),y=m[0],b=m[1];(0,o.useEffect)(function(){var e=(0,A.H$)("left"),t=(0,A.H$)("right");s(e),d(t),e&&t||requestAnimationFrame(function(){return b(y+1)})},[y]);var w=(0,o.useCallback)(function(e,t){v(function(n){return f(e,t,(0,r.Z)({},n))})},[]),_=(0,o.useCallback)(function(e){v(function(t){return u()(t,[e])})},[]),E=(0,o.useMemo)(function(){var e=new Set;return{add:function(t){return e.add(t),!0},delete:function(t){return e.delete(t),!0},has:function(t){return e.has(t)},registerPosition:w,deregisterPosition:_,positionsById:p,leftContainer:a,rightContainer:l}},[w,_,p,a,l]);return/*#__PURE__*/(0,i.jsx)(g.Provider,{value:E,children:t})},m=function(e){var t,n=e.side,r=e.id,s=e.target,u=e.alignment,l=void 0===u?"top":u,d=e.editor,f=e.children,h=(0,A.fH)(d,[s],l),v=(0,o.useContext)(g),m=(0,o.useRef)(!1),y=(0,o.useMemo)(function(){var e;return h?null===(e=A.Eu[l])||void 0===e?void 0:e.call(A.Eu,h):null},[h,l]);(0,o.useEffect)(function(){if(y&&(null==v?void 0:v.registerPosition)&&r&&m.current)return v.registerPosition(r,y),function(){v.deregisterPosition(r)}},[y,null==v?void 0:v.registerPosition,null==v?void 0:v.deregisterPosition,r]),(0,o.useEffect)(function(){if(!r||!v){m.current=!0;return}if(m.current=!v.has(r),m.current)return v.add(r),function(){v.delete(r)}},[r,v]);var b="left"===n?null==v?void 0:v.leftContainer:null==v?void 0:v.rightContainer,w=r&&v?null===(t=v.positionsById[r])||void 0===t?void 0:t.position:null;return m.current&&v&&b&&w?/*#__PURE__*/a.createPortal(/*#__PURE__*/(0,i.jsx)(i.Fragment,{children:/*#__PURE__*/(0,i.jsx)("div",{id:r,style:w,className:(0,c.Z)(p().sideMenuChild,r?p()[r]:void 0),children:f})}),b):null},y=function(e){var t=e.editor,n=(0,A.kI)(t),r=(0,l.H)(n);return r?/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("div",{id:A.tM,className:p().sideMenuContainer,style:{left:r.left,transform:"translateX(-100%)"}}),/*#__PURE__*/(0,i.jsx)("div",{id:A.wL,className:p().sideMenuContainer,style:{left:r.right}})]}):null},b=n(70492);n(32021);var w=n(53942),_=n(3220);n(93707),n(28378);var E=n(69992);function C(e){return{name:"remote-render",formats:{remoteSelection:{component:e.component}}}}var B=n(62286),I=n(76592)},97725:function(e,t,n){"use strict";n.d(t,{N:function(){return v},O:function(){return m}});var r=n(50930),i=n(1899),o=n(2784),a=n(12995),s=n(85009),u=n(90581),c=n(6901),l=["shortKey","ctrlKey","shiftKey","altKey"],A=function(e){!0===e.shortKey&&(c.Um?e.metaKey=!0:e.ctrlKey=!0)},d=/*#__PURE__*/function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,u.Z)(this,e),this._bindings=[],t.forEach(A),this._bindings=t}var t=e.prototype;return t.registerBindings=function(e){var t;e.forEach(A),(t=this._bindings).push.apply(t,(0,r.Z)(e))},t.unRegisterBinding=function(e){this._bindings=this._bindings.filter(function(t){return t!==e})},t.registerKeyDown=function(e){this._lastKeyDown=e},t.getMatchingBindings=function(){var e=this._lastKeyDown;return e?(this._lastKeyDown=void 0,this._bindings.filter(function(t){var n;return n={shortKey:c.Um?"metaKey":"ctrlKey",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey"},!!l.every(function(r){var i=t[r],o=n[r];return null===i||!!i===e[o]})&&("key"in t?String(t.key).toLowerCase()===e.key.toLowerCase():String(t.code).toLowerCase()===e.code.toLowerCase())})):[]},e}(),f=n(76592),h="true"===n(34406).env.STORYBOOK,p=new WeakMap,g=[{name:"inline-void-arrow-down",key:"ArrowDown",handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-arrow-up",key:"ArrowUp",handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-left",key:"ArrowLeft",shortKey:!0,handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-right",key:"ArrowRight",shortKey:!0,handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character"})}}}];function v(e,t){var n,o,a=(n=t.flatMap(function(e){return null!==(o=e.keyBindings)&&void 0!==o?o:[]})).concat.apply(n,(0,r.Z)(g)),s=new d;return p.set(e,s),s.registerBindings(a),function(n){s.registerKeyDown(n);var r=s.getMatchingBindings(),o=!0,a=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=function(){var r=c.value;try{var i,o=r.handler(e,t,n);if(!0===o)return n.stopPropagation(),n.preventDefault(),r.logEvent&&(null===(i=e.eventLogger)||void 0===i||i.call(e,"keyboard_shortcut",{shortcut:r.name})),{v:!0}}catch(n){if("function"==typeof e.handleError){var a,s=t.find(function(e){var t;return null===(t=e.keyBindings)||void 0===t?void 0:t.includes(r)});e.handleError((0,f.E)(n,"UserAction",{method:r.name,plugin:null!==(a=null==s?void 0:s.name)&&void 0!==a?a:"Unknown"}))}}}();if("object"===(0,i.Z)(A))return A.v}}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}}}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(h?function(){return null}:s._7)();(0,o.useEffect)(function(){if(n&&e){var t=p.get(n);if(t)return t.registerBindings([e]),function(){return t.unRegisterBinding(e)}}},[n].concat((0,r.Z)(t)))}},53942:function(e,t,n){"use strict";n.d(t,{$C:function(){return I},FU:function(){return h},MO:function(){return y},Qs:function(){return x},XU:function(){return p},YI:function(){return T},_p:function(){return C},bX:function(){return g},gb:function(){return B},iF:function(){return E},kA:function(){return S},nc:function(){return w},qQ:function(){return _},ss:function(){return v},wu:function(){return b},yi:function(){return m}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(87394),u=n(50930),c=n(9850),l=/*#__PURE__*/n.n(c),A=n(61726),d=/*#__PURE__*/n.n(A),f=n(12995);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,i=void 0===n?e.selection:n;if(!i||f.e6.isRange(i)&&!f.e6.isCollapsed(i))return!1;var o=f.ML.path(e,i),a=t.blockPath;if(!a){var c=f.ML.above(e,{match:function(t){return f.ML.isBlock(e,t)},mode:"lowest",at:o});if(!c)return!1;a=c[1]}if(!f.y$.isAncestor(a,o))return!1;var l=f.y$.relative(o,a),A=(0,u.Z)(a),d=f.NB.get(e,a),h=!0,p=!1,g=void 0;try{for(var v,m=l[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var y=v.value;if(d=d.children[y],A.push(y),0!==y){if(1===y&&f.ML.isInline(e,d)){var b=f.NB.get(e,f.y$.previous(A));if(""===f.NB.string(b))continue}return!1}}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}return!t.includeOffset||0===function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(r=e.selection)||void 0===r?void 0:r.anchor;if(!n)throw Error("No point provided and editor has no selection");if(!f.y$.isAncestor(t,n.path))throw Error("Point is not inside of container path");var i=0,o=!0,a=!1,u=void 0;try{for(var c,l=f.NB.texts(e,{from:t,to:n.path})[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=(0,s.Z)(c.value,2),d=A[0],h=A[1];if(f.y$.equals(h,n.path)){i+=n.offset;break}i+=d.text.length}}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return i}(e,a,f.e6.isRange(i)?f.e6.start(i):i)}function p(e,t){var n=f.ML.above(e,{mode:"lowest",at:t,match:function(t,n){return e.isContainerBlock(t)||0===n.length}});return f.y$.isParent(n[1],t)}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r;if(!i||f.e6.isRange(i)&&!f.e6.isCollapsed(i))return!1;var o=f.E9.isPoint(i)?i:f.e6.end(i),a=f.ML.above(e,{at:o,match:t});return!!a&&f.E9.equals(o,f.ML.end(e,a[1]))}function v(e,t){return g(e,function(t){return"type"in t&&e.isInline(t)},t)}function m(e,t){return g(e,function(t){return"type"in t&&!e.isInline(t)},t)}function y(e,t,n){var r=(null==n?void 0:n.path)||(null===(c=e.selection)||void 0===c?void 0:c.anchor.path);if(r){var i=Array.isArray(t),o=!0,a=!1,u=void 0;try{for(var c,l,A=f.NB.levels(e,r,{reverse:!0})[Symbol.iterator]();!(o=(l=A.next()).done);o=!0){var d=(0,s.Z)(l.value,2),h=d[0],p=d[1];if("type"in h&&(h.type===t||i&&t.includes(h.type)))return[h,p]}}catch(e){a=!0,u=e}finally{try{o||null==A.return||A.return()}finally{if(a)throw u}}}}function b(e,t){var n=t.at,r=void 0===n?e.selection:n,i=t.mode,o=(0,a.Z)(t,["at","mode"]);if(r)return f.ML.above(e,{at:r,match:function(e){return d()(e,o)},mode:void 0===i?"lowest":i})}function w(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,u=f.NB.ancestors(e,n)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,l=(0,s.Z)(c,1)[0];if("type"in l&&t===l.type)return c}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}function _(e,t,n){if(1===t.children.length)return n;var r=[],i=0,o=!0,a=!1,c=void 0;try{for(var A,d=f.NB.descendants(t)[Symbol.iterator]();!(o=(A=d.next()).done);o=!0){var h=(0,s.Z)(A.value,2),p=h[0],g=h[1];f.xv.isText(p)&&(r.push({start:i,end:i+p.text.length,path:(0,u.Z)(e).concat((0,u.Z)(g))}),i+=p.text.length)}}catch(e){a=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw c}}var v=[],m=!0,y=!1,b=void 0;try{for(var w,_=n[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var E=w.value,C=!0,B=!1,I=void 0;try{for(var x,T=r[Symbol.iterator]();!(C=(x=T.next()).done);C=!0){var S=x.value;if(!(E.anchor.offset>S.end)){var k=l()(E);if(v.push(k),k.anchor.path=S.path,k.focus.path=S.path,E.anchor.offset<S.end&&(k.anchor.offset=Math.max(0,k.anchor.offset-S.start)),E.focus.offset<S.end){k.focus.offset=E.focus.offset-S.start;break}k.focus.offset=S.end-S.start}}}catch(e){B=!0,I=e}finally{try{C||null==T.return||T.return()}finally{if(B)throw I}}}}catch(e){y=!0,b=e}finally{try{m||null==_.return||_.return()}finally{if(y)throw b}}return v}function E(e,t){for(var n=0;n<Math.min(e.length,t.length);n++){var r=e[n],i=t[n];if(r!==i)return{level:n,distance:i-r}}}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.matchArgs,s=r.retainLevel,u="up"===n?f.ML.before(e,t,{unit:"block"}):f.ML.after(e,t,{unit:"block"});if(u){var c=u.path,l=function(){if(c&&a){var t=b(e,(0,o.Z)((0,i.Z)({},a),{at:c}));if(!t){c=void 0;return}c=c.slice(0,t[1].length+1)}};if(l(),s){for(;c&&c.length>t.length;)c=c.slice(0,c.length-1),l();if(!c||c.length!==t.length)return}return c}}function B(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i="down"===n?f.y$.next(t):f.y$.hasPrevious(t)?f.y$.previous(t):void 0;return r?i&&f.NB.has(e,i)?i:void 0:i}function I(e,t,n){if("down"===n){var r=f.y$.next(t);if(f.NB.has(e,r))return r;var i=f.ML.after(e,t,{unit:"block"});return i?i.path.slice(0,t.length):void 0}if("up"===n){var o=f.y$.hasPrevious(t)&&f.y$.previous(t);if(o)return o;var a=f.ML.before(e,t,{unit:"block"});return a?a.path.slice(0,t.length):void 0}}function x(e,t,n){var r=(0,s.Z)(f.e6.edges(t),2),o=r[0],a=r[1],u=!1,c=!1,l=!0,A=!1,d=void 0;try{for(var h,p=f.NB.texts(e,{from:o.path,to:a.path})[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var g=(0,s.Z)(h.value,2),v=g[0],m=g[1],y=b(e,(0,i.Z)({at:m},n));if(y&&c)return!0;if(y){u=!0;continue}if(0!==v.text.trim().length){if(!y&&u)return!0;if(!y){c=!0;continue}}}}catch(e){A=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(A)throw d}}return!1}function T(e){return f.ML.above(e,{match:function(t){return f.ML.isBlock(e,t)},mode:"lowest"})}function S(e,t){if(!(t.length>1)){var n=!0,r=!1,i=void 0;try{for(var o,a,u=f.NB.nodes(t[0])[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=(0,s.Z)(a.value,1)[0];if(!e.isContainerBlock(c)&&f.ML.isBlock(e,c)){if(o)return;o=c}}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return o}}},56704:function(e,t,n){"use strict";n.d(t,{B9:function(){return i},lC:function(){return o},oT:function(){return s},x0:function(){return a}});var r=n(87394);function i(e,t){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(u.elements){var c=!0,l=!1,A=void 0;try{for(var d,f=Object.entries(u.elements)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=(0,r.Z)(d.value,2),p=h[0],g=h[1];g&&t(p,g)}}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}function o(e,t){var n=[],r={};return i(e,function(e,i){var o=t(i);"string"==typeof o?(null==r[o]&&(r[o]=[]),r[o].push(e)):!0===o&&n.push(e)}),Object.keys(r).length?r:n}function a(e,t){var n={};return i(e,function(e,r){var i=null==r?void 0:r[t];null!=i&&(n[e]=i)}),n}var s=function(e){var t=["application/x-slate-fragment"];return void 0!==e.types.find(function(e){return t.includes(e)})}},78382:function(e,t,n){"use strict";n.d(t,{BI:function(){return h},IP:function(){return p},VS:function(){return f},ZB:function(){return v},gm:function(){return m},lM:function(){return g}});var r=n(70865),i=n(96670),o=n(87394),a=n(37164),s=n(20672),u=n(12995),c=n(37578),l=n(58490),A=n(87739),d=n(3220),f=function(e,t){if(!e.selection)return null;var n,r,i,o=t.find(function(e){return"aiOutline"===e.name}),s=null!==(i=null==o?void 0:null===(n=o.conversionRules)||void 0===n?void 0:null===(r=n.aiOutline)||void 0===r?void 0:r.disallowedTypes)&&void 0!==i?i:[];if(!(0,l.ZA)(e,{match:function(e){return(0,A.yy)(e,s)}}).length)return null;var c=u.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),d=c?c[1]:[],f=u.ML.path(e,u.e6.end(e.selection)).slice(0,d.length+1),h=u.y$.next(f),p={type:"aiOutline",id:(0,a.x0)(),children:[{text:""}]},g=""===u.NB.string(u.NB.get(e,f));return u.ML.withoutNormalizing(e,function(){u.YR.insertNodes(e,p,{at:h}),g&&u.YR.removeNodes(e,{at:f})}),p},h=function(e,t){var n=(0,d.nv)(e,t);n&&u.YR.removeNodes(e,{at:n[1]})},p=function(e,t){var n=(0,d.nv)(e,t);if(n){var r=(0,o.Z)(n,2),i=r[0],a=r[1],s=u.y$.next(a),l=e.fromHtml((0,c.e)(i.outline||""));u.YR.insertNodes(e,l,{at:s}),h(e,t)}},g=function(e,t,n){var a=(0,d.nv)(e,t);if(a){var c=(0,o.Z)(a,2),l=c[0],A=c[1];s.MO.withoutSaving(e,function(){return u.YR.setNodes(e,(0,i.Z)((0,r.Z)({},n.outline?{outline:n.outline}:{},n.questions?{questions:n.questions}:{}),{documentData:(0,r.Z)({},l.documentData,n.documentData)}),{at:A})})}},v=function(e,t,n){var r=(0,d.nv)(e,t);if(r){var i=(0,o.Z)(r,2),a=i[0],c=i[1];s.MO.withoutSaving(e,function(){return u.YR.setNodes(e,{outline:"".concat(a.outline||"").concat(n)},{at:c})})}},m=function(e,t){var n=(0,d.nv)(e,t);if(n){var r=(0,o.Z)(n,2)[1];s.MO.withoutSaving(e,function(){return u.YR.setNodes(e,{outline:""},{at:r})})}}},32265:function(e,t,n){"use strict";n.d(t,{Bh:function(){return p},Dl:function(){return g},On:function(){return d},Vj:function(){return v},_F:function(){return f},ew:function(){return h}});var r=n(47842),i=n(70865),o=n(96670),a=n(18149),s=/*#__PURE__*/n.n(a),u=n(37164),c=n(12995),l=n(53942),A={};function d(){var e=[];return Object.keys(A).forEach(function(t){var n=A[t],a=n.range,s=n.type;e.push((0,o.Z)((0,i.Z)({},a),(0,r.Z)({id:t},"annotationPending.".concat(s),!0)))}),e}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r,o=n.collapse;if(!i)return!1;if(A[(0,u.x0)()]={range:i,type:t},o){var a=c.e6.start(i);c.YR.setSelection(e,{anchor:a,focus:a})}else e.forceRerender();return!0}function h(e,t){delete A[t],e.forceRerender()}function p(e,t,n){if(!A[t])return!1;var r=A[t],i=r.range,o=r.type;delete A[t],c.YR.wrapNodes(e,{type:o,annotation:!0,data:n,children:[]},{at:i,match:c.xv.isText,split:!0,mode:"lowest"})}function g(e,t){c.YR.unwrapNodes(e,{at:[],match:function(e,n){return c.W_.isElement(e)&&"annotation"in e&&e.annotation&&t(e,n)}})}function v(e){var t=e.operations;(null==t?void 0:t.length)&&Object.keys(A).forEach(function(e){var n=function(e,t){var n=e.anchor,r=e.focus,i=(0,l.iF)(n.path,r.path),o=!0,a=!1,u=void 0;try{for(var A,d=t[Symbol.iterator]();!(o=(A=d.next()).done);o=!0){var f=A.value;if("set_selection"!==f.type){var h=c.E9.transform(n,f),p=c.E9.transform(r,f);if(!h||!p)return;var g=(0,l.iF)(h.path,p.path);if(!s()(i,g))return;n=h,r=p}}}catch(e){a=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw u}}return{anchor:n,focus:r}}(A[e].range,t);if(!n){delete A[e];return}A[e].range=n})}},46130:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(2784),i=n(12995),o=n(85009),a=n(51716),s=n(27196),u=n(8875),c=function(e,t,n){i.ML.withoutNormalizing(e,function(){i.YR.setNodes(e,t,{at:n,mode:"highest"}),i.YR.removeNodes(e,{at:n,match:function(e){return i.xv.isText(e)}}),i.YR.move(e,{distance:2,unit:"character"}),i.YR.collapse(e,{edge:"end"})})};function l(e){var t=(0,o._7)(),n=(0,o.vt)(),l=(0,a.Z)(),A=(0,r.useCallback)(function(n){var r,i=o.F3.findPath(t,e);c(t,n,i),null===(r=t.eventLogger)||void 0===r||r.call(t,"mention_create",n)},[t,e]),d=i.NB.string(e),f=(0,r.useCallback)(function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1==!!(null===(n=e.mentionData)||void 0===n?void 0:n.userId)){var a=function(){var n=o.F3.findPath(t,e);i.NB.has(t,n)&&i.YR.unwrapNodes(t,{at:n})};r?(u.$.withMerging(t,a),t.sealHistoryEntry()):a()}},[t,e]),h=(0,r.useCallback)(function(e){0===e&&" "===d[d.length-1]&&f(!0)},[f,d]),p=(0,s.D9)(n);(0,r.useEffect)(function(){!1===n&&!0===p&&f()},[n,p,f]);var g=(0,r.useCallback)(function(){try{return o.F3.toDOMNode(t,e).getBoundingClientRect()}catch(e){}},[t,e]);return(0,r.useLayoutEffect)(function(){n&&l()},[l,n]),{isSelected:n,updateMention:A,unwrapMention:f,text:d,getBounds:g,checkIfMentionDone:h}}},2012:function(e,t,n){"use strict";n.d(t,{SQ:function(){return o},lw:function(){return d}});var r=n(12995),i=n(3220);function o(e){return!!e&&"mention"===e.type}var a=/(?:\s|\(|^)@(?:\s|\)|\.|\,|\!|\?|$)/,s=["paragraph","div","blockquote","header"],u=function(e,t){var n=t.leafNode,u=t.insertedText;if(!e.selection)return!1;if(" "===u){var c=r.ML.above(e,{match:function(e){return o(e)}});c&&"@ "===n.text&&r.YR.unwrapNodes(e,{at:c[1]})}if("@"===u){if(!a.exec(n.text))return!1;var l,A=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(A&&"type"in A[0]&&!s.includes(A[0].type))return!1;var d=e.selection,f=d.anchor,h=d.focus;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,h),anchor:f}),(0,i.Yl)(e,{type:"mention"}),r.YR.setSelection(e,{focus:e.selection.anchor}),e.sealHistoryEntry(),null===(l=e.eventLogger)||void 0===l||l.call(e,"auto_format",{type:"mention"}),!0}return!1},c=n(70865),l=n(96670),A=n(46807);function d(e){return{name:"at-mention",elements:{mention:{inline:!0,isVoid:function(e,t){return!!t.mentionType},component:e.mentionComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[u],toMarkdown:{byElementType:{mention:function(e){var t,n=null===(t=e.element.mentionData)||void 0===t?void 0:t.email;return(0,A.H4)((0,l.Z)((0,c.Z)({},e),{childrenMarkdownPosition:"before",markdown:n||""}))}}}}}},26141:function(e,t,n){"use strict";n.d(t,{S:function(){return c},R:function(){return l}});var r=n(12995),i=n(70865),o=n(96670),a=n(46807),s=n(3220),u=n(93707);function c(e){return r.W_.isElement(e)&&"blockquote"===e.type}var l=function(e){return{name:"block-quote",elements:{blockquote:{component:e.blockquoteComponent,enterBehavior:"create-paragraph",softBreakBehavior:"soft-break"}},textInputHandlers:[(0,u.dC)({str:"> ",matchMode:"start",element:"blockquote"})],keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-blockquote-down",handler:function(e){return(0,s.m_)(e,"down",{type:"blockquote"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-blockquote-up",handler:function(e){return(0,s.m_)(e,"up",{type:"blockquote"})},logEvent:!0}],fromHtml:{byTag:{BLOCKQUOTE:"blockquote"}},toMarkdown:{byElementType:{blockquote:function(e){return(0,a.H4)((0,o.Z)((0,i.Z)({},e),{markdown:["> ","\n\n"],childrenMarkdownPosition:"between"}))}}},conversionRules:{blockquote:{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},69803:function(e,t,n){"use strict";n.d(t,{Dj:function(){return R},AO:function(){return P},Qw:function(){return L},ZP:function(){return V}});var r=n(2947),i="[0-9](_*[0-9])*",o=`\\.(${i})`,a="[0-9a-fA-F](_*[0-9a-fA-F])*",s={className:"number",variants:[{begin:`(\\b(${i})((${o})|\\.)?|(${o}))[eE][+-]?(${i})[fFdD]?\\b`},{begin:`\\b(${i})((${o})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${o})[fFdD]?\\b`},{begin:`\\b(${i})[fFdD]\\b`},{begin:`\\b0[xX]((${a})\\.?|(${a})?\\.(${a}))[pP][+-]?(${i})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${a})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let u="[A-Za-z$_][0-9A-Za-z$_]*",c=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],l=["true","false","null","undefined","NaN","Infinity"],A=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],d=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],f=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],h=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],p=[].concat(f,A,d);var g="[0-9](_*[0-9])*",v=`\\.(${g})`,m="[0-9a-fA-F](_*[0-9a-fA-F])*",y={className:"number",variants:[{begin:`(\\b(${g})((${v})|\\.)?|(${v}))[eE][+-]?(${g})[fFdD]?\\b`},{begin:`\\b(${g})((${v})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${v})[fFdD]?\\b`},{begin:`\\b(${g})[fFdD]\\b`},{begin:`\\b0[xX]((${m})\\.?|(${m})?\\.(${m}))[pP][+-]?(${g})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${m})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let b="[A-Za-z$_][0-9A-Za-z$_]*",w=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],_=["true","false","null","undefined","NaN","Infinity"],E=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],C=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],B=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],I=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],x=[].concat(B,E,C);var T=n(50930),S=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],k=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],N=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],D=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],O=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();N.concat(D);var R="auto-detect",F={json:function(e){let t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},yaml:function(e){let t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},a=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},{begin:/\{/,end:/\}/,contains:[o],illegal:"\\n",relevance:0},{begin:"\\[",end:"\\]",contains:[o],illegal:"\\n",relevance:0},r],s=[...a];return s.pop(),s.push(i),o.contains=s,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:a}},typescript:function(e){let t=function(e){var t;let n=e.regex,r=(e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)},i=/<[A-Za-z0-9\\._:-]+/,o=/\/[A-Za-z0-9\\._:-]+>|\/>/,a={$pattern:b,keyword:w,literal:_,built_in:x,"variable.language":I},s="[0-9](_?[0-9])*",u=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},A={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"css"}},h={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"graphql"}},p={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,A]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:b+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,f,h,p,{match:/\$\d+/},l];A.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});let m=[].concat(g,A.contains),y=m.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(m)}]),T={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:y},S={variants:[{match:[/class/,/\s+/,b,/\s+/,/extends/,/\s+/,n.concat(b,"(",n.concat(/\./,b),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,b],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...E,...C]}},N={match:n.concat(/\b/,(t=[...B,"super","import"],n.concat("(?!",t.join("|"),")")),b,n.lookahead(/\(/)),className:"title.function",relevance:0},D={begin:n.concat(/\./,n.lookahead(n.concat(b,/(?![0-9A-Za-z$_(])/))),end:b,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,b,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,f,h,p,g,{match:/\$\d+/},l,k,{className:"attr",begin:b+n.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i,"on:begin":(e,t)=>{let n;let i=e[0].length+e.index,o=e.input[i];if("<"===o||","===o){t.ignoreMatch();return}">"!==o||r(e,{after:i})||t.ignoreMatch();let a=e.input.substring(i);if((n=a.match(/^\s*=/))||(n=a.match(/^\s+extends\s+/))&&0===n.index){t.ignoreMatch();return}},end:o}],subLanguage:"xml",contains:[{begin:i,end:o,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,b,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:b,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+b,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},S,{match:[/get|set/,/\s+/,b,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},{match:/\$[(.]/}]}}(e),n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],r={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},i={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[t.exports.CLASS_REFERENCE]},o={$pattern:b,keyword:w.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:_,built_in:x.concat(n),"variable.language":I},a={className:"meta",begin:"@"+b},s=(e,t,n)=>{let r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw Error("can not find mode to replace");e.contains.splice(r,1,n)};return Object.assign(t.keywords,o),t.exports.PARAMS_CONTAINS.push(a),t.contains=t.contains.concat([a,r,i]),s(t,"shebang",e.SHEBANG()),s(t,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),t.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t},javascript:function(e){var t;let n=e.regex,r=(e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)},i=/<[A-Za-z0-9\\._:-]+/,o=/\/[A-Za-z0-9\\._:-]+>|\/>/,a={$pattern:u,keyword:c,literal:l,built_in:p,"variable.language":h},s="[0-9](_?[0-9])*",g=`\\.(${s})`,v="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${v})((${g})|\\.)?|(${g}))[eE][+-]?(${s})\\b`},{begin:`\\b(${v})\\b((${g})\\b|\\.)?|(${g})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},w={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"css"}},_={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},E={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,y]},C={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:u+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},B=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,w,_,E,{match:/\$\d+/},m];y.contains=B.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(B)});let I=[].concat(C,y.contains),x=I.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(I)}]),T={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},S={variants:[{match:[/class/,/\s+/,u,/\s+/,/extends/,/\s+/,n.concat(u,"(",n.concat(/\./,u),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,u],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...A,...d]}},N={match:n.concat(/\b/,(t=[...f,"super","import"],n.concat("(?!",t.join("|"),")")),u,n.lookahead(/\(/)),className:"title.function",relevance:0},D={begin:n.concat(/\./,n.lookahead(n.concat(u,/(?![0-9A-Za-z$_(])/))),end:u,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,u,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,w,_,E,C,{match:/\$\d+/},m,k,{className:"attr",begin:u+n.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[C,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i,"on:begin":(e,t)=>{let n;let i=e[0].length+e.index,o=e.input[i];if("<"===o||","===o){t.ignoreMatch();return}">"!==o||r(e,{after:i})||t.ignoreMatch();let a=e.input.substring(i);if((n=a.match(/^\s*=/))||(n=a.match(/^\s+extends\s+/))&&0===n.index){t.ignoreMatch();return}},end:o}],subLanguage:"xml",contains:[{begin:i,end:o,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,u,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:u,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+u,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},S,{match:[/get|set/,/\s+/,u,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},{match:/\$[(.]/}]}},markdown:function(e){var t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:1},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z\d+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:1}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:1,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:1,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:1,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},i={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/,relevance:1},{begin:/\*{2}(?!\s)/,end:/\*{2}/,relevance:1}]},o={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/,relevance:1},{begin:/_(?![_\s])/,end:/_/,relevance:1}]},a=e.inherit(i,{contains:[]}),s=e.inherit(o,{contains:[]});i.contains.push(s),o.contains.push(a);var u=[n,r];return[i,o,a,s].forEach(function(e){e.contains=e.contains.concat(u)}),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{match:/^[A-Za-z\d][^+=<>{};:|\n]+[.?!]$/,relevance:10},{className:"section",variants:[{begin:"^# ",end:"$",contains:u=u.concat(i,o),relevance:2},{begin:"^## ",end:"$",contains:u,relevance:4},{begin:"^#{3,6} ",end:"$",contains:u,relevance:8},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:u}]}]},n,{className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0,relevance:4},i,o,{className:"quote",begin:"^>\\s+",contains:u,end:"$",relevance:1},{className:"code",variants:[{begin:"```[a-z0-9]*",end:"```+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"~~~[a-z0-9]*",end:"~~~+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:1}]},{begin:"^[-\\*]{3,}",end:"$",relevance:1},r,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}},python:function(e){let t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},s={begin:/\{\{/,relevance:0},u={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",l=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,A=`\\b|${r.join("|")}`,d={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${l}))[eE][+-]?(${c})[jJ]?(?=${A})`},{begin:`(${l})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${A})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${A})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${A})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${A})`},{begin:`\\b(${c})[jJ](?=${A})`}]},f={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},h={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,d,u,e.HASH_COMMENT_MODE]}]};return a.contains=[u,d,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[o,d,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},u,f,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[h]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[d,h,u]}]}},java:function(e){let t=e.regex,n="[\xc0-a-zA-Z_$][\xc0-a-zA-Z_$0-9]*",r=n+function e(t,n,r){return -1===r?"":t.replace(n,i=>e(t,n,r-1))}("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,s,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},s,o]}},sql:function(e){let t=e.regex,n=e.COMMENT("--","$"),r=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],a=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],s=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!o.includes(e)),u={begin:t.concat(/\b/,t.either(...o),/\s*\(/),relevance:0,keywords:{built_in:o}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:n(e)?`${e}|0`:e)}(s,{when:e=>e.length<3}),literal:r,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:t.either(...a),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:s.concat(a),literal:r,type:i}},{className:"type",begin:t.either("double precision","large object","with timezone","without timezone")},u,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},c:function(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},l={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},A=t.optional(i)+e.IDENT_RE+"\\s*\\(",d={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},f=[c,a,n,e.C_BLOCK_COMMENT_MODE,u,s],h={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:d,contains:f.concat([{begin:/\(/,end:/\)/,keywords:d,contains:f.concat(["self"]),relevance:0}]),relevance:0},p={begin:"("+o+"[\\*&\\s]+)+"+A,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:d,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:d,relevance:0},{begin:A,returnBegin:!0,contains:[e.inherit(l,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,s,u,a,{begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,s,u,a]}]},a,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C",aliases:["h"],keywords:d,disableAutodetect:!0,illegal:"</",contains:[].concat(h,p,f,[c,{begin:e.IDENT_RE+"::",keywords:d},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:c,strings:s,keywords:d}}},csharp:function(e){let t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=e.inherit(i,{illegal:/\n/}),a={className:"subst",begin:/\{/,end:/\}/,keywords:t},s=e.inherit(a,{illegal:/\n/}),u={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,s]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]},l=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});a.contains=[c,u,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],s.contains=[l,u,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let A={variants:[c,u,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},f=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",h={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},A,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+f+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,d],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[A,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},h]}},css:function(e){var t=e.regex,n={IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[[a-zA-Z][a-zA-Z0-9-]*([~|^$*]?=.+)?\]/},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}},r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+N.join("|")+")"},{begin:":(:)?("+D.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+O.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,illegal:/\n/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE].concat((0,T.Z)(r),[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:(0,T.Z)(r).concat([{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}])},n.FUNCTION_DISPATCH])},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:k.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat((0,T.Z)(r),[n.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+S.join("|")+")\\b"}]}},xml:function(e){let t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,s,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},bash:function(e){let t=e.regex,n={};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},{begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]}]});let r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,r]};r.contains.push(o);let a={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},s=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),u={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[s,e.SHEBANG(),u,a,e.HASH_COMMENT_MODE,i,{match:/(\/[a-z._-]+)+/},o,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}},shell:function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}},php:function(e){let t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},s=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(a)}),c={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},l=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),A="[ 	\n]",d={scope:"string",variants:[u,s,c,l]},f={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},h=["false","null","true"],p=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],g=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],v={keyword:p,literal:(e=>{let t=[];return e.forEach(e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())}),t})(h),built_in:g},m=e=>e.map(e=>e.replace(/\|\d+$/,"")),y={variants:[{match:[/new/,t.concat(A,"+"),t.concat("(?!",m(g).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},b=t.concat(r,"\\b(?!\\()"),w={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},_={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},E={relevance:0,begin:/\(/,end:/\)/,keywords:v,contains:[_,o,w,e.C_BLOCK_COMMENT_MODE,d,f,y]},C={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",m(p).join("\\b|"),"|",m(g).join("\\b|"),"\\b)"),r,t.concat(A,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[E]};E.contains.push(C);let B=[_,w,e.C_BLOCK_COMMENT_MODE,d,f,y];return{case_insensitive:!1,keywords:v,contains:[{begin:t.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:h,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:h,keyword:["new","array"]},contains:["self",...B]},...B,{scope:"meta",match:i}]},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,C,w,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},y,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:v,contains:["self",o,w,e.C_BLOCK_COMMENT_MODE,d,f]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},d,f]}},go:function(e){let t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}},kotlin:function(e){let t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,r]}]};r.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},s={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),c={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]};return c.variants[1].contains=[c],c.variants[1].contains=[c],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,u,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,a,s,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[c,e.C_LINE_COMMENT_MODE,u],relevance:0},e.C_LINE_COMMENT_MODE,u,a,s,o,e.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,s]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},y]}},rust:function(e){let t=e.regex,n={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],o=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:o,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:i,type:o}},{className:"punctuation",begin:"->"},n]}},hcl:function(e){var t={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0};return{aliases:["tf","hcl"],keywords:{keyword:"resource constiable provider output locals module data terraform|10",literal:"false true null"},contains:[e.COMMENT("\\#","$"),t,{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",relevance:9,contains:[{className:"string",begin:'"',end:'"'},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)",contains:[t,{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",contains:[{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}"}]},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)"}]}]},"self"]}]}]}]}}},L={"auto-detect":"Auto detect",json:"JSON",yaml:"YAML",typescript:"TypeScript",javascript:"JavaScript",markdown:"Markdown",python:"Python",java:"Java",sql:"SQL",c:"C",csharp:"C#",css:"CSS",xml:"HTML / XML",bash:"Bash",shell:"Shell",php:"PHP",go:"Go",kotlin:"Kotlin",rust:"Rust",hcl:"HCL"},P=Object.keys(F),U=!0,M=!1,j=void 0;try{for(var Z,Q=Object.entries(F)[Symbol.iterator]();!(U=(Z=Q.next()).done);U=!0){var H=Z.value;r.registerLanguage(H[0],H[1])}}catch(e){M=!0,j=e}finally{try{U||null==Q.return||Q.return()}finally{if(M)throw j}}var V=r},95181:function(e,t,n){"use strict";n.d(t,{zm:function(){return d.zm},mY:function(){return d.mY},QT:function(){return I}});var r=n(47842),i=n(70865),o=n(87394),a=n(50930),s=n(12995),u=n(93707),c=n(53942),l=n(96670),A=n(46807),d=n(59806),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{CODE:"code",PRE:function(t){var n,r,i,o,a=t.domNode,s=(null!==(o=null===(n=a.querySelector("code"))||void 0===n?void 0:null===(r=n.className)||void 0===r?void 0:r.split(" "))&&void 0!==o?o:[]).find(function(e){return e.startsWith("language-")});return s&&(i=s.replace("language-","")),(0,d.mj)(a.textContent||"",{language:i,isInTrapMode:e.isInTrapMode})}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:(0,i.Z)({},{CODE:"code"},f(e)),customRules:[function(t){var n=t.domNode;if("pre"===n.style.whiteSpace)return(0,d.mj)(n.textContent||"",e)}]}},p=n(69803),g=function(e,t){return e.anchor.offset!==t.anchor.offset?e.anchor.offset-t.anchor.offset:e.focus.offset!==t.focus.offset?e.focus.offset-t.focus.offset:0};function v(e){var t,n=(0,o.Z)(e,2),r=n[0],i=n[1],u=s.NB.string(r);try{t=r.language&&p.AO.includes(r.language)&&r.language!==p.Dj?p.ZP.highlight(r.language,u):p.ZP.highlightAuto(u)}catch(e){console.error(e),t=p.ZP.highlightAuto(u)}var l=t._emitter.stack,A=[];return!function e(t,n,r,i){var o=i,a=!0,s=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=c.value;"string"==typeof A?i+=A.length:(i=e(t,n,A.children,i),A.scope&&n.push({className:"hljs-".concat(A.scope),anchor:{path:t,offset:o},focus:{path:t,offset:i}})),o=i}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}return i}((0,a.Z)(i).concat([0]),A,l,0),(0,c.qQ)(i,r,A).sort(g)}var m={"{":"}","[":"]","(":")",":":""};function y(e){var t=m[e];return function(n){if(n.selection){var r=(0,c.nc)(n,"code-block",n.selection.anchor.path),i=(0,c.nc)(n,"code-block",n.selection.focus.path);if(r&&i&&r[0]===i[0]){var o=s.e6.start(n.selection);s.YR.insertText(n,"".concat(e).concat(t),{at:{path:o.path,offset:o.offset}});var a={path:o.path,offset:o.offset+t.length};return s.YR.setSelection(n,{anchor:a,focus:a}),!0}}}}function b(e){return function(t){if(t.selection){var n=(0,c.nc)(t,"code-block",t.selection.anchor.path),r=(0,c.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var i=(0,o.Z)(s.e6.edges(t.selection),2),a=i[0],u=i[1],l=!1,A=!0;A=!0;var d=!0,f=!1,h=void 0;try{for(var p,g=s.NB.texts(t,{from:u.path,to:n[1]})[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value[0].text,m=A?u.offset-1:v.length-1;void 0!==v[m+1]&&v[m+1]===e&&(l=!0);break}}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}if(l){var y={path:a.path,offset:a.offset+1};return s.YR.setSelection(t,{anchor:y,focus:y}),!0}}}}}var w=function(e){var t=e.str,n=e.editor;return!!(!e.isInTrapMode||Array.from(s.NB.texts(n))[0][0].text.match(t))};function _(e){return function(t){if(t.selection){var n=(0,c.nc)(t,"code-block",t.selection.anchor.path),r=(0,c.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var i=(0,o.Z)(s.e6.edges(t.selection),2),a=i[0],u=i[1],l=!0,A=!1,d=void 0;try{n:for(var f,h,p=s.NB.texts(t,{reverse:!0,from:u.path,to:n[1]})[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var g=h.value,v=g[0].text;(v.endsWith("\n")&&(null==f?void 0:f[0].text.startsWith("  "))||v.endsWith("\n ")&&(null==f?void 0:f[0].text.startsWith(" ")))&&(v+="  "),f=g;for(var m=0===s.y$.compare(g[1],u.path)?u.offset-1:v.length-1,y=m;y>-1;y--)if("\n"===v[y]&&(e?" "===v[y+1]&&" "===v[y+2]&&s.YR.delete(t,{at:{path:g[1],offset:y+1},distance:2}):s.YR.insertText(t,"  ",{at:{path:g[1],offset:y+1}}),s.E9.isBefore({path:g[1],offset:y},a))){f=void 0;break n}}}catch(e){A=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(A)throw d}}if(f){if(e){var b=f[0].text;" "===b[0]&&" "===b[1]&&s.YR.delete(t,{at:{path:f[1],offset:0},distance:2})}else s.YR.insertText(t,"  ",{at:{path:f[1],offset:0}})}return!0}}}}function E(e){var t=e.insertFragment;return e.insertFragment=function(n){return!!function(e,t){var n=(0,c.kA)(e,t);if(!n||!(0,d.zm)(n))return!1;var r=(0,c.YI)(e);if(r&&(0,c.XU)(e,r[1])&&(0,c.FU)(e,{includeOffset:!0}))return!1;var i=s.NB.string(t[0]).replace(/^(\s)*/,"").replace(/(\s)*$/,"");if(i.includes("\n"))return!1;var o=[{type:"code",children:[{text:i}]}];return e.insertText(i),e.sealHistoryEntry(),s.YR.delete(e,{distance:i.length,reverse:!0,unit:"character"}),e.insertFragment(o),e.sealHistoryEntry(),!0}(e,n)||t(n)},e}var C=/^\`\`\`(\w+)?/,B=function(e){var t,n,i=e.blockCodeComponent,a=e.isInTrapMode,l=void 0!==a&&a;return{name:"code-block",elements:(0,r.Z)({},"code-block",{enterBehavior:"soft-break",component:i,disableTextInputHandlers:!0,softBreakBehavior:"soft-break"}),keyBindings:[(0,u.O2)({key:"//",elementArg:"code-block",opts:{shortKey:!0,shiftKey:!0},params:{disableInTable:!0}}),{name:"add indent",key:"Tab",shiftKey:!1,handler:_(!1)},{name:"remove indent",key:"Tab",shiftKey:!0,handler:_(!0)},{name:"indent or exit block on enter",key:"Enter",shiftKey:!1,handler:(t={isInTrapMode:l},function(e){if(e.selection){var n,r=t.isInTrapMode,i=(0,c.nc)(e,"code-block",e.selection.anchor.path),a=(0,c.nc)(e,"code-block",e.selection.focus.path);if(i&&a&&i[0]===a[0]){var u=a[0];if(s.e6.isCollapsed(e.selection)&&(0,c.bX)(e,function(e){return"type"in e&&"code-block"===e.type})){var l=!0,A=!1,d=void 0;try{for(var f,h=s.NB.texts(u,{reverse:!0})[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){if(f.value[0].text.endsWith("\n\n")&&!r)return s.ML.deleteBackward(e,{unit:"character"}),s.ML.deleteBackward(e,{unit:"character"}),s.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:s.y$.next(a[1])}),s.YR.move(e,{distance:1,unit:"character"}),!0;break}}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}}var p=(0,o.Z)(s.e6.edges(e.selection),2),g=p[0],v=p[1],y=!1,b=!1,w="",_=!0,E=!0,C=!1,B=void 0;try{n:for(var I,x,T=s.NB.texts(e,{reverse:!0,from:v.path,to:i[1]})[Symbol.iterator]();!(E=(x=T.next()).done);E=!0){var S=x.value[0].text,k=_?v.offset-1:S.length-1;_&&"{[(:".includes(S[k])&&(I=S[k],y=!0),_=!1;for(var N=k;N>-1;N--){if("\n"===S[N])break n;" "===S[N]||"	"===S[N]?w+=S[N]:w=""}}}catch(e){C=!0,B=e}finally{try{E||null==T.return||T.return()}finally{if(C)throw B}}_=!0;var D=!0,O=!1,R=void 0;try{for(var F,L=s.NB.texts(e,{from:v.path,to:i[1]})[Symbol.iterator]();!(D=(F=L.next()).done);D=!0){var P=F.value[0].text,U=_?v.offset-1:P.length-1;if(void 0!==P[U+1]){I&&P[U+1]===m[I]&&(b=!0);break}}}catch(e){O=!0,R=e}finally{try{D||null==L.return||L.return()}finally{if(O)throw R}}if(y&&(b||":"===I)){var M=w.length;w="\n".concat(w,"  \n").concat(w),n=M+3}else n=y?(w="\n  "+w).length:(w="\n"+w).length;if("\n"!==w){s.YR.insertText(e,"".concat(w));var j={path:g.path,offset:g.offset+n};return s.YR.setSelection(e,{anchor:j,focus:j}),!0}}}})},{key:"Backspace",handler:(n={isInTrapMode:l},function(e){if(n.isInTrapMode&&e.selection){var t=(0,c.nc)(e,"code-block",e.selection.anchor.path),r=(0,c.nc)(e,"code-block",e.selection.focus.path);if(t&&r&&t[0]===r[0]){var i=r[0];if(Array.from(s.NB.texts(i)).every(function(e){return""===s.NB.string(e[0])}))return!0}}}),name:"Do not delete block on backspace in trap mode"},{name:"autoclose { block",key:"{",shiftKey:!0,handler:y("{")},{name:"autoclose [ block",key:"[",shiftKey:!1,handler:y("[")},{name:"autoclose ( block",key:"(",shiftKey:!0,handler:y("(")},{name:"avoid doubleclose { block",key:"}",shiftKey:!0,handler:b("}")},{name:"avoid doubleclose [ block",key:"]",shiftKey:!1,handler:b("]")},{name:"avoid doubleclose ( block",key:")",shiftKey:!0,handler:b(")")}],textInputHandlers:[(0,u.dC)({str:"```",matchMode:"start",element:"code-block",customTest:function(e){return w({editor:e,isInTrapMode:l,str:"```"})},isDisabledInTable:!0})]}},I=function(e){var t=e.blockCodeComponent,n=e.inlineCodeComponent,r=e.isInTrapMode,f=void 0!==r&&r,g={},m=[],y=[];if(t){var b=B({blockCodeComponent:t,isInTrapMode:f});g=(0,i.Z)({},g,b.elements),m=(0,a.Z)(m).concat((0,a.Z)(b.keyBindings)),y=(0,a.Z)(y).concat((0,a.Z)(b.textInputHandlers))}if(n){var w={name:"inline-code",elements:{code:{inline:!0,component:e.inlineCodeComponent,disableTextInputHandlers:!0,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];if(""===s.NB.string(r))return s.YR.removeNodes(e,{at:i,hanging:!0}),!0}}},keyBindings:[(0,u.pM)("c","code",{shortKey:!0,shiftKey:!0})],textInputHandlers:[(0,u.dC)({str:"`",matchMode:"surround",element:"code",inline:!0})]};g=(0,i.Z)({},g,w.elements),m=(0,a.Z)(m).concat((0,a.Z)(w.keyBindings)),y=(0,a.Z)(y).concat((0,a.Z)(w.textInputHandlers))}return{elements:g,keyBindings:m,name:"code",textInputHandlers:y,toMarkdown:{byElementType:(0,i.Z)({},{"code-block":function(e){var t=e.element.language||"";return(0,A.H4)((0,l.Z)((0,i.Z)({},e),{markdown:["```"+t+"\n","\n```\n"],childrenMarkdownPosition:"between"}))}},{code:function(e){return(0,A.H4)((0,l.Z)((0,i.Z)({},e),{markdown:["`","`"],childrenMarkdownPosition:"between"}))}})},decorators:{"code-block":v},fromHtml:h({isInTrapMode:f}),eventHandlers:{onPaste:function(e,t){if(!e.selection)return!1;var n=(0,c.nc)(e,"code-block",e.selection.anchor.path),r=(0,c.nc)(e,"code-block",e.selection.focus.path);if(n&&(null==n?void 0:n[0])===(null==r?void 0:r[0])){var i=t.clipboardData.getData("text/plain").trim(),o=C.exec(i);if(o&&i.trim().endsWith("```")){var a=3;o[1]&&p.AO.includes(o[1])&&(a=o[0].length),i=i.substring(a,i.length-3)}return e.insertText((0,d.tY)(i)),!0}}},editor:E,conversionRules:{code:{disallowedTypes:["image","youTubePlayer","block-link"]},"code-block":{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},59806:function(e,t,n){"use strict";n.d(t,{Rz:function(){return l},mY:function(){return c},mj:function(){return s},tY:function(){return a},zm:function(){return u}});var r=n(87394),i=n(12995),o=n(69803);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepEmptyLines;n?(e.endsWith("\n")||e.endsWith("\n\n"))&&(e=e.slice(0,-1)):e=e.trim();var r=void 0,i=e.match(n?/\n[\t\f\cK ]+/g:/\n\s*/g);if(i){var o=!0,a=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;(void 0===r||l.length<r.length)&&(r=l)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}return void 0!==r?e.replaceAll(RegExp("(\n|^)".concat(r.substring(1)),"g"),"$1").trim():e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"code-block",language:t.language,children:[{text:a(e,{keepEmptyLines:t.isInTrapMode})}]}}function u(e){return i.W_.isElement(e)&&"code-block"===e.type}function c(e){return i.W_.isElement(e)&&"code"===e.type}var l=function(e,t){if(t){var n=Array.from(i.ML.nodes(e,{match:function(e){return u(e)}})),a=t===o.Dj?void 0:t,s=!0,c=!1,l=void 0;try{for(var A,d=n[Symbol.iterator]();!(s=(A=d.next()).done);s=!0){var f=(0,r.Z)(A.value,2)[1];i.YR.setNodes(e,{type:"code-block",language:a},{at:f})}}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}}},97462:function(e,t,n){"use strict";n.d(t,{r5:function(){return p.r5},RF:function(){return p.RF},b9:function(){return m},Q:function(){return p.Q}});var r=n(87394),i=n(67304),o=/*#__PURE__*/n.n(i),a=n(12995),s=n(37164),u=n(53942),c=n(74189),l=n(3220),A=n(58490),d=n(70865),f=n(96670),h=n(46807),p=n(3037);function g(e){if(e.selection&&a.e6.isCollapsed(e.selection)&&(0,u.FU)(e,{includeOffset:!0,blockPath:[]})){var t=a.ML.start(e,[]),n=a.ML.above(e,{at:t,mode:"highest",voids:!0,match:function(t){return a.ML.isVoid(e,t)}});if(n){var r=n[1];return a.YR.insertNodes(e,(0,p.Q)(),{at:r}),a.YR.select(e,r),!0}}}function v(e,t,n){var r=o()(Object.keys(t),"children","type","isAI","aiRequestId");if(r.length)return a.YR.unsetNodes(e,r,{at:n,match:function(e){return e===t}}),!0}var m=function(e){var t=e.divComponent,n=e.spanComponent,i=e.paragraphComponent,o=e.spanFormatComponent,m=e.onKeyboardShortcutsOpen,y=e.onHideUi,b=[{name:"select-block",key:"a",shortKey:!0,shiftKey:!0,handler:function(e){return(0,A.ts)(e),!0},logEvent:!0},{name:"block tab character by default",key:"Tab",handler:function(){return!0}},{name:"enter default",key:"Enter",handler:function(e){if(!navigator.userAgent.indexOf("Chrome")||!navigator.userAgent.indexOf("Firefox")||!e.selection)return!1;try{(0,c.i)(e,document.getElementById("note-container"))}catch(e){console.warn("Scroll to closest element node error:",e)}}},{name:"create-paragraph-at-start",key:"ArrowUp",handler:g,logEvent:!0}];return m&&b.push({name:"shortcut modal open",key:"/",shortKey:!0,metaKey:!0,handler:function(){return m(),!1},logEvent:!0}),y&&b.push({name:"shortcut toggle ui",key:"\\",shortKey:!0,metaKey:!0,handler:function(){return y(),!1},logEvent:!0}),{name:"default",elements:{paragraph:{component:i,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,u.XU)(e,o)?v(e,i,o):((0,l.Z3)(e,o),!0)}},span:{component:n,inline:!0,normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,u.XU)(e,o)?(a.YR.setNodes(e,{type:"paragraph"},{at:o}),!0):(0,p.RF)(a.NB.get(e,a.y$.parent(o)))?(a.YR.unwrapNodes(e,{at:o}),!0):v(e,i,o)}},div:{component:t,softBreakBehavior:"soft-break",enterBehavior:"split-parent",normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,u.XU)(e,o)?(a.YR.setNodes(e,{type:"paragraph"},{at:o}),!0):(0,p.RF)(a.NB.get(e,a.y$.parent(o)))?(a.YR.unwrapNodes(e,{at:o}),!0):v(e,i,o)}}},formats:{className:{component:o}},keyBindings:b,normalizeEditor:function(e){if(!e.children.length)return a.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}),!0},editor:function(e){var t=e.deleteBackward;e.deleteBackward=function(n){var i=function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=e.selection.focus.path,n=a.ML.above(e,{at:t,mode:"lowest"});if(n&&"type"in n[0]){var i=(0,r.Z)(n,2),o=i[0],s=i[1];if(e.isInline(o)){var c=a.NB.string(o);if(0===c.length||1===c.length){var l=a.y$.next(s),A=a.NB.has(e,a.y$.next(s))?a.NB.get(e,l):null,d=a.xv.isText(A)&&" "===A.text&&(0,u.yi)(e,{at:a.ML.end(e,l)});return a.ML.withoutNormalizing(e,function(){d&&a.YR.removeNodes(e,{at:l}),a.YR.removeNodes(e,{at:s})}),!0}return}if((0,u.FU)(e,{blockPath:s,includeOffset:!0})){if((0,u.FU)(e,{blockPath:[]})&&"paragraph"===o.type&&""===a.NB.string(o))return a.YR.removeNodes(e,{at:s}),!0;if(!["div","span","paragraph"].includes(o.type)&&""===a.NB.string(o))return a.ML.withoutNormalizing(e,function(){a.YR.removeNodes(e,{at:s}),a.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:s,select:!0})}),!0;var f=a.ML.previous(e,{at:s});if(f&&a.ML.isVoid(e,f[0]))return a.YR.select(e,f[1]),!0}}}}(e);i||(i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"character";if(!e.selection||!a.e6.isCollapsed(e.selection)||!(0,u.yi)(e,{at:e.selection.focus})||"character"!==t)return!1;var n=e.selection.focus.path,r=a.NB.get(e,n),i=a.y$.hasPrevious(n)?a.NB.get(e,a.y$.previous(n)):null;if(a.xv.isText(r)&&(" "===r.text||""===r.text)&&a.ML.isInline(e,i))return a.YR.select(e,a.ML.end(e,a.y$.previous(n))),e.deleteBackward("character"),!0}(e))||t(n)};var n=e.insertFragment;return e.insertFragment=function(t){var i=new Set,o=!0,u=!1,c=void 0;try{for(var l,A=a.ML.nodes(e,{at:[]})[Symbol.iterator]();!(o=(l=A.next()).done);o=!0){var d=(0,r.Z)(l.value,1)[0];"id"in d&&d.id&&i.add(d.id)}}catch(e){u=!0,c=e}finally{try{o||null==A.return||A.return()}finally{if(u)throw c}}var f=!0,h=!1,p=void 0;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value;!function e(t){if("id"in t&&t.id&&i.has(t.id)&&(t.id=(0,s.x0)()),"children"in t){var n=!0,r=!1,o=void 0;try{for(var a,u=t.children[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;e(c)}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}}(m)}}catch(e){h=!0,p=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}n(t)},e},fromHtml:{byTag:{P:"paragraph",BR:function(){return{text:"\n"}}}},toMarkdown:{byElementType:{paragraph:function(e){return e.isInTable?(0,h.H4)((0,f.Z)((0,d.Z)({},e),{markdown:["<p>","</p>"],childrenMarkdownPosition:"between"})).replace(/\n/g,"<br />"):(0,h.H4)((0,f.Z)((0,d.Z)({},e),{markdown:"\n\n",childrenMarkdownPosition:"before"}))}}},genericNormalizer:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];if(!1===e.isInline(i)){var s=(0,r.Z)(a.ML.last(e,o),2),u=s[0],c=s[1];if(a.xv.isText(u)){if(!1===a.y$.hasPrevious(c))return;var l=(0,r.Z)(a.ML.node(e,a.y$.previous(c)),1)[0];if(""===u.text&&e.isInline(l))return a.YR.insertText(e," ",{at:a.ML.start(e,c)}),!0}else if(e.isInline(u))return a.YR.insertNodes(e,{text:" "},{at:a.y$.next(c)}),!0}},conversionRules:{paragraph:{disallowedTypes:["image","code-block","youTubePlayer","block-link"]}}}}},41955:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(12995),i=n(20660),o=n(44043),a=function(e,t,n){var a,s,u,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.removeFormats,A=void 0!==l&&l,d=n.find(function(e){return"default"===e.name}),f=null!==(u=null==d?void 0:null===(a=d.conversionRules)||void 0===a?void 0:null===(s=a.paragraph)||void 0===s?void 0:s.disallowedTypes)&&void 0!==u?u:[];t.filter(function(e){return!f.includes(e[0].type)}).map(function(t){return r.ML.pathRef(e,t[1])}).forEach(function(t){t.current&&((0,o.R5)(e,t),r.YR.setNodes(e,{type:"paragraph"},{at:t.current}),A&&(0,i.oy)(e,t.current),t.unref())})}},3037:function(e,t,n){"use strict";n.d(t,{A7:function(){return a},Q:function(){return s},RF:function(){return o},r5:function(){return u}});var r=n(87394),i=n(12995);function o(e){return!!e&&"object"==typeof e&&"type"in e&&"paragraph"===e.type}function a(e){return i.W_.isElement(e)&&"div"===e.type}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"paragraph",children:[{text:e}]}}var u=function(e,t,n){var o=!0,a=!1,s=void 0;try{for(var u,c=i.ML.nodes(e,{at:[0],match:n})[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=(0,r.Z)(u.value,2),A=(l[0],l[1]);i.YR.setNodes(e,t,{at:A})}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}},92775:function(e,t,n){"use strict";n.d(t,{wu:function(){return _},RN:function(){return E},Xr:function(){return b},u1:function(){return y},Lr:function(){return f},vW:function(){return m}});var r=n(87394),i=n(37164),o=n(12995),a=n(85009),s=n(53942),u=n(56704),c=n(69253),l=new Set(["3dv","ai","amf","art","ase","awg","blp","bmp","bw","cd5","cdr","cgm","cit","cmx","cpt","cr2","cur","cut","dds","dib","djvu","dxf","e2d","ecw","egt","emf","eps","exif","fs","gbr","gif","gpl","grf","hdp","heic","heif","icns","ico","iff","int","inta","jfif","jng","jp2","jpeg","jpg","jps","jxr","lbm","liff","max","miff","mng","msp","nef","nitf","nrrd","odg","ota","pam","pbm","pc1","pc2","pc3","pcf","pct","pcx","pdd","pdn","pgf","pgm","PI1","PI2","PI3","pict","png","pnm","pns","ppm","psb","psd","psp","px","pxm","pxr","qfx","ras","raw","rgb","rgba","rle","sct","sgi","sid","stl","sun","svg","sxd","tga","tif","tiff","v2d","vnd","vrml","vtf","wdp","webp","wmf","x3d","xar","xbm","xcf","xpm"]),A="slateDropTarget",d=function(e,t,n,r){for(var i=e.history.undos,o=!1,a=i.length-1;a>=0;a--){for(var s=i[a].operations.length-1;s>=0;s--){var u=i[a].operations[s];if("insert_node"===u.type){var c=u.node;if("image"===c.type&&c.id===t&&c.src===n){var l=Object.assign({},c,{src:r});u.node=l,o=!0;break}}}if(o)break}},f=function(e){var t=e.range,n=e.editor,r=e.onError,o=e.dataTransfer,a=e.uploadService,s=o.files,u=0,A=!0,f=!1,h=void 0;try{for(var p,g=s[Symbol.iterator]();!(A=(p=g.next()).done);A=!0)!function(){var e,o,s,A=p.value;if(e=A.name,s="string"==typeof e?e:e.name,!l.has(null!==(o=s.split(".").pop())&&void 0!==o?o:""))return u++;var f=URL.createObjectURL(A),h=(0,i.x0)();createImageBitmap(A).then(function(e){(0,c.Bi)(h,{src:f,altText:A.name,title:A.name,width:e.width,height:e.height},n,!1,t)}).then(function(){return a(A)}).then(function(e){var t=e.url;return(0,c.Pm)(h,t,n),t}).then(function(e){URL.revokeObjectURL(f),d(n,h,f,e)}).catch(r)}()}catch(e){f=!0,h=e}finally{try{A||null==g.return||g.return()}finally{if(f)throw h}}return u&&r("".concat(u," file(s) were ignored due to invalid extension.")),u!==s.length},h=function(e,t){for(var n=t.clientY,i=["span","section","list","div"],s=Array.from(o.NB.descendants(e)).filter(function(t){var n=(0,r.Z)(t,1)[0];return o.ML.isBlock(e,n)}).filter(function(e){var t=(0,r.Z)(e,1)[0];return!i.some(function(e){return o.W_.isElementType(t,e)})}),u=s.map(function(t){var n=(0,r.Z)(t,1)[0];return a.F3.toDOMNode(e,n).getBoundingClientRect()}).map(function(e){return[e.top,e.bottom]}).map(function(e){var t=(0,r.Z)(e,2);return Math.min(Math.abs(n-t[0]),Math.abs(n-t[1]))}),c=1/0,l=-1,A=0;A<u.length;A++)u[A]<c&&(c=u[A],l=A);return s[l]},p=function(e){var t;null===(t=a.F3.toDOMNode(e,e).querySelector(".".concat(A)))||void 0===t||t.classList.remove(A)},g=function(e,t){var n=a.F3.toDOMNode(e,t);p(e),n.classList.add(A)},v=function(e,t,n){if(!n||!(null===(r=e.selection)||void 0===r?void 0:r.anchor.path))return!1;var r,i,u=o.y$.parent(e.selection.anchor.path);if(!u)return!1;if(o.y$.equals(n,u))return!0;if("list-item"===t.type){var c=a.F3.findPath(e,t.children[t.children.length-1]);i=o.y$.next(c)}else i=!o.y$.isSibling(n,u)||o.y$.isBefore(n,u)?(0,s.$C)(e,n,"down"):n;return!!i&&(o.YR.moveNodes(e,{at:u,to:i}),!0)},m=function(e){var t=e.event,n=e.editor,r=e.onError,i=e.uploadService,o=t.clipboardData;return void 0!==o.types.find(function(e){return"Files"===e})&&f({editor:n,dataTransfer:o,uploadService:i,onError:r})},y=function(e){var t=e.event,n=e.editor,i=e.onError,a=e.uploadService,s=t.dataTransfer,c=h(n,t),l=(0,u.oT)(s),A=void 0!==s.types.find(function(e){return"Files"===e});if(!c)return!1;var d=(0,r.Z)(c,2),g=d[0],m=d[1],y=o.ML.point(n,m,{edge:"end"}),b=o.ML.range(n,y);return(p(n),A)?f({range:b,editor:n,onError:i,dataTransfer:s,uploadService:a}):!!l&&v(n,g,m)},b=function(e){var t,n=e.editor,r=h(n,e.event);if(!((null===(t=n.selection)||void 0===t?void 0:t.anchor.path)!==void 0)){g(n,r[0]);return}var i=r[1],a=o.y$.parent(n.selection.anchor.path);o.y$.equals(i,a)?p(n):g(n,r[0])},w=0,_=function(){w++},E=function(e){0==--w&&p(e)}},69253:function(e,t,n){"use strict";n.d(t,{Bi:function(){return s},Kx:function(){return u},Pm:function(){return c}});var r=n(12995),i=n(20672),o=n(3220),a=n(53942),s=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,s=t.src,u=t.altText,c=t.title,l=t.height,A=t.width,d=o;if(i&&(n.insertText(s),n.sealHistoryEntry(),r.YR.delete(n,{unit:"character",distance:s.length,reverse:!0})),!o&&n.selection){var f=r.NB.parent(n,n.selection.anchor.path);"paragraph"===f.type&&""===r.NB.string(f)&&r.YR.removeNodes(n);var h=(0,a.wu)(n,{type:"list",mode:"highest"});h&&(d=r.ML.after(n,h[1]))}return r.YR.insertNodes(n,[{id:e,src:s,title:void 0===c?"":c,altText:void 0===u?"":u,height:l,width:A,type:"image",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}],{at:d,voids:!0}),e},u=function(e,t,n){var a=(0,o.nv)(t,e);a&&i.MO.withoutSaving(t,function(){return r.YR.setNodes(t,{width:n.width,height:n.height},{at:a[1]})})},c=function(e,t,n){var a=(0,o.nv)(n,e);a&&i.MO.withoutSaving(n,function(){return r.YR.setNodes(n,{src:t},{at:a[1]})})}},70492:function(e,t,n){"use strict";n.d(t,{ON:function(){return o.ON},RH:function(){return v.R},$m:function(){return o.$m},r5:function(){return r.r5},T8:function(){return o.T8},t9:function(){return o.t9},zm:function(){return s.zm},if:function(){return o.if},RF:function(){return r.RF},Xf:function(){return o.Xf},hZ:function(){return R},O6:function(){return eL},eD:function(){return eF},lw:function(){return er.lw},RX:function(){return z.R},QT:function(){return s.QT},W4:function(){return eB},b9:function(){return r.b9},O4:function(){return ea},$c:function(){return eb},DA:function(){return o.DA},As:function(){return i.A},Ft:function(){return en},qi:function(){return eO},Hi:function(){return a.Hi},Wn:function(){return eC},Eo:function(){return o.Eo},Ke:function(){return G},$h:function(){return K}});var r=n(97462),i=n(23649),o=n(4171),a=n(39269),s=n(95181),u=n(47842),c=n(50930),l=n(70865),A=n(96670),d=n(87394),f=n(12995),h=n(46807),p=n(42838),g=n(26297),v=n(32970),m=function(e){var t=e.domNode,n=e.parseChildren,r=(0,g.Z)(e,["domNode","parseChildren"]);if((0,p.Z)(t,HTMLDivElement)){if("taskListLocalId"in t.dataset)return{type:"list",listType:v.R.todos,children:n((0,l.Z)({domNode:t.childNodes,parseChildren:n},r))};if(t.dataset.taskLocalId)return{type:"list-item",done:!!(null===(s=t.querySelector('input[type="checkbox"]'))||void 0===s?void 0:s.checked),children:n((0,l.Z)({domNode:t.childNodes,parseChildren:n},r))}}if((0,p.Z)(t,HTMLUListElement))return t.className.includes("task-list")||"todo_list"===t.dataset.type||(null===(u=t.firstElementChild)||void 0===u?void 0:null===(c=u.textContent)||void 0===c?void 0:c.startsWith("[ ]"))||(null===(d=t.firstElementChild)||void 0===d?void 0:null===(f=d.textContent)||void 0===f?void 0:f.startsWith("[x]"))||t.querySelector("li[role=checkbox]")||"true"===t.getAttribute("data-todos")||t.querySelector("input[type=checkbox]")?{type:"list",listType:v.R.todos,children:n((0,l.Z)({domNode:Array.from(t.children),parseChildren:n},r))}:t.dataset.checked?{type:"list",children:t.childElementCount>1?Array.from(t.children).map(function(e){return{type:"list-item",done:"true"===t.dataset.checked,children:n((0,A.Z)((0,l.Z)({},r),{parseChildren:n,domNode:e.childNodes}))}}):[{type:"list-item",done:"true"===t.dataset.checked,children:n((0,A.Z)((0,l.Z)({},r),{parseChildren:n,domNode:t.firstElementChild.childNodes}))}],listType:v.R.todos}:{type:"list",listType:v.R.unordered,children:n((0,l.Z)({domNode:Array.from(t.children),parseChildren:n},r))};if((0,p.Z)(t,HTMLLIElement)){var i=!1,o=!1;if("checkbox"===t.getAttribute("role"))i=!0,o="true"===t.getAttribute("aria-checked");else if("todo_item"===t.dataset.type&&t.dataset.done)i=!0,o="true"===t.dataset.done;else if(t.hasAttribute("data-done"))i=!0,o="true"===t.getAttribute("data-done");else{if((null===(h=t.textContent)||void 0===h?void 0:h.startsWith("[ ]"))||(null===(m=t.textContent)||void 0===m?void 0:m.startsWith("[x]"))){i=!0,o=!!(null===(y=t.textContent)||void 0===y?void 0:y.startsWith("[x]"));var a=t.firstChild;if((0,p.Z)(a,Text)){var s,u,c,d,f,h,m,y,b,w=t.ownerDocument.createTextNode((null===(b=a.textContent)||void 0===b?void 0:b.substring(3).trim())||"");t.insertBefore(w,a),t.removeChild(a)}}var _=t.querySelector("input[type=checkbox]");if(_){i=!0,o=_.checked;var E,C=_.nextSibling;C&&(0,p.Z)(C,Text)&&(C.textContent=(null===(E=C.textContent)||void 0===E?void 0:E.trimStart())||"")}}return i?{type:"list-item",done:o,children:n((0,l.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}:{type:"list-item",children:n((0,l.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}}},y=function(e){return f.W_.isElement(e)&&"list"===e.type},b=function(e,t){var n=t[0],r=1===t.length,i=n.children.findIndex(function(t){return t===e});return r&&0===i},w=function(e,t){return Array.from(f.NB.elements(e)).find(function(e){return(0,d.Z)(e,1)[0]===t})[1]},_=function(e){var t=e.element,n=e.serializeChildren;if(!y(t))return"";var r=t.children.map(function(r){var i=r.children.map(function(t){return n((0,A.Z)((0,l.Z)({},e),{element:t}))}),o="";return t.listType===v.R.todos&&(o=r.done?"[x] ":"[ ] "),"<li>".concat(o).concat(i.join(""),"</li>")});switch(t.listType){case v.R.ordered:return"<ol>".concat(r.join("\n"),"</ol>");case v.R.unordered:case v.R.todos:return"<ul>".concat(r.join("\n"),"</ul>")}},E=n(93707),C=n(55611),B=n(3220),I=n(44043),x=function(e,t){var n,r=(0,d.Z)(t,2),i=r[0],o=r[1];if(!(null===(n=i.children)||void 0===n?void 0:n.length))return f.YR.removeNodes(e,{at:o}),!0;if(T(e,[i,o]))return!0;var a=f.y$.next(o),s=f.NB.has(e,a)?f.NB.get(e,a):null;if(s&&(0,I.nq)(s)&&(0,B.UT)(i,s))return!!T(e,[s,a])||(f.YR.mergeNodes(e,{at:a}),!0);var u=f.y$.hasPrevious(o)?f.y$.previous(o):null;if((s=u&&f.NB.has(e,u)?f.NB.get(e,u):null)&&u&&(0,I.nq)(s)&&(0,B.UT)(i,s))return!!T(e,[s,u])||(f.YR.mergeNodes(e,{at:o}),!0)},T=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1],o=r.listType===v.R.todos,a=r.children.findIndex(I.OD),s=r.children[a];if(!s)return f.YR.insertNodes(e,{type:"list-item",children:[{type:"div",children:[{text:""}]}]},{at:i.concat(0)}),!0;if(!(null===(g=s.children)||void 0===g?void 0:g.length))return N(e,[s,i.concat(a)]),!0;var u=f.ML.isBlock(e,s.children[0])?s.children[0].children.length:0,c=!1,l=!1,A=!0,h=!1,p=void 0;try{for(var g,m,y=f.NB.children(e,i,{reverse:!0})[Symbol.iterator]();!(A=(m=y.next()).done);A=!0){var b=(0,d.Z)(m.value,2),w=b[0],_=b[1];if((0,I.OD)(w)){var E=D(e,[w,_],o);l=l||E;continue}if(f.ML.isBlock(e,w))return f.YR.setNodes(e,{type:"list-item"},{at:_}),!0;c=!0;var C=i.concat(a,0,u);f.YR.moveNodes(e,{at:_,to:C})}}catch(e){h=!0,p=e}finally{try{A||null==y.return||y.return()}finally{if(h)throw p}}return!!c||!!l};function S(e,t,n){if(!f.NB.has(e,t)){console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",t);return}if(!f.NB.has(e,n)){console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",n);return}var r=(0,d.Z)(f.ML.node(e,t),1)[0],i=t.concat(r.children.length),o=!0,a=!1,s=void 0;try{for(var u,c=f.NB.children(e,n,{reverse:!0})[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=(0,d.Z)(u.value,2),A=l[0],h=l[1];f.ML.isBlock(e,A)?"list"===A.type?f.YR.moveNodes(e,{at:h,to:i}):S(e,t,h):f.YR.moveNodes(e,{at:h,to:i})}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}var k=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];if(N(e,[r,i]))return!0;var o=(0,d.Z)(f.ML.parent(e,i),1)[0];return(0,I.nq)(o)?!!D(e,[r,i],o.listType===v.R.todos)||void 0:((0,B.Z3)(e,i),!0)},N=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];if(!r.children.length)return f.YR.insertNodes(e,{type:"div",children:[{text:""}]},{at:(0,c.Z)(i).concat([0])}),!0;var o=(0,d.Z)(r.children,1)[0];if(1===r.children.length&&(0,I.nq)(o))return(0,B.s6)(e,i.concat(0),{levels:2}),!0;var a=i.concat(0);if(f.xv.isText(o)||"div"!==o.type)return f.YR.insertNodes(e,{type:"div",children:[]},{at:a}),!0;var s=!0,u=!1,l=void 0;try{for(var A,h=f.NB.children(e,i)[Symbol.iterator]();!(s=(A=h.next()).done);s=!0){var p=(0,d.Z)(A.value,2),g=p[0],v=p[1];if(f.y$.equals(v,a)){var m=!0,y=!1,b=void 0;try{for(var w,_=f.NB.children(e,v)[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var E=(0,d.Z)(w.value,2),C=E[0],x=E[1];if(f.ML.isBlock(e,C))return"list"===C.type?f.YR.moveNodes(e,{at:x,to:i.concat(r.children.length)}):(S(e,i,x),f.YR.removeNodes(e,{at:x})),!0}}catch(e){y=!0,b=e}finally{try{m||null==_.return||_.return()}finally{if(y)throw b}}}else if(!f.ML.isBlock(e,g))return f.YR.moveNodes(e,{at:v,to:a.concat(o.children.length)}),!0;else if("list"!==g.type)return S(e,i,v),f.YR.removeNodes(e,{at:v}),!0}}catch(e){u=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}},D=function(e,t,n){var r=(0,d.Z)(t,2),i=r[0],o=r[1];return!n||"done"in i?!n&&"done"in i&&(f.YR.unsetNodes(e,"done",{at:o,match:function(e){return e===i}}),!0):(f.YR.setNodes(e,{done:!1},{at:o,match:function(e){return e===i}}),!0)},O=n(58348),R=function(e){var t=e.listComponent,n=e.listItemComponent;return{name:"list",elements:(0,u.Z)({list:{component:t,normalize:x}},"list-item",{component:n,normalize:k,softBreakBehavior:"soft-break"}),keyBindings:[{name:"toggle todo list",key:"7",shortKey:!0,shiftKey:!0,handler:function(e){return(0,O.X)(e,v.R.todos),!0},logEvent:!0},{name:"toggle unordered list",key:"8",shortKey:!0,shiftKey:!0,handler:function(e){return(0,O.X)(e,v.R.unordered),!0},logEvent:!0},{name:"toggle ordered list",key:"9",shortKey:!0,shiftKey:!0,handler:function(e){return(0,O.X)(e,v.R.ordered),!0},logEvent:!0},{name:"indent",key:"Tab",shiftKey:!1,handler:function(e){return(0,I.Fg)(e)}},{name:"un-indent",key:"Tab",shiftKey:!0,handler:function(e){return(0,I.pT)(e)}},{name:"move-list-item-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,I.uk)(e,"down")},logEvent:!0},{name:"move-list-item-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,I.uk)(e,"up")},logEvent:!0},{name:"toggle todo",key:"Enter",shortKey:!0,handler:function(e){return(0,I.CA)(e)},logEvent:!0}],textInputHandlers:[(0,E.dC)({str:"* ",matchMode:"start",element:{type:"list",listType:v.R.unordered}}),(0,E.dC)({str:"- ",matchMode:"start",element:{type:"list",listType:v.R.unordered}}),(0,E.dC)({str:"1. ",customRegExp:/^(\d+|[aA])\.\s(\b|\s|$)/,matchMode:"start",element:{type:"list",listType:v.R.ordered}}),(0,E.dC)({str:"[] ",matchMode:"start",element:{type:"list",listType:v.R.todos}})],editor:function(e){var t=e.insertBreak,n=e.deleteBackward,r=e.deleteFragment;return e.insertBreak=function(){(0,I.Hh)(e)||t()},e.deleteBackward=function(t){"character"===t&&(0,I.Wh)(e)||n(t)},e.deleteFragment=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!I.h6.apply(void 0,[e].concat((0,c.Z)(n))))return r.apply(void 0,(0,c.Z)(n))},e},fromHtml:{byTag:{LI:"list-item",OL:{type:"list",listType:v.R.ordered}},customRules:[m]},toMarkdown:{byElementType:{list:function(e){if(e.isInTable)return _(e);var t=e.editor,n=w(t,e.element),r=0===Array.from(f.NB.ancestors(t,n,{reverse:!0})).map(function(e){return e[0]}).filter(y).length;return(0,h.H4)((0,A.Z)((0,l.Z)({},e),{markdown:r&&!e.isInTable?"\n":"",childrenMarkdownPosition:"before"}))},"list-item":function(e){var t=e.editor,n=e.element,r=w(t,n),i=Array.from(f.NB.ancestors(t,r,{reverse:!0})).map(function(e){return e[0]}).filter(y),o=i[0],a=b(n,i)?"":"\n",s=Array(i.length-1).fill("    ").join("");switch(o.listType){case v.R.unordered:a+="".concat(s,"- ");break;case v.R.ordered:var u=o.children.findIndex(function(e){return e===n});a+="".concat(s).concat(u+1,". ");break;case v.R.todos:a+="".concat(s,"- [").concat(n.done?"x":" ","] ")}return(0,h.H4)((0,A.Z)((0,l.Z)({},e),{childrenMarkdownPosition:"between",markdown:[a,""]}))}}},conversionRules:{list:{disallowedTypes:C.f}}}},F=n(9850),L=/*#__PURE__*/n.n(F),P=function(e){return f.W_.isElement(e)&&"comment"===e.type},U=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t(s))return s;if("children"in s){var u=U(s.children,t);if(u)return u}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null};function M(e){var t=e.insertFragment;return e.insertFragment=function(n){var r=n;if(!U(n,P))return t(n);var i=(0,c.Z)(f.NB.elements(e)).filter(function(e){return P((0,d.Z)(e,1)[0])}).map(function(e){return(0,d.Z)(e,1)[0].data.threadId});i.length>0&&(r=function e(t,n,r){var i=[],o=!0,a=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)!function(){var n=u.value,o="children"in n&&n.children.length>0;if(P(n)&&o&&(!r||r(n)))return n.children.forEach(function(e){return i.push(e)});if(o){var a,s=[];n.children.forEach(function(n){return(a=s).push.apply(a,(0,c.Z)(e(t,[n],r)))}),n.children=s}i.push(n)}()}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return i}(e,L()(n),function(e){var t=e.data;return t&&i.includes(t.threadId)})),t(r)},e}var j=n(32265),Z=n(2784),Q=n(45126),H=/*#__PURE__*/n.n(Q),V=n(85009);function K(e){var t=e.id,n=e.editor;return{onCancel:(0,Z.useCallback)(function(){t&&(0,j.ew)(n,t)},[n,t]),onCreate:(0,Z.useCallback)(function(e){t&&(0,j.Bh)(n,t,e)},[n,t]),prepareAnnotation:(0,Z.useCallback)(function(e,t){(0,j._F)(n,e,t)},[n])}}function G(e){var t=e.id,n=e.idProp,r=(0,V.ui)();return{deleteAnnotation:(0,Z.useCallback)(function(){var e;if(n&&(e=H()({data:(0,u.Z)({},n,t)})),e)return(0,j.Dl)(r,e)},[r,t,n])}}var z=n(26141),W=n(37164),q=n(3037);function Y(e){return!!e&&"section"===e.type}function $(e,t){var n=f.NB.get(e,t);if(!(0,i.$)(n))return!1;var r={type:"section",id:(0,W.x0)(),children:[]},o=function(e,t,n){var r,o,a=f.NB.get(e,t);if((0,i.$)(a)){var s="backwards"===n?(r=a.level,f.ML.previous(e,{at:t,match:function(e){return(0,i.$)(e)&&e.level<=r},mode:"highest"})):(o=a.level,f.ML.next(e,{at:t,match:function(e){return"type"in e&&"level"in e&&(0,i.$)(e)&&e.level<=o},mode:"highest"}));if(!s){var u=f.y$.parent(t);return{focus:{path:t,offset:0},anchor:"backwards"===n?f.ML.start(e,u):f.ML.end(e,u)}}var c="backwards"===n?f.ML.after(e,s[1],{unit:"block"}):f.ML.before(e,s[1],{unit:"block"});return c?{focus:{path:t,offset:0},anchor:c}:f.y$.parent(t)}}(e,t,"forwards");return f.YR.wrapNodes(e,r,{at:o,mode:"highest",match:function(e,r){return!(r.length<t.length||f.y$.isBefore(r,t))&&(!(0,i.$)(e)||e.level<=n.level)}}),!0}function X(e,t){var n=f.NB.has(e,t)?f.NB.get(e,t):void 0;if(Y(n)){var r=n.children.length?f.NB.get(n,[0]):void 0;return(0,i.$)(r)?r.level:1/0}}var J=function(e,t){var n=(0,d.Z)(t,2),r=n[0],o=n[1];if(!r.id)return f.YR.setNodes(e,{id:(0,W.x0)()},{at:o,mode:"highest"}),!0;if((0,B.uk)(e,[r,o]))return!0;var a=Array.from(f.NB.children(e,o)),s=a.filter(function(e){return Y(e[0])});if(s.length===a.length)return(0,B.Z3)(e,o,{at:o,mode:"highest"}),!0;var u=f.y$.equals(o,[0]),c=a.find(function(e){return(0,i.$)(e[0])});if(!u&&!c){var l=f.y$.hasPrevious(o)&&f.y$.previous(o);if(l&&Y(f.NB.get(e,l)))return f.YR.mergeNodes(e,{at:o,mode:"highest"}),!0;if(o.length>1)return(0,B.Z3)(e,o,{at:o,mode:"highest"}),!0;console.warn("Unexpected situation, section with no header that cannot be fixed")}if(c){if(ee(e,c))return!0;var A=c[0].level,h=function(e,t){var n=f.y$.hasPrevious(t)&&f.y$.previous(t),r=n&&f.NB.get(e,n);if(r&&Y(r))return[r,n]}(e,o);if(h&&J(e,h))return!0;var p=h&&X(e,h[1]);if(h&&null!=p&&p<A){var g=h[0].children.length;return f.YR.moveNodes(e,{at:o,to:h[1].concat(g)}),!0}var v=function(e,t){var n=f.y$.next(t),r=f.NB.has(e,n)&&f.NB.get(e,n);if(r&&Y(r))return[r,n]}(e,o),m=v&&X(e,v[1]);if(v&&null!=m&&m>A){var y=r.children.length;return f.YR.moveNodes(e,{at:v[1],to:o.concat(y)}),!0}var b=!0,w=!1,_=void 0;try{for(var E,C=s[Symbol.iterator]();!(b=(E=C.next()).done);b=!0){var I=(0,d.Z)(E.value,2),x=I[0],T=I[1],S=X(e,T);if(T.at(-1)>c[1].at(-1)&&null!=S&&S<=A)return J(e,[x,T])}}catch(e){w=!0,_=e}finally{try{b||null==C.return||C.return()}finally{if(w)throw _}}}},ee=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1],o=(0,d.Z)(f.ML.parent(e,i),2),a=o[0],s=o[1],u=r.level;if(!r.id)return f.YR.setNodes(e,{id:(0,W.x0)()},{at:i}),!0;if(!r.children.length)return f.YR.insertNodes(e,[{text:""}],{at:i.concat(0)}),!0;if(!Y(a))return $(e,i),!0;if(0!==i.at(-1)){var c=a.children[0].level,l=f.ML.pathRef(e,i);return null==c||u<=c?(f.YR.splitNodes(e,{at:i,mode:"highest"}),u<c&&e.normalizeNode([r,l.unref()])):$(e,i),!0}var A=(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(f.ML.levels(e,{at:t,match:function(e,n){return Y(e)&&t.length!==n.length},reverse:n}))})(e,s).find(function(t){var n=X(e,t[1]);return null!=n&&n>=u});if(A)return(0,B.s6)(e,s,{abovePath:A[1]}),!0};function et(e){var t=e.getFragment;return e.getFragment=function(){return function e(t,n){return 1!==n.length?n:Y(n[0])?e(t,n[0].children):n}(e,t())},e}var en=function(e){var t,n=e.sectionComponent,r=e.endInParagraph;return{name:"section",normalizeEditor:(t={endInParagraph:void 0===r||r},function(e){var n,r=t.endInParagraph;if(!e.children.length)return f.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}),!0;var i=[],o=[],a=!0,s=!1,u=void 0;try{for(var c,l=f.NB.children(e,[])[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=c.value;Y(A[0])||(i.push(A[0]),o.push(A[1][0]))}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}if(i.length)return f.YR.removeNodes(e,{at:[],mode:"highest",match:function(e,t){return 1===t.length&&o.includes(t[0])}}),f.YR.insertNodes(e,{type:"section",id:(0,W.x0)(),children:i},{at:[0]}),!0;var d=f.ML.end(e,[]),h=f.ML.above(e,{at:d,match:function(t){return f.ML.isBlock(e,t)&&!Y(t)},mode:"highest"});if(h&&(n=h[0],!(0,q.RF)(n)&&(!0===r||!1!==r&&n&&"type"in n&&r.includes(n.type))))return f.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:f.y$.next(h[1])}),!0}),editor:et,elements:{header:{normalize:ee},section:{component:n,normalize:J,isContainerBlock:!0}}}},er=n(2012),ei=n(53942),eo=n(58490),ea=function(e){return{name:"divider",elements:{divider:{void:!0,component:e.dividerComponent,enterBehavior:"paragraph-below"}},textInputHandlers:[(0,E.dC)({str:"---",element:"divider",matchMode:"start",void:!0,isDisabledInTable:!0})],keyBindings:[{name:"move-divider-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,B.m_)(e,"down",{type:"divider"})},logEvent:!0},{name:"move-divider-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,B.m_)(e,"up",{type:"divider"})},logEvent:!0},{name:"arrow-up-in-divider",key:"ArrowUp",handler:function(e){return!!(0,ei.wu)(e,{type:"divider"})&&((0,eo.Y4)(e,"up"),!0)}}],fromHtml:{byTag:{HR:"divider"}},toMarkdown:{byElementType:{divider:function(e){return(0,h.H4)((0,A.Z)((0,l.Z)({},e),{markdown:"---\n\n",childrenMarkdownPosition:"after"}))}}}}},es=n(98788),eu=n(1899),ec=n(22970),el=n(92775),eA=n(69253);let ed=/(\S*[^,\s])(\s+([\d.]+)(x|w))?/g,ef={w:"width",x:"density"},eh=(e,t)=>{let n=null,r=[];for(;null!==(n=t.exec(e));)r.push(n);return r};var ep=e=>eh(e,ed).map(([,e,,t,n])=>{let r=ef[n];return r?{url:e,[r]:parseFloat(t)}:{url:e}}),eg=function(e){if(e.srcset)try{var t=ep(e.srcset).reduce(function(e,t){if(!e||e.density&&t.density&&t.density>e.density||e.width&&t.width&&t.width>e.width)return t},void 0);if(t)return t.url}catch(e){}return e.src},ev=function(e){var t=e.onError,n=e.handler,r=e.uploadService;return{byTag:{IMG:function(e,i){var o=e.domNode,a=(0,W.x0)(),s=eg(o);return n({id:a,src:s,editor:i,onError:t,uploadService:r}),{id:a,src:s,width:200,height:200,type:"image",title:o.title,altText:o.alt,children:[{text:""}]}}}}},em=function(e){if(!e.selection)return!1;var t=f.NB.parent(e,e.selection.anchor.path);if("paragraph"!==t.type||""!==f.NB.string(t))return!1;var n=(0,ei.$C)(e,e.selection.anchor.path,"up");return!!n&&"image"===f.NB.parent(e,n).type&&(f.YR.removeNodes(e),f.YR.select(e,n),!0)},ey=function(e){var t,n=e.id,r=e.src,i=e.editor,o=e.onError,a=e.uploadService;fetch(r).then(function(e){return e.blob()}).then((t=(0,es.Z)(function(e){var t;return(0,ec.__generator)(this,function(r){switch(r.label){case 0:return[4,createImageBitmap(e)];case 1:return t=r.sent(),(0,eA.Kx)(n,i,t),[2,e]}})}),function(e){return t.apply(this,arguments)})).then(function(e){return a(e)}).then(function(e){var t=e.url;return(0,eA.Pm)(n,t,i)}).catch(o)},eb=function(e){var t=e.uploadService,n=e.onError,r=void 0===n?function(){}:n,i=e.imageComponent,o={image:{void:!0,component:void 0===i?function(){return null}:i,enterBehavior:"paragraph-below",normalize:function(e,t){var n=(0,d.Z)(t,2)[1];if((0,q.RF)(f.NB.get(e,f.y$.parent(n))))return f.YR.unwrapNodes(e,{at:f.y$.parent(n)}),!0;var r=!0,i=!1,o=void 0;try{for(var a,s=f.NB.children(e,n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=function(){var t=(0,d.Z)(a.value,2),n=t[0],r=t[1];if(!f.xv.isText(n))return f.YR.removeNodes(e,{at:r,voids:!0,match:function(e){return e===n}}),f.YR.insertNodes(e,{text:""},{at:r}),{v:!0}}();if("object"===(0,eu.Z)(u))return u.v}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},a=[{altKey:!0,key:"ArrowDown",name:"move-image-down",handler:function(e){return(0,B.m_)(e,"down",{type:"image"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-image-up",handler:function(e){return(0,B.m_)(e,"up",{type:"image"})},logEvent:!0},{key:"Backspace",name:"delete-image",handler:em}];return t?{elements:o,keyBindings:a,name:"image",toMarkdown:{byElementType:{image:function(e){var t=e.element;return(0,h.H4)((0,A.Z)((0,l.Z)({},e),{childrenMarkdownPosition:"after",markdown:"![".concat(t.altText||"","](").concat(t.src,' "').concat(t.title||"",'")\n\n')}))}}},eventHandlers:{onDragEnter:el.wu,onDragLeave:el.RN,onDragOver:function(e,t){return(0,el.Xr)({editor:e,event:t})},onDrop:function(e,n){return(0,el.u1)({editor:e,event:n,uploadService:t,onError:r})},onPaste:function(e,n){return(0,el.vW)({editor:e,event:n,uploadService:t,onError:r})}},fromHtml:ev({onError:r,uploadService:t,handler:ey})}:{name:"image",elements:o,keyBindings:a}},ew=function(e){if(!e)return null;var t,n=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|\?v=)([^#&?]*).*/);return n&&(null===(t=n[2])||void 0===t?void 0:t.length)===11?n[2]:null},e_=function(e,t,n){e.insertText(t),e.sealHistoryEntry(),f.YR.delete(e,{unit:"character",distance:t.length+1,reverse:!0}),f.YR.insertNodes(e,[{videoId:n,type:"youTubePlayer",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}])},eE=function(e,t){var n=t.clipboardData;if(!(void 0!==n.types.find(function(e){return"text/plain"===e})))return!1;var r=n.getData("text/plain"),i=ew(r);return!!i&&(e_(e,r,i),!0)},eC=function(e){return{name:"youTubePlayer",elements:{youTubePlayer:{void:!0,component:e.youTubeComponent}},eventHandlers:{onPaste:eE},keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-youTubePlayer-down",handler:function(e){return(0,B.m_)(e,"down",{type:"youTubePlayer"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-youTubePlayer-up",handler:function(e){return(0,B.m_)(e,"up",{type:"youTubePlayer"})},logEvent:!0}],toMarkdown:{byElementType:{youTubePlayer:function(e){var t,n=e.element,r=(t=n.videoId,"https://www.youtube.com/watch?v=".concat(t)),i="[YouTube Video - ".concat(n.videoId,"](").concat(r,")");return(0,h.H4)((0,A.Z)((0,l.Z)({},e),{markdown:i,childrenMarkdownPosition:"after"}))}}}}};function eB(e){var t,n,r,i,o,a,s,c=e.permissions,d=e.commentComponent,f=e.selectedTextComponent,h=e.pendingCommentComponent,p={type:"comment"};return c.view&&(p.annotationComponent=d),c.create&&(p.selectedTextComponent=f,p.keyBinding={key:"m",shortKey:!0,shiftKey:!0},p.annotationPendingComponent=h),t=p.type,n=p.keyBinding,r=p.selectedTextComponent,i=p.annotationPendingComponent,o=p.annotationComponent,a={},i&&(a["annotationPending.".concat(t)]={component:i}),s={name:t,elements:(0,u.Z)({},t,{component:o,inline:!0}),selectionComponent:r,formats:a,editorDecorator:j.On,keyBindings:[],editor:M,onChange:j.Vj},n&&s.keyBindings.push((0,A.Z)((0,l.Z)({name:t},n),{handler:function(e){return(0,j._F)(e,t)},logEvent:!0})),s}var eI=n(77066),ex=[{name:"insert-table",code:"KeyT",shortKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_create",{source:"shortcut"}),eI.ZP.insertTable(e)}},{name:"remove-table",code:"KeyT",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete",{source:"shortcut"}),eI.ZP.removeTable(e)}},{name:"table-move-cursor-up",code:"ArrowUp",altKey:!1,shortKey:!1,handler:function(e){return eI.ZP.moveCursorVertically(e,-1)}},{name:"table-move-cursor-down",code:"ArrowDown",altKey:!1,shortKey:!1,handler:function(e){return eI.ZP.moveCursorVertically(e,1)}},{name:"table-cycle-forward",code:"Tab",handler:function(e){return!!eI.ZP.cycleNavigation(e,1)}},{name:"table-cycle-backward",code:"Tab",shiftKey:!0,handler:function(e){return!!eI.ZP.cycleNavigation(e,-1)}},{name:"table-move-row-up",code:"ArrowUp",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_row",{source:"shortcut",direction:"up"}),eI.ZP.moveRow(e,"up")}},{name:"table-move-row-down",code:"ArrowDown",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_row",{source:"shortcut",direction:"down"}),eI.ZP.moveRow(e,"down")}},{name:"table-move-column-left",code:"ArrowLeft",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_column",{source:"shortcut",direction:"left"}),eI.ZP.moveColumn(e,"left")}},{name:"table-move-column-right",code:"ArrowRight",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_column",{source:"shortcut",direction:"right"}),eI.ZP.moveColumn(e,"right")}},{name:"insert-row",code:"Equal",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_add_row",{source:"shortcut",direction:"down"}),!!eI.ZP.addRow(e)}},{name:"remove-row",code:"Minus",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete_row",{source:"shortcut"}),!!eI.ZP.removeRow(e)}},{name:"insert-column",code:"Equal",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_add_column",{source:"shortcut",direction:"right"}),!!eI.ZP.addColumn(e)}},{name:"remove-column",code:"Minus",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete_column",{source:"shortcut"}),!!eI.ZP.removeColumn(e)}}],eT=n(49605),eS=function(e){var t=e.editor,n=e.element,i=e.serializeChildren,o=n.children.map(function(e){var n=e;return 1===e.children.length&&(0,r.RF)(e.children[0])&&(n=e.children[0]),n.children.map(function(e){return i({element:e,editor:t,serializeChildren:i,isInTable:!0})}).join("")}).join(" | ");return"| ".concat(o," |")};function ek(e,t){var n=(0,ei.wu)(e,{type:"table-cell"});if(n&&"character"===t&&(0,ei.FU)(e,{includeOffset:!0,blockPath:n[1]}))return!0}function eN(e,t){if(e.selection){if((0,ei.wu)(e,{type:"table"})){var n=f.ML.rangeRef(e,e.selection),r=!0,i=!1,o=void 0;try{for(var a,s=(0,c.Z)(f.ML.nodes(e,{at:e.selection,match:function(e){return(0,eT.IM)(e)},reverse:!0}))[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(n.current){var l=f.e6.intersection(n.current,f.ML.range(e,u[1]));f.e6.equals(l,f.ML.range(e,u[1]))?f.YR.removeNodes(e,{at:l,match:function(e){return!(0,eT.IM)(e)}}):f.YR.delete(e,{at:l})}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n.unref(),f.YR.collapse(e,{edge:"end"}),!0}var A=f.ML.edges(e,e.selection).map(function(t){return f.ML.pointRef(e,t)}),d=!0,h=!1,p=void 0;try{for(var g,v=A[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var m=g.value,y=m.current;if(y){var b=(0,ei.wu)(e,{type:"table",at:y});if(b){var w=f.ML.isEdge(e,y,b[1]);if(w){var _=m===A[0]?A[1].current:A[0].current,E=_&&(f.E9.isAfter(_,f.ML.end(e,b[1]))||f.E9.isBefore(_,f.ML.start(e,b[1])));w&&E&&f.YR.removeNodes(e,{at:b[1]})}}}}}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}var C=!0,B=!1,I=void 0;try{for(var x,T=A[Symbol.iterator]();!(C=(x=T.next()).done);C=!0)x.value.unref()}catch(e){B=!0,I=e}finally{try{C||null==T.return||T.return()}finally{if(B)throw I}}}}function eD(e){var t=e.deleteBackward,n=e.deleteFragment,r=e.getFragment,i=e.insertFragment;return e.deleteBackward=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return!!ek.apply(void 0,[e].concat((0,c.Z)(r)))||t.apply(void 0,(0,c.Z)(r))},e.deleteFragment=function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return!!eN.apply(void 0,[e].concat((0,c.Z)(r)))||n.apply(void 0,(0,c.Z)(r))},e.getFragment=function(){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(1!==n.length)return r;var i=(0,d.Z)(n,1)[0];if(f.xv.isText(i))return r;if((0,eT.wb)(i)){var o=(0,c.Z)(f.NB.elements(i)).filter(function(e){var t=(0,d.Z)(e,1)[0];return(0,eT.IM)(t)});return 1===o.length?o[0][0].children:r}return t.isContainerBlock(i)?e(t,i.children,r):r}(e,r())},e.insertFragment=function(t){return!!function(e,t){if(!(0,eT.$0)(e))return!1;var n=(0,eT.vL)(t);if(!n)return!1;var r=(0,eT.mD)(n).map(function(e){return e.children});return eI.ZP.insertCellsContents(e,r),!0}(e,t)||i(t)},e}var eO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tableComponent,n=e.tableHeadComponent,r=e.tableBodyComponent,i=e.tableRowComponent,o=e.tableCellComponent;return{name:"table",elements:{table:{component:void 0===t?function(){return null}:t,isContainerBlock:!0,normalize:eT.ZP.normalizeTable},"table-head":{component:void 0===n?function(){return null}:n,isContainerBlock:!0},"table-body":{component:void 0===r?function(){return null}:r,isContainerBlock:!0},"table-row":{component:void 0===i?function(){return null}:i,isContainerBlock:!0,normalize:eT.ZP.normalizeRow},"table-cell":{component:void 0===o?function(){return null}:o,isContainerBlock:!0,normalize:eT.ZP.normalizeCell}},fromHtml:{byTag:{TABLE:function(e){var t=e.domNode,n=e.parseChildren;return{type:"table",id:t.id||(0,W.x0)(),children:n({domNode:Array.from(t.children),parseChildren:n})}},THEAD:"table-head",TBODY:"table-body",TR:"table-row",TD:"table-cell",TH:"table-cell"}},toMarkdown:{byElementType:{table:function(e){var t=e.editor,n=e.element,r=e.serializeChildren,i=n.children[0],o=n.children[1];if(!(0,eT.yX)(i)||!(0,eT.WC)(o))return"";var a=i.children[0];if(!(0,eT.zl)(a))return"";var s=a.children.length,u=eS({editor:t,element:a,serializeChildren:r}),c=o.children.map(function(e){return eS({editor:t,element:e,serializeChildren:r}).replace(/\n/g,"")}),l=Array(s).fill("-----").join(" | ");return"".concat(u,"\n| ").concat(l," |\n").concat(c.join("\n"),"\n")}}},keyBindings:ex,editor:eD}},eR=n(78382),eF=function(e){var t=e.aiOutlineComponent,n=e.onOutlineShortcut;return{name:"aiOutline",elements:{aiOutline:{void:!0,component:t}},conversionRules:{aiOutline:{disallowedTypes:["image","divider","aiOutline","blockquote","code-block","block-link","youTubePlayer"]}},keyBindings:[{key:"J",ctrlKey:!0,shortKey:!0,shiftKey:!0,logEvent:!0,name:"insert-ai-outline",handler:function(e,t,r){return null==r||r.preventDefault(),(0,eR.VS)(e,t),null==n||n(e,t),!0}},{altKey:!0,logEvent:!0,key:"ArrowDown",name:"move-ai-outline-down",handler:function(e){return(0,B.m_)(e,"down",{type:"aiOutline"})}},{altKey:!0,logEvent:!0,key:"ArrowUp",name:"move-ai-outline-up",handler:function(e){return(0,B.m_)(e,"up",{type:"aiOutline"})}}]}},eL=function(e){return{name:"aiDiagram",selectionComponent:e.selectedTextComponent}}},72572:function(e,t,n){"use strict";n.d(t,{$:function(){return r},O:function(){return i}});var r="\uFEFF",i=" "},4171:function(e,t,n){"use strict";n.d(t,{ON:function(){return f.O},$m:function(){return f.$},$g:function(){return u.$g},T8:function(){return u.T8},Jn:function(){return u.Jn},t9:function(){return u.t9},if:function(){return u.if},Xf:function(){return u.Xf},DA:function(){return h},Eo:function(){return u.Eo}});var r=n(87394),i=n(12995),o=n(70865),a=n(96670),s=n(46807),u=n(80022),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:{A:function(t){var n=t.domNode;if(n.textContent&&""!==n.textContent.trim()){var r=n.textContent,i=n.getAttribute("href");if(i&&(0,u.Jn)(i))return(0,u.$g)(i,(0,o.Z)({text:r||""},e))}}}}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var n,r,i=t.element;if(i.originalLinkData)n=i.originalLinkData;else try{n=new URL((0,u.Xf)(i,e))}catch(t){console.debug("Failed to parse link URL:",t),n=(0,u.Xf)(i,e)}return"block-link"===i.type?(r="string"==typeof n?n:"".concat(n.origin).concat(n.pathname,"/preview").concat(n.search,"&type=embed"),(0,s.H4)((0,a.Z)((0,o.Z)({},t),{childrenMarkdownPosition:"before",markdown:"[![".concat(i.label,"](").concat(r,")](").concat(n,")\n\n")}))):(0,s.H4)((0,a.Z)((0,o.Z)({},t),{childrenMarkdownPosition:"between",markdown:["[","](".concat(n,")")]}))};return{byElementType:{link:t,"block-link":t}}},A=n(51914),d=n(93707),f=n(72572);function h(e){var t=e.onPaste,n=e.linkComponent,o=e.blockLinkComponent,a=e.keyBindingHandler;return{name:"link",elements:{link:{inline:!0,component:n,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1],s=i.NB.string(o);return""===s||s===f.$?(i.YR.removeNodes(e,{at:a,hanging:!0}),!0):!1===s.startsWith(f.$)?(i.YR.insertText(e,f.$,{at:i.ML.start(e,a)}),!0):void 0}},"block-link":{void:!0,component:o,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];if(""===o.label)return i.YR.removeNodes(e,{at:a,hanging:!0}),!0}}},eventHandlers:{onPaste:t},textInputHandlers:[(0,d.dC)({inline:!0,matchMode:"surround",customTest:function(e,t,n){if(!("text"in t))return!1;var i=t.text.match(RegExp("(\\b|\\s|^)(".concat(A.Cj.source,")(\\W?\\s)"),"i"));if(!i)return!1;var o=(0,r.Z)(i,3)[2];return(0,u.Jn)(o)},element:function(e){return(0,u.$g)(e)},customRegExp:RegExp("(\\b|\\s|^)(".concat(A.Cj.source,")(\\W?\\s)"),"i"),str:" "})],fromHtml:c(),toMarkdown:l(),keyBindings:[{key:"k",shortKey:!0,name:"create link",handler:a,logEvent:!0}]}}},80022:function(e,t,n){"use strict";n.d(t,{$g:function(){return E},Eo:function(){return w},Jn:function(){return b},T8:function(){return I},Xf:function(){return _},if:function(){return T},t9:function(){return m}});var r=n(70865),i=n(96670),o=n(87394),a=n(37164),s=n(12995),u=n(45455),c=/*#__PURE__*/n.n(u),l=n(45594),A=n(98559),d=n(53942),f=n(3037),h=n(19179),p=n(72572),g=function(e){return"link"===e.type},v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespaceId,r=t.workspaceId,i=t.baseUrl,o=void 0===i?"https://app.eraser.io":i;if(o||(o=window.location.origin),n&&r){var a=r.startsWith(n)?r.split(":")[1]:r;e="/integration/".concat(n,"/").concat(a)}else r?e="/workspace/".concat(r):(console.warn("Relying on window.location for canvas link. This is unsafe and may not work in all contexts."),e=window.location.pathname);return"".concat(o).concat(e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,h.Nq)();return!(!n&&c()(t))&&(n||c()(t)?new RegExp("".concat(window.location.origin,".*\\?.*elements=.*")).test(e):new RegExp("".concat(v(t),".*\\?.*elements=.*")).test(e))},y=new Set(["languagepath.ru","ghjqjh.ru","langagepath.ru"]),b=function(e){try{var t=e;if(e.startsWith("mailto:"))return!0;e.startsWith("http://")||e.startsWith("https://")||(t="https://".concat(e));var n=new URL(t).hostname.toLowerCase(),r=!0,i=!1,o=void 0;try{for(var a,s=y[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(n===u||n.endsWith(".".concat(u)))return!1}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return!0}catch(e){return!0}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.linkType;if(m(e,t)){var i=new URL(e),o={linkType:"canvasLink",linkData:i.searchParams.get("elements"),workspaceId:(0,l.yT)(i),children:[{text:n||"View on canvas"}]};return("figureLink"===r||"diagramLink"===r)&&(o.linkType=r,o.originalLabel=n),o}return e.includes("".concat(h.jU?window.location.origin:"https://app.eraser.io","/workspace"))?{linkType:"workspaceLink",originalLabel:n,children:[{text:null!=n?n:e}],linkData:e}:((0,A.J)(e)?(n=null!=n?n:e,e="mailto:".concat(e)):!1===e.startsWith("mailto:")&&!1===/https?:\/\//.test(e)&&(e="https://".concat(e)),n||(n=e.replace(/^[^:]*:\/?\/?/,"")),{linkType:"externalLink",linkData:e,children:[{text:n||p.O}]})},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.linkType){case"canvasLink":case"figureLink":case"diagramLink":return"".concat(v(t),"?elements=").concat(e.linkData);case"externalLink":case"workspaceLink":return e.linkData;default:return""}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)({id:(0,a.x0)(),isExpanded:!1,type:"link"},w(e,t))},C=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.expandLinksByDefault,c=a.linkType;if(b(t)){var l=E(t,{text:n,linkType:c});if(e.selection){if(u&&("figureLink"===(A=l).linkType||"diagramLink"===A.linkType)){var A,d,h=(0,o.Z)(s.ML.parent(e,e.selection.anchor),2),p=h[0],g=h[1];if((0,f.RF)(p)&&1===p.children.length&&""===s.NB.string(p).trim())return d=l,l=(0,i.Z)((0,r.Z)({},d),{type:"block-link",isExpanded:!0,children:[],label:s.NB.string(d)}),s.ML.withoutNormalizing(e,function(){s.YR.removeNodes(e,{at:g}),s.YR.insertNodes(e,l,{at:g})}),l}return s.YR.insertNodes(e,[l]),l}}},B=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.linkType;if(b(t))return s.ML.withoutNormalizing(e,function(){if(e.selection){var r=s.ML.above(e,{at:e.selection.focus,match:function(t){return s.ML.isBlock(e,t)}}),o=s.ML.above(e,{at:e.selection.anchor,match:function(t){return!e.isInline(t)}});if((null==r?void 0:r[0])===(null==o?void 0:o[0])){var a=s.e6.isForward(e.selection),u=s.ML.rangeRef(e,{anchor:s.e6.start(e.selection),focus:s.e6.end(e.selection)});Array.from(s.ML.nodes(e,{match:g})).map(function(t){return s.ML.pathRef(e,t[1])}).forEach(function(t){if(t.current&&u.current){var n=s.ML.range(e,t.current),r=s.e6.intersection(u.current,n);if(r){if(s.e6.equals(n,r))s.YR.unwrapNodes(e,{at:t.current});else{var i=s.e6.includes(n,u.current.focus),o=i?r.focus:r.anchor;s.YR.splitNodes(e,{at:o,match:function(t){return!s.xv.isText(t)&&!s.ML.isBlock(e,t)}});var c=i?s.y$.parent(r.anchor.path):s.y$.next(s.y$.parent(r.focus.path));if(s.YR.unwrapNodes(e,{at:c}),e.selection){s.YR.setSelection(e,{anchor:u.current.focus,focus:u.current.focus}),i&&s.YR.move(e,{unit:"offset",distance:1,reverse:!0});var l={anchor:u.current.anchor,focus:e.selection.focus};a?s.YR.setSelection(e,l):s.YR.setSelection(e,{anchor:l.focus,focus:l.anchor})}}t.unref()}}}),u.current&&(n=E(t,{text:" ",linkType:i}),s.YR.wrapNodes(e,n,{split:!0})),u.unref()}}}),n},I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return!e.selection||(0,d.wu)(e,{type:"link"})?void 0:s.e6.isCollapsed(e.selection)?C(e,t,n,r):B(e,t,r)},x=new Set(["wikiLink","mention","link"]),T=function(e){return s.W_.isElement(e)&&x.has(e.type)}},55611:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=["image","code-block","youTubePlayer","blockquote","block-link"]},32970:function(e,t,n){"use strict";var r,i;n.d(t,{R:function(){return r}}),(i=r||(r={}))[i.ordered=0]="ordered",i[i.unordered=1]="unordered",i[i.todos=2]="todos"},6671:function(e,t,n){"use strict";n.d(t,{OD:function(){return a},WO:function(){return s},nq:function(){return o}});var r=n(12995),i=n(3037);function o(e){return r.W_.isElement(e)&&"list"===e.type}function a(e){return r.W_.isElement(e)&&"list-item"===e.type}function s(e){return void 0===e.find(function(e){return!(o(e)||a(e)||(0,i.A7)(e))})}},32350:function(e,t,n){"use strict";n.d(t,{QR:function(){return c},bd:function(){return u},dm:function(){return s},hD:function(){return l}});var r=n(87394),i=n(12995),o=n(53942),a=n(6671);function s(e,t){if(t){var n=i.y$.isPath(t)?t:i.ML.path(e,t),r=i.NB.get(e,n);return(0,a.nq)(r)&&i.e6.isRange(t)?[r,n]:i.ML.above(e,{mode:"lowest",match:a.nq,at:t})||((0,a.nq)(r)?[r,n]:void 0)}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection;if(!t)return[];var n=(0,o.wu)(e,{type:"list-item",at:t});if(i.y$.isPath(t)){if(n)return[n];var r=i.NB.get(e,t);return(0,a.OD)(r)?[[r,t]]:[]}return!i.e6.isRange(t)||i.e6.isCollapsed(t)?n?[n]:[]:Array.from(i.ML.nodes(e,{at:t,match:function(e,n){return!!(0,a.OD)(e)&&i.e6.includes(t,n.concat(0))},mode:"all"}))}function c(e,t){var n=(0,r.Z)(t,2)[1],o=!0,s=!1,u=void 0;try{for(var c,l=i.NB.children(e,n)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=(0,r.Z)(c.value,2),d=A[0],f=A[1];if((0,a.nq)(d))return[d,f]}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}function l(e,t,n){var o=u(e,t);if(!o.length)return{listSelectionRecords:[],listItemRecords:new WeakMap,cleanup:function(){},retainRefs:function(){}};var s=new WeakMap,l=[],A=!0,d=!1,f=void 0;try{for(var h,p=o[Symbol.iterator]();!(A=(h=p.next()).done);A=!0)!function(){var u=(0,r.Z)(h.value,2),A=u[0],d=u[1],f=i.y$.parent(d),p=i.NB.get(e,f),g=l.find(function(e){return e.list===p});if(!g){var v=i.NB.parent(e,f),m=(0,a.OD)(v);g={list:p,listPathRef:i.ML.pathRef(e,f,{affinity:"backward"}),listItemSelectionRecords:[],isFirstItemSelected:!1,isLastItemSelected:!1,isFullListSelected:!!n&&i.e6.isRange(t)&&i.e6.isCollapsed(t),isSubList:m,parentPathRef:m?i.ML.pathRef(e,i.y$.parent(f)):void 0,parentIsSelected:!!m&&o.some(function(e){return e[0]===v})},l.push(g)}var y=c(e,[A,d]),b={listItem:A,pathRef:i.ML.pathRef(e,d),subListRelativePath:y?i.y$.relative(y[1],d):void 0};s.set(A,b),g.listItemSelectionRecords.push(b),0===d.at(-1)&&(g.isFirstItemSelected=!0),d.at(-1)===p.children.length-1&&(g.isLastItemSelected=!0),g.isFullListSelected=g.isFullListSelected||g.isFirstItemSelected&&g.isLastItemSelected}()}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}var g=!0,v=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=l[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;!function(e){e.listPathRef&&e.listPathRef.unref(),e.parentPathRef&&e.parentPathRef.unref();var t=!0,n=!1,r=void 0;try{for(var i,o=e.listItemSelectionRecords[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.pathRef.unref()}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}};return Promise.resolve().then(function(){g&&v()}),{listSelectionRecords:l,listItemRecords:s,cleanup:v,retainRefs:function(){g=!1}}}},44043:function(e,t,n){"use strict";n.d(t,{WO:function(){return y.WO},Wh:function(){return m},h6:function(){return v},Hh:function(){return g},Fg:function(){return f},nq:function(){return y.nq},OD:function(){return y.OD},uk:function(){return A},R5:function(){return h.R5},Xm:function(){return r.X},CA:function(){return p},pT:function(){return h.pT}});var r=n(58348),i=n(70865),o=n(96670),a=n(87394),s=n(12995),u=n(3220),c=n(53942),l=n(32350);function A(e,t){if((0,u.m_)(e,t,{type:"list-item",retainLevel:!0}))return!0;var n=(0,c.wu)(e,{type:"list-item"}),r=(0,l.dm)(e,null==n?void 0:n[1]),A=(0,l.dm)(e,null==r?void 0:r[1]);if(!n||!r||!A)return!1;var d=(0,a.Z)(r,2),f=d[0],h=d[1],p=(0,c.gb)(e,s.y$.parent(h),t);if(!p)return!1;p.push(1);var g=s.NB.has(e,p)?s.NB.get(e,p):void 0;return s.ML.withoutNormalizing(e,function(){if(!g){var r,a=s.NB.extractProps(f);s.YR.insertNodes(e,(0,o.Z)((0,i.Z)({},a),{children:[]}),{at:p})}var u="down"===t?0:(null==g?void 0:null===(r=g.children)||void 0===r?void 0:r.length)||0;s.YR.moveNodes(e,{at:n[1],to:p.concat(u)})}),!0}var d=n(50930);function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,l.hD)(e,null!==(t=n.at)&&void 0!==t?t:e.selection,!1),i=r.listSelectionRecords,o=r.listItemRecords;if(!i.length)return!1;var u=!1;return s.ML.withoutNormalizing(e,function(){var t=!0,n=!1,r=void 0;try{for(var c,A=i[Symbol.iterator]();!(t=(c=A.next()).done);t=!0){var f=c.value;f.isFirstItemSelected||(function(e,t,n){var r=void 0,i=!0,o=!1,u=void 0;try{for(var c,A=t.listItemSelectionRecords[Symbol.iterator]();!(i=(c=A.next()).done);i=!0){var f=c.value,h=f.pathRef.current;if(!h){console.warn("[Indent List Item] Unexpectedly found undefined path.");continue}r||function(n){var i,o,a=s.y$.previous(n),u=s.NB.get(e,a),c=(0,l.QR)(e,[u,a]);if(c){r=c[1];return}r=a.concat(null!==(o=null===(i=u.children)||void 0===i?void 0:i.length)&&void 0!==o?o:0);var A={type:"list",listType:t.list.listType,children:[]};s.YR.insertNodes(e,A,{at:r})}(h),function(t){var n=s.NB.get(e,r).children.length;s.YR.moveNodes(e,{at:t,to:r.concat(n)})}(h),function t(r){if(r.subListRelativePath){var i=r.pathRef.current,o=s.y$.parent(i).concat(i.at(-1)+1),u=i.concat.apply(i,(0,d.Z)(r.subListRelativePath)),c=!0,l=!1,A=void 0;try{for(var f,h=s.NB.children(e,u,{reverse:!0})[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var p=(0,a.Z)(f.value,2),g=p[0],v=p[1],m=n.get(g);if(!m){s.YR.moveNodes(e,{at:v,to:o});continue}t(m)}}catch(e){l=!0,A=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw A}}}}(f)}}catch(e){o=!0,u=e}finally{try{i||null==A.return||A.return()}finally{if(o)throw u}}}(e,f,o),u=!0)}}catch(e){n=!0,r=e}finally{try{t||null==A.return||A.return()}finally{if(n)throw r}}}),u}var h=n(63996);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,r=void 0===n?e.selection:n;if(!r)return!1;var i=s.ML.range(e,r);return s.ML.withoutNormalizing(e,function(){var t=(0,l.bd)(e,i),n=!0,r=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done);n=!0)!function(){var t=u.value,n=(0,a.Z)(t,2),r=n[0],i=n[1];"done"in r&&s.YR.setNodes(e,{done:!r.done},{at:i,match:function(e){return e===r}})}()}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}),!0}function g(e){var t=(0,c.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,a.Z)(t,2),r=n[0],u=n[1];if(""===s.NB.string(r))return(0,h.pT)(e);if("done"in r&&r.done){var A=s.y$.next(u);return s.ML.withoutNormalizing(e,function(){s.YR.splitNodes(e,{always:!0,match:function(e){return e===r}}),s.YR.setNodes(e,{done:!1},{at:A,mode:"highest"})}),!0}return!!(0,c.yi)(e)&&(s.ML.withoutNormalizing(e,function(){var n=(0,o.Z)((0,i.Z)({},s.NB.extractProps(r)),{type:"list-item",children:[{type:"div",children:[{text:""}]}]}),a=(0,l.QR)(e,t);s.YR.insertNodes(e,n,{at:s.y$.next(u),select:!0}),a&&s.YR.moveNodes(e,{at:a[1],to:s.y$.next(u).concat(1)})}),!0)}function v(e,t){if(e.selection){var n=(0,a.Z)(s.ML.edges(e,e.selection),2),r=n[0],i=n[1],o=(0,c.wu)(e,{type:"list",at:r});if(o){var u=s.ML.isStart(e,r,o[1]),l=s.E9.isAfter(i,s.ML.end(e,o[1]));u&&l&&s.YR.removeNodes(e,{at:o[1]})}}}function m(e){var t=(0,c.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,a.Z)(t,2),r=n[0],i=n[1];return!!(0,c.FU)(e,{blockPath:i,includeOffset:!0})&&(""===s.NB.string(r)?(s.YR.removeNodes(e,{at:i}),s.y$.hasPrevious(i)?s.YR.select(e,s.ML.end(e,s.y$.previous(i))):s.y$.hasPrevious(s.y$.parent(i))&&s.YR.select(e,s.ML.end(e,s.y$.previous(s.y$.parent(i)))),!0):(0,h.pT)(e))}var y=n(6671)},58348:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(12995),i=n(3037),o=n(55611),a=n(6671),s=n(32350),u=n(63996);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection;if(!n)return!1;var c=Array.from(r.ML.nodes(e,{at:r.ML.unhangRange(e,n),match:function(t){return r.ML.isBlock(e,t)&&!e.isContainerBlock(t)&&!(0,a.nq)(t)&&!(0,a.OD)(t)&&!(0,i.A7)(t)&&!o.f.includes(t.type)},mode:"highest"})),l=(0,s.hD)(e,n,!0).listSelectionRecords;return(!!c.length||!!l.length)&&(0===c.length&&l.every(function(e){return e.list.listType===t})?r.ML.withoutNormalizing(e,function(){(function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.isFullListSelected){(0,u.Se)(e,s.listPathRef);continue}var c=!0,l=!1,A=void 0;try{for(var d,f=s.listItemSelectionRecords[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;(0,u.R5)(e,h.pathRef)}}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}})(e,l)}):r.ML.withoutNormalizing(e,function(){(function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r.YR.setNodes(e,{type:"list",listType:n},{at:c[1]})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}})(e,c,t),function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(c.list.listType!==n){var l=c.listPathRef.current;if(!l){console.warn("[Toggle List] Unexpectedly found undefined path.");continue}if(c.isFullListSelected){r.YR.setNodes(e,{listType:n},{at:l});continue}c.isLastItemSelected||(r.YR.splitNodes(e,{at:r.y$.next(c.listItemSelectionRecords.at(-1).pathRef.current)}),"forward"===c.listPathRef.affinity&&(l=r.y$.previous(l))),c.isFirstItemSelected||(r.YR.splitNodes(e,{at:c.listItemSelectionRecords[0].pathRef.current,always:!0}),"backward"===c.listPathRef.affinity&&(l=r.y$.next(l))),r.YR.setNodes(e,{listType:n},{at:l})}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}(e,l,t)}),!0)}},63996:function(e,t,n){"use strict";n.d(t,{R5:function(){return c},Se:function(){return l},pT:function(){return u}});var r=n(12995),i=n(3220),o=n(53942),a=n(6671),s=n(32350);function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null!==(t=n.at)&&void 0!==t?t:e.selection,u=(0,s.hD)(e,o,!1).listSelectionRecords;return!!u.length&&(r.ML.withoutNormalizing(e,function(){var t=!0,n=!1,o=void 0;try{for(var s,c=u[Symbol.iterator]();!(t=(s=c.next()).done);t=!0){var l=s.value;l.parentIsSelected||function(e,t){(function(e,t){if(!t.isLastItemSelected){var n=t.listItemSelectionRecords.at(-1).pathRef.current;if(r.YR.splitNodes(e,{at:r.y$.next(n),match:a.nq,mode:"lowest"}),t.isSubList){var i,o,s=r.y$.next(t.listPathRef.current),u=null!==(o=null===(i=r.NB.get(e,n).children)||void 0===i?void 0:i.length)&&void 0!==o?o:0;r.YR.moveNodes(e,{at:s,to:n.concat(u)})}}})(e,t);var n=t.isSubList?2:1,o=!0,s=!1,u=void 0;try{for(var c,l=t.listItemSelectionRecords[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=c.value;(0,i.s6)(e,A.pathRef.current,{levels:n}),t.isSubList||r.YR.unwrapNodes(e,{at:A.pathRef.current})}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}(function(e,t){if(t.isFirstItemSelected&&t.isLastItemSelected&&t.isSubList&&(null===(n=t.parentPathRef)||void 0===n?void 0:n.current)){var n,i=t.parentPathRef.current;""===r.NB.string(r.NB.get(e,t.parentPathRef.current))&&r.YR.removeNodes(e,{at:i})}})(e,t)}(e,l)}}catch(e){n=!0,o=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw o}}}),!0)}function c(e,t){if(!t.current)return!1;if((0,a.OD)(r.NB.get(e,t.current))&&!(0,a.nq)(r.NB.parent(e,t.current)))return r.YR.unwrapNodes(e,{at:t.current}),!0;var n=!0,i=!1;do(n=u(e,{at:t.current}))&&(i=!0);while(n&&t.current);return i}function l(e,t){for(;t.current&&!(0,o.XU)(e,t.current);)(0,i.s6)(e,t.current,{levels:2});r.YR.unwrapNodes(e,{at:t.current})}},12613:function(e,t,n){"use strict";n.d(t,{JI:function(){return a},PR:function(){return s},U:function(){return o}});var r=n(42838),i=n(53942),o=function(e){var t=new URL(window.location.pathname,"https://app.eraser.io");return t.hash=e,t.toString()},a=function(e){var t,n;if(!e)return null;if("string"==typeof e)n=new URL(e);else if((0,r.Z)(e,URL))n=e;else{if("workspaceLink"!==e.linkType)return null;n=new URL(e.linkData)}return(null===(t=n.hash)||void 0===t?void 0:t.slice(1))||null},s=function(e){var t=(0,i.wu)(e,{type:"header"});if(t){var n=o(t[0].id);return navigator.clipboard.writeText(n).then(function(){var t;null===(t=e.toast)||void 0===t||t.success("Link copied!")}),!0}}},23649:function(e,t,n){"use strict";n.d(t,{$:function(){return r.$},A:function(){return r.A}});var r=n(87245)},87245:function(e,t,n){"use strict";n.d(t,{$:function(){return f},A:function(){return m}});var r=n(50930),i=n(3220),o=n(93707),a=n(42838),s=n(70865),u=n(96670),c=n(26297),l=n(37164),A=n(46807),d=n(12613);function f(e){return!!e&&"object"==typeof e&&"type"in e&&"header"===e.type}var h=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1;return(0,o.O2)({code:"Digit".concat(n),elementArg:{type:"header",level:n},opts:{shortKey:!0,altKey:!0},params:{disableInTable:!0}})}),p=[(0,o.bO)("b","bold"),(0,o.bO)("i","italic"),(0,o.bO)("u","underline"),(0,o.bO)("x","strike",{shiftKey:!0,shortKey:!0})].concat((0,r.Z)(h),[{name:"move-text-down",key:"ArrowDown",altKey:!0,handler:function(e){return!!(0,i.m_)(e,"down",{type:"header"})||(0,i.m_)(e,"down",{type:"paragraph"})},logEvent:!0},{name:"move-text-up",key:"ArrowUp",altKey:!0,handler:function(e){return!!(0,i.m_)(e,"up",{type:"header"})||(0,i.m_)(e,"up",{type:"paragraph"})},logEvent:!0},{name:"copy-link",key:"k",shortKey:!0,shiftKey:!0,handler:d.PR,logEvent:!0}]),g=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1,r="#".repeat(n)+" ";return(0,o.dC)({str:r,element:{type:"header",level:n},matchMode:"start",isDisabledInTable:!0})}),v=function(e){var t=(null==e?void 0:e.includes("header"))?[]:g;return[(0,o.dC)({str:"**",format:"bold",matchMode:"surround"}),(0,o.dC)({str:"*",format:"italic",matchMode:"surround"}),(0,o.dC)({str:"_",format:"italic",matchMode:"surround"}),(0,o.dC)({str:"~",format:"strike",matchMode:"surround"})].concat((0,r.Z)(t))},m=function(e,t){var n=e.boldComponent,r=e.headerComponent,i=e.italicComponent,o=e.strikeComponent,d=e.underlineComponent;return{name:"rich-text",keyBindings:p,textInputHandlers:v(null==t?void 0:t.ignorePlugins),fromHtml:{formatsByTag:{B:"bold",S:"strike",I:"italic",EM:"italic",STRONG:"bold",U:"underline"},customRules:[function(e){var t=e.domNode,n=e.parseChildren,r=(0,c.Z)(e,["domNode","parseChildren"]);switch(t.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":var i=parseInt(t.nodeName[1]);return{id:(0,l.x0)(),type:"header",level:i,children:n((0,u.Z)((0,s.Z)({domNode:t.childNodes,parseChildren:n},r),{textProps:{}}))}}if((0,a.Z)(t,HTMLSpanElement)&&"ace-all-bold-hthree"===t.className){var o,A,d=(null===(o=t.firstElementChild)||void 0===o?void 0:null===(A=o.firstElementChild)||void 0===A?void 0:A.childNodes)||t.childNodes;return{id:(0,l.x0)(),type:"header",level:3,children:n((0,u.Z)((0,s.Z)({domNode:d,parseChildren:n},r),{textProps:{}}))}}}]},toMarkdown:{byElementType:{header:function(e){var t=Array(e.element.level).fill("#").join("").concat(" ");return(0,A.H4)((0,u.Z)((0,s.Z)({},e),{markdown:[t,"\n"],childrenMarkdownPosition:"between"}))}},byFormat:{bold:function(e){var t=e.element;return(0,A.R1)({element:t,markdown:["**","**"],childrenMarkdownPosition:"between"})},italic:function(e){var t=e.element;return(0,A.R1)({element:t,markdown:["_","_"],childrenMarkdownPosition:"between"})},strike:function(e){var t=e.element;return(0,A.R1)({element:t,markdown:["~","~"],childrenMarkdownPosition:"between"})}}},formats:{bold:{component:n},italic:{component:i},strike:{component:o},underline:{component:d}},elements:{header:{component:r,enterBehavior:"create-paragraph"}},conversionRules:{header:{disallowedTypes:["image","code-block","blockquote","youTubePlayer","block-link"]}}}}},77066:function(e,t,n){"use strict";var r=n(87394),i=n(50930),o=n(12995),a=n(9850),s=/*#__PURE__*/n.n(a),u=n(3220),c=n(53942),l=n(49605),A={rowCount:2,columnCount:3,addHeader:!0};function d(e,t,n){var a,s=h(e,t);if(s){var u=(0,r.Z)(s,2),c=u[0],A=u[1],d=(0,l.t_)(c),f=d.rowCount,p=d.columnCount,g=null!=n?Math.min(n,f):null!==(a=(0,l.bW)(e))&&void 0!==a?a:f,v=(0,l.gJ)(p),m=c.children.findIndex(l.WC),y=(0,i.Z)(A).concat([m,g]);return o.YR.insertNodes(e,v,{at:y}),y}}function f(e,t,n){var a,s=h(e,t);if(s){var u=(0,l.t_)(s[0]).columnCount;if(null!=n)a=Math.min(n,u);else{var c=(0,l.pm)(e);a="number"==typeof c?c+1:u}var A=(0,r.Z)((0,l.ih)(s),2),d=A[0],f=A[1],p=[];if(f)return o.ML.withoutNormalizing(e,function(){if(d){var t=(0,r.Z)(d,2),n=(t[0],t[1]),s=(0,i.Z)(n).concat([0,a]);p.push(s),o.YR.insertNodes(e,(0,l.lg)(),{at:s})}var u=(0,r.Z)(f,2),c=u[0],A=u[1],h=!0,g=!1,v=void 0;try{for(var m,y=o.NB.children(c,[])[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var b=(0,r.Z)(m.value,2),w=(b[0],b[1]),_=(0,i.Z)(A).concat((0,i.Z)(w),[a]);p.push(_),o.YR.insertNodes(e,(0,l.lg)(),{at:_})}}catch(e){g=!0,v=e}finally{try{h||null==y.return||y.return()}finally{if(g)throw v}}}),p}}function h(e,t){if(t){var n=o.NB.has(e,t)?o.NB.get(e,t):void 0;return(0,l.wb)(n)?[n,t]:void 0}return(0,c.wu)(e,{type:"table"})}t.ZP={insertTable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(!e.selection||(0,c.wu)(e,{type:"table"}))return!1;var n=o.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),r=n?n[1]:[],i=o.ML.path(e,o.e6.end(e.selection)).slice(0,r.length+1),a=""===o.NB.string(o.NB.get(e,i)),s=o.y$.next(i);return o.ML.withoutNormalizing(e,function(){var n=(0,l.uw)(t);o.YR.insertNodes(e,n,{at:s}),o.YR.select(e,s.concat([0,0,0,0,0])),a&&o.YR.removeNodes(e,{at:i})}),!0},removeTable:function(e){var t=h(e);if(!t)return!1;var n=(0,r.Z)(t,2),i=(n[0],n[1]);return o.YR.removeNodes(e,{at:i}),!0},moveRow:function(e,t){var n=(0,c.wu)(e,{type:"table"});if(!n)return!1;var i=(0,r.Z)((0,l.ih)(n),2),a=i[0],A=i[1],d=(0,l.$0)(e)||{},f=d.rowIndex,h=d.colIndex;return a&&A&&(0===f&&"up"===t||-1===f&&"down"===t)?(o.ML.withoutNormalizing(e,function(){var n=s()(a[0].children[0]),r=s()(A[0].children[0]);o.YR.removeNodes(e,{at:A[1].concat(0)}),o.YR.removeNodes(e,{at:a[1].concat(0)}),o.YR.insertNodes(e,n,{at:A[1].concat(0)}),o.YR.insertNodes(e,r,{at:a[1].concat(0)});var i="up"===t?a[1]:A[1];o.YR.select(e,i.concat(0,h)),o.YR.collapse(e,{edge:"end"})}),o.ML.normalize(e,{force:!0}),!0):(0,u.m_)(e,t,{type:"table-row",retainLevel:!0})},moveColumn:function(e,t){var n=(0,c.wu)(e,{type:"table"});if(!n)return!1;var a=(0,r.Z)(n,2),s=a[0],u=a[1],A=(0,l.pm)(e),d=(0,l.t_)(s).columnCount;return 0===A&&"left"===t||A===d-1&&"right"===t||(o.ML.withoutNormalizing(e,function(){var n=!0,a=!1,c=void 0;try{for(var l,d=o.NB.children(s,[])[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var f=l.value,h=f[1][0],p=!0,g=!1,v=void 0;try{for(var m,y=o.NB.children(f[0],[])[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=(0,r.Z)(m.value,2),w=(b[0],b[1]),_=(0,i.Z)(u).concat([h,w[0]]),E="left"===t?A-1:A+1;o.YR.moveNodes(e,{at:_.concat(A),to:_.concat(E)})}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}}}catch(e){a=!0,c=e}finally{try{n||null==d.return||d.return()}finally{if(a)throw c}}}),!0)},addRow:d,addRowBefore:function(e){var t=(0,l.$0)(e);t&&!t.isInHeader&&d(e,void 0,t.rowIndex)},addColumn:f,addColumnBefore:function(e){var t=(0,l.$0)(e);t&&f(e,void 0,t.colIndex)},removeRow:function(e,t,n){var a,s,u=h(e,t);if(!u)return!1;var c=(0,r.Z)(u,2),A=c[0],d=c[1],f=(0,l.t_)(A).rowCount;if(1===f)return!1;var p=Math.min(n||0,f-1);-1===(p=null!=n?Math.min(n,f-1):null!==(s=null===(a=(0,l.mt)(e))||void 0===a?void 0:a[0])&&void 0!==s?s:f-1)&&(p=0);var g=A.children.findIndex(l.WC),v=(0,i.Z)(d).concat([g,p]);return o.YR.removeNodes(e,{at:v}),!0},removeColumn:function(e,t,n){var a,s=h(e,t);if(!s)return!1;var u=(0,l.t_)(s[0]).columnCount;if(1===u)return!1;if(null!=n)a=Math.min(n,u-1);else{var c=(0,l.pm)(e);a=null!=c?c:u-1}var A=(0,r.Z)((0,l.ih)(s),2),d=A[0],f=A[1];return!!f&&(o.ML.withoutNormalizing(e,function(){if(d){var t=(0,i.Z)(d[1]).concat([0,a]);o.YR.removeNodes(e,{at:t})}var n=(0,r.Z)(f,2),s=n[0],u=n[1],c=!0,l=!1,A=void 0;try{for(var h,p=o.NB.children(s,[])[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var g=(0,r.Z)(h.value,2),v=(g[0],g[1]),m=(0,i.Z)(u).concat((0,i.Z)(v),[a]);o.YR.removeNodes(e,{at:m})}}catch(e){l=!0,A=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw A}}}),!0)},moveCursorVertically:function(e,t){if(e.selection){var n=(0,l.$0)(e);n&&e.selection&&function e(t,n,r){requestAnimationFrame(function(){if(o.E9.equals(n,t.selection.anchor))return e(t,n,r);r()})}(e,e.selection.anchor,function(){o.ML.withoutNormalizing(e,function(){var r=(0,l.$0)(e);if(r&&(n.rowIndex!==r.rowIndex||n.colIndex!==r.colIndex)){var i=(0,c.wu)(e,{type:"table"});if(i){var a=(0,l.fZ)(i[0],n.rowIndex,n.colIndex,1===t?"down":"up");if(a){var s=(0,l.H0)(i,a[0],a[1]);s&&(o.YR.select(e,s[1]),o.YR.collapse(e,{edge:1===t?"start":"end"}))}}}})})}},cycleNavigation:function(e,t){if(!!e.selection){var n=(0,c.wu)(e,{type:"table"});if(n){var r=(0,l.$0)(e);if(r){var i=(0,l.fZ)(n[0],r.rowIndex,r.colIndex,1===t?"right":"left");if(i){var a=(0,l.H0)(n,i[0],i[1]);if(a)return o.YR.select(e,a[1]),o.YR.collapse(e,{edge:1===t?"start":"end"}),!0}}}}},insertCellsContents:function(e,t){var n=(0,c.wu)(e,{type:"table"});if(n){var a=(0,r.Z)((0,l.ih)(n),2),s=(a[0],a[1]);if(s){var u=(0,l.t_)(n[0]),A=(0,l.$0)(e);if(A)return o.ML.withoutNormalizing(e,function(){t.forEach(function(t,r){return t.forEach(function(t,i){var a=(0,l.H0)(n,A.rowIndex+r,A.colIndex+i);a&&(o.YR.removeNodes(e,{at:a[1]}),o.YR.insertNodes(e,t,{at:a[1]}))})});var r=Math.max(A.rowIndex+t.length-u.rowCount,0);if(r)for(var a=0;a<r;a++){var c,d=(0,l.gJ)(u.columnCount),f=t[t.length-r+a].slice(0,u.columnCount-A.colIndex);(c=d.children).splice.apply(c,[A.colIndex,f.length].concat((0,i.Z)(f))),o.YR.insertNodes(e,d,{at:(0,i.Z)(s[1]).concat([u.rowCount+a])})}var h=(0,l.H0)(n,A.rowIndex,A.colIndex);h&&(o.YR.select(e,h[1]),o.YR.collapse(e,{edge:"end"}))}),!0}}},duplicateTable:function(e){var t=(0,c.wu)(e,{type:"table"});if(t){var n=s()(t[0]);return o.YR.insertNodes(e,n,{at:t[1]}),!0}},duplicateRow:function(e){var t=(0,c.wu)(e,{type:"table"});if(t){var n=(0,r.Z)((0,l.ih)(t),2),a=(n[0],n[1]);if(a){var u=(0,c.wu)(e,{type:"table-row"});if(u){var A=(0,l.bW)(e);if("number"==typeof A){var d=s()(u[0]),f=(0,i.Z)(a[1]).concat([A]);return o.YR.insertNodes(e,d,{at:f}),!0}}}}},duplicateColumn:function(e){var t=(0,c.wu)(e,{type:"table"});if(t){var n=(0,r.Z)((0,l.ih)(t),2),a=n[0],u=n[1];if(u){var A=(0,l.pm)(e);if("number"==typeof A){var d=[];a&&(0,l.zl)(a[0].children[0])&&d.push([a[0].children[0],(0,i.Z)(a[1]).concat([0])]),d.push.apply(d,(0,i.Z)(u[0].children.map(function(e,t){return[e,(0,i.Z)(u[1]).concat([t])]})));var f=!0,h=!1,p=void 0;try{for(var g,v=d[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=(0,r.Z)(g.value,2),y=m[0],b=m[1],w=s()(y.children[A]),_=(0,i.Z)(b).concat([A]);o.YR.insertNodes(e,w,{at:_})}}catch(e){h=!0,p=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}return!0}}}}}},49605:function(e,t,n){"use strict";n.d(t,{$0:function(){return O},Bn:function(){return m},H0:function(){return L},IM:function(){return v},LC:function(){return w},Qb:function(){return y},WC:function(){return p},bW:function(){return k},fZ:function(){return R},gJ:function(){return I},ih:function(){return F},lg:function(){return x},mD:function(){return M},mt:function(){return N},np:function(){return b},pm:function(){return D},tK:function(){return _},t_:function(){return T},uw:function(){return E},vL:function(){return function e(t){if(t.length){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(u.W_.isElement(s)){if(f(s))return s;if(s.children){var c=e(s.children);if(c)return c}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},wb:function(){return f},yX:function(){return h},zl:function(){return g}});var r=n(26297),i=n(87394),o=n(50930),a=n(61258),s=/*#__PURE__*/n.n(a),u=n(12995),c=n(37164),l=n(53942),A=n(97462),d=n(4171);function f(e){return u.W_.isElement(e)&&"table"===e.type}function h(e){return u.W_.isElement(e)&&"table-head"===e.type}function p(e){return u.W_.isElement(e)&&"table-body"===e.type}function g(e){return u.W_.isElement(e)&&"table-row"===e.type}function v(e){return u.W_.isElement(e)&&"table-cell"===e.type}function m(e){return!!(0,l.wu)(e,{type:"table-head"})}function y(e){var t=(0,l.wu)(e,{type:"table"});if(!t)return!1;var n=(0,i.Z)(F(t),1)[0],r=(O(e)||{}).rowIndex;return n?-1===r:0===r}function b(e){var t=(0,l.wu)(e,{type:"table"});if(!t)return!1;var n=T(t[0]).rowCount;return(O(e)||{}).rowIndex===n-1}function w(e){return!!(0,l.wu)(e,{type:"table"})&&0===(O(e)||{}).colIndex}function _(e){var t=(0,l.wu)(e,{type:"table"});if(!t)return!1;var n=T(t[0]).columnCount;return(O(e)||{}).colIndex===n-1}function E(e){var t=e.id,n=void 0===t?(0,c.x0)():t,i=e.addHeader,o=(0,r.Z)(e,["id","addHeader"]),a=B(o),s="blocks"in o?1:o.columnCount;return{id:n,type:"table",children:void 0!==i&&i?[C(s),a]:[a]}}function C(e){return{type:"table-head",children:[I(e)]}}function B(e){if("blocks"in e)return{type:"table-body",children:e.blocks.map(function(e){return I(e)})};var t=e.rowCount,n=e.columnCount;return{type:"table-body",children:s()(t,function(){return I(n)})}}function I(e){return{type:"table-row",children:S(e).map(function(e){return x(e)})}}function x(e){return{type:"table-cell",children:e?S(e).map(function(e){return e||(0,A.Q)()}):[(0,A.Q)()]}}function T(e){var t,n,r,o,a,s,u,c,l=(0,i.Z)(F([e,[]]),2),A=l[0],d=l[1];if(!d&&!A)return{rowCount:0,columnCount:0,hasHeader:!1};var f=d?null===(t=d[0])||void 0===t?void 0:t.children.length:0,h=null!==(o=null==d?void 0:null===(n=d[0])||void 0===n?void 0:n.children[0])&&void 0!==o?o:null==A?void 0:A[0].children[0],p=null!==(a=null==h?void 0:null===(r=h.children)||void 0===r?void 0:r.length)&&void 0!==a?a:0;return A&&(p=Math.max(p,null!==(c=null===(s=A[0].children[0])||void 0===s?void 0:null===(u=s.children)||void 0===u?void 0:u.length)&&void 0!==c?c:0)),{rowCount:f,columnCount:p,hasHeader:!!A}}function S(e){return e?"number"==typeof e?s()(e,function(){}):u.W_.isElement(e)?[e]:e:[]}function k(e){var t=N(e);if(t){var n=(0,i.Z)(t,2),r=n[0];return n[1]?0:r+1}}function N(e){var t=(0,l.wu)(e,{type:"table-row"});if(t){var n=u.NB.parent(e,t[1]);return p(n)?[t[1].at(-1),!1]:h(n)?[-1,!0]:void 0}}function D(e){var t=(0,l.wu)(e,{type:"table-cell"});if(t)return t[1].at(-1)}function O(e){var t=D(e),n=N(e);return null!=n&&null!=t?{rowIndex:n[0],isInHeader:n[1],colIndex:t}:void 0}function R(e,t,n,r){var i=T(e),o=i.rowCount,a=i.columnCount,s=i.hasHeader,u=-1===t,c=0===t,l=t===o-1;switch(r){case"up":if(u)return;if(c)return s?[-1,n]:void 0;return[t-1,n];case"down":if(u)return o>0?[0,n]:void 0;return l?void 0:[t+1,n];case"left":if(0===n){if(u)return;return c&&!s?void 0:[t-1,a-1]}return[t,n-1];case"right":if(n===a-1)return l?void 0:[t+1,0];return[t,n+1]}}function F(e){var t,n,r=(0,i.Z)(e,2),o=r[0],a=r[1];return h(o.children[0])?(t=[o.children[0],a.concat(0)],p(o.children[1])&&(n=[o.children[1],a.concat(1)])):p(o.children[0])&&(n=[o.children[0],a.concat(0)]),[t,n]}function L(e,t,n){if(e){var r=(0,i.Z)(F(e),2),o=r[0],a=r[1];if(-1===t&&o){var s=(0,i.Z)(o,2),u=s[0],c=s[1];if(n<0||n>=u.children[0].children.length){console.warn("Attempted to get cell entry out of bounds");return}return[u.children[0].children[n],c.concat(0,n)]}if(a){var l=(0,i.Z)(a,2),A=l[0],d=l[1];if(t<0||t>=A.children.length){console.warn("Attempted to get cell entry out of bounds");return}var f=A.children[t];if(n<0||n>=f.children.length){console.warn("Attempted to get cell entry out of bounds");return}return[f.children[n],d.concat(t,n)]}}}var P=["paragraph","div","span","mention","code","link","wikiLink","list","list-item","comment","section","image"],U=["paragraph","div","span","mention","code","link","wikiLink","comment"];function M(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(g(s)){t.push(s);continue}if(p(s)||h(s)){var u=!0,c=!1,l=void 0;try{for(var A,d=s.children[Symbol.iterator]();!(u=(A=d.next()).done);u=!0){var f=A.value;g(f)&&t.push(f)}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}t.ZP={isTable:f,isTableHead:h,isTableBody:p,isTableRow:g,isTableCell:v,makeCell:x,makeRow:I,makeHeader:C,makeBody:B,getCurrentBodyRowIndex:N,getNextBodyRowIndex:k,getCurrentColIndex:D,getNextCellInDirection:function(e,t){var n=O(e);if(n){var r=(0,l.wu)(e,{type:"table"});if(r){var o=R(r[0],n.rowIndex,n.colIndex,t);if(o){var a=(0,i.Z)(o,2),s=a[0],u=a[1],c=L(r,s,u);if(c)return{cellEntry:c,row:s,column:u}}}}},normalizeTable:function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,i.Z)(F([r,o]),2),s=a[0],c=a[1],l=T(r).columnCount;if(!s&&!c)return u.YR.removeNodes(e,{at:o}),!0;if(s){if(u.xv.isText(s[0].children[0])){u.YR.removeNodes(e,{at:s[1].concat(0)});var A=I(l);return u.YR.insertNodes(e,A,{at:s[1].concat(0)}),!0}}else{var d=C(l);return u.YR.insertNodes(e,d,{at:o.concat(0)}),!0}if(c){if(u.xv.isText(c[0].children[0])){u.YR.removeNodes(e,{at:c[1].concat(0)});var f=I(l);return u.YR.insertNodes(e,f,{at:c[1].concat(0)}),!0}}else{var h=B({rowCount:1,columnCount:l});return u.YR.insertNodes(e,h,{at:o.concat(1)}),!0}},normalizeRow:function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,l.wu)(e,{type:"table",at:o});if(a){var c=T((0,i.Z)(a,1)[0]).columnCount;if(u.xv.isText(r.children[0]))return u.YR.removeNodes(e,{at:o.concat(0)}),!0;if(r.children.length<c||u.xv.isText(r.children[0])){r.children[0]&&u.xv.isText(r.children[0])&&u.YR.removeNodes(e,{at:o.concat(0)});var A=c-r.children.length,d=s()(A,x);return u.YR.insertNodes(e,d,{at:o.concat(r.children.length)}),!0}}},normalizeCell:function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];r.children.length||u.YR.insertNodes(e,(0,A.Q)(),{at:a.concat(0)});var s=(0,l.wu)(e,{type:"table-row",at:a});if(s){for(var c=h(u.NB.parent(e,s[1]))?U:P,f=0;f<r.children.length;f++){var p=r.children[f];u.xv.isText(p)&&u.YR.wrapNodes(e,{type:"paragraph",children:[]},{at:a.concat(f)})}var g=!0,v=!1,m=void 0;try{for(var y,b=u.NB.descendants(r)[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=(0,i.Z)(y.value,2),_=w[0],E=w[1];if(!(u.xv.isText(_)||!("type"in _)||c.includes(_.type)))return!function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];u.ML.withoutNormalizing(e,function(){switch(r.type){case"block-link":var t={id:r.id,type:"link",isExpanded:!1,linkData:r.linkData,linkType:r.linkType,originalLabel:r.originalLabel,workspaceId:r.workspaceId,children:[{text:d.$m+r.label}]};u.YR.removeNodes(e,{at:a}),u.YR.insertNodes(e,[{type:"paragraph",children:[{text:""},t,{text:""}]}],{select:!0,at:a});break;case"code-block":if(u.YR.removeNodes(e,{at:a}),!u.xv.isText(r.children[0]))break;var n=r.children[0].text.split("\n").flatMap(function(e){return[{type:"code",children:[{text:e}]},{text:"\n"}]}).slice(0,-1);u.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,o.Z)(n),[{text:""}])},{select:!0,at:a});break;case"blockquote":case"header":u.YR.removeNodes(e,{at:a});var i=r.children.filter(function(e){return u.xv.isText(e)}).flatMap(function(e){return[{text:e.text},{text:"\n"}]}).slice(0,-1);u.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,o.Z)(i),[{text:""}])},{select:!0,at:a});break;case"divider":u.YR.removeNodes(e,{at:a}),u.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{select:!0,at:a});break;case"list-item":case"table-head":case"table-body":case"table-row":case"table-cell":break;default:u.YR.removeNodes(e,{at:a})}})}(e,[_,a.concat(E)]),!0}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}}}}},39269:function(e,t,n){"use strict";n.d(t,{Hi:function(){return u}});var r=n(12995),i=n(3220),o=/(?:\s|\(|^)\+(?:\s|\)|\.|\,|\!|\?|$)/,a=["paragraph","div","blockquote","header"],s=function(e,t){var n=t.leafNode,s=t.insertedText;if(!e.selection)return!1;if(" "===s){var u=r.ML.above(e,{match:function(e){return!!e&&"object"==typeof e&&"type"in e&&"wikiLink"===e.type}});u&&"+ "===n.text&&r.YR.unwrapNodes(e,{at:u[1]})}if("+"===s){if(!o.exec(n.text))return!1;var c,l=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(l&&"type"in l[0]&&!a.includes(l[0].type))return!1;var A=e.selection,d=A.focus,f=A.anchor;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,d),anchor:f}),(0,i.Yl)(e,{type:"wikiLink"}),r.YR.setSelection(e,{focus:e.selection.anchor}),null===(c=e.eventLogger)||void 0===c||c.call(e,"auto_format",{type:"wikilink"}),e.sealHistoryEntry(),!0}return!1};function u(e){return{name:"wiki-link",elements:{wikiLink:{inline:!0,component:e.LinkComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[s]}}},74189:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(12995),i=n(68193),o=function(e,t){return(0,i.q)(function(){if(!e.selection||!r.e6.isCollapsed(e.selection)||!t)return!0;var n=window.getSelection();if((null==n?void 0:n.focusNode)!==null){var i=null==n?void 0:n.getRangeAt(0),o=(null==i?void 0:i.getBoundingClientRect().bottom)||-1/0;if(window.innerHeight-o<70){var a=70-(window.innerHeight-o),s=t.scrollTop+a;t.scrollTo({top:s})}}})(),!1}},58490:function(e,t,n){"use strict";n.d(t,{Qm:function(){return u},Y4:function(){return o},ZA:function(){return s},a5:function(){return l},jM:function(){return c},ts:function(){return a}});var r=n(12995),i=n(44043);function o(e,t){var n="string"==typeof t?{direction:t}:t,i=n.direction,o=n.distance,a=void 0===o?1:o,s=n.unit,u=void 0===s?"line":s;r.ML.withoutNormalizing(e,function(){r.YR.move(e,{distance:a,unit:u,reverse:"up"===i,edge:"start"}),r.YR.collapse(e,{edge:"start"})})}function a(e){if(e.selection){var t=r.ML.path(e,e.selection);if(r.e6.isCollapsed(e.selection)){r.YR.select(e,t);return}for(var n=r.NB.get(e,t);t.length&&(t=r.y$.parent(t),!r.ML.isBlock(e,n)||1===r.NB.get(e,t).children.length);)n=r.NB.get(e,t);r.YR.select(e,t)}}var s=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.match,a=n.noListItems,s=void 0===a||a,u=n.withPaths,c=n.hanging,l=null!==(t=e.selection)&&void 0!==t?t:void 0;!(void 0!==c&&c)&&e.selection&&(l=r.ML.unhangRange(e,e.selection,{voids:!0}));var A=Array.from(r.ML.nodes(e,{at:l,match:function(t,n){return!(!r.ML.isBlock(e,t)||r.ML.isEditor(t)||e.isContainerBlock(t)||o&&!o(t,n)||s&&((0,i.nq)(t)||(0,i.OD)(t)))}}));return void 0!==u&&u?A:A.map(function(e){return e[0]})},u=function(e){if(!e.selection||r.e6.isCollapsed(e.selection))return!1;var t=r.ML.unhangRange(e,e.selection),n=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),i=r.ML.unhangRange(e,n);return r.e6.equals(t,i)},c=function(e){var t=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),n=r.ML.unhangRange(e,t);r.YR.select(e,n)},l=function(e){var t=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)},mode:"lowest"});if(!t||!e.toMarkdown)return{markdown:"",pathRef:r.ML.pathRef(e,[0,0])};var n=r.ML.pathRef(e,t[1]);return{markdown:e.toMarkdown([],[t[0]]),pathRef:n}}},31639:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(12995),i=n(31632),o=n(59806),a=function(e){return Array.from(r.ML.nodes(e,{match:o.zm,at:r.ML.start(e,[])})).length>0?i.ck.CodeBlock:i.ck.Normal}},83202:function(e,t,n){"use strict";n.d(t,{BA:function(){return i},bS:function(){return l}});var r,i,o=n(90581),a=n(21218),s=n(20624),u=n(39309);(r=i||(i={})).ApplyOp="ApplyOp",r.ApplyOpServer="ApplyOpServer",r.Unknown="Unknown",r.LoadValue="LoadValue",r.Normalize="Normalize",r.CanvasRender="CanvasRender";var c={ApplyOp:"Invalid changes received from another user. Refreshing.",ApplyOpServer:"Server unable to update document. Refreshing.",Unknown:"Something went wrong.",LoadValue:"Unable to load document. Please refresh and try again.",Normalize:"Unable to build document.",CanvasRender:"Unable to render canvas editor."},l=/*#__PURE__*/function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){(0,o.Z)(this,n);var a,s=r&&"string"==typeof r&&r in i?r:i.Unknown,u=c[s];return(a=t.call(this,u,{cause:e})).name="SlateError",a.code=s,a.handled=!1,a}return n}((0,s.Z)(Error));l.Codes=i},32021:function(e,t,n){"use strict";n.d(t,{BA:function(){return r.BA},bS:function(){return r.bS}});var r=n(83202)},62286:function(e,t,n){"use strict";n.d(t,{e:function(){return w},j:function(){return _}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(50930),u=n(52322),c=n(2784),l=n(79421),A=/*#__PURE__*/n.n(l),d=n(34519),f=/*#__PURE__*/n.n(d),h=n(12995),p=n(51716),g=n(37578),v=n(3723),m=n(26575),y=n(56560),b=n(97725);function w(e){var t=e.plugins,n=e.collab,s=e.initialValue,c=e.onError,l=e.eventLogger,d=e.toast,p=e.isReadOnly,w=e.services,_=e.baseEditor,C=void 0===_?(0,v.m)():_,B=e.forceRerender,I=e.setResetCount,x=e.__skipNormalizationError,T=(0,y.E)(C,t,n,function(e){null==c||c(e),null==I||I(function(e){return e+1})},l,d,p);void 0!==x&&x&&(T.__skipNormalizationError=!0),w&&(T.services=w);var S={},k={},N={},D=function(){return[]};t.forEach(function(e){var t,n=null!==(t=e.formats)&&void 0!==t?t:{};Object.assign(k,f()(n,"component")),Object.assign(S,f()(e.elements,"component")),Object.assign(N,e.decorators||{}),e.editorDecorator&&(D=E(D,e.editorDecorator))}),n&&(D=E(D,n.getRemoteSelections));var O=(0,b.N)(T,t),R=(0,m.B)(T,t);return function(e,t){if(!t){h.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:[0]});return}if("string"==typeof t){var n,r=(0,g.e)(t),i=null===(n=e.fromHtml)||void 0===n?void 0:n.call(e,r);e.children=null!=i?i:[{type:"paragraph",children:[{text:""}]}]}else e.children=t;h.ML.normalize(e,{force:!0})}(T,s),T.forceRerender=void 0===B?function(){}:B,{editor:T,decorate:function(e){var t,n=(0,a.Z)(e,2),r=n[0],i=n[1];return"type"in r&&void 0!==N[r.type]?(null===(t=N[r.type])||void 0===t?void 0:t.call(N,[r,i]))||[]:i.length?[]:D([r,i])},onKeyDown:O,value:T.children,renderLeaf:function(e){var t=e.leaf,n=e.children;return A()(k,function(o,a){a in t&&o&&(n=/*#__PURE__*/(0,u.jsx)(o,(0,i.Z)((0,r.Z)({},e),{children:n})))}),/*#__PURE__*/(0,u.jsx)("span",(0,i.Z)((0,r.Z)({},e.attributes),{children:n}))},renderElement:function(e){var t=e.element,n=(0,o.Z)(e,["element"]),a=t.type;if(!(a in S)||!S[a])return T.isInline(t)?/*#__PURE__*/(0,u.jsx)("span",(0,i.Z)((0,r.Z)({},n.attributes),{children:n.children})):/*#__PURE__*/(0,u.jsx)("div",(0,i.Z)((0,r.Z)({},n.attributes),{children:n.children}));var s=S[a];return/*#__PURE__*/(0,u.jsx)(s,(0,i.Z)((0,r.Z)({},n),{element:t}))},eventHandlers:R}}function _(e){var t=e.plugins,n=e.collab,r=e.initialValue,i=e.onError,o=e.eventLogger,a=e.toast,s=e.isReadOnly,u=e.services,l=(0,c.useState)(0),A=l[0],d=l[1],f=(0,p.Z)();return(0,c.useMemo)(function(){return w({plugins:t,collab:n,initialValue:r,onError:i,eventLogger:o,toast:a,isReadOnly:s,services:u,forceRerender:f,setResetCount:d})},[t,n,A])}function E(e,t){return function(n){var r,i,o=null!==(r=e(n))&&void 0!==r?r:[],a=null!==(i=t(n))&&void 0!==i?i:[];return(0,s.Z)(o).concat((0,s.Z)(a))}}},8875:function(e,t,n){"use strict";n.d(t,{$:function(){return l},V:function(){return s}});var r=n(70865),i=n(96670),o=n(12995),a=n(20672),s=function(e){var t=e.apply;return e.history={undos:[],redos:[]},e.redo=function(){var t=e.history,n=t.redos;if(n.length>0){var r=n[n.length-1];r.selectionBefore&&o.YR.setSelection(e,r.selectionBefore),a.MO.withoutSaving(e,function(){o.ML.withoutNormalizing(e,function(){var t=!0,n=!1,i=void 0;try{for(var o,a=r.operations[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;e.apply(s)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}})}),t.redos.pop(),t.undos.push(r)}},e.undo=function(){var t=e.history,n=t.undos;if(n.length>0){var r=n[n.length-1];a.MO.withoutSaving(e,function(){o.ML.withoutNormalizing(e,function(){var t=r.operations.map(o.OX.inverse).reverse(),n=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;e.apply(c)}}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}r.selectionBefore&&o.YR.setSelection(e,r.selectionBefore)})}),t.redos.push(r),t.undos.pop()}},e.apply=function(n){var r=e.operations,i=e.history,o=i.undos,s=o[o.length-1],l=null==s?void 0:s.operations[s.operations.length-1],A=a.MO.isSaving(e),d=a.MO.isMerging(e);if(null==A&&(A=c(n)),A){if(null==d&&(d=null!=s&&(0!==r.length||u(n,l))),s&&d&&!0!==s.isSealed)s.operations.push(n);else{var f={operations:[n],selectionBefore:e.selection};o.push(f)}for(;o.length>100;)o.shift();i.redos=[]}t(n)},e.sealHistoryEntry=function(){var t=e.history.undos.at(-1);t&&(t.isSealed=!0)},e},u=function(e,t){return!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&o.y$.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&o.y$.equals(e.path,t.path))},c=function(e){return"set_selection"!==e.type},l=(0,i.Z)((0,r.Z)({},a.MO),{withMerging:function(e,t){var n=a.MO.isMerging(e);a.Ye.set(e,!0),t(),a.Ye.set(e,n)}})},77622:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=function(e){var t=e.theme,n=e.templateVersionId,r=e.templateWorkspaceId,i=["theme-".concat(void 0===t?"light":t)].join("_"),o="".concat(n,"_").concat(i,".jpg"),a="templates/".concat(r,"/").concat(n),s="".concat(a,"/").concat(o);return{storagePath:"images/".concat(s),imgixPath:s}}},80003:function(e,t,n){"use strict";n.d(t,{W:function(){return r},l:function(){return i}});var r="darkMode",i=function(){return document.documentElement&&document.documentElement.className.includes(r)?"dark":"light"}},76476:function(e,t,n){"use strict";n.d(t,{SB:function(){return U},J:function(){return A},Nb:function(){return M.N}});var r,i={},o={},a=function(e){return i[e]},s=n(47842),u=n(19179),c=n(70865),l=n(99669),A=a,d=function(){},f=function(){},h={};if((0,u.vy)()){var p=new l.m({version:"alpha",name:"playground",storeName:"behaviors"});A=function(e){var t=null!==(r=a(e))&&void 0!==r?r:{},n=h[e];if(n)return n;var r,i,o=null!==(i=p.getItem(e))&&void 0!==i?i:{},s=(0,c.Z)({},t,o);return h[e]=s,s},d=function(e,t){var n=A(e),r=(0,c.Z)({},n,t);p.setItem(e,r),h[e]=r},f=function(e){p.removeItem(e),delete h[e]},window.playground={explain:function(e){var t=a(e)||{},n=o[e];Object.keys(n).forEach(function(e){return console.info("\x1b[1m".concat(e),"-",t[e],"-",n[e])})},set:d,show:A,reset:f,features:function(){return Object.keys(i)}}}function g(e,t,n){if(i[e]=t,o[e]=n,(0,u.vy)()){var r=Object.keys(t).reduce(function(t,n){return Object.defineProperty(t,n,{get:function(){return A(e)[n]},set:function(t){return d(e,(0,s.Z)({},n,t))}})},{});Object.assign(r,{show:function(){return A(e)},reset:function(){return f(e)},explain:function(){return window.playground.explain(e)}}),window.playground[e]=r}}var v="splineEditor";g(v,{duplicationOffset:30,colorChangeDelay:1e3,candidatePointHoverDelay:50,hideCandidatePointWithDrag:!0,minimumSplineLengthForCandidatePoints:30},{colorChangeDelay:"How long a spline should hide selection when its color changes",minimumSplineLengthForCandidatePoints:"Minimum length of spline to show candidate points",hideCandidatePointWithDrag:"Whether candidate points should be hidden when dragging spline",candidatePointHoverDelay:"How long should candidate points remain visible before fading away",duplicationOffset:"How far a point should be when duplication is invoked on last spline point"});var m="smartDup";g(m,{previewOnHover:!0,hoverDelay:150,hoverOpacity:.15,previewOpacity:.6,arrowLength:100,tangentOffset:75,elbowDeltaMultipler:0,elbowMultiplier:.5,closeToMiddleThreshold:10,adjustArrowLengthForExisting:!0},{previewOnHover:"Whether to show a fainter preview when hovering over add button",hoverDelay:"How long to delay (in ms) showing a preview when hovering button (default: 0ms)",hoverOpacity:"Opacity to render the preview on hover (between 0 and 1)",previewOpacity:"Opacity to render a preview after click (between 0 and 1)",arrowLength:"How long an arrow is when going straight (default: 100px)",tangentOffset:"How much space to put in between shapes when adding several (default: 100px)",elbowMultiplier:"When using elbow connectors, how long to make the first segment, as a multiple of the full length (0 to 1)",elbowDeltaMultipler:"When using elbow connectors, how much to offset the lines from one another, as a multiple of the distance (0 to 1)",closeToMiddleThreshold:"When accounting for existing elements, this threshhold determines how many pixels off-center a connecting arrow can be and still be considered in the middle, for the purposes of determining whether to balance els.",adjustArrowLengthForExisting:"When accounting for existing elements, adjust the arrow length to match the existing element"});var y="freedraw",b={simulatePressure:!1,baseSize:6,smoothing:.65,thinning:.3,streamline:.65},w=["baseSize"],_=(r={Overview:"See https://github.com/steveruizok/perfect-freehand#documentation"},(0,s.Z)(r,"Supported Properties",Object.keys(b).filter(function(e){return!w.includes(e)}).join(", ")),(0,s.Z)(r,"baseSize","Gets multiplied by the stroke width of the element to determine the final size. Note that with thinning higher, you may want to lower this, and vice versa."),r);g(y,b,_);var E="dragThreshold";g(E,{value:4},{dragThreshold:"The value in pixels that cursor needs move before dragging/resizing is applied"});var C="slate";g(C,{useSlate:!1},{useSlate:"Use Slate-based editor for the notepad"});var B=n(98568),I="elbow";g(I,{radius:B.fn,rectangleRadius:B.cH,arrowSnap:B.E1,portSnap:B.qj,shapeSnap:B.H,hoverShapeSnap:B.eA,guidelineSnap:B.UL},{radius:"The maximum radius of a line with elbow smoothing.",rectangleRadius:"The maximum radius of a rectangle with elbow corners.",arrowSnap:"The snapping threshold for arrows which are very nearly horizontal or vertical. Measured in pixels at 100% zoom.",portSnap:"The snapping threshold for arrows to bind to ports of shapes. Measured in pixels at 100% zoom.",shapeSnap:"Snapping threshold for arrows to bind to shape boundaries. Measured in pixels at 100% zoom.",hoverShapeSnap:"Snapping threshold for the cursor to bind to shape boundaries while hovering or creating an arrow. Measured in pixels at 100% zoom.",guidelineSnap:"The snapping threshold shapes to snap to guidelines of other shapes. Measured in pixels at 100% zoom."});var x="diagrams";g(x,{consoleLogRawGraphviz:!1,enableLineStraightening:!0},{consoleLogRawGraphviz:"Turns on graphviz to console logging",enableLineStraightening:"Use the line straightening algorithm? If disabled, shows raw graphviz lines"});var T="cardinalElbow";g(T,{minPortAttachmentLengthPx:18,defaultShapePadding:18,debugRoutingAlgorithmCosts:!1,defaultZeroGapValueForIntersections:-2},{minPortAttachmentLengthPx:"Minimum length in pixels of the first elbow",defaultShapePadding:"The distance away from a shape that the first elbow should be",debugRoutingAlgorithmCosts:"Debug flag to store bfs routing results in the shape data itself.",defaultZeroGapValueForIntersections:'The default value for the gap to place when drawing arrows that intersect with shapes, measured in pixels. Must be negative, and called "zero_gap" due to prior excalidraw implementation. Used to control how close arrowheads are to their attached shapes and to avoid arrowheads getting cut off.'});var S=n(32472),k="playgroundDevTools";g(k,{consoleLogAnalyticsEvents:!1,fpsTracker:"development"===S.Wi},{consoleLogAnalyticsEvents:"Should all analytics tracking events also be logged to console?",fpsTracker:"Should show the fps tracker component in top right?"});var N="language-server";g(N,{"sequence-diagram":!1,"entity-relationship-diagram":!1,"cloud-architecture-diagram":!1,"flowchart-diagram":!1,"custom-diagram":!1},{"sequence-diagram":"on/off for sequence diagrams","entity-relationship-diagram":"on/off for ERDs","cloud-architecture-diagram":"on/off for CADs","flowchart-diagram":"on/off for flow charts","custom-diagram":"on/off for custom"});var D=n(96670),O=n(87394),R={turn:5,lineCrossing:15,shareCellWithAnotherLine:5,shareTerminalWithAnotherLine:20,nonCardinalPortTerminal:15,nonPrimaryDirectionTerminal:5,cornerPortTerminal:5,containerCross:15,existingRouteDeviation:10,existingPortDeviation:10,bufferZone:3,lineOrTextBufferZone:1,requiredDirection:100,preferredDirection:10,debug:!1},F=(0,D.Z)((0,c.Z)({},Object.fromEntries(Object.entries(R).map(function(e){var t=(0,O.Z)(e,2),n=t[0],r=t[1];return[n,"Default: ".concat(r," (see routing/types.ts for details)")]}))),{debug:"If true, will log debug information and show the debug grid visualizer. KILLS PERF."}),L="diagramConnections";g(L,R,F);var P="keyboardNav";g(P,{penaltyForBeingOutOfLine:1,widthOfViability:1.5,preventDrift:!0,showHints:!0},{penaltyForBeingOutOfLine:"How much the rating of elements is penalized when they don't intersect a line originiating from the center of the selected element. Requires reload. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=0cqcelNW-30nA--SadCXdg",widthOfViability:"How far outside of the bounding box on the cross axis (up/down when navigating left/right) an element can be for it to be scored. 1 is 45\xb0, 0 means it must be inline, 1.5 is 60\xb0 out of line. Requires reload. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=egUDSEJyaxamG-_oJ5LENQ",preventDrift:"Whether or not it should attempt to prevent drift. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=LQAFj9vO9KB4NUafb-0ObQ",showHints:"Whether it should show indicators of which element will be selected on arrow press."});var U={KEYBOARD_NAV:P,DRAG_THRESHOLD:E,SPLINE_EDITOR:v,SMART_DUPLICATION:m,FREEDRAW:y,SLATE:C,ELBOW:I,DIAGRAM:x,CARDINAL_ELBOW:T,PLAYGROUND_DEV_TOOLS:k,LANGUAGE_SERVER:N,DIAGRAM_CONNECTIONS:L},M=n(9126)},9126:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(){}},67640:function(e,t,n){"use strict";var r,i,o,a,s,u,c=n(98788),l=n(22970),A=n(70621);function d(){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!u)throw Error("apiClient.init must be called before making an API call");return[4,u()];case 1:return e=n.sent(),t=new Headers({"Content-Type":"application/json; charset=UTF-8"}),e&&t.set("authorization","Bearer ".concat(e)),[2,t]}})})).apply(this,arguments)}function h(e,t){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(function(e,t){return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(e.status>=300&&e.status<400&&e.headers.has("Location"))return[2,e.headers.get("Location")];if(e.ok)return[3,2];return[4,y(e)];case 1:throw n.sent();case 2:if(204===e.status)return[2,void 0];switch(t){case"json":return[2,e.json()];case"text":return[2,e.text()];case"arraybuffer":return[2,e.arrayBuffer()];case"blob":case"document":return[2,e.blob()]}return[2]}})})).apply(this,arguments)}function g(){return(g=(0,c.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(e.ok)return[3,2];return[4,y(e)];case 1:throw n.sent();case 2:return[2,null===(t=e.body)||void 0===t?void 0:t.pipeThrough(new TextDecoderStream).getReader()]}})})).apply(this,arguments)}var v={init:function(e){u=e},get:(r=(0,c.Z)(function(e){var t,n,r,i=arguments;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},[4,d()];case 1:return n=o.sent(),[4,fetch(m(e),{method:"get",headers:n})];case 2:return[2,h(o.sent(),null!==(r=t.responseType)&&void 0!==r?r:"json")]}})}),function(e){return r.apply(this,arguments)}),post:(i=(0,c.Z)(function(e,t){var n,r,i,o=arguments;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},[4,d()];case 1:return r=a.sent(),[4,fetch(m(e),{method:"post",body:JSON.stringify(t),headers:r})];case 2:return[2,h(a.sent(),null!==(i=n.responseType)&&void 0!==i?i:"json")]}})}),function(e,t){return i.apply(this,arguments)}),put:(o=(0,c.Z)(function(e,t){var n,r,i,o=arguments;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},[4,d()];case 1:return r=a.sent(),[4,fetch(m(e),{method:"put",body:JSON.stringify(t),headers:r})];case 2:return[2,h(a.sent(),null!==(i=n.responseType)&&void 0!==i?i:"json")]}})}),function(e,t){return o.apply(this,arguments)}),delete:(a=(0,c.Z)(function(e){var t,n,r,i=arguments;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},[4,d()];case 1:return n=o.sent(),[4,fetch(m(e),{method:"delete",headers:n})];case 2:return[2,h(o.sent(),null!==(r=t.responseType)&&void 0!==r?r:"json")]}})}),function(e){return a.apply(this,arguments)}),stream:(s=(0,c.Z)(function(e,t){var n,r,i,o=arguments;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},[4,d()];case 1:return(r=a.sent()).append("Transfer-Encoding","chunked"),r.append("Connection","keep-alive"),r.append("Keep-Alive","timeout=5"),[4,fetch(m(e),{method:null!==(i=n.method)&&void 0!==i?i:"post",body:t?JSON.stringify(t):void 0,headers:r})];case 2:return[2,function(e){return g.apply(this,arguments)}(a.sent())]}})}),function(e,t){return s.apply(this,arguments)})};function m(e){return(e.startsWith("api")||e.startsWith("/"))&&console.warn('[makeApiUrl]: path should not start with "api" or "/"',{path:e}),new URL("".concat(window.location.origin,"/api/").concat(e)).toString()}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(function(e){var t,n,r,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:t=e.status,o.label=1;case 1:return o.trys.push([1,3,,5]),[4,e.clone().json()];case 2:return n=o.sent(),r=Object.assign({statusCode:t},n),[2,(0,A.Lr)(r)];case 3:return o.sent(),[4,e.text()];case 4:return i=o.sent(),[2,(0,A.Lr)({statusCode:t,message:i})];case 5:return[2]}})})).apply(this,arguments)}t.Z=v},25406:function(e,t,n){"use strict";n.d(t,{l:function(){return h}});var r=n(13706),i=n(98788),o=n(90581),a=n(21218),s=n(39309),u=n(22970),c=n(65633),l=n(14885),A=n(67640),d=n(11053),f=n(48005),h=new/*#__PURE__*/(function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){(0,o.Z)(this,n),(h=t.call(this,"custom-icons",{storeTeamSubscription:!0})).sanitizeSVG=function(e){return f.t.sanitizeString(e,window)},h.uploadCustomIcon=(l=(0,i.Z)(function(e){var t,n,r,i,o,a,s;return(0,u.__generator)(this,function(u){switch(u.label){case 0:t=e.file,n=e.teamId,r=e.onSuccess,i=e.onError,u.label=1;case 1:return u.trys.push([1,4,,5]),[4,t.text()];case 2:return o=u.sent(),a={label:(0,d.i)(t.name),aliases:[],teamId:n,svgString:o},[4,A.Z.post("customIcons",a)];case 3:return u.sent(),null==r||r(t.name),[3,5];case 4:return s=u.sent(),null==i||i(t.name,s),[3,5];case 5:return[2]}})}),function(e){return l.apply(this,arguments)});var e,a,s,l,h,p=(0,r.Z)(h);return h.updateIconName=(e=(0,i.Z)(function(e,t){var n,r,i;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return[4,A.Z.put("customIcons/".concat(e),{label:t})];case 1:return o.sent(),[4,p.fetchById(e)];case 2:return(r=null===(n=o.sent())||void 0===n?void 0:n.label)&&c.LD.has(r)&&(i=c.LD.get(r),c.LD.set(t,i),c.LD.delete(r)),[2]}})}),function(t,n){return e.apply(this,arguments)}),h.updateIconFile=(a=(0,i.Z)(function(e,t){var n,r;return(0,u.__generator)(this,function(i){switch(i.label){case 0:return[4,t.text()];case 1:return n=i.sent(),[4,f.t.validateAndSanitize(t,n,window)];case 2:return r=i.sent(),[4,A.Z.put("customIcons/".concat(e),{svgString:r})];case 3:return i.sent(),[2]}})}),function(e,t){return a.apply(this,arguments)}),h.deleteIcon=(s=(0,i.Z)(function(e){return(0,u.__generator)(this,function(t){switch(t.label){case 0:return[4,A.Z.delete("customIcons/".concat(e))];case 1:return t.sent(),[2]}})}),function(e){return s.apply(this,arguments)}),h}return n}(l.g))},48005:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r,i=n(90581),o=n(72813),a=/*#__PURE__*/function(){function e(){(0,i.Z)(this,e)}return e.validateAndSanitize=function(t,n,r){if(!e.ALLOWED_SVG_MIME_TYPES.has(t.type))throw Error("Invalid file type. Only SVG files are allowed.");if(t.size>e.MAX_SVG_SIZE)throw Error("SVG file size exceeds maximum allowed size of 1MB.");return e.sanitizeString(n,r)},e}();a.ALLOWED_SVG_MIME_TYPES=new Set(["image/svg+xml"]),a.MAX_SVG_SIZE=1048576,a.initDOMPurify=function(e){r=(0,o.default)(e)},a.getPurify=function(e){return r||a.initDOMPurify(e),r},a.sanitizeString=function(e,t){if(!e.includes("<svg"))throw Error("Invalid SVG file: Missing <svg> tag.");var n=a.getPurify(t);n.addHook("afterSanitizeAttributes",function(e){if("style"===e.nodeName){var t,n,r;((null===(t=e.textContent)||void 0===t?void 0:t.includes("@import"))||(null===(n=e.textContent)||void 0===n?void 0:n.includes("expression "))||(null===(r=e.textContent)||void 0===r?void 0:r.includes("url(")))&&(e.textContent=e.textContent.replace(/@import\s+[^;]+;?|url\s*\([^)]+\)|expression\s*\([^)]+\)/gi,""))}});var r=n.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},FORBID_TAGS:["script","iframe","link","object","embed"],FORBID_ATTR:["onerror","onload","onmouseover","onmouseout","onmousemove","onclick","onmousedown","onmouseup","onkeydown","onkeypress","onkeyup","ondblclick","onwheel","onshow","ontoggle"]});if(n.removeHook("afterSanitizeAttributes"),!r)throw Error("SVG sanitization failed.");return r}},11053:function(e,t,n){"use strict";n.d(t,{i:function(){return i},v:function(){return r}});var r=50,i=function(e){return e.trim().replace(/.svg$/,"").slice(0,r).toLowerCase().replace(/[^\w]+/gi,"-")}},17726:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r,i=n(98788),o=n(90581),a=n(47842),s=n(70865),u=n(96670),c=n(22970),l=n(12782),A=/*#__PURE__*/n.n(l),d=n(9850),f=/*#__PURE__*/n.n(d),h=n(70599),p=n(70621),g=n(88859),v=n(48860),m=n(96387),y=[h.M$.MonthlyAiDiagramApiCalls,h.M$.PremiumApiCalls],b=/*#__PURE__*/function(){function e(t){(0,o.Z)(this,e),this.dataFetcher=t}var t=e.prototype;return t.fetchTeam=function(e){return"string"==typeof e?this.dataFetcher.teams.fetchById(e):Promise.resolve(e)},t.getPlanFeaturesForTeam=function(e){var t,n,r,i=null!==(r=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==r?r:h.k9.Free,o=g.ZP[i];return(null==e?void 0:null===(n=e.plan)||void 0===n?void 0:n.overrides)?A()(f()(o.features),e.plan.overrides,_):o.features},t.getPlanFeaturesForUser=function(e,t){var n,r,i,o,a,s=null!==(a=null==t?void 0:null===(n=t.plan)||void 0===n?void 0:n.planType)&&void 0!==a?a:h.k9.Free,u=g.ZP[s],c=f()(u.features);return(null==t?void 0:null===(r=t.plan)||void 0===r?void 0:r.overrides)&&(c=A()(c,t.plan.overrides,_)),(null==t?void 0:null===(i=t.plan)||void 0===i?void 0:null===(o=i.userOverrides)||void 0===o?void 0:o[e])&&(c=A()(c,t.plan.userOverrides[e],_)),c},t.canAccessGatedFeature=function(e,t){var n=this;return(0,i.Z)(function(){var r;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return[4,n.fetchTeam(t)];case 1:return r=i.sent(),[2,n.getPlanFeaturesForTeam(r).gatedFeatures[e]]}})})()},t.validateGatedFeature=function(e,t){var n=this;return(0,i.Z)(function(){return(0,c.__generator)(this,function(r){switch(r.label){case 0:return[4,n.canAccessGatedFeature(e,t)];case 1:if(!r.sent())throw e===h.AC.PrivateWorkspaces?new p.WH("Your plan does not support private files.",{hint:"Upgrade your plan to create private files.",data:{featureName:e}}):new p.WH("Your plan does not support this feature.",{hint:"Upgrade your plan to continue.",data:{featureName:e}});return[2]}})})()},t.subscribeToGatedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).gatedFeatures[e])});return function(){i()}},t.subscribeToLimitedFeature=function(e,t,n){var r,i,o=this;if(!this.dataFetcher.workspaces.subscribeToCount||!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var a=e.featureName,s=e.userId,u=e.teamId,c=this.dataFetcher.teams.subscribeById(u,function(c){var l,A=o.getPlanFeaturesForTeam(c).featureLimits[a];if(!r||!(A<=r)){if(r=A,A===g.fY){t({current:0,limit:g.fY,allowed:!0,teamPlan:c.plan,hasFeatureAccess:!0});return}n&&t({current:NaN,limit:A,allowed:!1,hasFeatureAccess:A>0});var d=w[e.featureName]({teamId:u});switch(a){case h.M$.Workspaces:i=o.dataFetcher.workspaces.subscribeToCount(d,{limit:A+1},function(e){t({current:e,limit:A,allowed:e<A,hasFeatureAccess:!0})});break;case h.M$.AiDiagramAndOutlineCredits:case h.M$.PremiumCredits:case h.M$.MonthlyAiDiagramApiCalls:case h.M$.PremiumApiCalls:i=o.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth({teamId:u,isFree:(null===(l=c.plan)||void 0===l?void 0:l.planType)===h.k9.Free},function(e){t(o._checkCredit(a,s,e,c,A))});break;case h.M$.CustomIcons:i=o.dataFetcher.customIcons.subscribeToCount(d,{limit:A+1},function(e){t({current:e,limit:A,allowed:e<A,hasFeatureAccess:A>0})})}}});return function(){c(),null==i||i()}},t._checkCredit=function(e,t,n,r,i){var o,a,s,u,c,l=null!=t&&!y.includes(e),A=l?null===(o=n.actions.perUser)||void 0===o?void 0:null===(a=o[t])||void 0===a?void 0:a[e]:void 0,d=n.actions.teamWide[e],f=null!==(s=l?null==A?void 0:A.total:null==d?void 0:d.total)&&void 0!==s?s:0,h=null!==(u=r.plan)&&void 0!==u?u:{},p=h.payAsYouGoEnabled,g=void 0!==p&&p,v=h.maxMonthlySpend,b=void 0===v?0:v,w=(null!==(c=n.totalSpendInCents)&&void 0!==c?c:0)/100,_=(0,m.ii)(e)/100,E=g&&w+_>b,C=f<i||g&&!E;return g?{current:f,limit:i,allowed:C,isPayAsYouGoLimitExceeded:E,currentSpend:w,maxSpend:b,hasFeatureAccess:!0}:{current:f,limit:i,allowed:C,hasFeatureAccess:i>0}},t.checkLimitedFeature=function(e){var t=this;return(0,i.Z)(function(){var n,r,i,o,a,l,A,d,f,p,m,y,b,_,E;return(0,c.__generator)(this,function(c){switch(c.label){case 0:return r=e.featureName,i=e.teamArg,[4,t.fetchTeam(i)];case 1:if(o=c.sent(),(a=t.getPlanFeaturesForTeam(o).featureLimits[r])===g.fY||a===v.DL)return[2,{current:0,limit:g.fY,allowed:!0,teamPlan:o.plan,hasFeatureAccess:!0}];if(0===a&&!(null===(n=o.plan)||void 0===n?void 0:n.payAsYouGoEnabled))return[2,{current:0,limit:0,allowed:!1,teamPlan:o.plan,hasFeatureAccess:!1}];switch(l=o.id,A=w[r]({teamId:l}),d=!1,f=!1,m={},r){case h.M$.Workspaces:return[3,2];case h.M$.CustomIcons:return[3,4];case h.M$.MonthlyAiDiagramApiCalls:case h.M$.PremiumApiCalls:case h.M$.AiDiagramAndOutlineCredits:case h.M$.PremiumCredits:return[3,6]}return[3,8];case 2:return[4,t.dataFetcher.workspaces.count(A,{limit:a+1})];case 3:case 5:return d=(p=c.sent())<a,f=!0,[3,8];case 4:return[4,t.dataFetcher.customIcons.count(A,{limit:a+1})];case 6:return[4,t.dataFetcher.aggregateTeamUsage.fetchByTeamAndMonth({teamId:l,isFree:(null===(y=o.plan)||void 0===y?void 0:y.planType)===h.k9.Free})];case 7:return _=c.sent(),d=(E=t._checkCredit(r,e.userId,_,o,a)).allowed,p=E.current,f=E.hasFeatureAccess,(null===(b=o.plan)||void 0===b?void 0:b.payAsYouGoEnabled)&&Object.assign(m,{currentSpend:E.currentSpend,maxSpend:E.maxSpend,isPayAsYouGoLimitExceeded:E.isPayAsYouGoLimitExceeded}),[3,8];case 8:return[2,(0,u.Z)((0,s.Z)({},m),{allowed:d,current:p,limit:a,teamPlan:o.plan,hasFeatureAccess:f})]}})})()},t.validateLimitedFeature=function(e){var t=this;return(0,i.Z)(function(){var n;return(0,c.__generator)(this,function(r){switch(r.label){case 0:return[4,t.checkLimitedFeature(e)];case 1:if((n=r.sent()).current<n.limit)return[2,{allowed:!0,isPayAsYouGo:!1}];if(!n.allowed)throw function(e,t){var n=t.limit,r=t.current,i=t.isPayAsYouGoLimitExceeded,o={limit:n,current:r,featureName:e,currentSpend:t.currentSpend,maxSpend:t.maxSpend};if(i)return new p.WH("You have reached your team's monthly usage-based spending limit.",{hint:"Increase your team's monthly spending limit to continue",data:o});switch(e){case h.M$.Workspaces:return new p.WH("You have reached your plan's file limit.",{hint:"Upgrade to a paid plan to create more files.",data:o});case h.M$.AiDiagramAndOutlineCredits:return new p.WH("You have reached your plan's AI credit limit.",{hint:"Upgrade your plan or enable usage-based pricing to continue.",data:o});case h.M$.PremiumCredits:return new p.WH("You have reached your plan's premium credits limit.",{hint:"Upgrade your plan or enable usage-based pricing to continue.",data:o});case h.M$.MonthlyAiDiagramApiCalls:case h.M$.PremiumApiCalls:var a=0===n?"Eraser API access require usage-based pricing to be enabled.":"You have reached your plan's API call limit for AI diagrams.";return new p.WH(a+"You can enable it here: https://app.eraser.io/dashboard?settings=plans",{data:o});default:return new p.WH("Your are over your plan limit.",{hint:"Upgrade your plan to continue.",data:o})}}(e.featureName,n);return[2,{allowed:!0,isPayAsYouGo:!0,currentSpend:n.currentSpend,maxSpend:n.maxSpend}]}})})()},t.getParametersForFeature=function(e,t){var n=this;return(0,i.Z)(function(){var r,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:if(!t)return[3,2];return[4,n.fetchTeam(t)];case 1:return i=o.sent(),[3,3];case 2:i={plan:{planType:h.k9.Free}},o.label=3;case 3:return r=i,[2,n.getPlanFeaturesForTeam(r).featureParams[e]]}})})()},t.subscribeToParametrizedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).featureParams[e])});return function(){i()}},t.subscribeToTeamUsage=function(e,t){if(!this.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth)throw Error("Subscriptions not enabled");return this.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth({teamId:e,isFree:!1},t)},e}(),w=(r={},(0,a.Z)(r,h.M$.Workspaces,function(e){return{teamId:e.teamId,isPrivate:!1,isArchived:!1,isTemplate:!1,gitHubRepository:null}}),(0,a.Z)(r,h.M$.CustomIcons,function(e){return e}),(0,a.Z)(r,h.M$.AiDiagramAndOutlineCredits,function(){return{}}),(0,a.Z)(r,h.M$.PremiumCredits,function(){return{}}),(0,a.Z)(r,h.M$.MonthlyAiDiagramApiCalls,function(){return{}}),(0,a.Z)(r,h.M$.PremiumApiCalls,function(){return{}}),r);function _(e,t,n){if("featureLimits"===n)return A()(e,t,E)}function E(e,t){if("number"==typeof e&&"number"==typeof t&&e>t)return e}},96387:function(e,t,n){"use strict";n.d(t,{Cl:function(){return s},UG:function(){return c},aR:function(){return l},ii:function(){return u}});var r=n(50930),i=n(12782),o=/*#__PURE__*/n.n(i);n(70599),n(94130);var a=n(48860);function s(){return new Date().toISOString().slice(0,7)}function u(e){var t;return null!==(t=a.uJ[e])&&void 0!==t?t:0}function c(e){var t=e.teamId,n=e.month,r=void 0===n?s():n;return{id:"".concat(t,"-").concat(r),teamId:t,month:r,totalSpendInCents:0,actions:{teamWide:{},perUser:{}},updatedAt:Date.now()}}function l(e,t){var n=(0,r.Z)(t).sort(function(e,t){return new Date(e.month).valueOf()-new Date(t.month).valueOf()}),i=n.shift();if(!i)return c({teamId:e});var a=!0,s=!1,u=void 0;try{for(var l,A=n[Symbol.iterator]();!(a=(l=A.next()).done);a=!0){var d,f=l.value;i.month=f.month,i.totalSpendInCents+=null!==(d=f.totalSpendInCents)&&void 0!==d?d:0,o()(i.actions,f.actions,function(e,t){if("number"==typeof e||"number"==typeof t)return(null!=e?e:0)+(null!=t?t:0)})}}catch(e){s=!0,u=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw u}}return i}},98627:function(e,t,n){"use strict";n.d(t,{j:function(){return g}});var r=n(17726),i=n(98788),o=n(70865),a=n(96670),s=n(22970),u=n(34899),c=n(64920),l=n(10097),A=n(89960),d=n(25406),f=n(96387),h={teams:{},paywallUsage:{},getTeamRef:function(e){return l.RZ.collection("teams").doc(e)},getWorkspacesRef:function(){return l.RZ.collection("workspaces")},getPaywallUsageRef:function(){return l.RZ.collection("paywall-event-usage")},fetchTeam:function(e){return(0,i.Z)(function(){var t,n;return(0,s.__generator)(this,function(r){return(t=this,null==(n=this.teams[e])?void 0:n.team)?[2,Promise.resolve(n.team)]:[2,new Promise(function(n){var r=t.subscribeToTeam(e,function(e){r(),n(e)})})]})}).apply(this)},_createTeamSubscription:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this;return this.getTeamRef(e).onSnapshot(function(t){var r=t.exists?(0,a.Z)((0,o.Z)({},t.data()),{id:e}):void 0;if(!r){console.warn("Team not found",e);return}n.teams[e].team=r,n.teams[e].cbs.forEach(function(e){return e(r)})},function(r){if(t>5e3){var i=Error("Could not subscribe to team: ".concat(r.message));i.stack=r.stack,(0,A.T)(i);return}setTimeout(function(){n._createTeamSubscription(e,2*t)},t)})},subscribeToTeam:function(e,t){var n=this;e in this.teams||(this._createTeamSubscription(e),this.teams[e]={cbs:[],team:void 0});var r=this.teams[e],i=r.cbs,o=r.team;return i.push(t),o&&t(o),function(){var r,i=n.teams[e];i&&(i.cbs=null===(r=i.cbs)||void 0===r?void 0:r.filter(function(e){return e!==t}))}},subscribeToWorkspaceCount:function(e,t,n){return(0,u.J)(this.getWorkspacesRef(),e,t).onSnapshot(function(e){n(e.size)},console.error)},countWorkspaces:function(e,t){return(0,i.Z)(function(){return(0,s.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,u.J)(this.getWorkspacesRef(),e,t).get()];case 1:return[2,n.sent().size]}})}).apply(this)},countCustomIcons:function(e,t){return(0,i.Z)(function(){var n;return(0,s.__generator)(this,function(r){return n=this,[2,new Promise(function(r){n.subscribeToCustomIconsCount(e,null!=t?t:{limit:1e4},function(e){r(e)})})]})}).apply(this)},subscribeToCustomIconsCount:function(e,t,n){return d.l.subscribeByTeam(e.teamId,function(t){n((0,c.o)(t,e).length)})},fetchAggregateTeamUsage:function(e){return(0,i.Z)(function(){var t,n,r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return t=e.teamId,r=void 0===(n=e.month)?(0,f.Cl)():n,[4,this.getAggregateTeamUsageRef().doc("".concat(t,"-").concat(r)).get()];case 1:return[2,i.sent().data()]}})}).apply(this)},subscribeToAggregateTeamUsage:function(e,t){var n=e.teamId,r=e.month,i=void 0===r?(0,f.Cl)():r;return e.isFree?this.getAggregateTeamUsageRef().where("teamId","==",n).onSnapshot(function(e){t((0,f.aR)(n,e.docs.map(function(e){return e.data()})))}):this.getAggregateTeamUsageRef().doc("".concat(n,"-").concat(i)).onSnapshot(function(e){t(e.data())},function(){t((0,f.UG)({teamId:n,month:i}))})},getAggregateTeamUsageRef:function(){return l.RZ.collection("aggregate-team-usage")}},p={teams:{fetchById:h.fetchTeam.bind(h),subscribeById:h.subscribeToTeam.bind(h)},workspaces:{count:h.countWorkspaces.bind(h),subscribeToCount:h.subscribeToWorkspaceCount.bind(h)},customIcons:{count:h.countCustomIcons.bind(h),subscribeToCount:h.subscribeToCustomIconsCount.bind(h)},aggregateTeamUsage:{fetchByTeamAndMonth:h.fetchAggregateTeamUsage.bind(h),subscribeByTeamAndMonth:h.subscribeToAggregateTeamUsage.bind(h)}},g=new r.Z(p)},15765:function(e,t,n){"use strict";n.d(t,{Bv:function(){return r.Z},Q6:function(){return i.Z},ZP:function(){return a},oj:function(){return o}});var r=n(57339),i=n(71505);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return void 0===e||isNaN(e)?"?":e.toFixed(t)}function a(e){return void 0===e||isNaN(e)?0:e}},71505:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784),i=n(98627);function o(e,t){var n=(0,r.useState)(!1),o=n[0],a=n[1];return(0,r.useEffect)(function(){if(!t){a(!1);return}return a(!1),i.j.subscribeToGatedFeature(e,t,a)},[e,t]),o}},57339:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784),i=n(57695);function o(e){var t=e.featureName,n=e.userId,o=e.teamId,a=e.immediateCallbackWithLimit,s=(0,r.useState)(void 0),u=s[0],c=s[1],l=(0,i.Su)().featureAccessService;return(0,r.useEffect)(function(){if(void 0!==u&&c(void 0),o)return l.subscribeToLimitedFeature({featureName:t,userId:n,teamId:o},c,a)},[t,o,n]),u}},48860:function(e,t,n){"use strict";n.d(t,{DL:function(){return a},OX:function(){return u},uJ:function(){return s}});var r,i=n(47842),o=n(70599),a=999,s=(r={},(0,i.Z)(r,o.M$.AiDiagramAndOutlineCredits,20),(0,i.Z)(r,o.M$.PremiumCredits,60),(0,i.Z)(r,o.M$.MonthlyAiDiagramApiCalls,40),(0,i.Z)(r,o.M$.PremiumApiCalls,120),r);function u(e){return!!e&&e in s}},88859:function(e,t,n){"use strict";n.d(t,{fY:function(){return h}});var r,i,o,a,s,u,c,l,A,d=n(47842),f=n(70599),h=1/0,p=(A={},(0,d.Z)(A,f.k9.Free,{type:f.k9.Free,label:"Free",features:{gatedFeatures:(r={},(0,d.Z)(r,f.AC.ApiAccess,!1),(0,d.Z)(r,f.AC.NoLinkAccess,!1),(0,d.Z)(r,f.AC.PrivateWorkspaces,!1),(0,d.Z)(r,f.AC.AnonymousCollaboration,!1),(0,d.Z)(r,f.AC.SSO,!1),(0,d.Z)(r,f.AC.CustomAiContext,!1),(0,d.Z)(r,f.AC.AiImport,!0),(0,d.Z)(r,f.AC.ExportPDF,!1),(0,d.Z)(r,f.AC.ExportQualityControls,!1),(0,d.Z)(r,f.AC.ExportWatermarkToggle,!1),r),featureLimits:(i={},(0,d.Z)(i,f.M$.Workspaces,3),(0,d.Z)(i,f.M$.CustomIcons,0),(0,d.Z)(i,f.M$.AiDiagramAndOutlineCredits,4),(0,d.Z)(i,f.M$.PremiumCredits,1),(0,d.Z)(i,f.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(i,f.M$.PremiumApiCalls,0),i),featureParams:(0,d.Z)({},f.h8.VersionHistory,{keepVersionsDays:7})}}),(0,d.Z)(A,f.k9.Pro,{type:f.k9.Pro,label:"Starter",features:{gatedFeatures:(o={},(0,d.Z)(o,f.AC.ApiAccess,!0),(0,d.Z)(o,f.AC.ExportPDF,!0),(0,d.Z)(o,f.AC.NoLinkAccess,!0),(0,d.Z)(o,f.AC.PrivateWorkspaces,!0),(0,d.Z)(o,f.AC.AnonymousCollaboration,!0),(0,d.Z)(o,f.AC.SSO,!1),(0,d.Z)(o,f.AC.CustomAiContext,!1),(0,d.Z)(o,f.AC.AiImport,!0),(0,d.Z)(o,f.AC.ExportQualityControls,!0),(0,d.Z)(o,f.AC.ExportWatermarkToggle,!0),o),featureLimits:(a={},(0,d.Z)(a,f.M$.CustomIcons,20),(0,d.Z)(a,f.M$.Workspaces,h),(0,d.Z)(a,f.M$.AiDiagramAndOutlineCredits,30),(0,d.Z)(a,f.M$.PremiumCredits,10),(0,d.Z)(a,f.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(a,f.M$.PremiumApiCalls,0),a),featureParams:(0,d.Z)({},f.h8.VersionHistory,{keepVersionsDays:90})}}),(0,d.Z)(A,f.k9.Business,{type:f.k9.Business,label:"Business",features:{gatedFeatures:(s={},(0,d.Z)(s,f.AC.ApiAccess,!0),(0,d.Z)(s,f.AC.ExportPDF,!0),(0,d.Z)(s,f.AC.NoLinkAccess,!0),(0,d.Z)(s,f.AC.PrivateWorkspaces,!0),(0,d.Z)(s,f.AC.AnonymousCollaboration,!0),(0,d.Z)(s,f.AC.SSO,!0),(0,d.Z)(s,f.AC.CustomAiContext,!0),(0,d.Z)(s,f.AC.AiImport,!0),(0,d.Z)(s,f.AC.ExportQualityControls,!0),(0,d.Z)(s,f.AC.ExportWatermarkToggle,!0),s),featureLimits:(u={},(0,d.Z)(u,f.M$.CustomIcons,100),(0,d.Z)(u,f.M$.Workspaces,h),(0,d.Z)(u,f.M$.AiDiagramAndOutlineCredits,200),(0,d.Z)(u,f.M$.PremiumCredits,50),(0,d.Z)(u,f.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(u,f.M$.PremiumApiCalls,0),u),featureParams:(0,d.Z)({},f.h8.VersionHistory,{keepVersionsDays:90})}}),(0,d.Z)(A,f.k9.Enterprise,{type:f.k9.Enterprise,label:"Enterprise",features:{gatedFeatures:(c={},(0,d.Z)(c,f.AC.ApiAccess,!0),(0,d.Z)(c,f.AC.ExportPDF,!0),(0,d.Z)(c,f.AC.NoLinkAccess,!0),(0,d.Z)(c,f.AC.PrivateWorkspaces,!0),(0,d.Z)(c,f.AC.AnonymousCollaboration,!0),(0,d.Z)(c,f.AC.SSO,!0),(0,d.Z)(c,f.AC.CustomAiContext,!0),(0,d.Z)(c,f.AC.AiImport,!0),(0,d.Z)(c,f.AC.ExportQualityControls,!0),(0,d.Z)(c,f.AC.ExportWatermarkToggle,!0),c),featureLimits:(l={},(0,d.Z)(l,f.M$.CustomIcons,100),(0,d.Z)(l,f.M$.Workspaces,h),(0,d.Z)(l,f.M$.AiDiagramAndOutlineCredits,500),(0,d.Z)(l,f.M$.PremiumCredits,500),(0,d.Z)(l,f.M$.MonthlyAiDiagramApiCalls,200),(0,d.Z)(l,f.M$.PremiumApiCalls,25),l),featureParams:(0,d.Z)({},f.h8.VersionHistory,{keepVersionsDays:90})}}),A);t.ZP=p},10097:function(e,t,n){"use strict";n.d(t,{EK:function(){return fH},l2:function(){return fL},I8:function(){return fP},Fs:function(){return fM},ZP:function(){return fQ},RZ:function(){return fU},wk:function(){return fj},tO:function(){return fZ}});var r,i,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S=n(35532),k=n(66140),N=n(72475);(function(){var e,t,r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},o=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function a(e){var t,n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:(t=0,function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}}!function(e,t){if(t){var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];a in n||(n[a]={}),n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{switch(typeof e){case"object":var n=null!=e;break;case"function":n=!0;break;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){this.g(e);return}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)})},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t(function(e,t){var o=[],a=0;do o.push(void 0),a++,r(i.value).Ra(function(t){return function(n){o[t]=n,0==--a&&e(o)}}(o.length-1),t),i=n.next();while(!i.done)})},t});var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function A(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function d(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function h(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function B(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function I(e){return e}function x(e,t,n){this.code=S+e,this.message=t||k[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new x(t.substring(S.length),e.message,e.serverResponse):null}B(x,Error),x.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},x.prototype.toJSON=function(){return this.w()};var S="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function F(e){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");F.call(this,n+e[r])}function P(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function U(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function M(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function j(){this.b=this.a=null}oK=O("__EID__")?"__EID__":void 0,B(F,Error),F.prototype.name="CustomError",B(L,F),L.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Z=new U(function(){return new Q},function(e){e.reset()});function Q(){this.next=this.b=this.a=null}j.prototype.add=function(e,t){var n=Z.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function W(e,t){return 0<=H(e,t)}function q(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){var n=0;!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function $(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,et=/</g,en=/>/g,er=/"/g,ei=/'/g,eo=/\x00/g,ea=/[\x00&<>"']/;function es(e,t){return -1!=e.indexOf(t)}function eu(e,t){return e<t?-1:e>t?1:0}e:{var ec=u.navigator;if(ec){var el=ec.userAgent;if(el){oG=el;break e}}oG=""}function eA(e){return es(oG,e)}function ed(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ef(e){for(var t in e)return!1;return!0}function eh(e){var t,n={};for(t in e)n[t]=e[t];return n}var ep="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ep.length;o++)n=ep[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ev(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function em(e,t){this.a=e===ew&&t||"",this.b=eb}function ey(e){return e instanceof em&&e.constructor===em&&e.b===eb?e.a:(P("expected object of type Const, got '"+e+"'"),"type_error:Const")}em.prototype.ta=!0,em.prototype.sa=function(){return this.a},em.prototype.toString=function(){return"Const{"+this.a+"}"};var eb={},ew={};function e_(){if(void 0===oz){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(e){u.console&&u.console.error(e.message)}oz=e}else oz=e}return oz}function eE(e,t){this.a=t===eT?e:""}function eC(e){return e instanceof eE&&e.constructor===eE?e.a:(P("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function eB(e,t){var n,r,i=ey(e);if(!ex.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return n=e=i.replace(eI,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof em?ey(e):encodeURIComponent(String(e))}),new eE(n=(r=e_())?r.createScriptURL(n):n,eT)}eE.prototype.ta=!0,eE.prototype.sa=function(){return this.a.toString()},eE.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var eI=/%{(\w+)}/g,ex=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,eT={};function eS(e,t){this.a=t===eL?e:""}function ek(e){return e instanceof eS&&e.constructor===eS?e.a:(P("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}eS.prototype.ta=!0,eS.prototype.sa=function(){return this.a.toString()},eS.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var eN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,eD=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,eO=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function eR(e){if(e instanceof eS)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),eO.test(e))e=new eS(e,eL);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(eD);e=t&&eN.test(t[1])?new eS(e,eL):null}return e}function eF(e){return e instanceof eS?e:(e="object"==typeof e&&e.ta?e.sa():String(e),eO.test(e)||(e="about:invalid#zClosurez"),new eS(e,eL))}var eL={},eP=new eS("about:invalid#zClosurez",eL);function eU(e,t,n){this.a=n===eM?e:""}eU.prototype.ta=!0,eU.prototype.sa=function(){return this.a.toString()},eU.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var eM={};function ej(e,t,n,r){return e=e instanceof eS?e:eF(e),t=t||u,n=n instanceof em?ey(n):n||"",t.open(ek(e),n,r,void 0)}function eZ(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function eQ(e){return ea.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(et,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(en,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(er,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ei,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(eo,"&#0;"))),e}function eH(e){return eH[" "](e),e}eH[" "]=d;var eV=eA("Opera"),eK=eA("Trident")||eA("MSIE"),eG=eA("Edge"),ez=eG||eK,eW=eA("Gecko")&&!(es(oG.toLowerCase(),"webkit")&&!eA("Edge"))&&!(eA("Trident")||eA("MSIE"))&&!eA("Edge"),eq=es(oG.toLowerCase(),"webkit")&&!eA("Edge");function eY(){var e=u.document;return e?e.documentMode:void 0}e:{var e$,eX="",eJ=(e$=oG,eW?/rv:([^\);]+)(\)|;)/.exec(e$):eG?/Edge\/([\d\.]+)/.exec(e$):eK?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e$):eq?/WebKit\/(\S+)/.exec(e$):eV?/(?:Version)[ \/]?(\S+)/.exec(e$):void 0);if(eJ&&(eX=eJ?eJ[1]:""),eK){var e0=eY();if(null!=e0&&e0>parseFloat(eX)){oW=String(e0);break e}}oW=eX}var e1={};function e2(e){var t;return t=function(){for(var t=0,n=J(String(oW)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=eu(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||eu(0==a[2].length,0==s[2].length)||eu(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t},Object.prototype.hasOwnProperty.call(e1,e)?e1[e]:e1[e]=t(e)}var e4=u.document&&eK&&(eY()||parseInt(oW,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var e3=!eK||9<=Number(e4);function e5(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function e6(e,t){ed(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:e8.hasOwnProperty(n)?e.setAttribute(e8[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var e8={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function e9(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function e7(e){u.setTimeout(function(){throw e},0)}function te(e,t){o$||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);o$=function(){e.then(tr)}}else o$=function(){!p(u.setImmediate)||u.Window&&u.Window.prototype&&!eA("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(oY||(oY=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!eA("Presto")&&(e=function(){var e=e9(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_(function(e){("*"==r||e.origin==r)&&e.data==n&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!eA("Trident")&&!eA("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),oY(tr)):u.setImmediate(tr)}}(),tt||(o$(),tt=!0),tn.add(e,t)}var tt=!1,tn=new j;function tr(){for(var e,t;e=null,tn.a&&(e=tn.a,tn.a=tn.a.next,tn.a||(tn.b=null),e.next=null),t=e;){try{t.a.call(t.b)}catch(e){e7(e)}M(Z,t)}tt=!1}function ti(e,t){if(this.a=to,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,function(e){tv(n,ta,e)},function(e){if(!(e instanceof tC))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}tv(n,ts,e)})}catch(e){tv(this,ts,e)}}var to=0,ta=2,ts=3;function tu(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}tu.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var tc=new U(function(){return new tu},function(e){e.reset()});function tl(e,t,n){var r=tc.get();return r.g=e,r.b=t,r.f=n,r}function tA(e){if(e instanceof ti)return e;var t=new ti(d);return tv(t,ta,e),t}function td(e){return new ti(function(t,n){n(e)})}function tf(e,t,n){tm(e,t,n,null)||te(E(t,e))}function th(e){return new ti(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)tf(e[o],E(i,o,!0),E(i,o,!1));else t(r)})}function tp(e,t){e.b||e.a!=ta&&e.a!=ts||ty(e),e.f?e.f.next=t:e.b=t,e.f=t}function tg(e,t,n,r){var i=tl(null,null,null);return i.a=new ti(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof tC?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,tp(e,i),i.a}function tv(e,t,n){var r;e.a==to&&(e===n&&(t=ts,n=TypeError("Promise cannot resolve to itself")),e.a=1,tm(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,ty(e),t!=ts||n instanceof tC||(r=n,e.g=!0,te(function(){e.g&&tE.call(null,r)}))))}function tm(e,t,n,r){if(e instanceof ti)return tp(e,tl(t||d,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(i,e))},o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function ty(e){e.h||(e.h=!0,te(e.gc,e))}function tb(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function tw(e,t,n,r){if(n==ts&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,t_(t,n,r);else try{t.c?t.g.call(t.f):t_(t,n,r)}catch(e){tE.call(null,e)}M(tc,t)}function t_(e,t,n){t==ta?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ti.prototype.then=function(e,t,n){return tg(this,p(e)?e:null,p(t)?t:null,n)},ti.prototype.$goog_Thenable=!0,(r=ti.prototype).oa=function(e,t){return(e=tl(e,e,t)).c=!0,tp(this,e),this},r.o=function(e,t){return tg(this,null,e,t)},r.cancel=function(e){if(this.a==to){var t=new tC(e);te(function(){(function e(t,n){if(t.a==to){if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==to&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):tb(r),tw(r,o,ts,n)))}t.c=null}else tv(t,ts,n)}})(this,t)},this)}},r.$c=function(e){this.a=to,tv(this,ta,e)},r.ad=function(e){this.a=to,tv(this,ts,e)},r.gc=function(){for(var e;e=tb(this);)tw(this,e,this.a,this.i);this.h=!1};var tE=e7;function tC(e){F.call(this,e)}function tB(){0!=tI&&(tx[v(this)]=this),this.ya=this.ya,this.pa=this.pa}B(tC,F),tC.prototype.name="cancel";var tI=0,tx={};function tT(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=tI)){var t=v(e);if(0!=tI&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tx[t]}}tB.prototype.ya=!1,tB.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var tS=Object.freeze||function(e){return e},tk=!eK||9<=Number(e4),tN=eK&&!e2("9"),tD=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",d,t),u.removeEventListener("test",d,t)}catch(e){}return e}();function tO(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function tR(e,t){if(tO.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(eW){e:{try{eH(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:tF[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}tO.prototype.preventDefault=function(){this.defaultPrevented=!0},B(tR,tO);var tF=tS({2:"touch",3:"pen",4:"mouse"});tR.prototype.preventDefault=function(){tR.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,tN)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},tR.prototype.g=function(){return this.a};var tL="closure_listenable_"+(1e6*Math.random()|0),tP=0;function tU(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tP,this.wa=this.Qa=!1}function tM(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tj(e){this.src=e,this.a={},this.b=0}function tZ(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(tM(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function tQ(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&!!n==o.capture&&o.Wa==r)return i}return -1}tj.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=tQ(e,t,r,i);return -1<a?(t=e[a],n||(t.Qa=!1)):((t=new tU(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var tH="closure_lm_"+(1e6*Math.random()|0),tV={},tK=0;function tG(e,t,n,r,i){if(r&&r.once)tW(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)tG(e,t[o],n,r,i);else n=t4(n),e&&e[tL]?t5(e,t,n,g(r)?!!r.capture:!!r,i):tz(e,t,n,!1,r,i)}function tz(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s=g(i)?!!i.capture:!!i,u=t1(e);if(u||(e[tH]=u=new tj(e)),!(n=u.add(t,n,r,s,o)).proxy){if(r=a=tk?function(e){return t0.call(a.src,a.listener,e)}:function(e){if(!(e=t0.call(a.src,a.listener,e)))return e},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tD||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(t$(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");tK++}}function tW(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)tW(e,t[o],n,r,i);else n=t4(n),e&&e[tL]?t6(e,t,n,g(r)?!!r.capture:!!r,i):tz(e,t,n,!0,r,i)}function tq(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)tq(e,t[o],n,r,i);else(r=g(r)?!!r.capture:!!r,n=t4(n),e&&e[tL])?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=tQ(o=e.a[t],n,r,i))&&(tM(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=t1(e))&&(t=e.a[t.toString()],e=-1,t&&(e=tQ(t,n,r,i)),(n=-1<e?t[e]:null)&&tY(n))}function tY(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tL])tZ(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(t$(n),r):t.addListener&&t.removeListener&&t.removeListener(r),tK--,(n=t1(t))?(tZ(n,e),0==n.b&&(n.src=null,t[tH]=null)):tM(e)}}}function t$(e){return e in tV?tV[e]:tV[e]="on"+e}function tX(e,t,n,r){var i=!0;if((e=t1(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=tJ(o,r),i=i&&!1!==o)}return i}function tJ(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&tY(e),n.call(r,t)}function t0(e,t){if(e.wa)return!0;if(!tk){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new tR(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=tX(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=tX(r[i],e,!1,t),n=n&&o}return n}return tJ(e,new tR(t,this))}function t1(e){return(e=e[tH])instanceof tj?e:null}var t2="__closure_events_fn_"+(1e9*Math.random()>>>0);function t4(e){return p(e)?e:(e[t2]||(e[t2]=function(t){return e.handleEvent(t)}),e[t2])}function t3(){tB.call(this),this.v=new tj(this),this.bc=this,this.hb=null}function t5(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function t6(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function t8(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&tZ(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function t9(e,t,n){if(p(e))n&&(e=_(e,n));else if(e&&"function"==typeof e.handleEvent)e=_(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function t7(e){var t=null;return new ti(function(n,r){-1==(t=t9(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw u.clearTimeout(t),e})}function ne(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function nt(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(h(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){if(e instanceof nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}}function nr(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ni(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)ni(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ni(e,t){return Object.prototype.hasOwnProperty.call(e,t)}B(t3,tB),t3.prototype[tL]=!0,t3.prototype.addEventListener=function(e,t,n,r){tG(this,e,t,n,r)},t3.prototype.removeEventListener=function(e,t,n,r){tq(this,e,t,n,r)},t3.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new tO(e,n);else if(e instanceof tO)e.target=e.target||n;else{var i=e;eg(e=new tO(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=t8(a,r,!0,e)&&i}if(i=t8(a=e.b=n,r,!0,e)&&i,i=t8(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=t8(a=e.b=t[o],r,!1,e)&&i;return i},t3.prototype.Da=function(){if(t3.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tM(n[r]);delete t.a[e],t.b--}}this.hb=null},(r=nn.prototype).X=function(){nr(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.Y=function(){return nr(this),this.a.concat()},r.clear=function(){this.b={},this.c=this.a.length=0},r.get=function(e,t){return ni(this.b,e)?this.b[e]:t},r.set=function(e,t){ni(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var no=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function na(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof na?(this.i=void 0!==t?t:e.i,ns(this,e.c),this.l=e.l,this.a=e.a,nu(this,e.g),this.f=e.f,nc(this,nT(e.b)),this.h=e.h):e&&(n=String(e).match(no))?(this.i=!!t,ns(this,n[1]||"",!0),this.l=nh(n[2]||""),this.a=nh(n[3]||"",!0),nu(this,n[4]),this.f=nh(n[5]||"",!0),nc(this,n[6]||"",!0),this.h=nh(n[7]||"")):(this.i=!!t,this.b=new n_(null,this.i))}function ns(e,t,n){e.c=n?nh(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function nu(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function nc(e,t,n){var r,i;t instanceof n_?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(nE(r),r.c=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(nB(this,t),nx(this,n,e))},r)),r.f=i):(n||(t=np(t,nb)),e.b=new n_(t,e.i))}function nl(e,t,n){e.b.set(t,n)}function nA(e,t){return e.b.get(t)}function nd(e){return e instanceof na?new na(e):new na(e,void 0)}function nf(e,t,n,r){var i=new na(null,void 0);return e&&ns(i,e),t&&(i.a=t),n&&nu(i,n),r&&(i.f=r),i}function nh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function np(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ng),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ng(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}na.prototype.toString=function(){var e=[],t=this.c;t&&e.push(np(t,nv,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(np(t,nv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(np(n,"/"==n.charAt(0)?ny:nm,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",np(n,nw)),e.join("")},na.prototype.resolve=function(e){var t=new na(this),n=!!e.c;n?ns(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)nu(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0)){if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}}if(".."==(i=r)||"."==i)r="";else if(es(i,"./")||es(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?nc(t,nT(e.b)):n=!!e.h,n&&(t.h=e.h),t};var nv=/[#\/\?@]/g,nm=/[#\?:]/g,ny=/[#\?]/g,nb=/[#\?@]/g,nw=/#/g;function n_(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function nE(e){e.a||(e.a=new nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function nC(e){var t=nt(e);if(void 0===t)throw Error("Keys are undefined");var n=new n_(null,void 0);e=ne(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?nx(n,i,o):n.add(i,o)}return n}function nB(e,t){nE(e),t=nS(e,t),ni(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,ni((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&nr(e)))}function nI(e,t){return nE(e),t=nS(e,t),ni(e.a.b,t)}function nx(e,t,n){nB(e,t),0<n.length&&(e.c=null,e.a.set(nS(e,t),X(n)),e.b+=n.length)}function nT(e){var t=new n_;return t.c=e.c,e.a&&(t.a=new nn(e.a),t.b=e.b),t}function nS(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nk(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";r.push("]");return}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),nR(i,r),r.push(":"),e(t,a,r),o=",");r.push("}");return}}switch(typeof n){case"string":nR(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nN,e,t),t.join("")}function nN(){}(r=n_.prototype).add=function(e,t){nE(this),this.c=null,e=nS(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.clear=function(){this.a=this.c=null,this.b=0},r.forEach=function(e,t){nE(this),this.a.forEach(function(n,r){V(n,function(n){e.call(t,n,r,this)},this)},this)},r.Y=function(){nE(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.X=function(e){nE(this);var t=[];if("string"==typeof e)nI(this,e)&&(t=$(t,this.a.get(nS(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},r.set=function(e,t){return nE(this),this.c=null,nI(this,e=nS(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var nD={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nO=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nR(e,t){t.push('"',e.replace(nO,function(e){var t=nD[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),nD[e]=t),t}),'"')}function nF(){var e=n0();return eK&&!!e4&&11==e4||/Edge\/\d+/.test(e)}function nL(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function nP(e,t){t=t||u.window;var n="about:blank";e&&(n=ek(eR(e)||eP)),t.location.href=n}function nU(e){return!!((e=(e||n0()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function nM(e){e=e||u.window;try{e.close()}catch(e){}}function nj(e,t,n){var r,i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<o?o:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=n0().toLowerCase(),i&&(t.target=i,es(n,"crios/")&&(t.target="_blank")),n$(n0())==nq&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof eS?n:eR(void 0!==n.href?n.href:String(n))||eP,n=e.target||n.target,o=[],e)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(e[s]?1:0))}var s=o.join(",");if((eA("iPhone")&&!eA("iPod")&&!eA("iPad")||eA("iPad")||eA("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(ev(s=e9(document,"A"),"HTMLAnchorElement"),t=t instanceof eS?t:eF(t),s.href=ek(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=ej("",i,n,s),e=ek(t),s&&(ez&&es(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+eQ(e)+'">',e=new eU(e=(i=e_())?i.createHTML(e):e,null,eM),i=s.document)&&(i.write((r=e)instanceof eU&&r.constructor===eU?r.a:(P("expected object of type SafeHtml, got '"+r+"' of type "+f(r)),"type_error:SafeHtml")),i.close())):(s=ej(t,i,n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(e){}return s}var nZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nQ=/^[^@]+@[^@]+$/;function nH(){var e=null;return new ti(function(t){"complete"==u.document.readyState?t():tW(window,"load",e=function(){t()})}).o(function(t){throw tq(window,"load",e),t})}function nV(e){return e=e||n0(),!("file:"!==n5()&&"ionic:"!==n5()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nK(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function nG(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function nz(){return N.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":N.Z.INTERNAL.hasOwnProperty("node")?"Node":nG()?"Worker":"Browser"}function nW(){var e=nz();return"ReactNative"===e||"Node"===e}var nq="Firefox",nY="Chrome";function n$(e){var t=e.toLowerCase();return es(t,"opera/")||es(t,"opr/")||es(t,"opios/")?"Opera":es(t,"iemobile")?"IEMobile":es(t,"msie")||es(t,"trident/")?"IE":es(t,"edge/")?"Edge":es(t,"firefox/")?nq:es(t,"silk/")?"Silk":es(t,"blackberry")?"Blackberry":es(t,"webos")?"Webos":!es(t,"safari/")||es(t,"chrome/")||es(t,"crios/")||es(t,"android")?!es(t,"chrome/")&&!es(t,"crios/")||es(t,"edge/")?es(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":nY:"Safari"}var nX={md:"FirebaseCore-web",od:"FirebaseUI-web"};function nJ(e,t){t=t||[];var n,r=[],i={};for(n in nX)i[nX[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=nz())?r=n$(i=n0()):"Worker"===r&&(r=n$(i=n0())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function n0(){return u.navigator&&u.navigator.userAgent||""}function n1(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function n2(){try{var e=u.localStorage,t=re();if(e)return e.setItem(t,"1"),e.removeItem(t),!nF()||!!u.indexedDB}catch(e){return nG()&&!!u.indexedDB}return!1}function n4(){return(n3()||"chrome-extension:"===n5()||nV())&&!nW()&&n2()&&!nG()}function n3(){return"http:"===n5()||"https:"===n5()}function n5(){return u.location&&u.location.protocol||null}function n6(e){return!nU(e=e||n0())&&n$(e)!=nq}function n8(e){return void 0===e?null:nk(e)}function n9(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function n7(e){if(null!==e)return JSON.parse(e)}function re(e){return e||Math.floor(1e9*Math.random()).toString()}function rt(e){return!("Safari"==n$(e=e||n0())||e.toLowerCase().match(/iphone|ipad|ipod/))}function rn(){var e=u.___jsl;if(e&&e.H){for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}}function rr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=n0(),t=nz(),this.b=nU(e)||"ReactNative"===t}function ri(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function ro(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function ra(){return!(!n1("fireauth.oauthhelper",u)&&!n1("fireauth.iframe",u))}rr.prototype.get=function(){var e=u.navigator;return(e&&"boolean"==typeof e.onLine&&(n3()||"chrome-extension:"===n5()||void 0!==e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var rs={};function ru(e){rs[e]||(rs[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var rc={};Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:2}),oX=2==rc.abcd}catch(e){oX=!1}function rl(e,t,n){oX?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function rA(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&rl(e,n,t[n])}function rd(e){var t={};return rA(t,e),t}function rf(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)rl(t,n,rf(e[n]));return t}function rh(e){var t=e&&(e[ry]?"phone":null);if(t&&e&&e[rm]){rl(this,"uid",e[rm]),rl(this,"displayName",e[rg]||null);var n=null;e[rv]&&(n=new Date(e[rv]).toUTCString()),rl(this,"enrollmentTime",n),rl(this,"factorId",t)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}function rp(e){try{var t=new rb(e)}catch(e){t=null}return t}rh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var rg="displayName",rv="enrolledAt",rm="mfaEnrollmentId",ry="phoneInfo";function rb(e){rh.call(this,e),rl(this,"phoneNumber",e[ry])}function rw(e){var t={},n=e[rB],r=e[rx],i=e[rT];if(e=rp(e[rI]),!i||i!=rE&&i!=rC&&!n||i==rC&&!r||i==r_&&!e)throw Error("Invalid checkActionCode response!");i==rC?(t[rk]=n||null,t[rD]=n||null,t[rS]=r):(t[rk]=r||null,t[rD]=r||null,t[rS]=n||null),t[rN]=e||null,rl(this,rR,i),rl(this,rO,rf(t))}B(rb,rh),rb.prototype.w=function(){var e=rb.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var r_="REVERT_SECOND_FACTOR_ADDITION",rE="EMAIL_SIGNIN",rC="VERIFY_AND_CHANGE_EMAIL",rB="email",rI="mfaInfo",rx="newEmail",rT="requestType",rS="email",rk="fromEmail",rN="multiFactorInfo",rD="previousEmail",rO="data",rR="operation";function rF(e){var t=nA(e=nd(e),rL)||null,n=nA(e,rP)||null,r=nA(e,rj)||null;if(r=r&&rQ[r]||null,!t||!n||!r)throw new x("argument-error",rL+", "+rP+"and "+rj+" are required in a valid action code URL.");rA(this,{apiKey:t,operation:r,code:n,continueUrl:nA(e,rU)||null,languageCode:nA(e,rM)||null,tenantId:nA(e,rZ)||null})}var rL="apiKey",rP="oobCode",rU="continueUrl",rM="languageCode",rj="mode",rZ="tenantId",rQ={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:r_,signIn:rE,verifyAndChangeEmail:rC,verifyEmail:"VERIFY_EMAIL"};function rH(e){try{return new rF(e)}catch(e){return null}}function rV(e){var t=e[rq];if(void 0===t)throw new x("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new x("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[rK];if(n&&"object"==typeof n){t=n[rX];var r=n[rY];if(n=n[r$],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new x("argument-error",rY+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new x("argument-error",r$+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new x("argument-error",rX+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new x("missing-android-pkg-name")}}else if(void 0!==n)throw new x("argument-error",rK+" property must be a non null object when specified.");if(this.f=null,(t=e[rW])&&"object"==typeof t){if("string"==typeof(t=t[rJ])&&t.length)this.f=t;else if(void 0!==t)throw new x("argument-error",rJ+" property must be a non empty string when specified.")}else if(void 0!==t)throw new x("argument-error",rW+" property must be a non null object when specified.");if(void 0!==(t=e[rz])&&"boolean"!=typeof t)throw new x("argument-error",rz+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[rG])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new x("argument-error",rG+" property must be a non empty string when specified.");this.i=e||null}var rK="android",rG="dynamicLinkDomain",rz="handleCodeInApp",rW="iOS",rq="url",rY="installApp",r$="minimumVersion",rX="packageName",rJ="bundleId";function r0(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var r1=null;function r2(e){var t=r3(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function r4(e){try{return new r2(e)}catch(e){return null}}function r3(e){if(!e||3!=(e=e.split(".")).length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{var r,i,o=(r=e,i=[],function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=r1[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}(function(){if(!r1){r1={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===r1[o]&&(r1[o]=i)}}})();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(r,function(e){i.push(e)}),i);for(e=[],n=t=0;t<o.length;){var a=o[t++];if(128>a)e[n++]=String.fromCharCode(a);else if(191<a&&224>a){var s=o[t++];e[n++]=String.fromCharCode((31&a)<<6|63&s)}else if(239<a&&365>a){s=o[t++];var u=o[t++],c=o[t++],l=((7&a)<<18|(63&s)<<12|(63&u)<<6|63&c)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(1023&l))}else s=o[t++],u=o[t++],e[n++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&u)}return JSON.parse(e.join(""))}catch(e){}return null}r2.prototype.T=function(){return this.f},r2.prototype.l=function(){return this.c},r2.prototype.toString=function(){return this.h};var r5="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),r6=["client_id","response_type","scope","redirect_uri","state"],r8={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:r6},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:r6},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:r6},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:r5},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function r9(e){for(var t in r8)if(r8[t].fa==e)return r8[t];return null}function r7(e){var t={};t["facebook.com"]=io,t["google.com"]=is,t["github.com"]=ia,t["twitter.com"]=iu;var n=e&&e[it];try{if(n)return t[n]?new t[n](e):new ii(e);if(void 0!==e[ie])return new ir(e)}catch(e){}return null}var ie="idToken",it="providerId";function ir(e){var t=e[it];if(!t&&e[ie]){var n=r4(e[ie]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");("anonymous"==t||"custom"==t)&&(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),rl(this,"providerId",t),rl(this,"isNewUser",n)}function ii(e){ir.call(this,e),rl(this,"profile",rf((e=n7(e.rawUserInfo||"{}"))||{}))}function io(e){if(ii.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ia(e){if(ii.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");rl(this,"username",this.profile&&this.profile.login||null)}function is(e){if(ii.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function iu(e){if(ii.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");rl(this,"username",e.screenName||null)}function ic(e){var t=nd(e),n=nA(t,"link"),r=nA(nd(n),"link");return t=nA(t,"deep_link_id"),nA(nd(t),"link")||t||r||n||e}function il(e,t){if(!e&&!t)throw new x("internal-error","Internal assert: no raw session string available");if(e&&t)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?iA:id}B(ii,ir),B(io,ii),B(ia,ii),B(is,ii),B(iu,ii);var iA="enroll",id="signin";function ih(){}function ip(e,t){return e.then(function(e){if(e[o1]){var n=r4(e[o1]);if(!n||t!=n.i)throw new x("user-mismatch");return e}throw new x("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==S+"user-not-found"?new x("user-mismatch"):e})}function ig(e,t){if(t)this.a=t;else throw new x("internal-error","failed to construct a credential");rl(this,"providerId",e),rl(this,"signInMethod",e)}function iv(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function im(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ig(e.providerId,e.pendingToken)}catch(e){}return null}function iy(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&rl(this,"idToken",t.idToken),t.accessToken&&rl(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&rl(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else if(t.oauthToken&&t.oauthTokenSecret)rl(this,"accessToken",t.oauthToken),rl(this,"secret",t.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");rl(this,"providerId",e),rl(this,"signInMethod",n)}function ib(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:nC(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function iw(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new iy(e.providerId,t,e.signInMethod)}catch(e){}}return null}function i_(e,t){this.Qc=t||[],rA(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(r9(e)||{}).Ja||null,this.pb=null}function iE(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');i_.call(this,e,[])}function iC(e){i_.call(this,e,r6),this.a=[]}function iB(){iC.call(this,"facebook.com")}function iI(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new iB).credential({accessToken:t})}function ix(){iC.call(this,"github.com")}function iT(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new ix).credential({accessToken:t})}function iS(){iC.call(this,"google.com"),this.Ca("profile")}function ik(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new iS).credential({idToken:n,accessToken:t})}function iN(){i_.call(this,"twitter.com",r5)}function iD(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new iy("twitter.com",n,"twitter.com")}function iO(e,t,n){this.a=e,this.f=t,rl(this,"providerId","password"),rl(this,"signInMethod",n===iF.EMAIL_LINK_SIGN_IN_METHOD?iF.EMAIL_LINK_SIGN_IN_METHOD:iF.EMAIL_PASSWORD_SIGN_IN_METHOD)}function iR(e){return e&&e.email&&e.password?new iO(e.email,e.password,e.signInMethod):null}function iF(){rA(this,{providerId:"password",isOAuthProvider:!1})}function iL(e,t){if(!(t=iP(t)))throw new x("argument-error","Invalid email link!");return new iO(e,t.code,iF.EMAIL_LINK_SIGN_IN_METHOD)}function iP(e){return(e=rH(e=ic(e)))&&e.operation===rE?e:null}function iU(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new x("internal-error");this.a=e,rl(this,"providerId","phone"),this.fa="phone",rl(this,"signInMethod","phone")}function iM(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new iU(t)}return null}function ij(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function iZ(e){try{this.a=e||N.Z.auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rA(this,{providerId:"phone",isOAuthProvider:!1})}function iQ(e,t){if(!e)throw new x("missing-verification-id");if(!t)throw new x("missing-verification-code");return new iU({fb:e,eb:t})}function iH(e){if(e.temporaryProof&&e.phoneNumber)return new iU({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return ik(o,n);case"facebook.com":return iI(n);case"github.com":return iT(n);case"twitter.com":return iD(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ig(t,a):new iy(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new iC(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function iV(e){if(!e.isOAuthProvider)throw new x("invalid-oauth-provider")}function iK(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,this.g||this.a){if(this.g&&this.a||this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}function iG(e){return(e=e||{}).type?new iK(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function iz(){this.b=null,this.a=[]}il.prototype.Ha=function(){return this.a?tA(this.a):tA(this.b)},il.prototype.w=function(){return this.type==iA?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ih.prototype.ka=function(){},ih.prototype.b=function(){},ih.prototype.c=function(){},ih.prototype.w=function(){},ig.prototype.ka=function(e){return af(e,iv(this))},ig.prototype.b=function(e,t){var n=iv(this);return n.idToken=t,ah(e,n)},ig.prototype.c=function(e,t){return ip(ap(e,iv(this)),t)},ig.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},iy.prototype.ka=function(e){return af(e,ib(this))},iy.prototype.b=function(e,t){var n=ib(this);return n.idToken=t,ah(e,n)},iy.prototype.c=function(e,t){return ip(ap(e,ib(this)),t)},iy.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},i_.prototype.Ka=function(e){return this.Jb=eh(e),this},B(iE,i_),B(iC,i_),iC.prototype.Ca=function(e){return W(this.a,e)||this.a.push(e),this},iC.prototype.Rb=function(){return X(this.a)},iC.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new iy(this.providerId,n,this.providerId)},B(iB,iC),rl(iB,"PROVIDER_ID","facebook.com"),rl(iB,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),B(ix,iC),rl(ix,"PROVIDER_ID","github.com"),rl(ix,"GITHUB_SIGN_IN_METHOD","github.com"),B(iS,iC),rl(iS,"PROVIDER_ID","google.com"),rl(iS,"GOOGLE_SIGN_IN_METHOD","google.com"),B(iN,i_),rl(iN,"PROVIDER_ID","twitter.com"),rl(iN,"TWITTER_SIGN_IN_METHOD","twitter.com"),iO.prototype.ka=function(e){return this.signInMethod==iF.EMAIL_LINK_SIGN_IN_METHOD?aY(e,aE,{email:this.a,oobCode:this.f}):aY(e,aK,{email:this.a,password:this.f})},iO.prototype.b=function(e,t){return this.signInMethod==iF.EMAIL_LINK_SIGN_IN_METHOD?aY(e,aC,{idToken:t,email:this.a,oobCode:this.f}):aY(e,aP,{idToken:t,email:this.a,password:this.f})},iO.prototype.c=function(e,t){return ip(this.ka(e),t)},iO.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},rA(iF,{PROVIDER_ID:"password"}),rA(iF,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),rA(iF,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),iU.prototype.ka=function(e){return e.gb(ij(this))},iU.prototype.b=function(e,t){var n=ij(this);return n.idToken=t,aY(e,az,n)},iU.prototype.c=function(e,t){var n=ij(this);return n.operation="REAUTH",ip(e=aY(e,aW,n),t)},iU.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},iZ.prototype.gb=function(e,t){var n=this.a.a;return tA(t.verify()).then(function(r){if("string"!=typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==iA?i.Ha().then(function(e){return aY(n,aM,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(e){return e.phoneSessionInfo.sessionInfo})}):i&&i.type==id?i.Ha().then(function(t){return aY(n,aj,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then(function(e){return e.phoneResponseInfo.sessionInfo})}):aY(n,aF,{phoneNumber:o,recaptchaToken:r})).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e})}throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},rA(iZ,{PROVIDER_ID:"phone"}),rA(iZ,{PHONE_SIGN_IN_METHOD:"phone"}),iK.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},iK.prototype.T=function(){return this.h},iK.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var iW=null;function iq(e){var t="unauthorized-domain",n=void 0,r=nd(e);e=r.a,"chrome-extension"==(r=r.c)?n=eZ("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=eZ("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",x.call(this,t,n)}function iY(e,t,n){x.call(this,e,n),(e=t||{}).Kb&&rl(this,"email",e.Kb),e.ea&&rl(this,"phoneNumber",e.ea),e.credential&&rl(this,"credential",e.credential),e.$b&&rl(this,"tenantId",e.$b)}function i$(e){if(e.code){var t=e.code||"";0==t.indexOf(S)&&(t=t.substring(S.length));var n={credential:iH(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new x(t,e.message||void 0);return new iY(t,n,e.message)}return null}function iX(){}function iJ(e){return e.c||(e.c=e.b())}function i0(){}function i1(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function i2(){}function i4(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function i3(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function i5(e,t,n){this.reset(e,t,n,void 0,void 0)}B(iq,x),B(iY,x),iY.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&eg(e,t),e},iY.prototype.toJSON=function(){return this.w()},iX.prototype.c=null,B(i0,iX),i0.prototype.a=function(){var e=i1(this);return e?new ActiveXObject(e):new XMLHttpRequest},i0.prototype.b=function(){var e={};return i1(this)&&(e[0]=!0,e[1]=!0),e},oJ=new i0,B(i2,iX),i2.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new i4;throw Error("Unsupported browser")},i2.prototype.b=function(){return{}},(r=i4.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},r.send=function(e){if(e){if("string"==typeof e)this.a.send(e);else throw Error("Only string data is supported")}else this.a.send()},r.abort=function(){this.a.abort()},r.setRequestHeader=function(){},r.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},r.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,i3(this,4)},r.Tb=function(){this.status=500,this.response=this.responseText="",i3(this,4)},r.vc=function(){this.Tb()},r.rc=function(){this.status=200,i3(this,1)},r.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},i5.prototype.a=null;var i6=0;function i8(e){this.f=e,this.b=this.c=this.a=null}function i9(e,t){this.name=e,this.value=t}i5.prototype.reset=function(e,t,n,r,i){"number"==typeof i||i6++,r||C(),delete this.a},i9.prototype.toString=function(){return this.name};var i7=new i9("SEVERE",1e3),oe=new i9("WARNING",900),ot=new i9("CONFIG",700),on=new i9("FINE",500);i8.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(P("Root logger has no level set."),null)}(this).value)for(p(t)&&(t=t()),e=new i5(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var or={},oi=null;function oo(e){if(oi||(oi=new i8(""),or[""]=oi,oi.c=ot),!(t=or[e])){t=new i8(e);var t,n=e.lastIndexOf("."),r=e.substr(n+1);(n=oo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,or[e]=t}return t}function oa(e,t){e&&e.log(on,t,void 0)}function os(e){this.f=e}function ou(e){t3.call(this),this.u=e,this.h=void 0,this.readyState=oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}B(os,iX),os.prototype.a=function(){return new ou(this.f)},os.prototype.b=(oV={},function(){return oV}),B(ou,t3);var oc=0;function ol(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function oA(e){e.readyState=4,e.g=null,e.c=null,e.m=null,od(e)}function od(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function of(e){t3.call(this),this.headers=new nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=oh,this.u=this.S=!1}(r=ou.prototype).open=function(e,t){if(this.readyState!=oc)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,od(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},r.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,oA(this)),this.readyState=oc},r.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,od(this)),this.a&&(this.readyState=3,od(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ol(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},r.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?oA(this):od(this),3==this.readyState&&ol(this)}},r.tc=function(e){this.a&&(this.response=this.responseText=e,oA(this))},r.sc=function(e){this.a&&(this.response=e,oA(this))},r.Va=function(e){var t=this.i;t&&t.log(oe,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&oA(this)},r.setRequestHeader=function(e,t){this.l.append(e,t)},r.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(oe,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},r.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(oe,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),B(of,t3);var oh="";of.prototype.b=oo("goog.net.XhrIo");var op=/^https?$/i,og=["POST","PUT"];function ov(e){return"content-type"==e.toLowerCase()}function om(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,oy(e),ow(e)}function oy(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ob(e){if(e.c&&void 0!==s){if(e.C[1]&&4==oE(e)&&2==oC(e))oa(e.b,oB(e,"Local request error detected and ignored"));else if(e.i&&4==oE(e))t9(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==oE(e)){oa(e.b,oB(e,"Request complete")),e.c=!1;try{var t,n,r=oC(e);switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(t=i)){if(n=0===r){var o=String(e.l).match(no)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}n=!op.test(o?o.toLowerCase():"")}t=n}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<oE(e)?e.a.statusText:""}catch(t){oa(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+oC(e)+"]",oy(e)}}finally{ow(e)}}}}function ow(e,t){if(e.a){o_(e);var n=e.a,r=e.C[0]?d:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(i7,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function o_(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function oE(e){return e.a?e.a.readyState:0}function oC(e){try{return 2<oE(e)?e.a.status:-1}catch(e){return -1}}function oB(e,t){return t+" ["+e.P+" "+e.l+" "+oC(e)+"]"}function oI(e){this.g=[],this.u=oP,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ox(e,t,n){e.a=!0,e.c=n,e.f=!t,oN(e)}function oT(e){if(e.a){if(!e.v)throw new oD(e);e.v=!1}}function oS(e,t,n,r){e.g.push([t,n,r]),e.a&&oN(e)}function ok(e){return z(e.g,function(e){return p(e[1])})}function oN(e){if(e.h&&e.a&&ok(e)){var t=e.h,n=oF[t];n&&(u.clearTimeout(n.a),delete oF[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(R(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ok(e)||(n=!0)}}e.c=t,r&&(s=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof oI?(oS(t,s,r),t.C=!0):t.then(s,r)),n&&(oF[(t=new oR(t)).a]=t,e.h=t.a)}function oD(){F.call(this)}function oO(){F.call(this)}function oR(e){this.a=u.setTimeout(_(this.c,this),0),this.b=e}(r=of.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,oB(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(){this.a&&this.c&&(oa(this.b,oB(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ow(this))},r.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ow(this,!0)),of.bb.Da.call(this)},r.Wb=function(){this.ya||(this.N||this.i||this.f?ob(this):this.Jc())},r.Jc=function(){ob(this)},r.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case oh:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(i7,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return oa(this.b,"Can not get response: "+e.message),null}},oI.prototype.cancel=function(e){if(this.a)this.c instanceof oI&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new oO(this),oT(this),ox(this,!1,e))}},oI.prototype.m=function(e,t){this.i=!1,ox(this,e,t)},oI.prototype.then=function(e,t,n){var r,i,o=new ti(function(e,t){r=e,i=t});return oS(this,r,function(e){e instanceof oO?o.cancel():i(e)}),o.then(e,t,n)},oI.prototype.$goog_Thenable=!0,B(oD,F),oD.prototype.message="Deferred has already fired",oD.prototype.name="AlreadyCalledError",B(oO,F),oO.prototype.message="Deferred was canceled",oO.prototype.name="CanceledError",oR.prototype.c=function(){throw delete oF[this.a],this.b};var oF={};function oL(e){var t,n,r={},i=r.document||document,o=eC(e).toString(),a=e9(document,"SCRIPT"),s={Xb:a,Ma:void 0},c=new oI(s),d=null,f=null!=r.timeout?r.timeout:5e3;return 0<f&&(d=window.setTimeout(function(){oU(a,!0);var e=new oZ(oj,"Timeout reached for loading script "+o);oT(c),ox(c,!1,e)},f),s.Ma=d),a.onload=a.onreadystatechange=function(){a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(oU(a,r.xd||!1,d),oT(c),ox(c,!0,null))},a.onerror=function(){oU(a,!0,d);var e=new oZ(oM,"Error while loading script "+o);oT(c),ox(c,!1,e)},eg(s=r.attributes||{},{type:"text/javascript",charset:"UTF-8"}),e6(a,s),n=e,ev(a,"HTMLScriptElement"),a.src=eC(n),(n=a.ownerDocument&&a.ownerDocument.defaultView)&&n!=u?n=A(n.document):(null===l&&(l=A(u.document)),n=l),n&&a.setAttribute("nonce",n),((t=(i||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:i.documentElement).appendChild(a),c}function oP(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&oU(e,!0,this.Ma)}}function oU(e,t,n){null!=n&&u.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var oM=0,oj=1;function oZ(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),F.call(this,n),this.code=e}function oQ(e){this.f=e}function oH(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||o2,this.g=eh(e.secureTokenHeaders||o4),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||o3,this.a=eh(e.firebaseHeaders||o5),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nz(),!(n=u.XMLHttpRequest||n&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.XMLHttpRequest)&&!nG())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nG()?this.f=new os(self):nW()?this.f=new oQ(n):this.f=new i2,this.b=null}B(oZ,F),B(oQ,iX),oQ.prototype.a=function(){return new this.f},oQ.prototype.b=function(){return{}};var oV,oK,oG,oz,oW,oq,oY,o$,oX,oJ,o0,o1="idToken",o2=new rr(3e4,6e4),o4={"Content-Type":"application/x-www-form-urlencoded"},o3=new rr(3e4,6e4),o5={"Content-Type":"application/json"};function o6(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function o8(e,t){t&&(e.l=o9("https://securetoken.googleapis.com/v1/token",t),e.h=o9("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=o9("https://identitytoolkit.googleapis.com/v2/",t))}function o9(e,t){return e=nd(e),t=nd(t.url),e.f=e.a+e.f,ns(e,t.c),e.a=t.a,nu(e,t.g),e.toString()}function o7(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ae(e,t,n,r,i,o,a){var s;!((!(s=n$(s=n0())!=nY?null:(s=s.match(/\sChrome\/(\d+)/i))&&2==s.length?parseInt(s[1],10):null)||!(30>s))&&(!eK||!e4||9<e4)||nG())?(o0||(o0=new ti(function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(u[an]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},oS(oL(eB(at,{onload:an})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))})),e=_(e.s,e)):e=_(e.u,e),e(t,n,r,i,o,a)}oH.prototype.T=function(){return this.b},oH.prototype.u=function(e,t,n,r,i,o){if(nG()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new of(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}t5(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return oa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)}),t6(a,"ready",function(){s&&clearTimeout(s),tT(this)}),t6(a,"timeout",function(){s&&clearTimeout(s),tT(this),t&&t(null)}),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():oJ.a(),e.C=e.D?iJ(e.D):iJ(oJ),e.a.onreadystatechange=_(e.Wb,e);try{oa(e.b,oB(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){oa(e.b,oB(e,"Error opening Xhr: "+t.message)),om(e,t);return}t=r||"";var o,a=new nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"==typeof e)V(e,t,void 0);else for(var n=nt(e),r=ne(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){a.set(t,e)}),i=function(e){e:{for(var t=ov,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(a.Y()),r=u.FormData&&t instanceof u.FormData,!W(og,n)||i||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{o_(e),0<e.g&&(e.u=(o=e.a,eK&&e2(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),oa(e.b,oB(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=t9(e.Ma,e.g,e)),oa(e.b,oB(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){oa(e.b,oB(e,"Send error: "+t.message)),om(e,t)}}(a,e,n,r,i)};var at=new em(ew,"https://apis.google.com/js/client.js?onload=%{onload}"),an="__fcb"+Math.floor(1e6*Math.random()).toString();function ar(e,t,n,r,i,o,a){var s=nd(t+n);nl(s,"key",e.c),a&&nl(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nl(s,c,i[c]);return new ti(function(t,n){ae(e,s.toString(),function(e){e?e.error?n(aX(e,o||{})):t(e):n(new x("network-request-failed"))},r,u?void 0:nk(n9(i)),e.a,e.v.get())})}function ai(e){if("string"!=typeof(e=e.email)||!nQ.test(e))throw new x("invalid-email")}function ao(e){"email"in e&&ai(e)}function aa(e){if(!e[o1]){if(e.mfaPendingCredential)throw new x("multi-factor-auth-required",null,eh(e));throw new x("internal-error")}}function as(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new x("internal-error")}else{if(!e.sessionInfo)throw new x("missing-verification-id");if(!e.code)throw new x("missing-verification-code")}}oH.prototype.s=function(e,t,n,r,i){var o=this;o0.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},oH.prototype.Ab=function(){return aY(this,aU,{})},oH.prototype.Cb=function(e,t){return aY(this,aL,{idToken:e,email:t})},oH.prototype.Db=function(e,t){return aY(this,aP,{idToken:e,password:t})};var au={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ac(e){if(!e.phoneVerificationInfo)throw new x("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new x("missing-verification-code")}function al(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new x("internal-error")}function aA(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&nI(e=new n_(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ad(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=i$(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=i$(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=i$(e)):e.errorMessage&&(t=a$(e.errorMessage)),t)throw t;aa(e)}function af(e,t){return t.returnIdpCredential=!0,aY(e,aZ,t)}function ah(e,t){return t.returnIdpCredential=!0,aY(e,aH,t)}function ap(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,aY(e,aQ,t)}function ag(e){if(!e.oobCode)throw new x("invalid-action-code")}(r=oH.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ed(au,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),aY(this,aL,n)},r.wb=function(e,t){return eg(e={requestType:"PASSWORD_RESET",email:e},t),aY(this,aN,e)},r.xb=function(e,t){return eg(e={requestType:"EMAIL_SIGNIN",email:e},t),aY(this,aT,e)},r.vb=function(e,t){return eg(e={requestType:"VERIFY_EMAIL",idToken:e},t),aY(this,aS,e)},r.Fb=function(e,t,n){return eg(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),aY(this,ak,e)},r.gb=function(e){return aY(this,aG,e)},r.ob=function(e,t){return aY(this,aR,{oobCode:e,newPassword:t})},r.Sa=function(e){return aY(this,am,{oobCode:e})},r.kb=function(e){return aY(this,av,{oobCode:e})};var av={endpoint:"setAccountInfo",A:ag,Z:"email",B:!0},am={endpoint:"resetPassword",A:ag,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new x("internal-error")},B:!0},ay={endpoint:"signupNewUser",A:function(e){if(ai(e),!e.password)throw new x("weak-password")},G:aa,V:!0,B:!0},ab={endpoint:"createAuthUri",B:!0},aw={endpoint:"deleteAccount",O:["idToken"]},a_={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new x("internal-error")}},aE={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ai,G:aa,V:!0,B:!0},aC={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ai,G:aa,V:!0},aB={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ac,G:aa,B:!0,Na:!0},aI={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ac,G:aa,B:!0,Na:!0},ax={endpoint:"getAccountInfo"},aT={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new x("internal-error");ai(e)},Z:"email",B:!0},aS={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},ak={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},aN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new x("internal-error");ai(e)},Z:"email",B:!0},aD={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},aO={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new x("internal-error")}},aR={endpoint:"resetPassword",A:ag,Z:"email",B:!0},aF={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},aL={endpoint:"setAccountInfo",O:["idToken"],A:ao,V:!0},aP={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ao(e),!e.password)throw new x("weak-password")},G:aa,V:!0},aU={endpoint:"signupNewUser",G:aa,V:!0,B:!0},aM={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new x("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},aj={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},aZ={endpoint:"verifyAssertion",A:al,Za:aA,G:ad,V:!0,B:!0},aQ={endpoint:"verifyAssertion",A:al,Za:aA,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new x("user-not-found");if(e.errorMessage)throw a$(e.errorMessage);aa(e)},V:!0,B:!0},aH={endpoint:"verifyAssertion",A:function(e){if(al(e),!e.idToken)throw new x("internal-error")},Za:aA,G:ad,V:!0},aV={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new x("invalid-custom-token")},G:aa,V:!0,B:!0},aK={endpoint:"verifyPassword",A:function(e){if(ai(e),!e.password)throw new x("wrong-password")},G:aa,V:!0,B:!0},aG={endpoint:"verifyPhoneNumber",A:as,G:aa,B:!0},az={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new x("internal-error");as(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",i$(e);aa(e)}},aW={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:as,G:aa,B:!0},aq={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[o1]^!!e.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function aY(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return td(new x("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return tA(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),i?ar(e,e.i,t.endpoint,o,n,t.Ib,t.mb||!1):ar(e,e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new x("internal-error");return r[t.Z]})}function a$(e){return aX({error:{errors:[{message:e}],code:400,message:e}})}function aX(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",eg(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],t);return!t&&e&&(t=n8(e)),new x("internal-error",t)}function aJ(e){var t;this.b=e,this.a=null,this.sb=(t=this,(a4||(a4=new ti(function(e,t){function n(){rn(),n1("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){rn(),t(Error("Network Error"))},timeout:a1.get()})}if(n1("gapi.iframes.Iframe"))e();else if(n1("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){n1("gapi.load")?n():t(Error("Network Error"))},tA(oL(r=eB(a0,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw a4=null,e}))).then(function(){return new ti(function(e,n){n1("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},a2.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})}))}var a0=new em(ew,"https://apis.google.com/js/api.js?onload=%{onload}"),a1=new rr(3e4,6e4),a2=new rr(5e3,15e3),a4=null;function a3(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?nf((e=nd(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):nf("https",this.l,null,"/__/auth/iframe"),this.a=e,nl(this.a,"apiKey",this.h),nl(this.a,"appName",this.i),this.b=null,this.c=[]}function a5(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function a6(e){try{return N.Z.app(e).auth().Ga()}catch(e){return[]}}function a8(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function a9(e){var t=nL();return aY(e,aD,{}).then(function(e){return e.authorizedDomains||[]}).then(function(e){e:{var n=nd(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n;if(a=0==o.indexOf("chrome-extension://")?nd(o).a==a&&"chrome-extension"==r:("http"==r||"https"==r)&&(nZ.test(o)?a==o:RegExp("^(.+\\."+(o=o.split(".").join("\\."))+"|"+o+")$","i").test(a))){e=!0;break e}}e=!1}if(!e)throw new iq(nL())})}function a7(e){return e.m||(e.m=nH().then(function(){if(!e.u){var t=e.c,n=e.i,r=a6(e.b),i=new a3(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new aJ(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(n=0,t=iG(t.authEvent);n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",tA(n)}return n.status="ERROR",tA(n)})}(e)})),e.m}function se(e){return e.l||(e.C=e.c?nJ(e.c,a6(e.b)):null,e.l=new oH(e.g,O(e.i),e.C),e.f&&o8(e.l,e.f)),e.l}function st(e,t,n,r,i,o,a,s,u,c,l,A){return(e=new a5(e,t,n,r,i,A)).l=o,e.g=a,e.i=s,e.b=eh(u||null),e.f=c,e.zb(l).toString()}function sn(e){if(this.a=e||N.Z.INTERNAL.reactNative&&N.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function sr(e){this.b=e,this.a={},this.f=_(this.c,this)}a3.prototype.toString=function(){return this.f?nl(this.a,"v",this.f):nB(this.a.b,"v"),this.b?nl(this.a,"eid",this.b):nB(this.a.b,"eid"),this.c.length?nl(this.a,"fw",this.c.join(",")):nB(this.a.b,"fw"),this.a.toString()},a5.prototype.zb=function(e){return this.h=e,this},a5.prototype.toString=function(){if(this.v){var e=nd(this.v.url);e=nf(e.c,e.a,e.g,"/emulator/auth/handler")}else e=nf("https",this.u,null,"/__/auth/handler");if(nl(e,"apiKey",this.s),nl(e,"appName",this.c),nl(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=N.Z.app(this.c).auth().la()}catch(e){n=null}for(var r in t.pb=n,nl(e,"providerId",this.a.providerId),t=n9((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=eh(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ef(t)||nl(e,"customParameters",n8(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&nl(e,"scopes",n.join(",")),this.l?nl(e,"redirectUrl",this.l):nB(e.b,"redirectUrl"),this.g?nl(e,"eventId",this.g):nB(e.b,"eventId"),this.i?nl(e,"v",this.i):nB(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!nA(e,a)&&nl(e,a,this.b[a]);return this.h?nl(e,"tid",this.h):nB(e.b,"tid"),this.f?nl(e,"eid",this.f):nB(e.b,"eid"),(a=a6(this.c)).length&&nl(e,"fw",a.join(",")),e.toString()},(r=a8.prototype).Pb=function(e,t,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){var n;(n={type:"webStorageSupport"},a7(o).then(function(){var e;return(e=o.v).sb.then(function(){return new ti(function(t){e.a.send(n.type,n,t,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then(function(n){n||(e&&nM(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return new ti(function(t){return function n(){t7(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}).then(function(){if(!a)return t7(n).then(function(){t(r)})})},r.Yb=function(){var e=n0();return!n6(e)&&!rt(e)},r.Ub=function(){return!1},r.Nb=function(e,t,n,r,i,o,a,s){if(!e)return td(new x("popup-blocked"));if(a&&!n6())return this.ma().o(function(t){nM(e),i(t)}),r(),tA();this.a||(this.a=a9(se(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw nM(e),i(t),t});return r(),t}).then(function(){iV(n),a||nP(st(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},r.Ob=function(e,t,n,r){this.a||(this.a=a9(se(this)));var i=this;return this.a.then(function(){iV(t),nP(st(i.s,i.g,i.b,e,t,nL(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},r.ma=function(){var e=this;return a7(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new x("network-request-failed")})},r.ac=function(){return!0},r.Ea=function(e){this.h.push(e)},r.Ta=function(e){Y(this.h,function(t){return t==e})},(r=sn.prototype).get=function(e){return tA(this.a.getItem(e)).then(function(e){return e&&n7(e)})},r.set=function(e,t){return tA(this.a.setItem(e,n8(t)))},r.U=function(e){return tA(this.a.removeItem(e))},r.ca=function(){},r.ia=function(){};var si=[];function so(e,t,n){ef(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function sa(e){this.a=e}function ss(e){this.c=e,this.b=!1,this.a=[]}function su(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return td(Error("connection_unavailable"));var l=r?800:50,A="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ti(function(n,r){A?(i=Math.floor(1e20*Math.random()).toString(),A.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:A,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),A.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[A.port2])):r(Error("connection_unavailable"))}).then(function(t){return sc(e,c),t}).o(function(t){throw sc(e,c),t})}function sc(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,function(e){return e==t})}}function sl(){if(!sf())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t=this;nG()&&self?(this.v=function(){var e=nG()?self:null;if(V(si,function(n){n.b==e&&(t=n)}),!t){var t=new sr(e);si.push(t)}return t}(),so(this.v,"keyChanged",function(e,n){return sm(t).then(function(e){return 0<e.length&&V(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),so(this.v,"ping",function(){return tA(["keyChanged"])})):((e=u.navigator)&&e.serviceWorker?tA().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):tA(null)).then(function(e){(t.h=e)&&(t.g=new ss(new sa(e)),su(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function sA(e){return e.i||(e.i=function e(t){return new ti(function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):new ti(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(e){n(Error(e.target.error))}}).then(function(){return e(t)}).then(function(e){n(e)}).o(function(e){r(e)})}})}(e)),e.i}function sd(e,t){var n=0;return new ti(function r(i,o){sA(e).then(t).then(i).o(function(t){if(!(3<++n))return sA(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function sf(){try{return!!u.indexedDB}catch(e){return!1}}function sh(e){return e.objectStore("firebaseLocalStorage")}function sp(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function sg(e){return new ti(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function sv(e,t){var n;return e.g&&e.h&&((n=u.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?su(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):tA()}function sm(e){return sA(e).then(function(e){var t=sh(sp(e,!1));return t.getAll?sg(t.getAll()):new ti(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function sy(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function sb(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=tA().then(function(){if(sf()){var e=re(),r="__sak"+e;return sT||(sT=new sl),(n=sT).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){V(t.a,function(t){t(e)})}),e})}function sw(){this.a={},this.type="inMemory"}function s_(){if(!function(){var e="Node"==nz();if(!(e=sE()||e&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nz())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=sE()||N.Z.INTERNAL.node.localStorage,this.type="localStorage"}function sE(){try{var e=u.localStorage,t=re();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function sC(){this.type="nullStorage"}function sB(){if(!function(){var e="Node"==nz();if(!(e=sI()||e&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nz())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=sI()||N.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function sI(){try{var e=u.sessionStorage,t=re();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function sx(){var e={};e.Browser=sk,e.Node=sN,e.ReactNative=sD,e.Worker=sO,this.a=e[nz()]}sr.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,function(t){i.push(tA().then(function(){return t(e.origin,e.data.data)}))}),th(i).then(function(r){var i=[];V(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),V(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},sa.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ss.prototype.close=function(){for(;0<this.a.length;)sc(this,this.a[0]);this.b=!0},(r=sl.prototype).set=function(e,t){var n=this,r=!1;return sd(this,function(t){return sg((t=sh(sp(t,!0))).get(e))}).then(function(i){return sd(n,function(o){if(o=sh(sp(o,!0)),i)return i.value=t,sg(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,sg(o.add(a))})}).then(function(){return n.c[e]=t,sv(n,e)}).oa(function(){r&&n.b--})},r.get=function(e){return sd(this,function(t){return sg(sh(sp(t,!1)).get(e))}).then(function(e){return e&&e.value})},r.U=function(e){var t=this,n=!1;return sd(this,function(r){return n=!0,t.b++,sg(sh(sp(r,!0)).delete(e))}).then(function(){return delete t.c[e],sv(t,e)}).oa(function(){n&&t.b--})},r.ca=function(e){var t;0==this.a.length&&(t=this,sy(t),function e(){t.f=setTimeout(function(){t.l=sm(t).then(function(e){0<e.length&&V(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(e)},r.ia=function(e){Y(this.a,function(t){return t==e}),0==this.a.length&&sy(this)},(r=sb.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},r.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},r.U=function(e){return this.b.then(function(t){return t.U(e)})},r.ca=function(e){this.a.push(e)},r.ia=function(e){Y(this.a,function(t){return t==e})},(r=sw.prototype).get=function(e){return tA(this.a[e])},r.set=function(e,t){return this.a[e]=t,tA()},r.U=function(e){return delete this.a[e],tA()},r.ca=function(){},r.ia=function(){},(r=s_.prototype).get=function(e){var t=this;return tA().then(function(){return n7(t.a.getItem(e))})},r.set=function(e,t){var n=this;return tA().then(function(){var r=n8(t);null===r?n.U(e):n.a.setItem(e,r)})},r.U=function(e){var t=this;return tA().then(function(){t.a.removeItem(e)})},r.ca=function(e){u.window&&tG(u.window,"storage",e)},r.ia=function(e){u.window&&tq(u.window,"storage",e)},(r=sC.prototype).get=function(){return tA(null)},r.set=function(){return tA()},r.U=function(){return tA()},r.ca=function(){},r.ia=function(){},(r=sB.prototype).get=function(e){var t=this;return tA().then(function(){return n7(t.a.getItem(e))})},r.set=function(e,t){var n=this;return tA().then(function(){var r=n8(t);null===r?n.U(e):n.a.setItem(e,r)})},r.U=function(e){var t=this;return tA().then(function(){t.a.removeItem(e)})},r.ca=function(){},r.ia=function(){};var sT,sS,sk={F:s_,cb:sB},sN={F:s_,cb:sB},sD={F:sn,cb:sC},sO={F:s_,cb:sC},sR={rd:"local",NONE:"none",td:"session"};function sF(){var e=!!(!rt(n0())&&nK()),t=n6(),n=n2();this.m=e,this.h=t,this.l=n,this.a={},sS||(sS=new sx),e=sS;try{this.g=!nF()&&ra()||!u.indexedDB?new e.a.F:new sb(nG()?new sw:new e.a.F)}catch(e){this.g=new sw,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new sw}this.v=new sw,this.f=_(this.Zb,this),this.b={}}function sL(){return e||(e=new sF),e}function sP(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sU(e,t){return"firebase:"+e.name+(t?":"+t:"")}function sM(e,t,n){return n=sU(t,n),"local"==t.F&&(e.b[n]=null),sP(e,t.F).U(n)}function sj(e){e.c&&(clearInterval(e.c),e.c=null)}function sZ(e){this.a=e,this.b=sL()}(r=sF.prototype).get=function(e,t){return sP(this,e.F).get(sU(e,t))},r.set=function(e,t,n){var r=sU(e,n),i=this,o=sP(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},r.addListener=function(e,t,n){var r;e=sU(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ef(this.a)&&(sP(this,"local").ca(this.f),this.h||(nF()||!ra())&&u.indexedDB||!this.l||(r=this,sj(r),r.c=setInterval(function(){for(var e in r.a){var t=u.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new tR({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Zb(t))}},1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},r.removeListener=function(e,t,n){e=sU(e,t),this.a[e]&&(Y(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),ef(this.a)&&(sP(this,"local").ia(this.f),sj(this))},r.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?sP(this,"local").ia(this.f):sj(this),this.m){if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return}var o=this;n=function(){(void 0!==e.a.a||o.b[t]!==u.localStorage.getItem(t))&&(o.b[t]=u.localStorage.getItem(t),o.nb(t))},eK&&e4&&10==e4&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,_(this.nb,this))},r.nb=function(e){this.a[e]&&V(this.a[e],function(e){e()})};var sQ={name:"authEvent",F:"local"};function sH(){this.a=sL()}function sV(e,n){this.b=sK,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=n,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===t&&(t=u.Int32Array?new Int32Array(sX):sX),this.reset()}B(sV,function(){this.b=-1});for(var sK=64,sG=sK-1,sz=[],sW=0;sW<sG;sW++)sz[sW]=0;var sq=$(128,sz);function sY(e){for(var n=e.f,r=e.l,i=0,o=0;o<n.length;)r[i++]=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],o=4*i;for(n=16;64>n;n++){o=0|r[n-15],i=0|r[n-2];var a=(0|r[n-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,s=(0|r[n-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;r[n]=a+s|0}i=0|e.a[0],o=0|e.a[1];var u=0|e.a[2],c=0|e.a[3],l=0|e.a[4],A=0|e.a[5],d=0|e.a[6];for(n=0,a=0|e.a[7];64>n;n++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&u^o&u)|0;s=l&A^~l&d,s=(a=a+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=s+(0|t[n])|0)+(0|r[n])|0)|0,a=d,d=A,A=l,l=c+s|0,c=u,u=o,o=i,i=s+f|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+u|0,e.a[3]=e.a[3]+c|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+A|0,e.a[6]=e.a[6]+d|0,e.a[7]=e.a[7]+a|0}function s$(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(sY(e),i=0);else if(h(t))for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(sY(e),i=0)}else throw Error("message must be string or array");e.c=i,e.g+=n}sV.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):X(this.h)};var sX=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sJ(){sV.call(this,8,s0)}B(sJ,sV);var s0=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function s1(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new sH,this.g=new sZ(this.h),this.f=null,this.b=[],this.a=this.c=null}function s2(e){return new x("invalid-cordova-configuration",e)}function s4(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function s3(e){return e.f||(e.f=e.ma().then(function(){return new ti(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){o=!0,a&&a.cancel(),s5(e).then(function(n){var r=i;if(n&&t&&t.url){var o=null;-1!=(r=ic(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=n7(nA(o=nd(r),"firebaseError")||null))?T(o):null)?new iK(n.c,n.b,null,null,o,null,n.T()):new iK(n.c,n.b,r,n.f,null,null,n.T())),r=o||i}s4(e,r)})}var n,r,i=new iK("unknown",null,null,null,new x("no-auth-event")),o=!1,a=t7(500).then(function(){return s5(e).then(function(){o||s4(e,i)})}),s=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(n1("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}},iW||(iW=new iz),n=t,(r=iW).a.push(n),r.b||(r.b=function(e){for(var t=0;t<r.a.length;t++)r.a[t](e)},"function"==typeof(n=n1("universalLinks.subscribe",u))&&n(null,r.b))}(e)})})),e.f}function s5(e){var t,n=null;return(t=e.g).b.get(sQ,t.a).then(function(e){return iG(e)}).then(function(t){return n=t,sM((t=e.g).b,sQ,t.a)}).then(function(){return n})}function s6(e){this.a=e,this.b=sL()}(r=s1.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(nV(void 0)?nH().then(function(){return new ti(function(e,t){var n=u.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):td(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof n1("universalLinks.subscribe",u))throw s2("cordova-universal-links-plugin-fix is not installed");if(void 0===n1("BuildInfo.packageName",u))throw s2("cordova-plugin-buildinfo is not installed");if("function"!=typeof n1("cordova.plugins.browsertab.openUrl",u))throw s2("cordova-plugin-browsertab is not installed");if("function"!=typeof n1("cordova.InAppBrowser.open",u))throw s2("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})},r.Pb=function(e,t){return t(new x("operation-not-supported-in-this-environment")),tA()},r.Nb=function(){return td(new x("operation-not-supported-in-this-environment"))},r.ac=function(){return!1},r.Yb=function(){return!0},r.Ub=function(){return!0},r.Ob=function(e,t,n,r){if(this.c)return td(new x("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=tA().then(function(){return iV(t),s3(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new iK(t,r,null,o,new x("no-auth-event"),null,i),s=n1("BuildInfo.packageName",u);if("string"!=typeof s)throw new x("invalid-cordova-configuration");var c=n1("BuildInfo.displayName",u),l={};if(n0().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!n0().toLowerCase().match(/android/))return td(new x("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(e){var t=new sJ;s$(t,e),e=[];var n=8*t.g;56>t.c?s$(t,sq,56-t.c):s$(t,sq,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(sY(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return G(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(o),l.sessionId=o;var A=st(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(sQ,a.w(),t)}).then(function(){var t=n1("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new x("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=n1("cordova.plugins.browsertab.openUrl",u)))throw new x("invalid-cordova-configuration");n(A)}else{if("function"!=typeof(n=n1("cordova.InAppBrowser.open",u)))throw new x("invalid-cordova-configuration");t=n0(),e.a=n(A,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new ti(function(e,t){s=function(){var t=n1("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=t7(2e3).then(function(){t(new x("redirect-cancelled-by-user"))}))},l=function(){ri()&&c()},o.addEventListener("resume",c,!1),n0().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return s5(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null})},r.Ea=function(e){this.b.push(e),s3(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&e(t=new iK("unknown",null,null,null,new x("no-auth-event")))})},r.Ta=function(e){Y(this.b,function(t){return t==e})};var s8={name:"pendingRedirect",F:"session"};function s9(e){return sM(e.b,s8,e.a)}function s7(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new uh,this.C=new uy,this.g=new s6(ud(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ue(this.D,this.v,this.m,oK,this.J)}function ue(e,t,n,r,i){var o=N.Z.SDK_VERSION||null;return nV()?new s1(e,t,n,o,r,i):new a8(e,t,n,o,r,i)}function ut(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function un(e){e.a.Yb()&&ut(e).o(function(t){var n=new iK("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));uu(t)&&e.s(n)}),e.a.Ub()||up(e.b)}function ur(e,t){var n;W(e.h,t)||e.h.push(t),e.f||(n=e.g).b.get(s8,n.a).then(function(e){return"pending"==e}).then(function(t){t?s9(e.g).then(function(){ut(e).o(function(t){var n=new iK("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));uu(t)&&e.s(n)})}):un(e)}).o(function(){un(e)})}function ui(e,t){Y(e.h,function(e){return e==t})}s7.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ue(this.D,this.v,this.m,null,this.J),this.i={}},s7.prototype.s=function(e){if(!e)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return up(this.b),t};var uo=new rr(2e3,1e4),ua=new rr(3e4,6e4);function us(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,a)}function uu(e){return!!e&&"auth/cordova-not-ready"==e.code}function uc(e,t,n,r,i){var o,a;return(a=e.g).b.set(s8,"pending",a.a).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(uu(t))throw new x("operation-not-supported-in-this-environment");return o=t,s9(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new ti(function(){}):s9(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function ul(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},uo.get())}s7.prototype.ra=function(){return this.b.ra()};var uA={};function ud(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function uf(e,t,n,r){var i=ud(t,n,r);return uA[i]||(uA[i]=new s7(e,t,n,r)),uA[i]}function uh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function up(e){e.g||(e.g=!0,um(e,!1,null,null))}function ug(e){e.g&&!e.i&&um(e,!1,null,null)}function uv(e,t){if(e.b=function(){return tA(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function um(e,t,n,r){t?r?function(e,t){if(e.b=function(){return td(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):uv(e,n):uv(e,{user:null}),e.f=[],e.c=[]}function uy(){}function ub(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function uw(e,t){this.a=t,rl(this,"verificationId",e)}function u_(e,t,n,r){return new iZ(e).gb(t,n).then(function(e){return new uw(e,r)})}function uE(e){var t=r3(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");rA(this,{token:e,expirationTime:ro(1e3*t.exp),authTime:ro(1e3*t.auth_time),issuedAtTime:ro(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function uC(e,t,n){var r=t&&t[uI];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=eh(t),this.g=n,this.c=new il(null,r),this.b=[];var i=this;V(t[uB]||[],function(e){(e=rp(e))&&i.b.push(e)}),rl(this,"auth",this.a),rl(this,"session",this.c),rl(this,"hints",this.b)}uh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},uh.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(um(this,!0,null,e.a),tA()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){um(e,s,t,null)}).o(function(t){um(e,s,null,t)})}(this,e,t):td(new x("invalid-auth-event")):(um(this,!1,null,null),tA())}else td(new x("invalid-auth-event"))},uh.prototype.ra=function(){var e=this;return new ti(function(t,n){var r;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=new x("timeout"),e.a&&e.a.cancel(),e.a=t7(ua.get()).then(function(){e.b||(e.g=!0,um(e,!0,null,r))}))})},uy.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),tA()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):td(new x("invalid-auth-event"))}else td(new x("invalid-auth-event"))},uw.prototype.confirm=function(e){return e=iQ(this.verificationId,e),this.a(e)};var uB="mfaInfo",uI="mfaPendingCredential";function ux(e,t,n,r){x.call(this,"multi-factor-auth-required",r,t),this.b=new uC(e,t,n),rl(this,"resolver",this.b)}function uT(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ux(t,e.serverResponse,n,e.message)}catch(e){}return null}function uS(){}function uk(e){rl(this,"factorId",e.fa),this.a=e}function uN(e){if(uk.call(this,e),this.a.fa!=iZ.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uD(e,t){for(var n in tO.call(this,e),t)this[n]=t[n]}function uO(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),tG(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[rm]=e.uid),e.displayName&&(r[rg]=e.displayName),e.enrollmentTime&&(r[rv]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ry]=e.phoneNumber);try{t=new rb(r)}catch(e){}e=t}else e=null;e&&n.push(e)}),uR(this,n)}function uR(e,t){e.b=t,rl(e,"enrolledFactors",t)}function uF(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uL(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function uP(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function uU(e,t){e.b=r4(t[o1]||""),e.a=t.refreshToken,uP(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function uM(e,t){this.a=e||null,this.b=t||null,rA(this,{lastSignInTime:ro(t||null),creationTime:ro(e||null)})}function uj(e,t,n,r,i,o){rA(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function uZ(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=N.Z.SDK_VERSION?nJ(N.Z.SDK_VERSION):null;this.a=new oH(this.l,O(oK),i),(this.u=e.emulatorConfig||null)&&o8(this.a,this.u),this.h=new uL(this.a),uY(this,t[o1]),uU(this.h,t),rl(this,"refreshToken",this.h.a),uJ(this,n||{}),t3.call(this),this.P=!1,this.s&&n4()&&(this.b=uf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new uF(function(){return r.I(!0)},function(e){return!!e&&"auth/network-request-failed"==e.code},function(){var e=r.h.c-Date.now()-3e5;return 0<e?e:0})),this.ba=_(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){uQ(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){uK(o,e.f)},this.ja=null,this.S=new uO(this,n),rl(this,"multiFactor",this.S)}function uQ(e,t){e.u=t,o8(e.a,t),e.b&&(t=e.b,e.b=uf(e.s,e.l,e.m,e.u),e.P&&(ui(t,e),ur(e.b,e)))}function uH(e,t){e.qa&&tq(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&tG(t,"languageCodeChanged",e.Pa)}function uV(e,t){e.$&&tq(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&tG(t,"emulatorConfigChanged",e.Ba)}function uK(e,t){e.aa=t,o7(e.a,N.Z.SDK_VERSION?nJ(N.Z.SDK_VERSION,e.aa):null)}function uG(e,t){e.ja&&tq(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&tG(t,"frameworkChanged",e.Oa)}function uz(e){try{return N.Z.app(e.m).auth()}catch(t){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function uW(e){e.J||e.D.b||(e.D.start(),tq(e,"tokenChanged",e.ba),tG(e,"tokenChanged",e.ba))}function uq(e){tq(e,"tokenChanged",e.ba),e.D.stop()}function uY(e,t){e.Aa=t,rl(e,"_lat",t)}function u$(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return th(t).then(function(){return e})}function uX(e){e.b&&!e.P&&(e.P=!0,ur(e.b,e))}function uJ(e,t){rA(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new uM(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function u0(){}function u1(e){return tA().then(function(){if(e.J)throw new x("app-deleted")})}function u2(e){return G(e.providerData,function(e){return e.providerId})}function u4(e,t){t&&(u3(e,t.providerId),e.providerData.push(t))}function u3(e,t){Y(e.providerData,function(e){return e.providerId==t})}function u5(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&rl(e,t,n)}function u6(e,t){var n,r,i;e!=t&&(rA(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?rl(e,"metadata",new uM((n=t.metadata).a,n.b)):rl(e,"metadata",new uM),V(t.providerData,function(t){u4(e,t)}),r=e.h,i=t.h,r.b=i.b,r.a=i.a,r.c=i.c,rl(e,"refreshToken",e.h.a),uR(e.S,t.S.b))}function u8(e){return e.I().then(function(t){var n=e.isAnonymous;return aY(e.a,ax,{idToken:t}).then(_(e.Kc,e)).then(function(){return n||u5(e,"isAnonymous",!1),t})})}function u9(e,t){t[o1]&&e.Aa!=t[o1]&&(uU(e.h,t),e.dispatchEvent(new uD("tokenChanged")),uY(e,t[o1]),u5(e,"refreshToken",e.h.a))}function u7(e,t){return u8(e).then(function(){if(W(u2(e),t))return u$(e).then(function(){throw new x("provider-already-linked")})})}function ce(e,t,n){return rd({user:e,credential:iH(t),additionalUserInfo:t=r7(t),operationType:n})}function ct(e,t){return u9(e,t),e.reload().then(function(){return e})}function cn(e,t,n,r,i){if(!n4())return td(new x("operation-not-supported-in-this-environment"));if(e.i&&!i)return td(e.i);var o=r9(n.providerId),a=re(e.uid+":::"),s=null;(!n6()||nK())&&e.s&&n.isOAuthProvider&&(s=st(e.s,e.l,e.m,t,n,null,a,N.Z.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=nj(s,o&&o.va,o&&o.ua);return r=r().then(function(){if(ci(e),!i)return e.I().then(function(){})}).then(function(){return us(e.b,u,t,n,a,!!s,e.tenantId)}).then(function(){return new ti(function(n,r){e.na(t,null,new x("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=ul(e.b,e,t,u,a)})}).then(function(e){return u&&nM(u),e?rd(e):null}).o(function(e){throw u&&nM(u),e}),co(e,r,i)}function cr(e,t,n,r,i){if(!n4())return td(new x("operation-not-supported-in-this-environment"));if(e.i&&!i)return td(e.i);var o=null,a=re(e.uid+":::");return r=r().then(function(){if(ci(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=a,u$(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(cu,e.w(),t.a)),t}).then(function(){return uc(e.b,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return cc(e.ha);throw o}).then(function(){if(o)throw o}),co(e,r,i)}function ci(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function co(e,t,n){var r=e.i&&!n?(t.cancel(),td(e.i)):t.o(function(t){throw t&&("auth/user-disabled"==t.code||"auth/user-token-expired"==t.code)&&(e.i||e.dispatchEvent(new uD("userInvalidated")),e.i=t),t});return e.N.push(r),r.oa(function(){q(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=uT(t.w(),uz(e),_(e.jc,e))),n||t})}function ca(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[o1]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new uZ(t,n,e);return e.providerData&&V(e.providerData,function(e){e&&u4(i,rd(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function cs(e){this.a=e,this.b=sL()}uC.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=eh(t.f);return delete n[uB],delete n[uI],eg(n,e),t.g(n)})},B(ux,x),uS.prototype.tb=function(e,t,n){var r,i;return t.type==iA?(r=this,t.Ha().then(function(t){return t={idToken:t},void 0!==n&&(t.displayName=n),eg(t,{phoneVerificationInfo:ij(r.a)}),aY(e,aB,t)})):(i=this,t.Ha().then(function(t){return eg(t={mfaPendingCredential:t},{phoneVerificationInfo:ij(i.a)}),aY(e,aI,t)}))},B(uk,uS),B(uN,uk),B(uD,tO),(r=uO.prototype).yc=function(e){var t,n;uR(this,(t=e.hd,n=[],V(t.mfaInfo||[],function(e){(e=rp(e))&&n.push(e)}),n))},r.Sb=function(){return this.a.I().then(function(e){return new il(e,null)})},r.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return u9(n.a,e),n.a.reload()})},r.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return aY(r,aq,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=K(t.b,function(e){return e.uid!=n});return uR(t,r),u9(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},r.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(e){return e.w()})}}},uF.prototype.start=function(){this.a=this.c,function e(t,n){var r;t.stop(),t.b=t7((r=n)?(t.a=t.c,t.g()):(r=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),r)).then(function(){var e,t;return e=u.document,t=null,ri()||!e?tA():new ti(function(n){t=function(){ri()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}).then(function(){return t.h()}).then(function(){e(t,!0)}).o(function(n){t.i(n)&&e(t,!1)})}(this,!0)},uF.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},uL.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},uL.prototype.getToken=function(e){var t,n,r;return e=!!e,this.b&&!this.a?td(new x("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?(t=this,n={grant_type:"refresh_token",refresh_token:this.a},(r=t.f,new ti(function(e,t){"refresh_token"==n.grant_type&&n.refresh_token||"authorization_code"==n.grant_type&&n.code?ae(r,r.l+"?key="+encodeURIComponent(r.c),function(n){n?n.error?t(aX(n)):n.access_token&&n.refresh_token?e(n):t(new x("internal-error")):t(new x("network-request-failed"))},"POST",nC(n).toString(),r.g,r.m.get()):t(new x("internal-error"))})).then(function(e){return t.b=r4(e.access_token),t.a=e.refresh_token,uP(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})):tA(null):tA({accessToken:this.b.toString(),refreshToken:this.a})},uM.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},B(uZ,t3),uZ.prototype.xa=function(e){this.za=e,o6(this.a,e)},uZ.prototype.la=function(){return this.za},uZ.prototype.Ga=function(){return X(this.aa)},uZ.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},rl(uZ.prototype,"providerId","firebase"),(r=uZ.prototype).reload=function(){var e=this;return co(this,u1(this).then(function(){return u8(e).then(function(){return u$(e)}).then(u0)}))},r.oc=function(e){return this.I(e).then(function(e){return new uE(e)})},r.I=function(e){var t=this;return co(this,u1(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new x("internal-error");return e.accessToken!=t.Aa&&(uY(t,e.accessToken),t.dispatchEvent(new uD("tokenChanged"))),u5(t,"refreshToken",e.refreshToken),e.accessToken}))},r.Kc=function(e){if(!(e=e.users)||!e.length)throw new x("internal-error");uJ(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?G(t,function(e){return new uj(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[],r=0;r<n.length;r++)u4(this,n[r]);u5(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uD("userReloaded",{hd:e}))},r.Lc=function(e){return ru("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},r.ub=function(e){var t=this,n=null;return co(this,e.c(this.a,this.uid).then(function(e){return u9(t,e),n=ce(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},r.Cc=function(e){return ru("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},r.rb=function(e){var t=this,n=null;return co(this,u7(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=ce(t,e,"link"),ct(t,e)}).then(function(){return n}))},r.Dc=function(e,t){var n=this;return co(this,u7(this,"phone").then(function(){return u_(uz(n),e,t,_(n.rb,n))}))},r.Mc=function(e,t){var n=this;return co(this,tA().then(function(){return u_(uz(n),e,t,_(n.ub,n))}),!0)},r.Cb=function(e){var t=this;return co(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return u9(t,e),t.reload()}))},r.ed=function(e){var t=this;return co(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return u9(t,e),t.reload()}))},r.Db=function(e){var t=this;return co(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return u9(t,e),t.reload()}))},r.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return u1(this);var t=this;return co(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return u9(t,e),u5(t,"displayName",e.displayName||null),u5(t,"photoURL",e.photoUrl||null),V(t.providerData,function(e){"password"===e.providerId&&(rl(e,"displayName",t.displayName),rl(e,"photoURL",t.photoURL))}),u$(t)}).then(u0))},r.cd=function(e){var t=this;return co(this,u8(this).then(function(n){return W(u2(t),e)?aY(t.a,a_,{idToken:n,deleteProvider:[e]}).then(function(e){var n={};return V(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),V(u2(t),function(e){n[e]||u3(t,e)}),n[iZ.PROVIDER_ID]||rl(t,"phoneNumber",null),u$(t)}):u$(t).then(function(){throw new x("no-such-provider")})}))},r.delete=function(){var e=this;return co(this,this.I().then(function(t){return aY(e.a,aw,{idToken:t})}).then(function(){e.dispatchEvent(new uD("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");uH(e,null),uV(e,null),uG(e,null),e.N=[],e.J=!0,uq(e),rl(e,"refreshToken",null),e.b&&ui(e.b,e)})},r.Gb=function(e,t){return"linkViaPopup"==e&&(this.g||null)==t&&!!this.f||"reauthViaPopup"==e&&(this.g||null)==t&&!!this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t},r.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},r.Ec=function(e){var t=this;return cn(this,"linkViaPopup",e,function(){return u7(t,e.providerId).then(function(){return u$(t)})},!1)},r.Nc=function(e){return cn(this,"reauthViaPopup",e,function(){return tA()},!0)},r.Fc=function(e){var t=this;return cr(this,"linkViaRedirect",e,function(){return u7(t,e.providerId)},!1)},r.Oc=function(e){return cr(this,"reauthViaRedirect",e,function(){return tA()},!0)},r.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return co(this,this.I().then(function(n){return ah(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=ce(i,e,"link"),ct(i,e)}).then(function(){return o}))},r.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return co(this,tA().then(function(){return ip(ap(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=ce(i,e,"reauthenticate"),u9(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},r.vb=function(e){var t=this,n=null;return co(this,this.I().then(function(t){return n=t,void 0===e||ef(e)?{}:r0(new rV(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},r.Fb=function(e,t){var n=this,r=null;return co(this,this.I().then(function(e){return r=e,void 0===t||ef(t)?{}:r0(new rV(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},r.jc=function(e){var t=null,n=this;return co(this,e=ip(tA(e),n.uid).then(function(e){return t=ce(n,e,"reauthenticate"),u9(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},r.toJSON=function(){return this.w()},r.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&eg(e,this.metadata.w()),V(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),eg(e,this.S.w()),e};var cu={name:"redirectUser",F:"session"};function cc(e){return sM(e.b,cu,e.a)}function cl(e){var t,n,r,i,o,a,s,c;this.a=e,this.b=sL(),this.c=null,this.f=(t=this,a=cf("local"),s=cf("session"),c=cf("none"),(n=t.b,i=sU(a,r=t.a),o=sP(n,a.F),n.get(a,r).then(function(e){var t=null;try{t=n7(u.localStorage.getItem(i))}catch(e){}if(t&&!e)return u.localStorage.removeItem(i),n.set(a,t,r);t&&e&&"localStorage"!=o.type&&u.localStorage.removeItem(i)})).then(function(){return t.b.get(s,t.a)}).then(function(e){return e?s:t.b.get(c,t.a).then(function(e){return e?c:t.b.get(a,t.a).then(function(e){return e?a:t.b.get(cd,t.a).then(function(e){return e?cf(e):a})})})}).then(function(e){return t.c=e,cA(t,e.F)}).o(function(){t.c||(t.c=a)})),this.b.addListener(cf("local"),this.a,_(this.g,this))}function cA(e,t){var n,r=[];for(n in sR)sR[n]!==t&&r.push(sM(e.b,cf(sR[n]),e.a));return r.push(sM(e.b,cd,e.a)),new ti(function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)tf(r[s],E(o,s),a);else e(i)})}cl.prototype.g=function(){var e=this,t=cf("local");cv(this,function(){return tA().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return cA(e,"local").then(function(){e.c=t})})})};var cd={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function ch(e,t){return cv(e,function(){return e.b.set(e.c,t.w(),e.a)})}function cp(e){return cv(e,function(){return sM(e.b,e.c,e.a)})}function cg(e,t,n){return cv(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),ca(e||{})})})}function cv(e,t){return e.f=e.f.then(t,t),e.f}function cm(e){var t,n,r,i,o,a,s,u,c,l;if(this.l=!1,rl(this,"settings",new ub),rl(this,"app",e),cI(this).options&&cI(this).options.apiKey)e=N.Z.SDK_VERSION?nJ(N.Z.SDK_VERSION):null,this.a=new oH(cI(this).options&&cI(this).options.apiKey,O(oK),e);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=N.Z.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=N.Z.INTERNAL.createSubscribe(_(this.Ac,this)),cC(this,null),this.i=new cl(cI(this).options.apiKey+":"+cI(this).name),this.D=new cs(cI(this).options.apiKey+":"+cI(this).name),this.$=ck(this,(o=this,c=cI(o).options.authDomain,l=(u=(a=o.D,s=cI(o).options.authDomain,a.b.get(cu,a.a).then(function(e){return e&&s&&(e.authDomain=s),ca(e||{})})).then(function(e){return(o.m=e)&&(e.ha=o.D),cc(o.D)}),ck(o,u)).then(function(){return cg(o.i,c,o.R)}).then(function(e){return e?(e.ha=o.D,o.m&&(o.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return ch(o.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:cp(o.i)})):null}).then(function(e){cC(o,e||null)}),ck(o,l))),this.h=ck(this,(t=this,t.$.then(function(){return cE(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(cf("local"),e.a,t.ja)}}))),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,n=this,r=cI(n).options.authDomain,i=cI(n).options.apiKey,r&&n4()&&(n.Oa=n.$.then(function(){if(!n.l){if(n.b=uf(r,i,cI(n).name,n.R),ur(n.b,n),cx(n)&&uX(cx(n)),n.m){uX(n.m);var e=n.m;e.xa(n.la()),uH(e,n),uK(e=n.m,n.J),uG(e,n),uQ(e=n.m,n.R),uV(e,n),n.m=null}return n.b}})),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,t3.call(this),Object.defineProperty(this,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),this.aa=null,Object.defineProperty(this,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),this.S=null,Object.defineProperty(this,"emulatorConfig",{get:function(){if(this.R){var e=nd(this.R.url);e=rd({protocol:e.c,host:e.a,port:e.g,options:rd({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1}),this.J=[],this.R=null}function cy(e){tO.call(this,"languageCodeChanged"),this.h=e}function cb(e){tO.call(this,"emulatorConfigChanged"),this.c=e}function cw(e){tO.call(this,"frameworkChanged"),this.f=e}function c_(e){return e.Oa||td(new x("auth-domain-config-required"))}function cE(e){if(!n4())return td(new x("operation-not-supported-in-this-environment"));var t=c_(e).then(function(){return e.b.ra()}).then(function(e){return e?rd(e):null});return ck(e,t)}function cC(e,t){var n,r;cx(e)&&(n=cx(e),r=e.Ba,Y(n.W,function(e){return e==r}),tq(cx(e),"tokenChanged",e.qa),tq(cx(e),"userDeleted",e.za),tq(cx(e),"userInvalidated",e.Aa),uq(cx(e))),t&&(t.W.push(e.Ba),tG(t,"tokenChanged",e.qa),tG(t,"userDeleted",e.za),tG(t,"userInvalidated",e.Aa),0<e.u&&uW(t)),rl(e,"currentUser",t),t&&(t.xa(e.la()),uH(t,e),uK(t,e.J),uG(t,e),uQ(t,e.R),uV(t,e))}function cB(e,t){var n=null,r=null;return ck(e,t.then(function(t){var i;return n=iH(t),r=r7(t),(i={}).apiKey=cI(e).options.apiKey,i.authDomain=cI(e).options.authDomain,i.appName=cI(e).name,e.R&&(i.emulatorConfig=e.R),e.$.then(function(){var n,r,o;return n=e.D,r=e.Ga(),o=new uZ(i,t),n&&(o.ha=n),r&&uK(o,r),o.reload().then(function(){return o})}).then(function(t){return cx(e)&&t.uid==cx(e).uid?u6(cx(e),t):(cC(e,t),uX(t)),e.da(t)}).then(function(){cS(e)})},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=uT(t.w(),e,_(e.kc,e))),n||t}).then(function(){return rd({user:cx(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function cI(e){return e.app}function cx(e){return e.currentUser}function cT(e){return cx(e)&&cx(e)._lat||null}function cS(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](cT(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](cT(e))}}function ck(e,t){return e.P.push(t),t.oa(function(){q(e.P,t)}),t}function cN(){}function cD(){this.a={},this.b=1e12}cl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");e:{for(r in sR)if(sR[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(nz()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!sf()&&"none"!==e)throw n;break;default:if(!n2()&&"none"!==e)throw n}}(e),cv(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,cA(n,e)}).then(function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)}):tA()})},B(cm,t3),B(cy,tO),B(cb,tO),B(cw,tO),(r=cm.prototype).yb=function(e){return ck(this,e=this.i.yb(e))},r.xa=function(e){this.aa===e||this.l||(this.aa=e,o6(this.a,this.aa),this.dispatchEvent(new cy(this.la())))},r.la=function(){return this.aa},r.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},r.gd=function(e,t){if(!this.R){var n;if(!/^https?:\/\//.test(e))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!n&&nH().then(function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}),this.R={url:e,ec:t},this.settings.jb=!0,o8(this.a,this.R),this.dispatchEvent(new cb(this.R))}},r.Gc=function(e){this.J.push(e),o7(this.a,N.Z.SDK_VERSION?nJ(N.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new cw(this.J))},r.Ga=function(){return X(this.J)},r.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},r.T=function(){return this.S},r.toJSON=function(){return{apiKey:cI(this).options.apiKey,authDomain:cI(this).options.authDomain,appName:cI(this).name,currentUser:cx(this)&&cx(this).w()}},r.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},r.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},r.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return cB(i,af(i.a,o))})},r.Xc=function(e){if(!n4())return td(new x("operation-not-supported-in-this-environment"));var t=this,n=r9(e.providerId),r=re(),i=null;(!n6()||nK())&&cI(this).options.authDomain&&e.isOAuthProvider&&(i=st(cI(this).options.authDomain,cI(this).options.apiKey,cI(this).name,"signInViaPopup",e,null,r,N.Z.SDK_VERSION||null,null,null,this.T(),this.R));var o=nj(i,n&&n.va,n&&n.ua);return ck(this,n=c_(this).then(function(n){return us(n,o,"signInViaPopup",e,r,!!i,t.T())}).then(function(){return new ti(function(e,n){t.na("signInViaPopup",null,new x("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=ul(t.b,t,"signInViaPopup",o,r)})}).then(function(e){return o&&nM(o),e?rd(e):null}).o(function(e){throw o&&nM(o),e}))},r.Yc=function(e){if(!n4())return td(new x("operation-not-supported-in-this-environment"));var t=this;return ck(this,c_(this).then(function(){var e;return cv(e=t.i,function(){return e.b.set(cd,e.c.F,e.a)})}).then(function(){return uc(t.b,"signInViaRedirect",e,void 0,t.T())}))},r.ra=function(){var e=this;return cE(this).then(function(t){return e.b&&ug(e.b.b),t}).o(function(t){throw e.b&&ug(e.b.b),t})},r.dd=function(e){if(!e)return td(new x("null-user"));if(this.S!=e.tenantId)return td(new x("tenant-id-mismatch"));var t,n,r,i,o,a=this,s={};s.apiKey=cI(this).options.apiKey,s.authDomain=cI(this).options.authDomain,s.appName=cI(this).name;var u=(t=s,n=a.D,r=a.Ga(),i=e.h,(o={})[o1]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new uZ(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&uK(t,r),u6(t,e),t);return ck(this,this.h.then(function(){if(cI(a).options.apiKey!=e.l)return u.reload()}).then(function(){return cx(a)&&e.uid==cx(a).uid?(u6(cx(a),e),a.da(e)):(cC(a,u),uX(u),a.da(u))}).then(function(){cS(a)}))},r.Bb=function(){var e=this;return ck(this,this.h.then(function(){return(e.b&&ug(e.b.b),cx(e))?(cC(e,null),cp(e.i).then(function(){cS(e)})):tA()}))},r.Zc=function(){var e=this;return cg(this.i,cI(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=cx(e)&&t){n=cx(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return u6(cx(e),t),cx(e).I();(cx(e)||t)&&(cC(e,t),t&&(uX(t),t.ha=e.D),e.b&&ur(e.b,e),cS(e))}})},r.da=function(e){return ch(this.i,e)},r.mc=function(){cS(this),this.da(cx(this))},r.wc=function(){this.Bb()},r.xc=function(){this.Bb()},r.kc=function(e){var t=this;return this.h.then(function(){return cB(t,tA(e))})},r.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(cx(t))})},r.Ac=function(e){var t,n,r=this;t=this,n=function(){e.next(cx(r))},t.N.push(n),ck(t,t.h.then(function(){!t.l&&W(t.N,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(cT(t)))}))},r.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(cx(r)):"function"==typeof e.next&&e.next(cx(r))}),this.Pa(e,t,n)},r.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof e?e(cx(r)):"function"==typeof e.next&&e.next(cx(r))}),this.ib(e,t,n)},r.nc=function(e){var t=this;return ck(this,this.h.then(function(){return cx(t)?cx(t).I(e).then(function(e){return{accessToken:e}}):null}))},r.Tc=function(e){var t=this;return this.h.then(function(){return cB(t,aY(t.a,aV,{token:e}))}).then(function(e){var n=e.user;return u5(n,"isAnonymous",!1),t.da(n),e})},r.Uc=function(e,t){var n=this;return this.h.then(function(){return cB(n,aY(n.a,aK,{email:e,password:t}))})},r.dc=function(e,t){var n=this;return this.h.then(function(){return cB(n,aY(n.a,ay,{email:e,password:t}))})},r.ab=function(e){var t=this;return this.h.then(function(){return cB(t,e.ka(t.a))})},r.Sc=function(e){return ru("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},r.Ab=function(){var e=this;return this.h.then(function(){var t=cx(e);if(t&&t.isAnonymous){var n=rd({providerId:null,isNewUser:!1});return rd({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return cB(e,e.a.Ab()).then(function(t){var n=t.user;return u5(n,"isAnonymous",!0),e.da(n),t})})},r.getUid=function(){return cx(this)&&cx(this).uid||null},r.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&cx(this)&&uW(cx(this))},r.Pc=function(e){var t=this;V(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&cx(this)&&uq(cx(this)),this.removeAuthTokenListener(e)},r.addAuthTokenListener=function(e){var t=this;this.s.push(e),ck(this,this.h.then(function(){t.l||W(t.s,e)&&e(cT(t))}))},r.removeAuthTokenListener=function(e){Y(this.s,function(t){return t==e})},r.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(ui(this.b,this),ug(this.b.b)),Promise.resolve()},r.hc=function(e){return ck(this,aY(this.a,ab,{identifier:e,continueUri:n3()?nL():"http://localhost"}).then(function(e){return e.signinMethods||[]}))},r.Bc=function(e){return!!iP(e)},r.xb=function(e,t){var n=this;return ck(this,tA().then(function(){var e=new rV(t);if(!e.c)throw new x("argument-error",rz+" must be true when sending sign in link to email");return r0(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},r.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},r.ob=function(e,t){return ck(this,this.a.ob(e,t).then(function(){}))},r.Sa=function(e){return ck(this,this.a.Sa(e).then(function(e){return new rw(e)}))},r.kb=function(e){return ck(this,this.a.kb(e).then(function(){}))},r.wb=function(e,t){var n=this;return ck(this,tA().then(function(){return void 0===t||ef(t)?{}:r0(new rV(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},r.Wc=function(e,t){return ck(this,u_(this,e,t,_(this.ab,this)))},r.Vc=function(e,t){var n=this;return ck(this,tA().then(function(){var r=t||nL(),i=iL(e,r);if(!(r=iP(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.ab(i)}))},cN.prototype.render=function(){},cN.prototype.reset=function(){},cN.prototype.getResponse=function(){},cN.prototype.execute=function(){};var cO=null;function cR(e,t){return(t=cF(t))&&e.a[t]||null}function cF(e){return(e=void 0===e?1e12:e)?e.toString():null}function cL(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=e5(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():tG(this.f,"click",this.i)}function cP(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function cU(){}function cM(){}cD.prototype.render=function(e,t){return this.a[this.b.toString()]=new cL(e,t),this.b++},cD.prototype.reset=function(e){var t=cR(this,e);e=cF(e),t&&e&&(t.delete(),delete this.a[e])},cD.prototype.getResponse=function(e){return(e=cR(this,e))?e.getResponse():null},cD.prototype.execute=function(e){(e=cR(this,e))&&e.execute()},cL.prototype.getResponse=function(){return cP(this),this.b},cL.prototype.execute=function(){cP(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},cL.prototype.delete=function(){cP(this),this.g=!0,clearTimeout(this.a),this.a=null,tq(this.f,"click",this.i)},rl(cU,"FACTOR_ID","phone"),cM.prototype.g=function(){return cO||(cO=new cD),tA(cO)},cM.prototype.c=function(){};var cj=null;function cZ(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cQ=new em(ew,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cH=new rr(3e4,6e4);cZ.prototype.g=function(e){var t=this;return new ti(function(n,r){var i=setTimeout(function(){r(new x("network-request-failed"))},cH.get());u.grecaptcha&&(e===t.f||t.b)?(clearTimeout(i),n(u.grecaptcha)):(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete u[t.a]},tA(oL(eB(cQ,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))})},cZ.prototype.c=function(){this.b--};var cV=null;function cK(e,t,n,r,i,o,a){if(rl(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(cj||(cj=new cM),a=cj):(cV||(cV=new cZ),a=cV),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[cW])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[cq],!u.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!e5(t)||!this.i&&e5(t).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oH(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[cG];this.a[cG]=function(e){if(cY(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=n1(c,u);"function"==typeof t&&t(e)}};var l=this.a[cz];this.a[cz]=function(){if(cY(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=n1(l,u);"function"==typeof e&&e()}}}var cG="callback",cz="expired-callback",cW="sitekey",cq="size";function cY(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function c$(e,t){return e.h.push(t),t.oa(function(){q(e.h,t)}),t}function cX(e){if(e.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function cJ(e,t,n){var r=!1;try{this.b=n||N.Z.app()}catch(e){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)n=this.b.options.apiKey;else throw new x("invalid-api-key");var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=N.Z.SDK_VERSION?nJ(N.Z.SDK_VERSION,o):null,cK.call(this,n,e,t,function(){try{var e=i.b.auth().la()}catch(t){e=null}return e},o,O(oK),r)}function c0(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=c1.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=c1[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new x("argument-error",e+" failed: "+r)}(r=cK.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=c$(this,tA().then(function(){if(n3()&&!nG())return nH();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,aY(e.s,aO,{})}).then(function(t){e.a[cW]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},r.render=function(){cX(this);var e=this;return c$(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=e5(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!e3&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',eQ(a.name),'"'),a.type){o.push(' type="',eQ(a.type),'"');var s={};eg(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=e9(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):e6(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!h(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}V(a?X(o):o,r)}}}(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},r.verify=function(){cX(this);var e=this;return c$(this,this.render().then(function(t){return new ti(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(Y(e.l,function(e){return e==i}),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},r.reset=function(){cX(this),null!==this.c&&this.g.reset(this.c)},r.clear=function(){cX(this),this.J=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=e5(this.v);e=t.firstChild;)t.removeChild(e)},B(cJ,cK);var c1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function c2(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function c4(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function c3(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function c5(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function c6(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function c8(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function c9(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function c7(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function le(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function lt(e){return g(e)&&"string"==typeof e.uid}function ln(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function lr(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function li(e,t){for(var n in t){var r=t[n].name;e[r]=ls(r,e[n],t[n].j)}}function lo(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E(function(e){return this[e]},n),set:E(function(e,t,n,r){c0(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function la(e,t,n,r){e[t]=ls(t,n,r)}function ls(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return c0(a,n,e),t.apply(this,e)}if(!n)return t;var i,o,a=(i=(i=e).split("."))[i.length-1];for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}li(cm.prototype,{kb:{name:"applyActionCode",j:[c2("code")]},Sa:{name:"checkActionCode",j:[c2("code")]},ob:{name:"confirmPasswordReset",j:[c2("code"),c2("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[c2("email"),c2("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[c2("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[c2("emailLink")]},Hc:{name:"onAuthStateChanged",j:[lr(c3(),c5(),"nextOrObserver"),c5("opt_error",!0),c5("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[lr(c3(),c5(),"nextOrObserver"),c5("opt_error",!0),c5("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[c2("email"),lr(c3("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[c2("email"),c3("actionCodeSettings")]},yb:{name:"setPersistence",j:[c2("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[c8()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[c8()]},Tc:{name:"signInWithCustomToken",j:[c2("token")]},Uc:{name:"signInWithEmailAndPassword",j:[c2("email"),c2("password")]},Vc:{name:"signInWithEmailLink",j:[c2("email"),c2("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Xc:{name:"signInWithPopup",j:[c7()]},Yc:{name:"signInWithRedirect",j:[c7()]},dd:{name:"updateCurrentUser",j:[lr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof uZ)}},c6(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[c2(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[c2("url"),c3("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[c2("code")]}}),lo(cm.prototype,{lc:{name:"languageCode",lb:lr(c2(),c6(),"languageCode")},ti:{name:"tenantId",lb:lr(c2(),c6(),"tenantId")}}),cm.Persistence=sR,cm.Persistence.LOCAL="local",cm.Persistence.SESSION="session",cm.Persistence.NONE="none",li(uZ.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[c4("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[c4("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[c8()]},rb:{name:"linkWithCredential",j:[c8()]},Dc:{name:"linkWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Ec:{name:"linkWithPopup",j:[c7()]},Fc:{name:"linkWithRedirect",j:[c7()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[c8()]},ub:{name:"reauthenticateWithCredential",j:[c8()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Nc:{name:"reauthenticateWithPopup",j:[c7()]},Oc:{name:"reauthenticateWithRedirect",j:[c7()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[lr(c3("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[c2(null,!0)]},cd:{name:"unlink",j:[c2("provider")]},Cb:{name:"updateEmail",j:[c2("email")]},Db:{name:"updatePassword",j:[c2("password")]},ed:{name:"updatePhoneNumber",j:[c8("phone")]},Eb:{name:"updateProfile",j:[c3("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[c2("email"),lr(c3("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]}}),li(cD.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),li(cN.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),li(ti.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),lo(ub.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:c4("appVerificationDisabledForTesting")}}),li(uw.prototype,{confirm:{name:"confirm",j:[c2("verificationCode")]}}),la(ih,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[iw,iR,iM,im],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[lr(c2(),c3(),"json")]),la(iF,"credential",function(e,t){return new iO(e,t)},[c2("email"),c2("password")]),li(iO.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(iB.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),la(iB,"credential",iI,[lr(c2(),c3(),"token")]),la(iF,"credentialWithLink",iL,[c2("email"),c2("emailLink")]),li(ix.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),la(ix,"credential",iT,[lr(c2(),c3(),"token")]),li(iS.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),la(iS,"credential",ik,[lr(c2(),lr(c3(),c6()),"idToken"),lr(c2(),c6(),"accessToken",!0)]),li(iN.prototype,{Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),la(iN,"credential",iD,[lr(c2(),c3(),"token"),c2("secret",!0)]),li(iC.prototype,{Ca:{name:"addScope",j:[c2("scope")]},credential:{name:"credential",j:[lr(c2(),lr(c3(),c6()),"optionsOrIdToken"),lr(c2(),c6(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[c3("customOAuthParameters")]}}),li(iy.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(ig.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),la(iZ,"credential",iQ,[c2("verificationId"),c2("verificationCode")]),li(iZ.prototype,{gb:{name:"verifyPhoneNumber",j:[lr(c2(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?le(e.session,iA)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?le(e.session,id)&&lt(e.multiFactorHint):e.session&&e.multiFactorUid?le(e.session,id)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),ln()]}}),li(iU.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(x.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(iY.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(iq.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(ux.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(uC.prototype,{Rc:{name:"resolveSignIn",j:[c9()]}}),li(uO.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c9(),c2("displayName",!0)]},bd:{name:"unenroll",j:[lr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:lt},c2(),"multiFactorInfoIdentifier")]}}),li(cJ.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),la(rF,"parseLink",rH,[c2("link")]),la(cU,"assertion",function(e){return new uN(e)},[c8("phone")]),function(){if(void 0!==N.Z&&N.Z.INTERNAL&&N.Z.INTERNAL.registerComponent){var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rE,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:r_,VERIFY_AND_CHANGE_EMAIL:rC,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cm,AuthCredential:ih,Error:x};la(e,"EmailAuthProvider",iF,[]),la(e,"FacebookAuthProvider",iB,[]),la(e,"GithubAuthProvider",ix,[]),la(e,"GoogleAuthProvider",iS,[]),la(e,"TwitterAuthProvider",iN,[]),la(e,"OAuthProvider",iC,[c2("providerId")]),la(e,"SAMLAuthProvider",iE,[c2("providerId")]),la(e,"PhoneAuthProvider",iZ,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof cm)}}]),la(e,"RecaptchaVerifier",cJ,[lr(c2(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),c3("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof N.Z.app.App)}}]),la(e,"ActionCodeURL",rF,[]),la(e,"PhoneMultiFactorGenerator",cU,[]),N.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new cm(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),N.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return e=e.getProvider("auth").getImmediate(),{getUid:_(e.getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),N.Z.registerVersion("@firebase/auth","0.16.8"),N.Z.INTERNAL.extendNamespace({User:uZ})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var D=n(22970),O=n(76765),R=n(13936),F=function(e,t){return(F=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function L(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var P,U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},M=M||{},j=U||self;function Z(){}function Q(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function H(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function V(e,t,n){return e.call.apply(e.bind,arguments)}function K(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function G(e,t,n){return(G=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V:K).apply(null,arguments)}function z(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function W(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function q(){this.s=this.s,this.o=this.o}q.prototype.s=!1,q.prototype.na=function(){this.s||(this.s=!0,this.M())},q.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Y=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1},$=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ee(e){return/^[\s\xa0]*$/.test(e)}var et=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function en(e,t){return -1!=e.indexOf(t)}function er(e,t){return e<t?-1:e>t?1:0}e:{var ei=j.navigator;if(ei){var eo=ei.userAgent;if(eo){iQ=eo;break e}}iQ=""}function ea(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function es(e){var t={};for(var n in e)t[n]=e[n];return t}var eu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ec(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<eu.length;o++)n=eu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function el(e){return el[" "](e),e}el[" "]=Z;var eA=en(iQ,"Opera"),ed=en(iQ,"Trident")||en(iQ,"MSIE"),ef=en(iQ,"Edge"),eh=ef||ed,ep=en(iQ,"Gecko")&&!(en(iQ.toLowerCase(),"webkit")&&!en(iQ,"Edge"))&&!(en(iQ,"Trident")||en(iQ,"MSIE"))&&!en(iQ,"Edge"),eg=en(iQ.toLowerCase(),"webkit")&&!en(iQ,"Edge");function ev(){var e=j.document;return e?e.documentMode:void 0}e:{var em,ey="",eb=(em=iQ,ep?/rv:([^\);]+)(\)|;)/.exec(em):ef?/Edge\/([\d\.]+)/.exec(em):ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(em):eg?/WebKit\/(\S+)/.exec(em):eA?/(?:Version)[ \/]?(\S+)/.exec(em):void 0);if(eb&&(ey=eb?eb[1]:""),ed){var ew=ev();if(null!=ew&&ew>parseFloat(ey)){iH=String(ew);break e}}iH=ey}var e_={},eE=j.document&&ed&&(ev()||parseInt(iH,10))||void 0,eC=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{j.addEventListener("test",Z,t),j.removeEventListener("test",Z,t)}catch(e){}return e}();function eB(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function eI(e,t){if(eB.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ep){e:{try{el(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ex[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&eI.Z.h.call(this)}}eB.prototype.h=function(){this.defaultPrevented=!0},W(eI,eB);var ex={2:"touch",3:"pen",4:"mouse"};eI.prototype.h=function(){eI.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var eT="closure_listenable_"+(1e6*Math.random()|0),eS=0;function ek(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++eS,this.ca=this.fa=!1}function eN(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function eD(e){this.src=e,this.g={},this.h=0}function eO(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Y(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(eN(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function eR(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&!!n==o.capture&&o.ia==r)return i}return -1}eD.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=eR(e,t,r,i);return -1<a?(t=e[a],n||(t.fa=!1)):((t=new ek(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var eF="closure_lm_"+(1e6*Math.random()|0),eL={};function eP(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=H(i)?!!i.capture:!!i,s=eZ(e);if(s||(e[eF]=s=new eD(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function e(t){return ej.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)eC||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eU(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[eT])eO(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=eZ(t))?(eO(n,e),0==n.h&&(n.src=null,t[eF]=null)):eN(e)}}}function eM(e){return e in eL?eL[e]:eL[e]="on"+e}function ej(e,t){if(e.ca)e=!0;else{t=new eI(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&eU(e),e=n.call(r,t)}return e}function eZ(e){return(e=e[eF])instanceof eD?e:null}var eQ="__closure_events_fn_"+(1e9*Math.random()>>>0);function eH(e){return"function"==typeof e?e:(e[eQ]||(e[eQ]=function(t){return e.handleEvent(t)}),e[eQ])}function eV(){q.call(this),this.i=new eD(this),this.P=this,this.I=null}function eK(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new eB(t,e);else if(t instanceof eB)t.target=t.target||e;else{var i=t;ec(t=new eB(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=eG(a,r,!0,t)&&i}if(i=eG(a=t.g=e,r,!0,t)&&i,i=eG(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=eG(a=t.g=n[o],r,!1,t)&&i}function eG(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&eO(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}W(eV,q),eV.prototype[eT]=!0,eV.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else(i=H(i)?!!i.capture:!!i,r=eH(r),t&&t[eT])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=eR(a=t.g[n],r,i,o))&&(eN(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=eZ(t))&&(n=t.g[n.toString()],t=-1,n&&(t=eR(n,r,i,o)),(r=-1<t?n[t]:null)&&eU(r))}(this,e,t,n,r)},eV.prototype.M=function(){if(eV.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eN(n[r]);delete t.g[e],t.h--}}this.I=null},eV.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},eV.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ez=j.JSON.stringify,eW=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=eq.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),eq=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new eY},function(e){return e.reset()}),eY=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function e$(e,t){var n;iK||(n=j.Promise.resolve(void 0),iK=function(){n.then(e0)}),eX||(iK(),eX=!0),eJ.add(e,t)}var eX=!1,eJ=new eW;function e0(){for(var e,t;e=null,eJ.g&&(e=eJ.g,eJ.g=eJ.g.next,eJ.g||(eJ.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){j.setTimeout(function(){throw e},0)}(e)}eq.j(t),100>eq.h&&(eq.h++,t.next=eq.g,eq.g=t)}eX=!1}function e1(e,t){eV.call(this),this.h=e||1,this.g=t||j,this.j=G(this.kb,this),this.l=Date.now()}function e2(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function e4(e,t,n){if("function"==typeof e)n&&(e=G(e,n));else if(e&&"function"==typeof e.handleEvent)e=G(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:j.setTimeout(e,t||0)}W(e1,eV),(P=e1.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),eK(this,"tick"),this.da&&(e2(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){e1.Z.M.call(this),e2(this),delete this.g};var e3=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=e4(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(q);function e5(e){q.call(this),this.h=e,this.g={}}W(e5,q);var e6=[];function e8(e,t,n,r){Array.isArray(n)||(n&&(e6[0]=n.toString()),n=e6);for(var i=0;i<n.length;i++){var o=function e(t,n,r,i,o){if(i&&i.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=eH(r),t&&t[eT]?t.O(n,r,H(i)?!!i.capture:!!i,o):eP(t,n,r,!0,i,o)}(t,n,r,i,o);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=eH(r),t&&t[eT]?t.N(n,r,H(i)?!!i.capture:!!i,o):eP(t,n,r,!1,i,o)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function e9(e){ea(e.g,function(e,t){this.g.hasOwnProperty(t)&&eU(e)},e),e.g={}}function e7(){this.g=!0}function te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}}return ez(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}e5.prototype.M=function(){e5.Z.M.call(this),e9(this)},e5.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},e7.prototype.Aa=function(){this.g=!1},e7.prototype.info=function(){};var tt={},tn=null;function tr(){return tn=tn||new eV}function ti(e){eB.call(this,tt.Ma,e)}function to(e){var t=tr();eK(t,new ti(t,e))}function ta(e,t){eB.call(this,tt.STAT_EVENT,e),this.stat=t}function ts(e){var t=tr();eK(t,new ta(t,e))}function tu(e,t){eB.call(this,tt.Na,e),this.size=t}function tc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){e()},t)}tt.Ma="serverreachability",W(ti,eB),tt.STAT_EVENT="statevent",W(ta,eB),tt.Na="timingevent",W(tu,eB);var tl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function td(){}function tf(e){return e.h||(e.h=e.i())}function th(){}td.prototype.h=null;var tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tg(){eB.call(this,"d")}function tv(){eB.call(this,"c")}function tm(){}function ty(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new e5(this),this.P=tw,e=eh?125:void 0,this.W=new e1(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tb}function tb(){this.i=null,this.g="",this.h=!1}W(tg,eB),W(tv,eB),W(tm,td),tm.prototype.g=function(){return new XMLHttpRequest},tm.prototype.i=function(){return{}},iG=new tm;var tw=45e3,t_={},tE={};function tC(e,t,n){e.K=1,e.v=tG(tj(t)),e.s=n,e.U=!0,tB(e,null)}function tB(e,t){e.F=Date.now(),tT(e),e.A=tj(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),t5(n.h,"t",r),e.C=0,n=e.l.H,e.h=new tb,e.g=nq(e.l,n?t:null,!e.s),0<e.O&&(e.L=new e3(G(e.Ia,e,e.g),e.O)),e8(e.V,e.g,"readystatechange",e.gb),t=e.H?es(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),to(1),function(e,t,n,r,i,o){e.info(function(){if(e.g){if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var A=l.split("_");a=2<=A.length&&"type"==A[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null}else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function tI(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function tx(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;)if((r=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?tE:isNaN(n=Number(t.substring(n,r)))?t_:(r+=1)+n>t.length?tE:(t=t.substr(r,n),e.C=r+n,t)}(e,n))==tE){4==t&&(e.o=4,ts(14),i=!1),te(e.j,e.m,null,"[Incomplete Response]");break}else if(r==t_){e.o=4,ts(15),te(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else te(e.j,e.m,r,null),tO(e,r);tI(e)&&r!=tE&&r!=t_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ts(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nZ(t),t.L=!0,ts(11))):(te(e.j,e.m,n,"[Invalid Chunked Response]"),tD(e),tN(e))}function tT(e){e.Y=Date.now()+e.P,tS(e,e.P)}function tS(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tc(G(e.eb,e),t)}function tk(e){e.B&&(j.clearTimeout(e.B),e.B=null)}function tN(e){0==e.l.G||e.I||nV(e.l,e)}function tD(e){tk(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,e2(e.W),e9(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tO(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||nn(n.i,e))){if(n.I=e.N,!e.J&&nn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)nH(n),nD(n);else break e}nj(n),ts(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tc(G(n.ab,n),6e3));if(1>=nt(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else nG(n,11)}else if((e.J||n.g==e)&&nH(n),!ee(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G){if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var A=r.i;!A.g&&(en(l,"spdy")||en(l,"quic")||en(l,"h2"))&&(A.j=A.l,A.g=new Set,A.h&&(nr(A,A.h),A.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,tK(r.F,r.D,d))}}if(n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),(r=n).oa=nW(r,r.H?r.la:null,r.W),e.J){ni(r.i,e);var f=r.K;f&&e.setTimeout(f),e.B&&(tk(e),tT(e)),r.g=e}else nM(r);0<n.l.length&&nF(n)}else"stop"!=o[0]&&"close"!=o[0]||nG(n,7)}else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?nG(n,7):nN(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}}to(4)}catch(e){}}function tR(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Q(e)||"string"==typeof e)$(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Q(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Q(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function tF(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){if(e instanceof tF)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}}function tL(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];tP(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)tP(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function tP(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(P=ty.prototype).setTimeout=function(e){this.P=e},P.gb=function(e){e=e.target;var t=this.L;t&&3==nI(e)?t.l():this.Ia(e)},P.Ia=function(e){try{if(e==this.g)e:{var t=nI(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||eh||this.g&&(this.h.h||this.g.ga()||nx(this.g)))){this.I||4!=t||7==n||(8==n||0>=r?to(3):to(2)),tk(this);var i=this.g.ba();this.N=i;r:if(tI(this)){var o=nx(this.g);e="";var a=o.length,s=4==nI(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tD(this),tN(this);var u="";break r}this.h.i=new j.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){r:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(c)){var A=c;break r}}A=null}if(i=A)te(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tO(this,i);else{this.i=!1,this.o=3,ts(12),tD(this),tN(this);break e}}this.U?(tx(this,t,u),eh&&this.i&&3==t&&(e8(this.V,this.W,"tick",this.fb),this.W.start())):(te(this.j,this.m,u,null),tO(this,u)),4==t&&tD(this),this.i&&!this.I&&(4==t?nV(this.l,this):(this.i=!1,tT(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),tD(this),tN(this)}}}catch(e){}finally{}},P.fb=function(){if(this.g){var e=nI(this.g),t=this.g.ga();this.C<t.length&&(tk(this),tx(this,e,t),this.i&&4!=e&&tT(this))}},P.cancel=function(){this.I=!0,tD(this)},P.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(to(3),ts(17)),tD(this),this.o=2,tN(this)):tS(this,this.Y-e)},(P=tF.prototype).R=function(){tL(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},P.T=function(){return tL(this),this.g.concat()},P.get=function(e,t){return tP(this.h,e)?this.h[e]:t},P.set=function(e,t){tP(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},P.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var tU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tM(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof tM){this.g=void 0!==t?t:e.g,tZ(this,e.j),this.s=e.s,tQ(this,e.i),tH(this,e.m),this.l=e.l,t=e.h;var n=new t1;n.i=t.i,t.g&&(n.g=new tF(t.g),n.h=t.h),tV(this,n),this.o=e.o}else e&&(n=String(e).match(tU))?(this.g=!!t,tZ(this,n[1]||"",!0),this.s=tz(n[2]||""),tQ(this,n[3]||"",!0),tH(this,n[4]),this.l=tz(n[5]||"",!0),tV(this,n[6]||"",!0),this.o=tz(n[7]||"")):(this.g=!!t,this.h=new t1(null,this.g))}function tj(e){return new tM(e)}function tZ(e,t,n){e.j=n?tz(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tQ(e,t,n){e.i=n?tz(t,!0):t}function tH(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tV(e,t,n){var r,i;t instanceof t1?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(t2(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(t4(this,t),t5(this,n,e))},r)),r.j=i):(n||(t=tW(t,tJ)),e.h=new t1(t,e.g))}function tK(e,t,n){e.h.set(t,n)}function tG(e){return tK(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tz(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tW(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,tq),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tq(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tM.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tW(t,tY,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tW(t,tY,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tW(n,"/"==n.charAt(0)?tX:t$,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tW(n,t0)),e.join("")};var tY=/[#\/\?@]/g,t$=/[#\?:]/g,tX=/[#\?]/g,tJ=/[#\?@]/g,t0=/#/g;function t1(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function t2(e){e.g||(e.g=new tF,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function t4(e,t){t2(e),t=t6(e,t),tP(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,tP((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tL(e)))}function t3(e,t){return t2(e),t=t6(e,t),tP(e.g.h,t)}function t5(e,t,n){t4(e,t),0<n.length&&(e.i=null,e.g.set(t6(e,t),J(n)),e.h+=n.length)}function t6(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(P=t1.prototype).add=function(e,t){t2(this),this.i=null,e=t6(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},P.forEach=function(e,t){t2(this),this.g.forEach(function(n,r){$(n,function(n){e.call(t,n,r,this)},this)},this)},P.T=function(){t2(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},P.R=function(e){t2(this);var t=[];if("string"==typeof e)t3(this,e)&&(t=X(t,this.g.get(t6(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},P.set=function(e,t){return t2(this),this.i=null,t3(this,e=t6(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},P.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var t8=function(e,t){this.h=e,this.g=t};function t9(e){this.l=e||t7,e=j.PerformanceNavigationTiming?0<(e=j.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(j.g&&j.g.Ea&&j.g.Ea()&&j.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var t7=10;function ne(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nt(e){return e.h?1:e.g?e.g.size:0}function nn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nr(e,t){e.g?e.g.add(t):e.h=t}function ni(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function no(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=L(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return J(e.i)}function na(){}function ns(){this.g=new na}function nu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function nc(e){this.l=e.$b||null,this.j=e.ib||!1}function nl(e,t){eV.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t9.prototype.cancel=function(){var e,t;if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=L(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},na.prototype.stringify=function(e){return j.JSON.stringify(e,void 0)},na.prototype.parse=function(e){return j.JSON.parse(e,void 0)},W(nc,td),nc.prototype.g=function(){return new nl(this.l,this.j)},nc.prototype.i=(iZ={},function(){return iZ}),W(nl,eV);var nA=0;function nd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function nf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nh(e)}function nh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(P=nl.prototype).open=function(e,t){if(this.readyState!=nA)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nh(this)},P.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||j).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nf(this)),this.readyState=nA},P.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nh(this)),this.g&&(this.readyState=3,nh(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==j.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))}},P.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nf(this):nh(this),3==this.readyState&&nd(this)}},P.Ua=function(e){this.g&&(this.response=this.responseText=e,nf(this))},P.Ta=function(e){this.g&&(this.response=e,nf(this))},P.ha=function(){this.g&&nf(this)},P.setRequestHeader=function(e,t){this.v.append(e,t)},P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var np=j.JSON.parse;function ng(e){eV.call(this),this.headers=new tF,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nv,this.K=this.L=!1}W(ng,eV);var nv="",nm=/^https?$/i,ny=["POST","PUT"];function nb(e){return"content-type"==e.toLowerCase()}function nw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,n_(e),nC(e)}function n_(e){e.D||(e.D=!0,eK(e,"complete"),eK(e,"error"))}function nE(e){if(e.h&&void 0!==M&&(!e.C[1]||4!=nI(e)||2!=e.ba())){if(e.v&&4==nI(e))e4(e.Fa,0,e);else if(eK(e,"readystatechange"),4==nI(e)){e.h=!1;try{var t,n,r=e.ba();switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(t=i)){if(n=0===r){var o=String(e.H).match(tU)[1]||null;if(!o&&j.self&&j.self.location){var a=j.self.location.protocol;o=a.substr(0,a.length-1)}n=!nm.test(o?o.toLowerCase():"")}t=n}if(t)eK(e,"complete"),eK(e,"success");else{e.m=6;try{var s=2<nI(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",n_(e)}}finally{nC(e)}}}}function nC(e,t){if(e.g){nB(e);var n=e.g,r=e.C[0]?Z:null;e.g=null,e.C=null,t||eK(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function nB(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(j.clearTimeout(e.A),e.A=null)}function nI(e){return e.g?e.g.readyState:0}function nx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nT(e,t,n){e:{for(i in n){var r,i=!1;break e}i=!0}i||(r="",ea(n,function(e,t){r+=t+":"+e+"\r\n"}),n=r,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tK(e,t,n))}function nS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nk(e){this.za=0,this.l=[],this.h=new e7,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nS("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nS("baseRetryDelayMs",5e3,e),this.$a=nS("retryDelaySeedMs",1e4,e),this.Ya=nS("forwardChannelMaxRetries",2,e),this.ra=nS("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new t9(e&&e.concurrentRequestLimit),this.Ca=new ns,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function nN(e){if(nO(e),3==e.G){var t=e.V++,n=tj(e.F);tK(n,"SID",e.J),tK(n,"RID",t),tK(n,"TYPE","terminate"),nP(e,n),(t=new ty(e,e.h,t,void 0)).K=2,t.v=tG(tj(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(t.v.toString(),"")),!n&&j.Image&&((new Image).src=t.v,n=!0),n||(t.g=nq(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tT(t)}nz(e)}function nD(e){e.g&&(nZ(e),e.g.cancel(),e.g=null)}function nO(e){nD(e),e.u&&(j.clearTimeout(e.u),e.u=null),nH(e),e.i.cancel(),e.m&&("number"==typeof e.m&&j.clearTimeout(e.m),e.m=null)}function nR(e,t){e.l.push(new t8(e.Za++,t)),3==e.G&&nF(e)}function nF(e){ne(e.i)||e.m||(e.m=!0,e$(e.Ha,e),e.C=0)}function nL(e,t){n=t?t.m:e.V++;var n,r=tj(e.F);tK(r,"SID",e.J),tK(r,"RID",n),tK(r,"AID",e.U),nP(e,r),e.o&&e.s&&nT(r,e.o,e.s),n=new ty(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=nU(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nr(e.i,n),tC(n,r,t)}function nP(e,t){e.j&&tR({},function(e,n){tK(t,n,e)})}function nU(e,t,n){n=Math.min(e.l.length,n);for(var r=e.j?G(e.j.Oa,e.j,e):null,i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{!function(e,t,n){var r=n||"";try{tR(e,function(e,n){var i=e;H(e)&&(i=ez(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break}}return e=e.l.splice(0,n),t.D=e,r}function nM(e){e.g||e.u||(e.Y=1,e$(e.Ga,e),e.A=0)}function nj(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Y++,e.u=tc(G(e.Ga,e),nK(e,e.A)),e.A++,!0)}function nZ(e){null!=e.B&&(j.clearTimeout(e.B),e.B=null)}function nQ(e){e.g=new ty(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=tj(e.oa);tK(t,"RID","rpc"),tK(t,"SID",e.J),tK(t,"CI",e.N?"0":"1"),tK(t,"AID",e.U),nP(e,t),tK(t,"TYPE","xmlhttp"),e.o&&e.s&&nT(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tG(tj(t)),n.s=null,n.U=!0,tB(n,e)}function nH(e){null!=e.v&&(j.clearTimeout(e.v),e.v=null)}function nV(e,t){var n=null;if(e.g==t){nH(e),nZ(e),e.g=null;var r=2}else{if(!nn(e.i,t))return;n=t.D,ni(e.i,t),r=1}if(e.I=t.N,0!=e.G){if(t.i){if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i,o=e.C;eK(r=tr(),new tu(r,n,t,o)),nF(e)}else nM(e)}else if(3==(o=t.o)||0==o&&0<e.I||!(1==r&&(i=t,!(nt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=i.D.concat(e.l),!0):1!=e.G&&2!=e.G&&!(e.C>=(e.Xa?0:e.Ya))&&(e.m=tc(G(e.Ha,e,i),nK(e,e.C)),e.C++,!0)))||2==r&&nj(e)))switch(n&&0<n.length&&((t=e.i).i=t.i.concat(n)),o){case 1:nG(e,5);break;case 4:nG(e,10);break;case 3:nG(e,6);break;default:nG(e,2)}}}function nK(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nG(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=G(e.jb,e);n||(n=new tM("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||tZ(n,"https"),tG(n)),function(e,t){var n=new e7;if(j.Image){var r=new Image;r.onload=z(nu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=z(nu,n,r,"TestLoadImage: error",!1,t),r.onabort=z(nu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=z(nu,n,r,"TestLoadImage: timeout",!1,t),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else ts(2);e.G=0,e.j&&e.j.va(t),nz(e),nO(e)}function nz(e){e.G=0,e.I=-1,e.j&&((0!=no(e.i).length||0!=e.l.length)&&(e.i.i.length=0,J(e.l),e.l.length=0),e.j.ua())}function nW(e,t,n){var r=(i=n)instanceof tM?tj(i):new tM(i,void 0);if(""!=r.i)t&&tQ(r,t+"."+r.i),tH(r,r.m);else{var i,o,a,s,u,c,l=j.location;o=l.protocol,a=t?t+"."+l.hostname:l.hostname,s=+l.port,u=n,c=new tM(null,void 0),o&&tZ(c,o),a&&tQ(c,a),s&&tH(c,s),u&&(c.l=u),r=c}return e.aa&&ea(e.aa,function(e,t){tK(r,t,e)}),t=e.D,n=e.sa,t&&n&&tK(r,t,n),tK(r,"VER",e.ma),nP(e,r),r}function nq(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ng(n&&e.Ba&&!e.qa?new nc({ib:!0}):e.qa)).L=e.H,t}function nY(){}function n$(){if(ed&&!(10<=Number(eE)))throw Error("Environmental error: no available transport.")}function nX(e,t){eV.call(this),this.g=new nk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ee(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ee(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new n1(this)}function nJ(e){tg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function n0(){tv.call(this),this.status=1}function n1(e){this.g=e}(P=ng.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iG.g(),this.C=this.u?tf(this.u):tf(iG),this.g.onreadystatechange=G(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){nw(this,e);return}e=n||"";var i,o,a=new tF(this.headers);r&&tR(r,function(e,t){a.set(t,e)}),r=function(e){e:{for(var t=nb,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(a.T()),n=j.FormData&&e instanceof j.FormData,!(0<=Y(ny,t))||r||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nB(this),0<this.B&&((this.K=(i=this.g,ed&&(o=function(){for(var e=0,t=et(String(iH)).split("."),n=et("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=er(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||er(0==o[2].length,0==a[2].length)||er(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(e_,9)?e_[9]:e_[9]=o(9))&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=G(this.pa,this)):this.A=e4(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){nw(this,e)}},P.pa=function(){void 0!==M&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eK(this,"timeout"),this.abort(8))},P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eK(this,"complete"),eK(this,"abort"),nC(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nC(this,!0)),ng.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?nE(this):this.cb())},P.cb=function(){nE(this)},P.ba=function(){try{return 2<nI(this)?this.g.status:-1}catch(e){return -1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},P.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),np(t)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=nk.prototype).ma=8,P.G=1,P.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},P.Ha=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ty(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ec(n=es(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){r:{var o=this.l[i];if("__data__"in o.g&&"string"==typeof(o=o.g.__data__)){o=o.length;break r}o=void 0}if(void 0===o)break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=nU(this,t,r),tK(i=tj(this.F),"RID",e),tK(i,"CVER",22),this.D&&tK(i,"X-HTTP-Session-Id",this.D),nP(this,i),this.o&&n&&nT(i,this.o,n),nr(this.i,t),this.Ra&&tK(i,"TYPE","init"),this.ja?(tK(i,"$req",r),tK(i,"SID","null"),t.$=!0,tC(t,i,null)):tC(t,i,r),this.G=2}}else 3==this.G&&(e?nL(this,e):0==this.l.length||ne(this.i)||nL(this))}},P.Ga=function(){if(this.u=null,nQ(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tc(G(this.bb,this),e)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),nD(this),nQ(this))},P.ab=function(){null!=this.v&&(this.v=null,nD(this),nj(this),ts(19))},P.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},(P=nY.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},n$.prototype.g=function(e,t){return new nX(e,t)},W(nX,eV),nX.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),e$(G(e.hb,e,t))),ts(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nW(e,null,e.W),nF(e)},nX.prototype.close=function(){nN(this.g)},nX.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,nR(this.g,t)}else this.v?((t={}).__data__=ez(e),nR(this.g,t)):nR(this.g,e)},nX.prototype.M=function(){this.g.j=null,delete this.j,nN(this.g),delete this.g,nX.Z.M.call(this)},W(nJ,tg),W(n0,tv),W(n1,nY),n1.prototype.xa=function(){eK(this.g,"a")},n1.prototype.wa=function(e){eK(this.g,new nJ(e))},n1.prototype.va=function(e){eK(this.g,new n0(e))},n1.prototype.ua=function(){eK(this.g,"b")},n$.prototype.createWebChannel=n$.prototype.g,nX.prototype.send=nX.prototype.u,nX.prototype.open=nX.prototype.m,nX.prototype.close=nX.prototype.close,tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,tA.COMPLETE="complete",th.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",eV.prototype.listen=eV.prototype.N,ng.prototype.listenOnce=ng.prototype.O,ng.prototype.getLastError=ng.prototype.La,ng.prototype.getLastErrorCode=ng.prototype.Da,ng.prototype.getStatus=ng.prototype.ba,ng.prototype.getResponseJson=ng.prototype.Qa,ng.prototype.getResponseText=ng.prototype.ga,ng.prototype.send=ng.prototype.ea;var n2={PROXY:10,NOPROXY:11},n4=n(34406),n3=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();n3.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},n6=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,D.__extends)(t,e),t}(Error),n8=new R.Yd("@firebase/firestore");function n9(){return n8.logLevel}function n7(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n8.logLevel<=R.in.DEBUG){var r=t.map(rn);n8.debug.apply(n8,(0,D.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n8.logLevel<=R.in.ERROR){var r=t.map(rn);n8.error.apply(n8,(0,D.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function rt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n8.logLevel<=R.in.WARN){var r=t.map(rn);n8.warn.apply(n8,(0,D.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function rn(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw re(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(0),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ro(e,t){return e<t?-1:e>t?1:0}function ra(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new n6(n5.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new n6(n5.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ro(this.nanoseconds,e.nanoseconds):ro(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ru=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new rs(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&rr(),void 0===n?n=e.length-t:n>e.length-t&&rr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return -1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.indexOf("//")>=0)throw new n6(n5.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(rd),rh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return rh.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new n6(n5.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new n6(n5.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new n6(n5.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?a=!a:"."!==s||a?r+=s:o(),i++}if(o(),a)throw new n6(n5.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(rd),rg=function(){function e(e){this.fields=e,e.sort(rp.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ra(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),rv=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ro(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();rv.EMPTY_BYTE_STRING=new rv("");var rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ry(e){if(e||rr(),"string"==typeof e){var t=0,n=rm.exec(e);if(n||rr(),n[1]){var r=n[1];t=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:rb(e.seconds),nanos:rb(e.nanos)}}function rb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rw(e){return"string"==typeof e?rv.fromBase64String(e):rv.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rE(e){var t=ry(e.mapValue.fields.__local_write_time__.timestampValue);return new rs(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){return null==e}function rB(e){return 0===e&&1/e==-1/0}function rI(e){return"number"==typeof e&&Number.isInteger(e)&&!rB(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rx=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(rf.fromString(t))},e.fromName=function(t){return new e(rf.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===rf.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return rf.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new rf(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?r_(e)?4:10:rr()}function rS(e,t){var n=rT(e);if(n!==rT(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rE(e).isEqual(rE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ry(e.timestampValue),r=ry(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return rw(e.bytesValue).isEqual(rw(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return rb(e.geoPointValue.latitude)===rb(t.geoPointValue.latitude)&&rb(e.geoPointValue.longitude)===rb(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rb(e.integerValue)===rb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rb(e.doubleValue),r=rb(t.doubleValue);return n===r?rB(n)===rB(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ra(e.arrayValue.values||[],t.arrayValue.values||[],rS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rc(n)!==rc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rS(n[i],r[i])))return!1;return!0}(e,t);default:return rr()}}function rk(e,t){return void 0!==(e.values||[]).find(function(e){return rS(e,t)})}function rN(e,t){var n,r,i,o,a,s,u,c,l,A=rT(e),d=rT(t);if(A!==d)return ro(A,d);switch(A){case 0:return 0;case 1:return ro(e.booleanValue,t.booleanValue);case 2:return(n=rb(e.integerValue||e.doubleValue))<(r=rb(t.integerValue||t.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return rD(e.timestampValue,t.timestampValue);case 4:return rD(rE(e),rE(t));case 5:return ro(e.stringValue,t.stringValue);case 6:return i=e.bytesValue,o=t.bytesValue,a=rw(i),s=rw(o),a.compareTo(s);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ro(n[i],r[i]);if(0!==o)return o}return ro(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return u=e.geoPointValue,c=t.geoPointValue,0!==(l=ro(rb(u.latitude),rb(c.latitude)))?l:ro(rb(u.longitude),rb(c.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=rN(n[i],r[i]);if(o)return o}return ro(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ro(r[a],o[a]);if(0!==s)return s;var u=rN(n[r[a]],i[o[a]]);if(0!==u)return u}return ro(r.length,o.length)}(e.mapValue,t.mapValue);default:throw rr()}}function rD(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ro(e,t);var n=ry(e),r=ry(t),i=ro(n.seconds,r.seconds);return 0!==i?i:ro(n.nanos,r.nanos)}function rO(e){var t,n,r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(r=ry(e.timestampValue)).seconds+","+r.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?rw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rx.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=rO(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+rO(e.fields[o])}return t+"}"}(e.mapValue):rr()}function rR(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function rF(e){return!!e&&"integerValue"in e}function rL(e){return!!e&&"arrayValue"in e}function rP(e){return!!e&&"nullValue"in e}function rU(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rM(e){return!!e&&"mapValue"in e}function rj(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rl(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=rj(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rj(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rZ=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rM(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rj(t)},e.prototype.setAll=function(e){var t=this,n=rp.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=rj(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());rM(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return rS(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rM(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){rl(t,function(t,n){return e[t]=n});for(var r=0;r<n.length;r++){var i=n[r];delete e[i]}},e.prototype.clone=function(){return new e(rj(this.value))},e}(),rQ=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ru.min(),rZ.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rZ.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rZ.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=rZ.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=rZ.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),rH=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new rH(e,t,n,r,i,o,a)}function rK(e){if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:"+e.filters.map(function(e){return e.field.canonicalString()+e.op.toString()+rO(e.value)}).join(",")+"|ob:"+e.orderBy.map(function(e){return e.field.canonicalString()+e.dir}).join(","),rC(e.limit)||(t+="|l:"+e.limit),e.startAt&&(t+="|lb:"+r3(e.startAt)),e.endAt&&(t+="|ub:"+r3(e.endAt)),e.h=t}return e.h}function rG(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i,o,a=0;a<e.orderBy.length;a++)if(n=e.orderBy[a],r=t.orderBy[a],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1;if(e.filters.length!==t.filters.length)return!1;for(var s=0;s<e.filters.length;s++)if(i=e.filters[s],o=t.filters[s],i.op!==o.op||!i.field.isEqual(o.field)||!rS(i.value,o.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r8(e.startAt,t.startAt)&&r8(e.endAt,t.endAt)}function rz(e){return rx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var rW=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,D.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new rq(e,n,r):"array-contains"===n?new rJ(e,r):"in"===n?new r0(e,r):"not-in"===n?new r1(e,r):"array-contains-any"===n?new r2(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new rY(e,n):new r$(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(rN(t,this.value)):null!==t&&rT(this.value)===rT(t)&&this.m(rN(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),rq=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=rx.fromName(r.referenceValue),i}return(0,D.__extends)(t,e),t.prototype.matches=function(e){var t=rx.comparator(e.key,this.key);return this.m(t)},t}(rW),rY=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=rX("in",n),r}return(0,D.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(rW),r$=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=rX("not-in",n),r}return(0,D.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(rW);function rX(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return rx.fromName(e.referenceValue)})}var rJ=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,D.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return rL(t)&&rk(t.arrayValue,this.value)},t}(rW),r0=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,D.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&rk(this.value.arrayValue,t)},t}(rW),r1=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,D.__extends)(t,e),t.prototype.matches=function(e){if(rk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rk(this.value.arrayValue,t)},t}(rW),r2=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,D.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!rL(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return rk(t.value.arrayValue,e)})},t}(rW),r4=function(e,t){this.position=e,this.before=t};function r3(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return rO(e)}).join(",")}var r5=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function r6(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?rx.comparator(rx.fromName(a.referenceValue),n.key):rN(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function r8(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rS(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function r7(e){return new r9(e)}function ie(e){return!rC(e.limit)&&"F"===e.limitType}function it(e){return!rC(e.limit)&&"L"===e.limitType}function ir(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ii(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function io(e){return null!==e.collectionGroup}function ia(e){if(null===e.p){e.p=[];var t=ii(e),n=ir(e);if(null!==t&&null===n)t.isKeyField()||e.p.push(new r5(t)),e.p.push(new r5(rp.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var a=o[i];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new r5(rp.keyField(),s))}}}return e.p}function is(e){if(!e.T){if("F"===e.limitType)e.T=rV(e.path,e.collectionGroup,ia(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],n=0,r=ia(e);n<r.length;n++){var i=r[n],o="desc"===i.dir?"asc":"desc";t.push(new r5(i.field,o))}var a=e.endAt?new r4(e.endAt.position,!e.endAt.before):null,s=e.startAt?new r4(e.startAt.position,!e.startAt.before):null;e.T=rV(e.path,e.collectionGroup,t,e.filters,e.limit,a,s)}}return e.T}function iu(e,t,n){return new r9(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ic(e,t){return rG(is(e),is(t))&&e.limitType===t.limitType}function il(e){return rK(is(e))+"|lt:"+e.limitType}function iA(e){var t,n;return"Query(target="+(n=(t=is(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(e){return e.field.canonicalString()+" "+e.op+" "+rO(e.value)}).join(", ")+"]"),rC(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(e){return e.field.canonicalString()+" ("+e.dir+")"}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+r3(t.startAt)),t.endAt&&(n+=", endAt: "+r3(t.endAt)),"Target("+n+")")+"; limitType="+e.limitType+")"}function id(e,t){var n;return t.isFoundDocument()&&(n=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rx.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&!(e.startAt&&!r6(e.startAt,ia(e),t))&&(!e.endAt||!r6(e.endAt,ia(e),t))}function ih(e){return function(t,n){for(var r=!1,i=0,o=ia(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r,i,o,a=e.field.isKeyField()?rx.comparator(t.key,n.key):(r=e.field,i=t.data.field(r),o=n.data.field(r),null!==i&&null!==o?rN(i,o):rr());switch(e.dir){case"asc":return a;case"desc":return -1*a;default:return rr()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rB(t)?"-0":t}}function ig(e){return{integerValue:""+e}}function iv(e,t){return rI(t)?ig(t):ip(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var im=function(){this._=void 0};function iy(e,t){return e instanceof iB?rF(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}var ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t}(im),iw=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,D.__extends)(t,e),t}(im);function i_(e,t){for(var n=ix(t),r=function(e){n.some(function(t){return rS(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iE=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,D.__extends)(t,e),t}(im);function iC(e,t){for(var n=ix(t),r=function(e){n=n.filter(function(t){return!rS(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iB=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,D.__extends)(t,e),t}(im);function iI(e){return rb(e.integerValue||e.doubleValue)}function ix(e){return rL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iT=function(e,t){this.field=e,this.transform=t},iS=function(e,t){this.version=e,this.transformResults=t},ik=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function iN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iD=function(){};function iO(e,t,n){e instanceof iL?function(e,t,n){if(iN(e.precondition,t)){var r=e.value.clone(),i=ij(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(iF(t),r).setHasLocalMutations()}}(e,t,n):e instanceof iP?function(e,t,n){if(iN(e.precondition,t)){var r=ij(e.fieldTransforms,n,t),i=t.data;i.setAll(iU(e)),i.setAll(r),t.convertToFoundDocument(iF(t),i).setHasLocalMutations()}}(e,t,n):iN(e.precondition,t)&&t.convertToNoDocument(ru.min())}function iR(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&ra(n,r,function(e,t){var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof iw&&r instanceof iw||n instanceof iE&&r instanceof iE?ra(n.elements,r.elements,rS):n instanceof iB&&r instanceof iB?rS(n.A,r.A):n instanceof ib&&r instanceof ib)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function iF(e){return e.isFoundDocument()?e.version:ru.min()}var iL=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,D.__extends)(t,e),t}(iD),iP=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,D.__extends)(t,e),t}(iD);function iU(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function iM(e,t,n){var r=new Map;e.length===n.length||rr();for(var i=0;i<n.length;i++){var o,a=e[i],s=a.transform,u=t.data.field(a.field);r.set(a.field,(o=n[i],s instanceof iw?i_(s,u):s instanceof iE?iC(s,u):o))}return r}function ij(e,t,n){for(var r=new Map,i=0;i<e.length;i++){var o=e[i],a=o.transform,s=n.data.field(o.field);r.set(o.field,function(e,t,n){var r,i,o;return e instanceof ib?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},t&&(r.fields.__previous_value__=t),{mapValue:r}):e instanceof iw?i_(e,t):e instanceof iE?iC(e,t):(o=iI(i=iy(e,t))+iI(e.A),rF(i)&&rF(e.A)?ig(o):ip(e.R,o))}(a,s,t))}return r}var iZ,iQ,iH,iV,iK,iG,iz,iW,iq=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,D.__extends)(t,e),t}(iD),iY=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,D.__extends)(t,e),t}(iD),i$=function(e){this.count=e};function iX(e){switch(e){case n5.OK:return rr();case n5.CANCELLED:case n5.UNKNOWN:case n5.DEADLINE_EXCEEDED:case n5.RESOURCE_EXHAUSTED:case n5.INTERNAL:case n5.UNAVAILABLE:case n5.UNAUTHENTICATED:return!1;case n5.INVALID_ARGUMENT:case n5.NOT_FOUND:case n5.ALREADY_EXISTS:case n5.PERMISSION_DENIED:case n5.FAILED_PRECONDITION:case n5.ABORTED:case n5.OUT_OF_RANGE:case n5.UNIMPLEMENTED:case n5.DATA_LOSS:return!0;default:return rr()}}function iJ(e){if(void 0===e)return re("GRPC error has no .code"),n5.UNKNOWN;switch(e){case iz.OK:return n5.OK;case iz.CANCELLED:return n5.CANCELLED;case iz.UNKNOWN:return n5.UNKNOWN;case iz.DEADLINE_EXCEEDED:return n5.DEADLINE_EXCEEDED;case iz.RESOURCE_EXHAUSTED:return n5.RESOURCE_EXHAUSTED;case iz.INTERNAL:return n5.INTERNAL;case iz.UNAVAILABLE:return n5.UNAVAILABLE;case iz.UNAUTHENTICATED:return n5.UNAUTHENTICATED;case iz.INVALID_ARGUMENT:return n5.INVALID_ARGUMENT;case iz.NOT_FOUND:return n5.NOT_FOUND;case iz.ALREADY_EXISTS:return n5.ALREADY_EXISTS;case iz.PERMISSION_DENIED:return n5.PERMISSION_DENIED;case iz.FAILED_PRECONDITION:return n5.FAILED_PRECONDITION;case iz.ABORTED:return n5.ABORTED;case iz.OUT_OF_RANGE:return n5.OUT_OF_RANGE;case iz.UNIMPLEMENTED:return n5.UNIMPLEMENTED;case iz.DATA_LOSS:return n5.DATA_LOSS;default:return rr()}}(iW=iz||(iz={}))[iW.OK=0]="OK",iW[iW.CANCELLED=1]="CANCELLED",iW[iW.UNKNOWN=2]="UNKNOWN",iW[iW.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iW[iW.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iW[iW.NOT_FOUND=5]="NOT_FOUND",iW[iW.ALREADY_EXISTS=6]="ALREADY_EXISTS",iW[iW.PERMISSION_DENIED=7]="PERMISSION_DENIED",iW[iW.UNAUTHENTICATED=16]="UNAUTHENTICATED",iW[iW.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iW[iW.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iW[iW.ABORTED=10]="ABORTED",iW[iW.OUT_OF_RANGE=11]="OUT_OF_RANGE",iW[iW.UNIMPLEMENTED=12]="UNIMPLEMENTED",iW[iW.INTERNAL=13]="INTERNAL",iW[iW.UNAVAILABLE=14]="UNAVAILABLE",iW[iW.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i0=function(){function e(e,t){this.comparator=e,this.root=t||i2.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,i2.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,i2.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new i1(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new i1(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new i1(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new i1(this.root,e,this.comparator,!0)},e}(),i1=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),i2=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(0>n(t,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rr();var e=this.left.check();if(e!==this.right.check())throw rr();return e+(this.isRed()?0:1)},e}();i2.EMPTY=null,i2.RED=!0,i2.BLACK=!1,i2.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw rr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw rr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw rr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw rr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw rr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new i2(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4=function(){function e(e){this.comparator=e,this.data=new i0(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new i3(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new i3(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),i3=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),i5=new i0(rx.comparator),i6=new i0(rx.comparator),i8=new i0(rx.comparator),i9=new i4(rx.comparator);function i7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=i9,r=0;r<e.length;r++){var i=e[r];n=n.add(i)}return n}var oe=new i4(ro),ot=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,on.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ru.min(),r,oe,i5,i7())},e}(),on=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(rv.EMPTY_BYTE_STRING,n,i7(),i7(),i7())},e}(),or=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},oi=function(e,t){this.targetId=e,this.V=t},oo=function(e,t,n,r){void 0===n&&(n=rv.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},oa=function(){function e(){this.S=0,this.D=oc(),this.C=rv.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=i7(),t=i7(),n=i7();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rr()}}),new on(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=oc()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),os=function(){function e(e){this.W=e,this.G=new Map,this.H=i5,this.J=ou(),this.Y=new i4(ro)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:rr()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(rz(i)){if(0===n){var o=new rx(i.path);this.tt(t,o,rQ.newNoDocument(o,ru.min()))}else 1===n||rr()}else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&rz(o.target)){var a=new rx(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,rQ.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=i7();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new ot(e,n,this.Y,this.H,r);return this.H=i5,this.J=ou(),this.Y=new i4(ro),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new oa,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new i4(ro),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||n7("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new oa),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ou(){return new i0(rx.comparator)}function oc(){return new i0(rx.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ol={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},od=function(e,t){this.databaseId=e,this.I=t};function of(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function oh(e,t){return e.I?t.toBase64():t.toUint8Array()}function op(e){var t;return e||rr(),ru.fromTimestamp(new rs((t=ry(e)).seconds,t.nanos))}function og(e,t){return new rf(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function ov(e){var t=rf.fromString(e);return oF(t)||rr(),t}function om(e,t){return og(e.databaseId,t.path)}function oy(e,t){var n=ov(t);if(n.get(1)!==e.databaseId.projectId)throw new n6(n5.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new n6(n5.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rx(oE(n))}function ob(e,t){return og(e.databaseId,t)}function ow(e){var t=ov(e);return 4===t.length?rf.emptyPath():oE(t)}function o_(e){return new rf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oE(e){return e.length>4&&"documents"===e.get(4)||rr(),e.popFirst(5)}function oC(e,t,n){return{name:om(e,t),fields:n.value.mapValue.fields}}function oB(e,t,n){var r=oy(e,t.name),i=op(t.updateTime),o=new rZ({mapValue:{fields:t.fields}}),a=rQ.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function oI(e,t){var n,r,i,o;if(t instanceof iL)n={update:oC(e,t.key,t.value)};else if(t instanceof iq)n={delete:om(e,t.key)};else if(t instanceof iP)n={update:oC(e,t.key,t.data),updateMask:(i=t.fieldMask,o=[],i.fields.forEach(function(e){return o.push(e.canonicalString())}),{fieldPaths:o})};else{if(!(t instanceof iY))return rr();n={verify:om(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof ib)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iB)return{fieldPath:t.field.canonicalString(),increment:n.A};throw rr()}(0,e)})),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:of(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:rr()),n}function ox(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?ik.updateTime(op(n.updateTime)):void 0!==n.exists?ik.exists(n.exists):ik.none():ik.none(),i=t.updateTransforms?t.updateTransforms.map(function(t){var n;return n=null,"setToServerValue"in t?("REQUEST_TIME"===t.setToServerValue||rr(),n=new ib):"appendMissingElements"in t?n=new iw(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new iE(t.removeAllFromArray.values||[]):"increment"in t?n=new iB(e,t.increment):rr(),new iT(rp.fromServerFormat(t.fieldPath),n)}):[];if(t.update){t.update.name;var o=oy(e,t.update.name),a=new rZ({mapValue:{fields:t.update.fields}});return t.updateMask?new iP(o,a,new rg((t.updateMask.fieldPaths||[]).map(function(e){return rp.fromServerFormat(e)})),r,i):new iL(o,a,r,i)}return t.delete?new iq(oy(e,t.delete),r):t.verify?new iY(oy(e,t.verify),r):rr()}function oT(e,t){return{documents:[ob(e,t.path)]}}function oS(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(r.parent=ob(e,i),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=ob(e,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(rU(e.value))return{unaryFilter:{field:oO(e.field),op:"IS_NAN"}};if(rP(e.value))return{unaryFilter:{field:oO(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rU(e.value))return{unaryFilter:{field:oO(e.field),op:"IS_NOT_NAN"}};if(rP(e.value))return{unaryFilter:{field:oO(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oO(e.field),op:oA[e.op],value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);o&&(r.structuredQuery.where=o);var a=function(e){if(0!==e.length)return e.map(function(e){return{field:oO(e.field),direction:ol[e.dir]}})}(t.orderBy);a&&(r.structuredQuery.orderBy=a);var s=(n=t.limit,e.I||rC(n)?n:{value:n});return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=oN(t.startAt)),t.endAt&&(r.structuredQuery.endAt=oN(t.endAt)),r}function ok(e){var t,n,r=ow(e.parent),i=e.structuredQuery,o=i.from?i.from.length:0,a=null;if(o>0){1===o||rr();var s=i.from[0];s.allDescendants?a=s.collectionId:r=r.child(s.collectionId)}var u=[];i.where&&(u=function e(t){return t?void 0!==t.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oR(e.unaryFilter.field);return rW.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=oR(e.unaryFilter.field);return rW.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oR(e.unaryFilter.field);return rW.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=oR(e.unaryFilter.field);return rW.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rr()}}(t)]:void 0!==t.fieldFilter?[rW.create(oR(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rr()}}(t.fieldFilter.op),t.fieldFilter.value)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):rr():[]}(i.where));var c=[];i.orderBy&&(c=i.orderBy.map(function(e){return new r5(oR(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}));var l=null;i.limit&&(l=rC(n="object"==typeof(t=i.limit)?t.value:t)?null:n);var A=null;i.startAt&&(A=oD(i.startAt));var d=null;return i.endAt&&(d=oD(i.endAt)),new r9(r,a,c,u,l,"F",A,d)}function oN(e){return{before:e.before,values:e.position}}function oD(e){var t=!!e.before;return new r4(e.values||[],t)}function oO(e){return{fieldPath:e.canonicalString()}}function oR(e){return rp.fromServerFormat(e.fieldPath)}function oF(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(e.get(n),t);return t+"\x01\x01"}function oP(e){var t=e.length;if(t>=2||rr(),2===t)return"\x01"===e.charAt(0)&&"\x01"===e.charAt(1)||rr(),rf.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&rr(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a)+"\0";break;case"\x11":i+=e.substring(o,a+1);break;default:rr()}o=a+2}return new rf(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(e,t){this.seconds=e,this.nanoseconds=t},oM=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};oM.store="owner",oM.key="owner";var oj=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};oj.store="mutationQueues",oj.keyPath="userId";var oZ=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oZ.store="mutations",oZ.keyPath="batchId",oZ.userMutationsIndex="userMutationsIndex",oZ.userMutationsKeyPath=["userId","batchId"];var oQ=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,oL(t)]},e.key=function(e,t,n){return[e,oL(t),n]},e}();oQ.store="documentMutations",oQ.PLACEHOLDER=new oQ;var oH=function(e,t){this.path=e,this.readTime=t},oV=function(e,t){this.path=e,this.version=t},oK=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};oK.store="remoteDocuments",oK.readTimeIndex="readTimeIndex",oK.readTimeIndexPath="readTime",oK.collectionReadTimeIndex="collectionReadTimeIndex",oK.collectionReadTimeIndexPath=["parentPath","readTime"];var oG=function(e){this.byteSize=e};oG.store="remoteDocumentGlobal",oG.key="remoteDocumentGlobalKey";var oz=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};oz.store="targets",oz.keyPath="targetId",oz.queryTargetsIndexName="queryTargetsIndex",oz.queryTargetsKeyPath=["canonicalId","targetId"];var oW=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};oW.store="targetDocuments",oW.keyPath=["targetId","path"],oW.documentTargetsIndex="documentTargetsIndex",oW.documentTargetsKeyPath=["path","targetId"];var oq=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};oq.key="targetGlobalKey",oq.store="targetGlobal";var oY=function(e,t){this.collectionId=e,this.parent=t};oY.store="collectionParents",oY.keyPath=["collectionId","parent"];var o$=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};o$.store="clientMetadata",o$.keyPath="clientId";var oX=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};oX.store="bundles",oX.keyPath="bundleId";var oJ=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};oJ.store="namedQueries",oJ.keyPath="name";var o0=(0,D.__spreadArray)((0,D.__spreadArray)([],(0,D.__spreadArray)((0,D.__spreadArray)([],(0,D.__spreadArray)((0,D.__spreadArray)([],(0,D.__spreadArray)((0,D.__spreadArray)([],[oj.store,oZ.store,oQ.store,oK.store,oz.store,oM.store,oq.store,oW.store]),[o$.store])),[oG.store])),[oY.store])),[oX.store,oJ.store]),o1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",o2=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),o4=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},o3=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&rr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0;i<t.length;i++)r(t[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),o5=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new o4,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new o9(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=ar(t.target.error);n.ft.reject(new o9(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(e){throw new o9(n,e)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(n7("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){return new ae(this.transaction.objectStore(e))},e}(),o6=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,O.z$)())&&re("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return n7("SimpleDb","Removing database:",e),at(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,O.z$)(),n=e._t(t),r=e.Et(t);return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},e.gt=function(){var e;return void 0!==n4&&"YES"===(null===(e=n4.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")},e.prototype.At=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(n7("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new o9(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new n6(n5.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new o9(e,n))},i.onupgradeneeded=function(e){n7("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next(function(){n7("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,D.__generator)(this,function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,D.__generator)(this,function(A){switch(A.label){case 0:++o,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=A.sent(),a=r(t=o5.open(s.db,e,i?"readonly":"readwrite",n)).catch(function(e){return t.abort(e),o3.reject(e)}).toPromise(),u={},a.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(A.sent(),a),u)];case 4:return l="FirebaseError"!==(c=A.sent()).name&&o<3,n7("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),o8=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return at(this.Pt.delete())},e}(),o9=function(e){function t(t,n){var r=this;return(r=e.call(this,n5.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,D.__extends)(t,e),t}(n6);function o7(e){return"IndexedDbTransactionError"===e.name}var ae=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(n7("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(n7("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),at(n)},e.prototype.add=function(e){return n7("SimpleDb","ADD",this.store.name,e,e),at(this.store.add(e))},e.prototype.get=function(e){var t=this;return at(this.store.get(e)).next(function(n){return void 0===n&&(n=null),n7("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return n7("SimpleDb","DELETE",this.store.name,e),at(this.store.delete(e))},e.prototype.count=function(){return n7("SimpleDb","COUNT",this.store.name),at(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){n7("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){t?n=e:(n={},t=e);var n,r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new o3(function(n,r){t.onerror=function(e){r(ar(e.target.error))},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new o3(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new o8(i),a=t(i.primaryKey,i.value,o);if(a instanceof o3){var s=a.catch(function(e){return o.done(),o3.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return o3.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function at(e){return new o3(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){n(ar(e.target.error))}})}var an=!1;function ar(e){var t=o6._t((0,O.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new n6("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return an||(an=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,D.__extends)(t,e),t}(o2);function ao(e,t){return o6.It(e.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&function(e,t,n){var r,i;e instanceof iL?(r=e.value.clone(),i=iM(e.fieldTransforms,t,n.transformResults),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()):e instanceof iP?function(e,t,n){if(iN(e.precondition,t)){var r=iM(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iU(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t,n=0,r=this.baseMutations;n<r.length;n++)(t=r[n]).key.isEqual(e.key)&&iO(t,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++)(t=o[i]).key.isEqual(e.key)&&iO(t,e,this.localWriteTime)},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key);t.applyToLocalView(r),r.isValidDocument()||r.convertToNoDocument(ru.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},i7())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,function(e,t){return iR(e,t)})&&ra(this.baseMutations,e.baseMutations,function(e,t){return iR(e,t)})},e}(),as=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){t.mutations.length===r.length||rr();for(var i=i8,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),au=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ru.min()),void 0===o&&(o=ru.min()),void 0===a&&(a=rv.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ac=function(e){this.Lt=e};function al(e,t){if(t.document)return oB(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=rx.fromSegments(t.noDocument.path),r=ap(t.noDocument.readTime),i=rQ.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=rx.fromSegments(t.unknownDocument.path);return r=ap(t.unknownDocument.version),rQ.newUnknownDocument(o,r)}return rr()}function aA(e,t,n){var r=ad(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o,a={name:om(o=e.Lt,t.key),fields:t.data.value.mapValue.fields,updateTime:of(o,t.version.toTimestamp())},s=t.hasCommittedMutations;return new oK(null,null,a,s,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),c=ah(t.version);return s=t.hasCommittedMutations,new oK(null,new oH(u,c),null,s,r,i)}return t.isUnknownDocument()?new oK(new oV(t.key.path.toArray(),ah(t.version)),null,null,!0,r,i):rr()}function ad(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function af(e){var t=new rs(e[0],e[1]);return ru.fromTimestamp(t)}function ah(e){var t=e.toTimestamp();return new oU(t.seconds,t.nanoseconds)}function ap(e){var t=new rs(e.seconds,e.nanoseconds);return ru.fromTimestamp(t)}function ag(e,t){for(var n=(t.baseMutations||[]).map(function(t){return ox(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(t){return ox(e.Lt,t)}),s=rs.fromMillis(t.localWriteTimeMs);return new aa(t.batchId,s,n,a)}function av(e){var t,n,r=ap(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ap(e.lastLimboFreeSnapshotVersion):ru.min();return void 0!==e.query.documents?(1===(n=e.query).documents.length||rr(),t=is(r7(ow(n.documents[0])))):t=is(ok(e.query)),new au(t,e.targetId,0,e.lastListenSequenceNumber,r,i,rv.fromBase64String(e.resumeToken))}function am(e,t){var n,r=ah(t.snapshotVersion),i=ah(t.lastLimboFreeSnapshotVersion);n=rz(t.target)?oT(e.Lt,t.target):oS(e.Lt,t.target);var o=t.resumeToken.toBase64();return new oz(t.targetId,rK(t.target),r,o,t.sequenceNumber,i,n)}function ay(e){var t=ok({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ab=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return aw(e).get(t).next(function(e){if(e)return{id:e.bundleId,createTime:ap(e.createTime),version:e.version}})},e.prototype.saveBundleMetadata=function(e,t){return aw(e).put({bundleId:t.id,createTime:ah(op(t.createTime)),version:t.version})},e.prototype.getNamedQuery=function(e,t){return a_(e).get(t).next(function(e){if(e)return{name:e.name,query:ay(e.bundledQuery),readTime:ap(e.readTime)}})},e.prototype.saveNamedQuery=function(e,t){return a_(e).put({name:t.name,readTime:ah(op(t.readTime)),bundledQuery:t.bundledQuery})},e}();function aw(e){return ao(e,oX.store)}function a_(e){return ao(e,oJ.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE=function(){function e(){this.Bt=new aC}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),o3.resolve()},e.prototype.getCollectionParents=function(e,t){return o3.resolve(this.Bt.getEntries(t))},e}(),aC=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new i4(rf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new i4(rf.comparator)).toArray()},e}(),aB=function(){function e(){this.qt=new aC}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:oL(i)};return aI(e).put(o)}return o3.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return aI(e).Nt(r).next(function(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.collectionId!==t)break;n.push(oP(i.parent))}return n})},e}();function aI(e){return ao(e,oY.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t,n){var r=e.store(oZ.store),i=e.store(oQ.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){1===s||rr()}));for(var c=[],l=0,A=n.mutations;l<A.length;l++){var d=A[l],f=oQ.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return o3.waitFor(o).next(function(){return c})}function ak(e){var t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rr();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aT.DEFAULT_COLLECTION_PERCENTILE=10,aT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aT.DEFAULT=new aT(41943040,aT.DEFAULT_COLLECTION_PERCENTILE,aT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aT.DISABLED=new aT(-1,0,0);var aN=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return""!==t.uid||rr(),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aO(e).$t({index:oZ.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=aR(e),a=aO(e);return a.add({}).next(function(s){"number"==typeof s||rr();for(var u,c,l,A,d=new aa(s,t,n,r),f=(u=i.R,c=i.userId,l=d.baseMutations.map(function(e){return oI(u.Lt,e)}),A=d.mutations.map(function(e){return oI(u.Lt,e)}),new oZ(c,d.batchId,d.localWriteTime.toMillis(),l,A)),h=[],p=new i4(function(e,t){return ro(e.canonicalString(),t.canonicalString())}),g=0;g<r.length;g++){var v=r[g],m=oQ.key(i.userId,v.key.path,s);p=p.add(v.key.path.popLast()),h.push(a.put(f)),h.push(o.put(m,oQ.PLACEHOLDER))}return p.forEach(function(t){h.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=d.keys()}),o3.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return aO(e).get(t).next(function(e){return e?(e.userId===n.userId||rr(),ag(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?o3.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return aO(e).$t({index:oZ.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(t.batchId>=r||rr(),o=ag(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return aO(e).$t({index:oZ.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aO(e).Nt(oZ.userMutationsIndex,n).next(function(e){return e.map(function(e){return ag(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=oQ.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return aR(e).$t({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=oP(u);if(s===n.userId&&t.path.isEqual(l))return aO(e).get(c).next(function(e){if(!e)throw rr();e.userId===n.userId||rr(),o.push(ag(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new i4(ro),i=[];return t.forEach(function(t){var o=oQ.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=aR(e).$t({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=oP(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),o3.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=oQ.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new i4(ro);return aR(e).$t({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=oP(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(aO(e).get(t).next(function(e){if(null===e)throw rr();e.userId===n.userId||rr(),r.push(ag(n.R,e))}))}),o3.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return aS(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),o3.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return o3.resolve();var r=IDBKeyRange.lowerBound(oQ.prefixForUser(t.userId)),i=[];return aR(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=oP(e[1]);i.push(o)}else r.done()}).next(function(){0===i.length||rr()})})},e.prototype.containsKey=function(e,t){return aD(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return aF(e).get(this.userId).next(function(e){return e||new oj(t.userId,-1,"")})},e}();function aD(e,t,n){var r=oQ.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return aR(e).$t({range:o,Ft:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function aO(e){return ao(e,oZ.store)}function aR(e){return ao(e,oQ.store)}function aF(e){return ao(e,oj.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),aP=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new aL(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return ru.fromTimestamp(new rs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return aU(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return t.targetCount>0||rr(),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return aU(e).$t(function(a,s){var u=av(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return o3.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return aU(e).$t(function(e,n){t(av(n))})},e.prototype.Xt=function(e){return aM(e).get(oq.key).next(function(e){return null!==e||rr(),e})},e.prototype.Zt=function(e,t){return aM(e).put(oq.key,t)},e.prototype.te=function(e,t){return aU(e).put(am(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=rK(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return aU(e).$t({range:r,index:oz.queryTargetsIndexName},function(e,n,r){var o=av(n);rG(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=aj(e);return t.forEach(function(t){var a=oL(t.path);i.push(o.put(new oW(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),o3.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=aj(e);return o3.forEach(t,function(t){var o=oL(t.path);return o3.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=aj(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=aj(e),i=i7();return r.$t({range:n,Ft:!0},function(e,t,n){var r=new rx(oP(e[1]));i=i.add(r)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=oL(t.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return aj(e).$t({index:oW.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return aU(e).get(t).next(function(e){return e?av(e):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e){return ao(e,oz.store)}function aM(e){return ao(e,oq.store)}function aj(e){return ao(e,oW.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){if(e.code!==n5.FAILED_PRECONDITION||e.message!==o1)throw e;return n7("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ro(n,i);return 0===a?ro(r,o):a}var aH=function(){function e(e){this.ne=e,this.buffer=new i4(aQ),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();0>aQ(t,n)&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),aV=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;n7("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return o7(t=n.sent())?(n7("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,aZ(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),aK=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return o3.resolve(n3.o);var r=new aH(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return -1===this.params.cacheSizeCollectionThreshold?(n7("LruGarbageCollector","Garbage collection skipped; disabled"),o3.resolve(ax)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(n7("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ax):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(n7("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),n9()<=R.in.DEBUG&&n7("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(o-l)+"ms\n	Determined least recently used "+r+" in "+(a-o)+"ms\n	Removed "+i+" targets in "+(s-a)+"ms\n	Removed "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),o3.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),aG=function(){function e(e,t){this.db=e,this.garbageCollector=new aK(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return az(e,n)},e.prototype.removeReference=function(e,t,n){return az(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return az(e,t)},e.prototype._e=function(e,t){var n;return n=!1,aF(e).Ot(function(r){return aD(e,r,t).next(function(e){return e&&(n=!0),o3.resolve(!e)})}).next(function(){return n})},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),aj(e).delete([0,oL(a.path)])})});i.push(u)}}).next(function(){return o3.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return az(e,t)},e.prototype.we=function(e,t){var n,r=aj(e),i=n3.o;return r.$t({index:oW.documentTargetsIndex},function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==n3.o&&t(new rx(oP(n)),i),i=s,n=a):i=n3.o}).next(function(){i!==n3.o&&t(new rx(oP(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function az(e,t){var n;return aj(e).put((n=e.currentSequenceNumber,new oW(0,oL(t.path),n)))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aW=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r],o=i[0],a=i[1];if(this.equalsFn(o,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){rl(this.inner,function(t,n){for(var r=0;r<n.length;r++){var i=n[r];e(i[0],i[1])}})},e.prototype.isEmpty=function(){return rA(this.inner)},e}(),aq=function(){function e(){this.changes=new aW(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ru.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:rQ.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?o3.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),aY=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return aJ(e).put(a0(t),n)},e.prototype.removeEntry=function(e,t){var n=aJ(e),r=a0(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return aJ(e).get(a0(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return aJ(e).get(a0(t)).next(function(e){return{document:n.ye(t,e),size:ak(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=i5;return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=i5,i=new i0(rx.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ak(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return o3.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return aJ(e).$t({range:r},function(e,t,r){for(var a=rx.fromSegments(e);o&&0>rx.comparator(o,a);)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=i5,o=t.path.length+1,a={};if(n.isEqual(ru.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=ad(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=oK.collectionReadTimeIndex}return aJ(e).$t(a,function(e,n,a){if(e.length===o){var s=al(r.R,n);t.path.isPrefixOf(s.key.path)?id(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new a$(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return aX(e).get(oG.key).next(function(e){return e||rr(),e})},e.prototype.me=function(e,t){return aX(e).put(oG.key,t)},e.prototype.ye=function(e,t){if(t){var n=al(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ru.min()))return n}return rQ.newInvalidDocument(e)},e}(),a$=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new aW(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return(0,D.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new i4(function(e,t){return ro(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=aA(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ak(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=aA(t.Ie.R,rQ.newNoDocument(o,ru.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),o3.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(aq);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(e){return ao(e,oG.store)}function aJ(e){return ao(e,oK.store)}function a0(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a1=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;n<r&&n>=0&&r<=11||rr();var o=new o5("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(oM.store)}(e),e.createObjectStore(oj.store,{keyPath:oj.keyPath}),e.createObjectStore(oZ.store,{keyPath:oZ.keyPath,autoIncrement:!0}).createIndex(oZ.userMutationsIndex,oZ.userMutationsKeyPath,{unique:!0}),e.createObjectStore(oQ.store),a2(e),function(e){e.createObjectStore(oK.store)}(e));var a=o3.resolve();return n<3&&r>=3&&(0!==n&&(e.deleteObjectStore(oW.store),e.deleteObjectStore(oz.store),e.deleteObjectStore(oq.store),a2(e)),a=a.next(function(){var e,t;return e=o.store(oq.store),t=new oq(0,0,ru.min().toTimestamp(),0),e.put(oq.key,t)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return o.store(oZ.store).Nt().next(function(t){e.deleteObjectStore(oZ.store),e.createObjectStore(oZ.store,{keyPath:oZ.keyPath,autoIncrement:!0}).createIndex(oZ.userMutationsIndex,oZ.userMutationsKeyPath,{unique:!0});var n=o.store(oZ.store),r=t.map(function(e){return n.put(e)});return o3.waitFor(r)})})),a=a.next(function(){!function(e){e.createObjectStore(o$.store,{keyPath:o$.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(oG.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){var n;e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(oK.store)).createIndex(oK.readTimeIndex,oK.readTimeIndexPath,{unique:!1}),n.createIndex(oK.collectionReadTimeIndex,oK.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){(function(e){e.createObjectStore(oX.store,{keyPath:oX.keyPath})})(e),function(e){e.createObjectStore(oJ.store,{keyPath:oJ.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(oK.store).$t(function(e,n){t+=ak(n)}).next(function(){var n=new oG(t);return e.store(oG.store).put(oG.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(oj.store),r=e.store(oZ.store);return n.Nt().next(function(n){return o3.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(oZ.userMutationsIndex,i).next(function(r){return o3.forEach(r,function(r){r.userId===n.userId||rr();var i=ag(t.R,r);return aS(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(oW.store),n=e.store(oK.store);return e.store(oq.store).get(oq.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new rf(n),a=[0,oL(o)];r.push(t.get(a).next(function(n){return n?o3.resolve():t.put(new oW(0,oL(o),e.highestListenSequenceNumber))}))}).next(function(){return o3.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(oY.store,{keyPath:oY.keyPath});var n=t.store(oY.store),r=new aC,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:oL(i)})}};return t.store(oK.store).$t({Ft:!0},function(e,t){return i(new rf(e).popLast())}).next(function(){return t.store(oQ.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];return e[2],i(oP(n).popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(oz.store);return n.$t(function(e,r){var i=av(r),o=am(t.R,i);return n.put(o)})},e}();function a2(e){e.createObjectStore(oW.store,{keyPath:oW.keyPath}).createIndex(oW.documentTargetsIndex,oW.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(oz.store,{keyPath:oz.keyPath}).createIndex(oz.queryTargetsIndexName,oz.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(oq.store)}var a4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",a3=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new n6(n5.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aG(this,i),this.Le=n+"main",this.R=new ac(u),this.Be=new o6(this.Le,11,new a1(this.R)),this.qe=new aP(this.referenceDelegate,this.R),this.Ut=new aB,this.Ue=new aY(this.R,this.Ut),this.Ke=new ab,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&re("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new n6(n5.FAILED_PRECONDITION,a4);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new n3(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,D.__awaiter)(t,void 0,void 0,function(){return(0,D.__generator)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return(0,D.__awaiter)(t,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return a6(t).put(new o$(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(o7(t))return n7("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return n7("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return a5(e).get(oM.key).next(function(e){return o3.resolve(t.tn(e))})},e.prototype.en=function(e){return a6(e).delete(this.clientId)},e.prototype.nn=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i=this;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=ao(e,o$.store);return t.Nt().next(function(e){var n=i.rn(e,18e5),r=e.filter(function(e){return -1===n.indexOf(e)});return o3.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?o3.resolve(!0):a5(e).get(oM.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new n6(n5.FAILED_PRECONDITION,a4);return!1}}return!(!t.networkEnabled||!t.inForeground)||a6(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&n7("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,D.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[oM.store,o$.store],function(t){var n=new ai(t,n3.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return a6(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return aN.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return n7("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",o0,function(o){return r=new ai(o,i.Ne?i.Ne.next():n3.o),"readwrite-primary"===t?i.Je(r).next(function(e){return!!e||i.Ye(r)}).next(function(t){if(!t)throw re("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new n6(n5.FAILED_PRECONDITION,o1);return n(r)}).next(function(e){return i.Ze(r).next(function(){return e})}):i.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return a5(e).get(oM.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new n6(n5.FAILED_PRECONDITION,a4)})},e.prototype.Ze=function(e){var t=new oM(this.clientId,this.allowTabSynchronization,Date.now());return a5(e).put(oM.key,t)},e.yt=function(){return o6.yt()},e.prototype.Xe=function(e){var t=this,n=a5(e);return n.get(oM.key).next(function(e){return t.tn(e)?(n7("IndexedDbPersistence","Releasing primary lease."),n.delete(oM.key)):o3.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(re("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,O.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return n7("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return re("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){re("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function a5(e){return ao(e,oM.store)}function a6(e){return ao(e,o$.store)}function a8(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var a9=function(e,t){this.progress=e,this.wn=t},a7=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0;t<n.length;t++)n[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0;r<t.length;r++)t[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return rx.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.Tn(e,t.path):io(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new rx(t)).next(function(e){var t=i6;return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=i6;return this.Ut.getCollectionParents(e,i).next(function(a){return o3.forEach(a,function(a){var s=new r9(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Rn(e,i,r).next(function(e){r=e;for(var t=0;t<i.length;t++)for(var n=i[t],o=0,a=n.mutations;o<a.length;o++){var s=a[o],u=s.key,c=r.get(u);null==c&&(c=rQ.newInvalidDocument(u),r=r.insert(u,c)),iO(s,c,n.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(e,n){id(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=i7(),i=0;i<t.length;i++)for(var o=0,a=t[i].mutations;o<a.length;o++){var s=a[o];s instanceof iP&&null===n.get(s.key)&&(r=r.add(s.key))}var u=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(u=u.insert(e,t))}),u})},e}(),se=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=i7(),i=i7(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),st=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(ru.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var a=i.Cn(t,o);return(ie(t)||it(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(n9()<=R.in.DEBUG&&n7("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iA(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new i4(ih(e));return t.forEach(function(t,r){id(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return n9()<=R.in.DEBUG&&n7("QueryEngine","Using full collection scan to execute query:",iA(t)),this.Sn.getDocumentsMatchingQuery(e,t,ru.min())},e}(),sn=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new i0(ro),this.Fn=new aW(function(e){return rK(e)},rG),this.$n=ru.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new a7(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function sr(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new a7(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],a=i7(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,A=c.mutations;l<A.length;l++){var d=A[l];a=a.add(d.key)}}for(var f=0;f<t.length;f++){var h=t[f];r.push(h.batchId);for(var p=0,g=h.mutations;p<g.length;p++){var v=g[p];a=a.add(v.key)}}return i.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function si(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function so(e,t,n,r,i){var o=i7();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=i5;return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ru.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):n7("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function sa(e,t){return e.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return e.qe.getTargetData(n,t).next(function(i){return i?(r=i,o3.resolve(r)):e.qe.allocateTargetId(n).next(function(i){return r=new au(t,i,0,n.currentSequenceNumber),e.qe.addTargetData(n,r).next(function(){return r})})})}).then(function(n){var r=e.kn.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.kn=e.kn.insert(n.targetId,n),e.Fn.set(t,n.targetId)),n})}function ss(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:i=(r=e).kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!o7(a=s.sent()))throw a;return n7("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function su(e,t,n){var r=ru.min(),i=i7();return e.persistence.runTransaction("Execute query","readonly",function(o){var a,s;return(a=is(t),void 0!==(s=e.Fn.get(a))?o3.resolve(e.kn.get(s)):e.qe.getTargetData(o,a)).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,e.qe.getMatchingKeysForTargetId(o,t.targetId).next(function(e){i=e})}).next(function(){return e.xn.getDocumentsMatchingQuery(o,t,n?r:ru.min(),n?i:i7())}).next(function(e){return{documents:e,Bn:i}})})}function sc(e,t){var n=e.qe,r=e.kn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",function(e){return n.lt(e,t).next(function(e){return e?e.target:null})})}function sl(e){return e.persistence.runTransaction("Get new document changes","readonly",function(t){var n,r,i,o,a,s;return n=e.On,r=e.$n,i=i5,o=ad(r),a=aJ(t),s=IDBKeyRange.lowerBound(o,!0),a.$t({index:oK.readTimeIndex,range:s},function(e,t){var r=al(n.R,t);i=i.insert(r.key,r),o=t.readTime}).next(function(){return{wn:i,readTime:af(o)}})}).then(function(t){var n=t.wn,r=t.readTime;return e.$n=r,n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sA=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return o3.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){return this.Qn.set(t.id,{id:t.id,version:t.version,createTime:op(t.createTime)}),o3.resolve()},e.prototype.getNamedQuery=function(e,t){return o3.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:t.name,query:ay(t.bundledQuery),readTime:op(t.readTime)}),o3.resolve()},e}(),sd=function(){function e(){this.Wn=new i4(sf.Gn),this.zn=new i4(sf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new sf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new sf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new rx(new rf([])),r=new sf(n,e),i=new sf(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new rx(new rf([])),n=new sf(t,e),r=new sf(t,e+1),i=i7();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new sf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),sf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return rx.comparator(e.key,t.key)||ro(e.ns,t.ns)},e.Hn=function(e,t){return ro(e.ns,t.ns)||rx.comparator(e.key,t.key)},e}(),sh=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new i4(sf.Gn)}return e.prototype.checkEmpty=function(e){return o3.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new aa(i,t,n,r);this._n.push(o);for(var a=0;a<r.length;a++){var s=r[a];this.rs=this.rs.add(new sf(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return o3.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return o3.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return o3.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return o3.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return o3.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new sf(t,0),i=new sf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),o3.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new i4(ro);return t.forEach(function(e){var t=new sf(e,0),i=new sf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),o3.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;rx.isDocumentKey(i)||(i=i.child(""));var o=new sf(new rx(i),0),a=new i4(ro);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),o3.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;0===this.hs(t.batchId,"removed")||rr(),this._n.shift();var r=this.rs;return o3.forEach(t.mutations,function(i){var o=new sf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new sf(t,0),r=this.rs.firstAfterOrEqual(n);return o3.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,o3.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),sp=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new i0(rx.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return o3.resolve(n?n.document.clone():rQ.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=i5;return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():rQ.newInvalidDocument(e))}),o3.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=i5,i=new rx(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;0>=l.compareTo(n)||id(t,c)&&(r=r.insert(c.key,c.clone()))}return o3.resolve(r)},e.prototype.fs=function(e,t){return o3.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new sg(this)},e.prototype.getSize=function(e){return o3.resolve(this.size)},e}(),sg=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,D.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),o3.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(aq),sv=function(){function e(e){this.persistence=e,this.ds=new aW(function(e){return rK(e)},rG),this.lastRemoteSnapshotVersion=ru.min(),this.highestTargetId=0,this.ws=0,this._s=new sd,this.targetCount=0,this.ys=aL.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),o3.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return o3.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return o3.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),o3.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),o3.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new aL(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,o3.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),o3.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,o3.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),o3.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return o3.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return o3.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),o3.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),o3.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),o3.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return o3.resolve(n)},e.prototype.containsKey=function(e,t){return o3.resolve(this._s.containsKey(t))},e}(),sm=function(){function e(e,t){var n=this;this.gs={},this.Ne=new n3(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sv(this),this.Ut=new aE,this.Ue=new sp(this.Ut,function(e){return n.referenceDelegate.ps(e)}),this.R=new ac(t),this.Ke=new sA(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new sh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;n7("MemoryPersistence","Starting transaction:",e);var i=new sy(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return o3.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),sy=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,D.__extends)(t,e),t}(o2),sb=function(){function e(e){this.persistence=e,this.As=new sd,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),o3.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),o3.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),o3.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return o3.forEach(this.vs,function(r){var i=rx.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return o3.or([function(){return o3.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),sw=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(e,t){return"firestore_clients_"+e+"_"+t}function sE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function sC(e,t){return"firestore_targets_"+e+"_"+t}sw.UNAUTHENTICATED=new sw(null),sw.GOOGLE_CREDENTIALS=new sw("google-credentials-uid"),sw.FIRST_PARTY=new sw("first-party-uid"),sw.MOCK_USER=new sw("mock-user");var sB=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new n6(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(re("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sI=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new n6(i.error.code,i.error.message)),o?new e(t,i.state,r):(re("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sx=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=oe,a=0;i&&a<r.activeTargetIds.length;++a)i=rI(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(re("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),sT=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(re("SharedClientState","Failed to parse online state: "+t),null)},e}(),sS=function(){function e(){this.activeTargetIds=oe}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},e}(),sk=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new i0(ro),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=s_(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new sS),this.Ls=RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,A=this;return(0,D.__generator)(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=d.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(s_(this.persistenceKey,r)))&&(o=sx.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return A.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sC(this.persistenceKey,e));if(n){var r=sI.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(sC(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return n7("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){n7("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){n7("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this;if(e.storageArea===this.storage){if(n7("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Os)return void re("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t,n,r,i,o,a;return(0,D.__generator)(this,function(s){if(this.started){if(null!==e.key){if(this.Ls.test(e.key)){if(null==e.newValue)return t=this.ti(e.key),[2,this.ei(t,null)];if(n=this.ni(e.key,e.newValue))return[2,this.ei(n.clientId,n)]}else if(this.Bs.test(e.key)){if(null!==e.newValue&&(r=this.si(e.key,e.newValue)))return[2,this.ii(r)]}else if(this.qs.test(e.key)){if(null!==e.newValue&&(i=this.ri(e.key,e.newValue)))return[2,this.oi(i)]}else if(e.key===this.Us){if(null!==e.newValue&&(o=this.js(e.newValue)))return[2,this.Ws(o)]}else if(e.key===this.Ms)(a=function(e){var t=n3.o;if(null!=e)try{var n=JSON.parse(e);"number"==typeof n||rr(),t=n}catch(e){re("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==n3.o&&this.sequenceNumberHandler(a);else if(e.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(e);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new sB(this.currentUser,e,t,n),i=sE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=sE(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=sC(this.persistenceKey,e),i=new sI(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return sx.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sB.Vs(new sw(i),r,t)},e.prototype.ri=function(e,t){var n=Number(this.qs.exec(e)[1]);return sI.Vs(n,t)},e.prototype.js=function(e){return sT.Vs(e)},e.prototype.ii=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(n7("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=oe;return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),sN=function(){function e(){this.li=new sS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new sS,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),sD=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),sO=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){n7("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){n7("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sF=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),sL=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,D.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var a=new ng;a.listenOnce(tA.COMPLETE,function(){try{switch(a.getLastErrorCode()){case tl.NO_ERROR:var t=a.getResponseJson();n7("Connection","XHR received:",JSON.stringify(t)),i(t);break;case tl.TIMEOUT:n7("Connection",'RPC "'+e+'" timed out'),o(new n6(n5.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:var n=a.getStatus();if(n7("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s,u=(s=r.status.toLowerCase().replace(/_/g,"-"),Object.values(n5).indexOf(s)>=0?s:n5.UNKNOWN);o(new n6(u,r.message))}else o(new n6(n5.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new n6(n5.UNAVAILABLE,"Connection failed."));break;default:rr()}}finally{n7("Connection",'RPC "'+e+'" completed.')}});var s=JSON.stringify(r);a.send(t,"POST",s,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new n$,i=tr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nc({})),this.ki(o.initMessageHeaders,t),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");n7("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new sF({Ei:function(e){c?n7("Connection","Not sending because WebChannel is closed:",e):(u||(n7("Connection","Opening WebChannel transport."),s.open(),u=!0),n7("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),A=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return A(s,th.EventType.OPEN,function(){c||n7("Connection","WebChannel transport opened.")}),A(s,th.EventType.CLOSE,function(){c||(c=!0,n7("Connection","WebChannel transport closed"),l.Vi())}),A(s,th.EventType.ERROR,function(e){c||(c=!0,rt("Connection","WebChannel transport errored:",e),l.Vi(new n6(n5.UNAVAILABLE,"The operation could not be completed")))}),A(s,th.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];n||rr();var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){n7("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=iz[e];if(void 0!==t)return iJ(t)}(i),a=r.message;void 0===o&&(o=n5.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new n6(o,a)),s.close()}else n7("Connection","WebChannel received:",n),l.Si(n)}}),A(i,tt.STAT_EVENT,function(e){e.stat===n2.PROXY?n7("Connection","Detected buffering proxy"):e.stat===n2.NOPROXY&&n7("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);n7("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return n7("RestConnection","Received: ",e),e},function(t){throw rt("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=sR[e];return this.Di+"/v1/"+t+":"+n},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return"undefined"!=typeof window?window:null}function sU(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e){return new od(e,!0)}var sj=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&n7("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sZ=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sj(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===n5.RESOURCE_EXHAUSTED?(re(t.toString()),re("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===n5.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new n6(n5.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,D.__awaiter)(e,void 0,void 0,function(){return(0,D.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return n7("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(n7("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),sQ=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,D.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r,i,o,a="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rr(),s=t.targetChange.targetIds||[],u=(i=t.targetChange.resumeToken,e.I?(void 0===i||"string"==typeof i||rr(),rv.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||rr(),rv.fromUint8Array(i||new Uint8Array))),c=(l=t.targetChange.cause)&&new n6(void 0===(o=l).code?n5.UNKNOWN:iJ(o.code),o.message||"");n=new oo(a,s,u,c||null)}else if("documentChange"in t){t.documentChange,(a=t.documentChange).document,a.document.name,a.document.updateTime,s=oy(e,a.document.name),u=op(a.document.updateTime);var l=new rZ({mapValue:{fields:a.document.fields}});n=new or((c=rQ.newFoundDocument(s,u,l),a.targetIds||[]),a.removedTargetIds||[],c.key,c)}else if("documentDelete"in t)t.documentDelete,(a=t.documentDelete).document,s=oy(e,a.document),u=a.readTime?op(a.readTime):ru.min(),l=rQ.newNoDocument(s,u),n=new or([],c=a.removedTargetIds||[],l.key,l);else if("documentRemove"in t)t.documentRemove,(a=t.documentRemove).document,s=oy(e,a.document),n=new or([],u=a.removedTargetIds||[],s,null);else{if(!("filter"in t))return rr();t.filter;var A=t.filter;A.targetId,s=new i$(a=A.count||0),n=new oi(u=A.targetId,s)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ru.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ru.min():t.readTime?op(t.readTime):ru.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t,n,r,i,o={};o.database=o_(this.R),o.addTarget=(t=this.R,(n=rz(r=e.target)?{documents:oT(t,r)}:{query:oS(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=oh(t,e.resumeToken):e.snapshotVersion.compareTo(ru.min())>0&&(n.readTime=of(t,e.snapshotVersion.toTimestamp())),n);var a=(this.R,null==(i=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rr()}}(0,e.purpose))?null:{"goog-listen-tags":i});a&&(o.labels=a),this.cr(o)},t.prototype.yr=function(e){var t={};t.database=o_(this.R),t.removeTarget=e,this.cr(t)},t}(sZ),sH=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,D.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(e.streamToken||rr(),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t,n,r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||rr(),t.map(function(e){var t;return(t=e.updateTime?op(e.updateTime):op(n)).isEqual(ru.min())&&(t=op(n)),new iS(t,e.transformResults||[])})):[]),i=op(e.commitTime);return this.listener.Tr(i,r)}return e.writeResults&&0!==e.writeResults.length&&rr(),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=o_(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return oI(t.R,e)})};this.cr(n)},t}(sZ),sV=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,D.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new n6(n5.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===n5.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new n6(n5.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===n5.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new n6(n5.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),sK=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(re(t),this.Vr=!1):n7("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),sG=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return(0,D.__awaiter)(o,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return s1(this)?(n7("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return(t=e).Or.add(4),[4,sW(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,sz(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new sK(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:if(!s1(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function sW(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function sq(e,t){e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),s0(e)?sJ(e):uo(e).er()&&s$(e,t))}function sY(e,t){var n=uo(e);e.$r.delete(t),n.er()&&sX(e,t),0===e.$r.size&&(n.er()?n.ir():s1(e)&&e.Br.set("Unknown"))}function s$(e,t){e.qr.U(t.targetId),uo(e).mr(t)}function sX(e,t){e.qr.U(t),uo(e).yr(t)}function sJ(e){e.qr=new os({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),uo(e).start(),e.Br.Sr()}function s0(e){return s1(e)&&!uo(e).tr()&&e.$r.size>0}function s1(e){return 0===e.Or.size}function s2(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){return e.$r.forEach(function(t,n){s$(e,t)}),[2]})})}function s4(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(n){return e.qr=void 0,s0(e)?(e.Br.Nr(t),sJ(e)):e.Br.set("Unknown"),[2]})})}function s3(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof oo&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:case 4:return a.sent(),[3,5];case 3:return r=a.sent(),n7("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,s5(e,r)];case 5:return[3,13];case 6:if(t instanceof or?e.qr.X(t):t instanceof oi?e.qr.rt(t):e.qr.et(t),n.isEqual(ru.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,si(e.localStore)];case 8:var s;return i=a.sent(),n.compareTo(i)>=0?[4,((s=e.qr.ut(n)).targetChanges.forEach(function(t,r){if(t.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(t.resumeToken,n))}}),s.targetMismatches.forEach(function(t){var n=e.$r.get(t);n&&(e.$r.set(t,n.withResumeToken(rv.EMPTY_BYTE_STRING,n.snapshotVersion)),sX(e,t),s$(e,new au(n.target,t,1,n.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(s))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return n7("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,s5(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function s5(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,D.__generator)(this,function(i){switch(i.label){case 0:if(!o7(t))throw t;return e.Or.add(1),[4,sW(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return si(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,D.__awaiter)(r,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return n7("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,sz(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function s6(e,t){return t().catch(function(n){return s5(e,n,t)})}function s8(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,D.__generator)(this,function(a){var s,u,c;switch(a.label){case 0:n=ua(t=e),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!(s1(s=t)&&s.Fr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,(u=t.localStore,c=r,u.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===c&&(c=-1),u._n.getNextMutationBatchAfterBatchId(e,c)}))];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=ua(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,s5(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return s9(t)&&s7(t),[2]}})})}function s9(e){return s1(e)&&!ua(e).tr()&&e.Fr.length>0}function s7(e){ua(e).start()}function ue(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){return ua(e).Ar(),[2]})})}function ut(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return(0,D.__generator)(this,function(o){for(t=ua(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function un(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=as.from(r,t,n),[4,s6(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,s8(e)];case 2:return o.sent(),[2]}})})}function ur(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t&&ua(e).pr?[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return iX(r=t.code)&&r!==n5.ABORTED?(n=e.Fr.shift(),ua(e).sr(),[4,s6(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,s8(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return s9(e)&&s7(e),[2]}})})}function ui(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return n=e,t?(n.Or.delete(2),[4,sz(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,sW(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uo(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:s2.bind(null,e),Ri:s4.bind(null,e),_r:s3.bind(null,e)},t.br(),new sQ(n,t.Hi,t.credentials,t.R,r)),e.Mr.push(function(t){return(0,D.__awaiter)(i,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t?(e.Ur.sr(),s0(e)?sJ(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),e.qr=void 0,n.label=3;case 3:return[2]}})})})),e.Ur}function ua(e){var t,n,r,i=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:ue.bind(null,e),Ri:ur.bind(null,e),Ir:ut.bind(null,e),Tr:un.bind(null,e)},t.br(),new sH(n,t.Hi,t.credentials,t.R,r)),e.Mr.push(function(t){return(0,D.__awaiter)(i,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,s8(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),e.Fr.length>0&&(n7("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),n.label=4;case 4:return[2]}})})})),e.Kr}var us=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new o4,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new n6(n5.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function uu(e,t){if(re("AsyncQueue",t+": "+e),o7(e))return new n6(n5.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||rx.comparator(t.key,n.key)}:function(e,t){return rx.comparator(e.key,t.key)},this.keyedMap=i6,this.sortedSet=new i0(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),ul=function(){function e(){this.Qr=new i0(rx.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):rr():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),uA=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,uc.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),ud=function(){this.Wr=void 0,this.listeners=[]},uf=function(){this.queries=new aW(function(e){return il(e)},ic),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,D.__generator)(this,function(u){switch(u.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ud),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=u.sent(),[3,4];case 3:return s=uu(u.sent(),"Initialization of query '"+iA(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&um(n),[2]}})})}function up(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,D.__generator)(this,function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ug(e,t){for(var n=!1,r=0;r<t.length;r++){var i=t[r],o=i.query,a=e.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].Hr(i)&&(n=!0);a.Wr=i}}n&&um(e)}function uv(e,t,n){var r=e.queries.get(t);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);e.queries.delete(t)}function um(e){e.Gr.forEach(function(e){e.next()})}var uy=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new uA(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=uA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ub=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),uw=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return oy(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?oB(this.R,e.document,!1):rQ.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return op(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new uw(this.R),r=0;r<e.length;r++){var i=e[r];if(i.metadata.queries)for(var o=n.qn(i.metadata.name),a=0,s=i.metadata.queries;a<s.length;a++){var u=s[a],c=(t.get(u)||i7()).add(o);t.set(u,c)}}return t},e.prototype.complete=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return[4,function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,A,d,f;return(0,D.__generator)(this,function(h){switch(h.label){case 0:for(i=e,o=i7(),a=i5,s=i8,u=0,c=n;u<c.length;u++)l=c[u],A=t.qn(l.metadata.name),l.document&&(o=o.add(A)),a=a.insert(A,t.Un(l)),s=s.insert(A,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,sa(i,is(r7(rf.fromString("__bundle__/docs/"+r))))];case 1:return f=h.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return so(e,d,a,ru.min(),s).next(function(t){return d.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next(function(){return i.qe.addMatchingKeys(e,o,f.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}(this.localStore,new uw(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(e,t,n){return void 0===n&&(n=i7()),(0,D.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return[4,sa(e,is(ay(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",function(e){var o=op(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(rv.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new a9(Object.assign({},this.progress),e))]}})})}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u_=function(e){this.key=e},uE=function(e){this.key=e},uC=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=i7(),this.mutatedKeys=i7(),this.lo=ih(e),this.fo=new uc(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new ul,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ie(this.query)&&i.size===this.query.limit?i.last():null,c=it(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),A=id(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!A&&(A.hasLocalMutations||n.mutatedKeys.has(A.key)&&A.hasCommittedMutations),h=!1;l&&A?l.data.isEqual(A.data)?d!==f&&(r.track({type:3,doc:A}),h=!0):n.yo(l,A)||(r.track({type:2,doc:A}),h=!0,(u&&n.lo(A,u)>0||c&&0>n.lo(A,c))&&(s=!0)):!l&&A?(r.track({type:0,doc:A}),h=!0):l&&!A&&(r.track({type:1,doc:l}),h=!0,(u||c)&&(s=!0)),h&&(A?(a=a.add(A),o=f?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),ie(this.query)||it(this.query))for(;a.size>this.query.limit;){var l=ie(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){var n,i,o;return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rr()}})(n)-o(i)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new uA(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ul,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=i7(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new uE(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new u_(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=i7();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return uA.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),uB=function(e,t,n){this.query=e,this.targetId=t,this.view=n},uI=function(e){this.key=e,this.bo=!1},ux=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new aW(function(e){return il(e)},ic),this.Vo=new Map,this.So=new Set,this.Do=new i0(rx.comparator),this.Co=new Map,this.No=new sd,this.xo={},this.ko=new Map,this.Fo=aL.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function uT(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,D.__generator)(this,function(u){switch(u.label){case 0:return(o=(n=u0(e)).Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,sa(n.localStore,is(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,uS(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&sq(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function uS(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return(0,D.__generator)(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,su(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(uQ(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,r)},[4,su(e.localStore,t,!0)];case 1:return a=(o=new uC(t,(i=l.sent()).Bn))._o(i.documents),s=on.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),uQ(e,n,u.To),c=new uB(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function uk(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!ic(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ss(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),sY(n.remoteStore,r.targetId),uj(n,r.targetId)}).catch(aZ)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return uj(n,r.targetId),[4,ss(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function uN(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,D.__generator)(this,function(a){var s,u,c,l,A,d,f;switch(a.label){case 0:r=u1(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(s=r.localStore,c=rs.now(),l=t.reduce(function(e,t){return e.add(t.key)},i7()),s.persistence.runTransaction("Locally write mutations","readwrite",function(e){return s.Mn.pn(e,l).next(function(n){u=n;for(var r=[],i=0;i<t.length;i++){var o=t[i],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=iy(o.transform,a||null);null!=s&&(null==n&&(n=rZ.empty()),n.set(o.field,s))}return n||null}(o,u.get(o.key));null!=a&&r.push(new iP(o.key,a,function e(t){var n=[];return rl(t.fields,function(t,r){var i=new rp([t]);if(rM(r)){var o=e(r.mapValue).fields;if(0===o.length)n.push(i);else for(var a=0;a<o.length;a++){var s=o[a];n.push(i.child(s))}}else n.push(i)}),new rg(n)}(a.value.mapValue),ik.exists(!0)))}return s._n.addMutationBatch(e,c,r,t)})}).then(function(e){return e.applyToLocalDocumentSet(u),{batchId:e.batchId,changes:u}}))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),A=r,d=i.batchId,(f=A.xo[A.currentUser.toKey()])||(f=new i0(ro)),f=f.insert(d,n),A.xo[A.currentUser.toKey()]=f,[4,uV(r,i.changes)];case 3:return a.sent(),[4,s8(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=uu(a.sent(),"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function uD(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){var o,a,s;switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,(o=n.localStore,a=t.snapshotVersion,s=o.kn,o.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var n=o.On.newChangeBuffer({trackRemovals:!0});s=o.kn;var r=[];t.targetChanges.forEach(function(t,n){var i=s.get(n);if(i){r.push(o.qe.removeMatchingKeys(e,t.removedDocuments,n).next(function(){return o.qe.addMatchingKeys(e,t.addedDocuments,n)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=i.withResumeToken(u,a).withSequenceNumber(e.currentSequenceNumber);s=s.insert(n,c),c.resumeToken.approximateByteSize()>0||rr(),(0===i.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()>=3e8||t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0)&&r.push(o.qe.updateTargetData(e,c))}}});var i=i5;if(t.documentUpdates.forEach(function(n,i){t.resolvedLimboDocuments.has(n)&&r.push(o.persistence.referenceDelegate.updateLimboDocument(e,n))}),r.push(so(e,n,t.documentUpdates,a,void 0).next(function(e){i=e})),!a.isEqual(ru.min())){var u=o.qe.getLastRemoteSnapshotVersion(e).next(function(t){return o.qe.setTargetsMetadata(e,e.currentSequenceNumber,a)});r.push(u)}return o3.waitFor(r).next(function(){return n.apply(e)}).next(function(){return o.Mn.En(e,i)}).next(function(){return i})}).then(function(e){return o.kn=s,e}))];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1||rr(),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?r.bo||rr():e.removedDocuments.size>0&&(r.bo||rr(),r.bo=!1))}),[4,uV(n,r,t)];case 3:case 5:return i.sent(),[3,6];case 4:return[4,aZ(i.sent())];case 6:return[2]}})})}function uO(e,t,n){if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){var r,i,o=[];e.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&o.push(r.snapshot)}),(r=e.eventManager).onlineState=t,i=!1,r.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(t)&&(i=!0)}),i&&um(r),o.length&&e.vo._r(o),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}function uR(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,D.__generator)(this,function(c){switch(c.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),(o=(i=r.Co.get(t))&&i.key)?(a=(a=new i0(rx.comparator)).insert(o,rQ.newNoDocument(o,ru.min())),s=i7().add(o),u=new ot(ru.min(),new Map,new i4(ro),a,s),[4,uD(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),uH(r),[3,4];case 2:return[4,ss(r.localStore,t,!1).then(function(){return uj(r,t,n)}).catch(aZ)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function uF(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){var a;switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=n.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var n,r,i,o=t.batch.keys(),s=a.On.newChangeBuffer({trackRemovals:!0});return(r=(n=t.batch).keys(),i=o3.resolve(),r.forEach(function(r){i=i.next(function(){return s.getEntry(e,r)}).next(function(e){var i=t.docVersions.get(r);null!==i||rr(),0>e.version.compareTo(i)&&(n.applyToRemoteDocument(e,t),e.isValidDocument()&&s.addEntry(e,t.commitVersion))})}),i.next(function(){return a._n.removeMutationBatch(e,n)})).next(function(){return s.apply(e)}).next(function(){return a._n.performConsistencyCheck(e)}).next(function(){return a.Mn.pn(e,o)})})];case 2:return i=o.sent(),uM(n,r,null),uU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,uV(n,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,aZ(o.sent())];case 6:return[2]}})})}function uL(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,D.__generator)(this,function(o){var a;switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return a._n.lookupMutationBatch(e,t).next(function(t){return null!==t||rr(),n=t.keys(),a._n.removeMutationBatch(e,t)}).next(function(){return a._n.performConsistencyCheck(e)}).next(function(){return a.Mn.pn(e,n)})})];case 2:return i=o.sent(),uM(r,t,n),uU(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,uV(r,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,aZ(o.sent())];case 6:return[2]}})})}function uP(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,D.__generator)(this,function(a){var s;switch(a.label){case 0:s1((n=e).remoteStore)||n7("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(s=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return s._n.getHighestUnacknowledgedBatchId(e)})];case 2:return -1===(r=a.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=uu(a.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}})})}function uU(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function uM(e,t,n){var r=e.xo[e.currentUser.toKey()];if(r){var i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.xo[e.currentUser.toKey()]=r}}function uj(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||uZ(e,t)})}function uZ(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(sY(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),uH(e))}function uQ(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];i instanceof u_?(e.No.addReference(i.key,t),function(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(n7("SyncEngine","New document in limbo: "+n),e.So.add(r),uH(e))}(e,i)):i instanceof uE?(n7("SyncEngine","Document no longer in limbo: "+i.key),e.No.removeReference(i.key,t),e.No.containsKey(i.key)||uZ(e,i.key)):rr()}}function uH(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new rx(rf.fromString(t)),r=e.Fo.next();e.Co.set(r,new uI(n)),e.Do=e.Do.insert(n,r),sq(e.remoteStore,new au(is(r7(n.path)),r,2,n3.o))}}function uV(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,s){a.push(r.Oo(s,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=se.Pn(s.targetId,e);o.push(t)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l;return(0,D.__generator)(this,function(A){switch(A.label){case 0:n=e,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return o3.forEach(t,function(t){return o3.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return o3.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return A.sent(),[3,4];case 3:if(!o7(r=A.sent()))throw r;return n7("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(c=(u=n.kn.get(s)).snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function uK(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){var o;switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(n7("SyncEngine","User change. New user:",t.toKey()),[4,sr(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).ko.forEach(function(e){e.forEach(function(e){e.reject(new n6(n5.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,uV(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function uG(e,t){var n=e.Co.get(t);if(n&&n.bo)return i7().add(n.key);var r=i7(),i=e.Vo.get(t);if(!i)return r;for(var o=0;o<i.length;o++){var a=i[o],s=e.Po.get(a);r=r.unionWith(s.view.wo)}return r}function uz(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){return[2,sl((t=e).localStore).then(function(e){return uV(t,e)})]})})}function uW(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:var s,u;return[4,(u=(s=(i=e).localStore)._n,s.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return u.jt(e,t).next(function(t){return t?s.Mn.pn(e,t):o3.resolve(null)})}))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,s8(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uM(i,t,r||null),uU(i,t),function(e,t){e._n.Gt(t)}(i.localStore,t)):rr(),a.label=4;case 4:return[4,uV(i,o)];case 5:return a.sent(),[3,7];case 6:n7("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function uq(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,A,d,f,h,p;return(0,D.__generator)(this,function(g){switch(g.label){case 0:n=e,r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,sa(n.localStore,is(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,A=c,g.label=3;case 3:return l<A.length?(d=A[l],f=n.Po.get(d),[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return[4,su((n=e).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&uQ(n,t.targetId,i.To),i)]}})})}(n,f)]):[3,6];case 4:(h=g.sent()).snapshot&&i.push(h.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sc(n.localStore,s)];case 8:return p=g.sent(),[4,sa(n.localStore,p)];case 9:return u=g.sent(),[4,uS(n,uY(p),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function uY(e){var t,n,r,i;return t=e.path,n=e.collectionGroup,r=e.orderBy,i=e.filters,new r9(t,n,r,i,e.limit,"F",e.startAt,e.endAt)}function u$(e){return e.localStore.persistence.fn()}function uX(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return(i=e).$o?(n7("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sl(i.localStore)];case 3:return o=s.sent(),a=ot.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,uV(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ss(i.localStore,t,!0)];case 6:return s.sent(),uj(i,t,r),[3,8];case 7:rr(),s.label=8;case 8:return[2]}})})}function uJ(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,A,d;return(0,D.__generator)(this,function(f){switch(f.label){case 0:if(!(r=u0(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(n7("SyncEngine","Adding an already active target "+a),[3,5]):[4,sc(r.localStore,a)]):[3,6];case 2:return s=f.sent(),[4,sa(r.localStore,s)];case 3:return u=f.sent(),[4,uS(r,uY(s),u.targetId,!1)];case 4:f.sent(),sq(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,ss(r.localStore,e,!1).then(function(){sY(r.remoteStore,e),uj(r,e)}).catch(aZ)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},l=0,A=n,f.label=7;case 7:return l<A.length?(d=A[l],[5,c(d)]):[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function u0(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=uD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.vo._r=ug.bind(null,e.eventManager),e.vo.Mo=uv.bind(null,e.eventManager),e}function u1(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=uF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}var u2=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return this.R=sM(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){var t;return t=this.persistence,new sn(t,new st,e.initialUser,this.R)},e.prototype.qo=function(e){return new sm(sb.bs,this.R)},e.prototype.Bo=function(e){return new sN},e.prototype.terminate=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),u4=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,D.__extends)(t,e),t.prototype.initialize=function(t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){var t,n;return t=aJ(e),n=ru.min(),t.$t({index:oK.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=af(t.readTime)),r.done()}).next(function(){return n})}).then(function(e){t.$n=e})]})})}(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,u1(this.Qo.syncEngine)];case 4:return r.sent(),[4,s8(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){var t;return t=this.persistence,new sn(t,new st,e.initialUser,this.R)},t.prototype.Uo=function(e){return new aV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=a8(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?aT.withCacheSize(this.cacheSizeBytes):aT.DEFAULT;return new a3(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sP(),sU(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new sN},t}(u2),u3=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,D.__extends)(t,e),t.prototype.initialize=function(t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof sk?(this.sharedClientState.syncEngine={ui:uW.bind(null,n),ai:uX.bind(null,n),hi:uJ.bind(null,n),fn:u$.bind(null,n),ci:uz.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return(0,D.__awaiter)(r,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,D.__generator)(this,function(l){var A;switch(l.label){case 0:return u0(n=e),u1(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uq(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,ui(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],sq(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then(function(){return uj(n,t),ss(n.localStore,t,!0)}),sY(n.remoteStore,t)}),[4,c]);case 4:return l.sent(),[4,uq(n,u)];case 5:return l.sent(),(A=n).Co.forEach(function(e,t){sY(A.remoteStore,t)}),A.No.ts(),A.Co=new Map,A.Do=new i0(rx.comparator),n.$o=!1,[4,ui(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=sP();if(!sk.yt(t))throw new n6(n5.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=a8(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sk(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(u4),u5=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uO(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uK.bind(null,this.syncEngine),[4,ui(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new uf},e.prototype.createDatastore=function(e){var t=sM(e.databaseInfo.databaseId),n=new sL(e.databaseInfo);return new sV(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n=this;return t=this.localStore,new sG(t,this.datastore,e.asyncQueue,function(e){return uO(n.syncEngine,e,0)},sO.yt()?new sO:new sD)},e.prototype.createSyncEngine=function(e,t){var n,r,i,o,a;return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=new ux(n,r,i,o,e.initialUser,e.maxConcurrentLimboResolutions),t&&(a.$o=!0),a},e.prototype.terminate=function(){return function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t=e,n7("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,sW(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),u6=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),u8=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new o4,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(isNaN(n=Number(t=this.zo.decode(e)))&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return[2,new ub(JSON.parse(r.sent()),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return 123===e})},e.prototype.Jo=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,D.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new n6(n5.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,D.__generator)(this,function(u){switch(u.label){case 0:return r=o_((n=e).R)+"/documents",i={documents:t.map(function(e){return om(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(e){var t,r,i,o,s,u,c=(t=n.R,"found"in e?(e.found||rr(),e.found.name,e.found.updateTime,r=oy(t,e.found.name),i=op(e.found.updateTime),o=new rZ({mapValue:{fields:e.found.fields}}),rQ.newFoundDocument(r,i,o)):"missing"in e?(e.missing||rr(),e.readTime||rr(),s=oy(t,e.missing),u=op(e.readTime),rQ.newNoDocument(s,u)):rr());a.set(c.key.toString(),c)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());t||rr(),s.push(t)}),s)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new iq(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,D.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=rx.fromPath(n);t.mutations.push(new iY(r,t.precondition(r)))}),[4,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return r=o_((n=e).R)+"/documents",i={writes:t.map(function(e){return oI(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rr();t=ru.min()}var t,n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new n6(n5.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ik.updateTime(t):ik.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ru.min()))throw new n6(n5.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ik.updateTime(t)}return ik.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),u9=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sj(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,D.__awaiter)(e,void 0,void 0,function(){var e,t,n=this;return(0,D.__generator)(this,function(r){return e=new u8(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!rC(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!iX(t)}return!1},e}(),u7=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=sw.UNAUTHENTICATED,this.clientId=ri.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return(0,D.__awaiter)(r,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return n7("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new n6(n5.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new o4;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,D.__awaiter)(e,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=uu(n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}})})}),t.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),n7("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return(0,D.__awaiter)(i,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,sr(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ct(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,cn(e)];case 1:return n=i.sent(),n7("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),n7("RemoteStore","RemoteStore received new credentials"),r=s1(n),n.Or.add(3),[4,sW(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,sz(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function cn(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(n7("FirestoreClient","Using default OfflineComponentProvider"),[4,ce(e,new u2)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function cr(e){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(n7("FirestoreClient","Using default OnlineComponentProvider"),[4,ct(e,new u5)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function ci(e){return cn(e).then(function(e){return e.persistence})}function co(e){return cn(e).then(function(e){return e.localStore})}function ca(e){return cr(e).then(function(e){return e.remoteStore})}function cs(e){return cr(e).then(function(e){return e.syncEngine})}function cu(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,cr(e)];case 1:return[2,((n=(t=r.sent()).eventManager).onListen=uT.bind(null,t.syncEngine),n.onUnlisten=uk.bind(null,t.syncEngine),n)]}})})}function cc(e,t,n){var r=this;void 0===n&&(n={});var i=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(r,void 0,void 0,function(){var r;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new u6({next:function(o){t.enqueueAndForget(function(){return up(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new n6(n5.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new n6(n5.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new uy(r7(n.path),o,{includeMetadataChanges:!0,so:!0});return uh(e,a)},[4,cu(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function cl(e,t,n){var r=this;void 0===n&&(n={});var i=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(r,void 0,void 0,function(){var r;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new uy(n,new u6({next:function(n){t.enqueueAndForget(function(){return up(e,o)}),n.fromCache&&"server"===r.source?i.reject(new n6(n5.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),{includeMetadataChanges:!0,so:!0});return uh(e,o)},[4,cu(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var cA=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},cd=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),cf=new Map,ch=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cp=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(sw.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cg=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cv=function(){function e(e){var t=this;this.currentUser=sw.UNAUTHENTICATED,this.oc=new o4,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){n7("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(n7("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(n7("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?("string"==typeof n.accessToken||rr(),new ch(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||rr(),new sw(e)},e}(),cm=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=sw.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),cy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new cm(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(sw.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e,t,n){if(!n)throw new n6(n5.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function cw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new n6(n5.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function c_(e,t,n,r){if(!0===t&&!0===r)throw new n6(n5.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function cE(e){if(!rx.isDocumentKey(e))throw new n6(n5.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function cC(e){if(rx.isDocumentKey(e))throw new n6(n5.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cB(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":rr()}function cI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new n6(n5.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cB(e);throw new n6(n5.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cx(e,t){if(t<=0)throw new n6(n5.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new n6(n5.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new n6(n5.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,c_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),cS=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,e instanceof cd?(this._databaseId=e,this._credentials=new cp):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new n6(n5.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(e.options.projectId)}(e),this._credentials=new cv(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new n6(n5.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new n6(n5.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cp;switch(e.type){case"gapi":var t=e.client;return"object"==typeof t&&null!==t&&t.auth&&t.auth.getAuthHeaderValueForFirstParty||rr(),new cy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new n6(n5.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){var e;return(e=cf.get(this))&&(n7("ComponentProvider","Removing Datastore"),cf.delete(this),e.terminate()),Promise.resolve()},e}(),ck=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cD(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),cN=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),cD=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r7(r))||this)._path=r,i.type="collection",i}return(0,D.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ck(this.firestore,null,new rx(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(cN);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,O.m9)(e),cb("collection","path",t),e instanceof cS)return cC(n=rf.fromString.apply(rf,(0,D.__spreadArray)([t],r))),new cD(e,null,n);if(!(e instanceof ck||e instanceof cD))throw new n6(n5.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cC(n=rf.fromString.apply(rf,(0,D.__spreadArray)([e.path],r)).child(rf.fromString(t))),new cD(e.firestore,null,n)}function cR(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,O.m9)(e),1==arguments.length&&(t=ri.u()),cb("doc","path",t),e instanceof cS)return cE(n=rf.fromString.apply(rf,(0,D.__spreadArray)([t],r))),new ck(e,null,new rx(n));if(!(e instanceof ck||e instanceof cD))throw new n6(n5.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cE(n=e._path.child(rf.fromString.apply(rf,(0,D.__spreadArray)([t],r)))),new ck(e.firestore,e instanceof cD?e.converter:null,new rx(n))}function cF(e,t){return e=(0,O.m9)(e),t=(0,O.m9)(t),(e instanceof ck||e instanceof cD)&&(t instanceof ck||t instanceof cD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cL(e,t){return e=(0,O.m9)(e),t=(0,O.m9)(t),e instanceof cN&&t instanceof cN&&e.firestore===t.firestore&&ic(e._query,t._query)&&e.converter===t.converter/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var cP=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sj(this,"async_queue_retry"),this.Ic=function(){var t=sU();t&&n7("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=sU();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=sU();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new o4;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,D.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!o7(e=n.sent()))throw e;return n7("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){var n;throw t.yc=e,t.gc=!1,re("INTERNAL UNHANDLED ERROR: ",(n=e.message||"",e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=us.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&rr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function cU(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new o4,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var cM=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new cP,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,D.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||cZ(this),this._firestoreClient.terminate()},t}(cS);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(e){return e._firestoreClient||cZ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cZ(e){var t,n,r=e._freezeSettings(),i=(t=e._databaseId,new cA(t,(null===(n=e._app)||void 0===n?void 0:n.options.appId)||"",e._persistenceKey,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));e._firestoreClient=new u7(e._credentials,e._queue,i)}function cQ(e,t,n){var r=this,i=new o4;return e.asyncQueue.enqueue(function(){return(0,D.__awaiter)(r,void 0,void 0,function(){var r;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ce(e,n)];case 1:return o.sent(),[4,ct(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:var a;if(!("FirebaseError"===(a=r=o.sent()).name?a.code===n5.FAILED_PRECONDITION||a.code===n5.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cH(e){if(e._initialized||e._terminated)throw new n6(n5.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cV=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new n6(n5.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rp(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),cK=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(rv.fromBase64String(t))}catch(e){throw new n6(n5.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},e.fromUint8Array=function(t){return new e(rv.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),cG=function(e){this._methodName=e},cz=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new n6(n5.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new n6(n5.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ro(this._lat,e._lat)||ro(this._long,e._long)},e}(),cW=/^__.*__$/,cq=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new iP(e,this.data,this.fieldMask,t,this.fieldTransforms):new iL(e,this.data,t,this.fieldTransforms)},e}(),cY=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new iP(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rr()}}var cX=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return lu(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(c$(this.Nc)&&cW.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),cJ=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||sM(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new cX({Nc:e,methodName:t,qc:n,path:rp.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function c0(e){var t=e._freezeSettings(),n=sM(e._databaseId);return new cJ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function c1(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);li("Data must be an object, but it was:",a,r);var s,u,c=ln(r,a);if(o.merge)s=new rg(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],A=0,d=o.mergeFields;A<d.length;A++){var f=lo(t,d[A],n);if(!a.contains(f))throw new n6(n5.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");lc(l,f)||l.push(f)}s=new rg(l),u=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=a.fieldTransforms;return new cq(new rZ(c),s,u)}var c2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cG);function c4(e,t,n){return new cX({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var c3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new iT(e.path,new ib)},t.prototype.isEqual=function(e){return e instanceof t},t}(cG),c5=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,D.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=c4(this,e,!0),n=new iw(this.Kc.map(function(e){return lt(e,t)}));return new iT(e.path,n)},t.prototype.isEqual=function(e){return this===e},t}(cG),c6=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,D.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=c4(this,e,!0),n=new iE(this.Kc.map(function(e){return lt(e,t)}));return new iT(e.path,n)},t.prototype.isEqual=function(e){return this===e},t}(cG),c8=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,D.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new iB(e.R,iv(e.R,this.Qc));return new iT(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(cG);function c9(e,t,n,r){var i=e.Uc(1,t,n);li("Data must be an object, but it was:",i,r);var o=[],a=rZ.empty();return rl(r,function(e,r){var s=ls(t,e,n);r=(0,O.m9)(r);var u=i.Oc(s);if(r instanceof c2)o.push(s);else{var c=lt(r,u);null!=c&&(o.push(s),a.set(s,c))}}),new cY(a,new rg(o),i.fieldTransforms)}function c7(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[lo(t,r,n)],u=[i];if(o.length%2!=0)throw new n6(n5.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(lo(t,o[c])),u.push(o[c+1]);for(var l=[],A=rZ.empty(),d=s.length-1;d>=0;--d)if(!lc(l,s[d])){var f=s[d],h=u[d];h=(0,O.m9)(h);var p=a.Oc(f);if(h instanceof c2)l.push(f);else{var g=lt(h,p);null!=g&&(l.push(f),A.set(f,g))}}return new cY(A,new rg(l),a.fieldTransforms)}function le(e,t,n,r){return void 0===r&&(r=!1),lt(n,e.Uc(r?4:3,t))}function lt(e,t){if(lr(e=(0,O.m9)(e)))return li("Unsupported field value:",t,e),ln(e,t);if(e instanceof cG)return function(e,t){if(!c$(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0;i<e.length;i++){var o=lt(e[i],t.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,O.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iv(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rs.fromDate(e);return{timestampValue:of(t.R,n)}}if(e instanceof rs)return n=new rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:of(t.R,n)};if(e instanceof cz)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cK)return{bytesValue:oh(t.R,e._byteString)};if(e instanceof ck){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:og(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+cB(e))}(e,t)}function ln(e,t){var n={};return rA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rl(e,function(e,r){var i=lt(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function lr(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rs||e instanceof cz||e instanceof cK||e instanceof ck||e instanceof cG)}function li(e,t,n){if(!lr(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){var r=cB(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function lo(e,t,n){if((t=(0,O.m9)(t))instanceof cV)return t._internalPath;if("string"==typeof t)return ls(e,t);throw lu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var la=RegExp("[~\\*/\\[\\]]");function ls(e,t,n){if(t.search(la)>=0)throw lu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(cV.bind.apply(cV,(0,D.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(r){throw lu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function lu(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new n6(n5.INVALID_ARGUMENT,(s+=". ")+e+u)}function lc(e,t){return e.some(function(e){return e.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ck(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new lA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(ld("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),lA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ll);function ld(e,t){return"string"==typeof t?ls(e,t):t instanceof cV?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),lh=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,D.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(ld("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(ll),lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(lh),lg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new lp(n._firestore,n._userDataWriter,r.key,r,new lf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new n6(n5.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new lp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new lp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rr()}}(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function lv(e,t){return e instanceof lh&&t instanceof lh?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lg&&t instanceof lg&&e._firestore===t._firestore&&cL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e){if(it(e)&&0===e.explicitOrderBy.length)throw new n6(n5.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ly=function(){};function lb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)e=t[r]._apply(e);return e}var lw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,D.__extends)(t,e),t.prototype._apply=function(e){var t,n,r=c0(e.firestore),i=function(e,t,n,r,i,o,a){if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new n6(n5.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){lT(a,o);for(var s,u=[],c=0;c<a.length;c++){var l=a[c];u.push(lx(r,e,l))}s={arrayValue:{values:u}}}else s=lx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lT(a,o),s=le(n,"where",a,"in"===o||"not-in"===o);var A=rW.create(i,o,s);return function(e,t){if(t.g()){var n=ii(e);if(null!==n&&!n.isEqual(t.field))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ir(e);null!==r&&lS(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new n6(n5.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new n6(n5.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,A),A}(e._query,0,r,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new cN(e.firestore,e.converter,(n=(t=e._query).filters.concat([i]),new r9(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)))},t}(ly),l_=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,D.__extends)(t,e),t.prototype._apply=function(e){var t,n,r=function(e,t,n){if(null!==e.startAt)throw new n6(n5.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new n6(n5.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new r5(t,n);return function(e,t){if(null===ir(e)){var n=ii(e);null!==n&&lS(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new cN(e.firestore,e.converter,(n=(t=e._query).explicitOrderBy.concat([r]),new r9(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(ly),lE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,D.__extends)(t,e),t.prototype._apply=function(e){return new cN(e.firestore,e.converter,iu(e._query,this.Hc,this.Jc))},t}(ly),lC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,D.__extends)(t,e),t.prototype._apply=function(e){var t,n=lI(e,this.type,this.Yc,this.Xc);return new cN(e.firestore,e.converter,new r9((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt))},t}(ly),lB=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,D.__extends)(t,e),t.prototype._apply=function(e){var t,n=lI(e,this.type,this.Yc,this.Xc);return new cN(e.firestore,e.converter,new r9((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n))},t}(ly);function lI(e,t,n,r){if(n[0]=(0,O.m9)(n[0]),n[0]instanceof ll)return function(e,t,n,r,i){if(!r)throw new n6(n5.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ia(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(rR(t,r.key));else{var c=r.data.field(u.field);if(r_(c))throw new n6(n5.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new n6(n5.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new r4(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=c0(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new n6(n5.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new n6(n5.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!io(e)&&-1!==c.indexOf("/"))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(rf.fromString(c));if(!rx.isDocumentKey(l))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var A=new rx(l);s.push(rR(t,A))}else{var d=le(n,r,c);s.push(d)}}return new r4(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function lx(e,t,n){if("string"==typeof(n=(0,O.m9)(n))){if(""===n)throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!io(t)&&-1!==n.indexOf("/"))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(rf.fromString(n));if(!rx.isDocumentKey(r))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rR(e,new rx(r))}if(n instanceof ck)return rR(e,n._key);throw new n6(n5.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cB(n)+".")}function lT(e,t){if(!Array.isArray(e)||0===e.length)throw new n6(n5.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new n6(n5.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function lS(e,t,n){if(!n.isEqual(t))throw new n6(n5.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),rT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return rl(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new cz(rb(e.latitude),rb(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return r_(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rE(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ry(e);return new rs(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=rf.fromString(e);oF(n)||rr();var r=new cd(n.get(1),n.get(3)),i=new rx(n.popFirst(5));return r.isEqual(t)||re("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lD=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,D.__extends)(t,e),t.prototype.convertBytes=function(e){return new cK(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ck(this.firestore,null,t)},t}(lk),lO=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=c0(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=lR(e,this._firestore),i=lN(r.converter,t,n),o=c1(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ik.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=lR(e,this._firestore);return o="string"==typeof(t=(0,O.m9)(t))||t instanceof cV?c7(this._dataReader,"WriteBatch.update",a._key,t,n,r):c9(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,ik.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=lR(e,this._firestore);return this._mutations=this._mutations.concat(new iq(t._key,ik.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new n6(n5.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){if((e=(0,O.m9)(e)).firestore!==t)throw new n6(n5.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lF=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,D.__extends)(t,e),t.prototype.convertBytes=function(e){return new cK(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ck(this.firestore,null,t)},t}(lk);function lL(e,t,n){e=cI(e,ck);var r=cI(e.firestore,cM),i=lN(e.converter,t,n);return lM(r,[c1(c0(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ik.none())])}function lP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=cI(e,ck);var o=cI(e.firestore,cM),a=c0(o);return lM(o,[("string"==typeof(t=(0,O.m9)(t))||t instanceof cV?c7(a,"updateDoc",e._key,t,n,r):c9(a,"updateDoc",e._key,t)).toMutation(e._key,ik.exists(!0))])}function lU(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,O.m9)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[0]||cU(i[s])||(a=i[s],s++);var u,c,l,A={includeMetadataChanges:a.includeMetadataChanges};if(cU(i[s])){var d=i[s];i[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[s+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof ck)c=cI(e.firestore,cM),l=r7(e._key.path),u={next:function(t){i[s]&&i[s](lj(c,e,t))},error:i[s+1],complete:i[s+2]};else{var f=cI(e,cN);c=cI(f.firestore,cM),l=f._query;var h=new lF(c);u={next:function(e){i[s]&&i[s](new lg(c,h,f,e))},error:i[s+1],complete:i[s+2]},lm(e._query)}return function(e,t,n,r){var i=this,o=new u6(r),a=new uy(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(i,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t=uh,[4,cu(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(i,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t=up,[4,cu(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(cj(c),l,A,u)}function lM(e,t){return function(e,t){var n=this,r=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return n=uN,[4,cs(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(cj(e),t)}function lj(e,t,n){var r=n.docs.get(t._key),i=new lF(e);return new lh(e,i,t._key,r,new lf(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lZ=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,D.__extends)(t,e),t.prototype.get=function(t){var n=this,r=lR(t,this._firestore),i=new lF(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new lh(n._firestore,i,r._key,e._document,new lf(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=c0(e)}return e.prototype.get=function(e){var t=this,n=lR(e,this._firestore),r=new lD(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return rr();var i=e[0];if(i.isFoundDocument())return new ll(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ll(t._firestore,r,n._key,null,n.converter);throw rr()})},e.prototype.set=function(e,t,n){var r=lR(e,this._firestore),i=lN(r.converter,t,n),o=c1(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=lR(e,this._firestore);return o="string"==typeof(t=(0,O.m9)(t))||t instanceof cV?c7(this._dataReader,"Transaction.update",a._key,t,n,r):c9(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=lR(e,this._firestore);return this._transaction.delete(t._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(){if("undefined"==typeof Uint8Array)throw new n6(n5.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lH(){if("undefined"==typeof atob)throw new n6(n5.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lV=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return lH(),new e(cK.fromBase64String(t))},e.fromUint8Array=function(t){return lQ(),new e(cK.fromUint8Array(t))},e.prototype.toBase64=function(){return lH(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return lQ(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),lK=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){var n,r,i,o,a;return n=e._delegate,r={forceOwnership:t},cH(n=cI(n,cM)),i=cj(n),o=n._freezeSettings(),cQ(i,a=new u5,new u4(a,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))},e.prototype.enableMultiTabIndexedDbPersistence=function(e){var t,n,r,i;return cH(t=cI(t=e._delegate,cM)),n=cj(t),r=t._freezeSettings(),cQ(n,i=new u5,new u3(i,r.cacheSizeBytes))},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new n6(n5.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new o4;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return o6.yt()?(t=e+"main",[4,o6.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(a8(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),lG=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof cd||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||rt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i,o,a,s=(e=cI(e,cS))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&rt("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:t+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=sw.MOCK_USER;else{o=(0,O.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new n6(n5.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new sw(u)}e._credentials=new cg(new ch(o,a))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,ci(e)];case 1:return t=r.sent(),[4,ca(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),n.Or.delete(0),sz(n))]}})})})}(cj(cI(this._delegate,cM)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,ci(e)];case 1:return t=r.sent(),[4,ca(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return(t=e).Or.add(0),[4,sW(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(cj(cI(this._delegate,cM)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&c_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(t,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return t=uP,[4,cs(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cj(cI(this._delegate,cM)))},e.prototype.onSnapshotsInSync=function(e){var t;return function(e,t){var n=this,r=new u6(t);return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,cu(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,cu(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(cj(cI(this._delegate,cM)),cU(e)?e:{next:e})},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new n6(n5.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new l6(this,cO(this._delegate,e))}catch(e){throw lX(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new l$(this,cR(this._delegate,e))}catch(e){throw lX(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new l4(this,function(e,t){if(e=cI(e,cS),cb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new n6(n5.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cN(e,null,new r9(rf.emptyPath(),t))}(this._delegate,e))}catch(e){throw lX(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t,n,r=this;return t=this._delegate,n=function(t){return e(new lW(r,t))},function(e,t){var n=this,r=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,cr(e).then(function(e){return e.datastore})];case 1:return n=i.sent(),new u9(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(cj(t),function(e){return n(new lZ(t,e))})},e.prototype.batch=function(){var e=this;return cj(this._delegate),new lq(new lO(this._delegate,function(t){return lM(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new n6(n5.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new n6(n5.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),lz=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,D.__extends)(t,e),t.prototype.convertBytes=function(e){return new lV(new cK(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return l$.eu(t,this.firestore,null)},t}(lk),lW=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lz(e)}return e.prototype.get=function(e){var t=this,n=cI(e,ck);return this._delegate.get(n).then(function(e){return new l1(t._firestore,new lh(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=cI(e,ck);return n?(cw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cI(e,ck);return 2==arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,D.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=cI(e,ck);return this._delegate.delete(t),this},e}(),lq=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=cI(e,ck);return n?(cw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cI(e,ck);return 2==arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,D.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=cI(e,ck);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),lY=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new lp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new l2(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new lz(t),n),i.set(n,o)),o},e}();lY.su=new WeakMap;var l$=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lz(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new n6(n5.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ck(n._delegate,r,new rx(t)))},e.eu=function(t,n,r){return new e(n,new ck(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new l6(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new l6(this.firestore,cO(this._delegate,e))}catch(e){throw lX(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,O.m9)(e))instanceof ck&&cF(this._delegate,e)},e.prototype.set=function(e,t){t=cw("DocumentReference.set",t);try{return t?lL(this._delegate,e,t):lL(this._delegate,e)}catch(e){throw lX(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?lP(this._delegate,e):lP.apply(void 0,(0,D.__spreadArray)([this._delegate,e,t],n))}catch(e){throw lX(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){var e;return lM(cI((e=this._delegate).firestore,cM),[new iq(e._key,ik.none())])},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=lJ(t),i=l0(t,function(t){return new l1(e.firestore,new lh(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return lU(this._delegate,r,i)},e.prototype.get=function(e){var t,n,r,i,o,a,s,u,c=this;return("cache"===(null==e?void 0:e.source)?(t=cI(t=this._delegate,ck),r=cj(n=cI(t.firestore,cM)),i=new lF(n),(function(e,t){var n=this,r=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.persistence.runTransaction("read document","readonly",function(n){return e.Mn.mn(n,t)})];case 1:return(r=i.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new n6(n5.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=uu(i.sent(),"Failed to get document '"+t+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,co(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise})(r,t._key).then(function(e){return new lh(n,i,t._key,e,new lf(null!==e&&e.hasLocalMutations,!0),t.converter)})):"server"===(null==e?void 0:e.source)?(o=cI(o=this._delegate,ck),cc(cj(a=cI(o.firestore,cM)),o._key,{source:"server"}).then(function(e){return lj(a,o,e)})):(s=cI(s=this._delegate,ck),cc(cj(u=cI(s.firestore,cM)),s._key).then(function(e){return lj(u,s,e)}))).then(function(e){return new l1(c.firestore,new lh(c.firestore._delegate,c._userDataWriter,e._key,e._document,e.metadata,c._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(lY.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function lX(e,t,n){return e.message=e.message.replace(t,n),e}function lJ(e){for(var t=0;t<e.length;t++){var n=e[t];if("object"==typeof n&&!cU(n))return n}return{}}function l0(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cU(e[0])?e[0]:cU(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var l1=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new l$(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return lv(this._delegate,e._delegate)},e}(),l2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,D.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(l1),l4=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lz(e)}return e.prototype.where=function(t,n,r){try{var i;return new e(this.firestore,lb(this._delegate,(i=ld("where",t),new lw(i,n,r))))}catch(e){throw lX(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{var r,i,o;return new e(this.firestore,lb(this._delegate,(r=n,void 0===r&&(r="asc"),i=r,o=ld("orderBy",t),new l_(o,i))))}catch(e){throw lX(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lb(this._delegate,(cx("limit",t),new lE("limit",t,"F"))))}catch(e){throw lX(e,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lb(this._delegate,(cx("limitToLast",t),new lE("limitToLast",t,"L"))))}catch(e){throw lX(e,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lC("startAt",e,!0)}).apply(void 0,t)))}catch(e){throw lX(e,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lC("startAfter",e,!1)}).apply(void 0,t)))}catch(e){throw lX(e,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lB("endBefore",e,!0)}).apply(void 0,t)))}catch(e){throw lX(e,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lB("endAt",e,!1)}).apply(void 0,t)))}catch(e){throw lX(e,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return cL(this._delegate,e._delegate)},e.prototype.get=function(e){var t,n,r,i,o,a,s,u,c,l,A,d,f=this;return("cache"===(null==e?void 0:e.source)?(t=cI(t=this._delegate,cN),r=cj(n=cI(t.firestore,cM)),i=new lF(n),(function(e,t){var n=this,r=new o4;return e.asyncQueue.enqueueAndForget(function(){return(0,D.__awaiter)(n,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,su(e,t,!0)];case 1:return i=(r=new uC(t,(a=s.sent()).Bn))._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=uu(s.sent(),"Failed to execute query '"+t+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,co(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise})(r,t._query).then(function(e){return new lg(n,i,t,e)})):"server"===(null==e?void 0:e.source)?(o=cI(o=this._delegate,cN),s=cj(a=cI(o.firestore,cM)),u=new lF(a),cl(s,o._query,{source:"server"}).then(function(e){return new lg(a,u,o,e)})):(c=cI(c=this._delegate,cN),A=cj(l=cI(c.firestore,cM)),d=new lF(l),lm(c._query),cl(A,c._query).then(function(e){return new lg(l,d,c,e)}))).then(function(e){return new l5(f.firestore,new lg(f.firestore._delegate,f._userDataWriter,f._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=lJ(t),i=l0(t,function(t){return new l5(e.firestore,new lg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return lU(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(lY.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),l3=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new l2(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),l5=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new l4(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new l2(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new l3(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new l2(n._firestore,r))})},e.prototype.isEqual=function(e){return lv(this._delegate,e._delegate)},e}(),l6=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,D.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new l$(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new l$(this.firestore,void 0===e?cR(this._delegate):cR(this._delegate,e))}catch(e){throw lX(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o=this;return(n=cI((t=this._delegate).firestore,cM),r=cR(t),i=lN(t.converter,e),lM(n,[c1(c0(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ik.exists(!1))]).then(function(){return r})).then(function(e){return new l$(o.firestore,e)})},t.prototype.isEqual=function(e){return cF(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(lY.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(l4),l8=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(cV.bind.apply(cV,(0,D.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(rp.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,O.m9)(e))instanceof cV&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),l9=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new c3("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new c2("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new c5("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new c6("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new c8("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),l7=n(32444),Ae={Firestore:lG,GeoPoint:cz,Timestamp:rs,Blob:lV,Transaction:lW,WriteBatch:lq,DocumentReference:l$,DocumentSnapshot:l1,Query:l4,QueryDocumentSnapshot:l2,QuerySnapshot:l5,CollectionReference:l6,FieldPath:l8,FieldValue:l9,setLogLevel:function(e){n8.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(e,t){e.INTERNAL.registerComponent(new l7.wA("firestore",function(e){return t(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ae)))}(r=N.Z,function(e,t){return new lG(e,new cM(e,t),new lK)}),r.registerVersion("@firebase/firestore","2.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},An=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,D.__extends)(t,e),t}(Error),Ar=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:if(!(e=t.sent()))return[2,void 0];return[2,e.accessToken];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function Ai(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Ao=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return Ai(e,function(e){return t.encode(e)});throw Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw Error("Data cannot be decoded from JSON: "+e);return n;default:throw Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?Ai(e,function(e){return t.decode(e)}):e},e}(),Aa=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Ao,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Ar(t,n),this.cancelAllRequests=new Promise(function(e){a.deleteService=function(){return e()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},e.prototype.getAppCheckToken=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this.appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,A,d;return(0,D.__generator)(this,function(f){switch(f.label){case 0:return r=this._url(e),i={data:t=this.serializer.encode(t)},o={},[4,this.contextProvider.getContext()];case 1:var h,p,g;return(a=f.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),h=n.timeout||7e4,g=new Promise(function(e,t){p=setTimeout(function(){t(new An("deadline-exceeded","deadline-exceeded"))},h)}),u=(s={timer:p,promise:g}).timer,c=s.promise,[4,Promise.race([As(u,this.postJSON(r,i,o)),c,As(u,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new An("cancelled","Firebase Functions instance was deleted.");if(A=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!At[s])return new An("internal","internal");r=At[s],i=s}var u=a.message;"string"==typeof u&&(i=u),o=a.details,void 0!==o&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new An(r,i,o)}(l.status,l.json,this.serializer))throw A;if(!l.json)throw new An("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new An("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},e}();function As(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}!/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){e.INTERNAL.registerComponent(new l7.wA("functions",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Aa(i,o,e.getProvider("messaging"),a,r,t)},"PUBLIC").setServiceProps({Functions:Aa}).setMultipleInstances(!0))}(N.Z,fetch.bind(self)),N.Z.registerVersion("@firebase/functions","0.6.16"),n(99688);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Au="firebasestorage.googleapis.com",Ac="storageBucket",Al=function(e){function t(n,r){var i=e.call(this,AA(n),"Firebase Storage: "+r+" ("+AA(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,D.__extends)(t,e),t.prototype._codeEquals=function(e){return AA(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(O.ZR);function AA(e){return"storage/"+e}function Ad(){return new Al("unknown","An unknown error occurred, please check the error payload for server response.")}function Af(){return new Al("canceled","User canceled the upload/download.")}function Ah(){return new Al("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ap(e){return new Al("invalid-argument",e)}function Ag(){return new Al("app-deleted","The Firebase app was deleted.")}function Av(e){return new Al("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Am(e,t){return new Al("invalid-format","String does not match format '"+e+"': "+t)}function Ay(e){throw new Al("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ab={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Aw=function(e,t){this.data=e,this.contentType=t||null};function A_(e,t){switch(e){case Ab.RAW:return new Aw(AE(t));case Ab.BASE64:case Ab.BASE64URL:return new Aw(AC(e,t));case Ab.DATA_URL:var n;return new Aw((n=new AB(t)).base64?AC(Ab.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Am(Ab.DATA_URL,"Malformed data URL.")}return AE(t)}(n.rest),new AB(t).contentType)}throw Ad()}function AE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):(64512&r)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):(64512&r)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function AC(e,t){switch(e){case Ab.BASE64:var n,r,i=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(i||o){var a=i?"-":"_";throw Am(e,"Invalid character '"+a+"' found: is it base64url encoded?")}break;case Ab.BASE64URL:var s=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(s||u){var a=s?"+":"/";throw Am(e,"Invalid character '"+a+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}try{n=t,r=atob(n)}catch(t){throw Am(e,"Invalid character found")}for(var c=new Uint8Array(r.length),l=0;l<r.length;l++)c[l]=r.charCodeAt(l);return c}var AB=function(e){this.base64=!1,this.contentType=null;var t,n=e.match(/^data:([^,]+)?,/);if(null===n)throw Am(Ab.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=(t=";base64",r.length>=t.length&&r.substring(r.length-t.length)===t),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)},AI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ax(e){switch(e){case"running":case"pausing":case"canceling":return AI.RUNNING;case"paused":return AI.PAUSED;case"success":return AI.SUCCESS;case"canceled":return AI.CANCELED;default:return AI.ERROR}}(i=h||(h={}))[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AT=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=h.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=h.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=h.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Ay("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ay("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ay("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ay("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),AS=function(){function e(){}return e.prototype.createConnection=function(){return new AT},e}(),Ak=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Al("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),c=n===Au?"(?:storage.googleapis.com|storage.cloud.google.com)":n,l=RegExp("^https?://"+c+"/"+i+"/([^?#]*)","i"),A=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:u,indices:{bucket:1,path:3},postModify:a},{regex:l,indices:{bucket:1,path:2},postModify:a}],d=0;d<A.length;d++){var f=A[d],h=f.regex.exec(t);if(h){var p=h[f.indices.bucket],g=h[f.indices.path];g||(g=""),r=new e(p,g),f.postModify(r);break}}if(null==r)throw new Al("invalid-url","Invalid URL '"+t+"'.");return r},e}(),AN=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function AD(e){return"string"==typeof e||e instanceof String}function AO(e){return AR()&&e instanceof Blob}function AR(){return"undefined"!=typeof Blob}function AF(e,t,n,r){if(r<t)throw Ap("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ap("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(e,t){var n=t.match(/^(\w+):\/\/.+/),r=null==n?void 0:n[1],i=t;return null==r&&(i="https://"+t),i+"/v0"+e}function AP(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AU=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var A=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){A.resolve_=e,A.reject_=t,A.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else if(null!==o){var s=Ad();s.serverResponse=o.getResponseText(),i(e.errorCallback_?e.errorCallback_(o,s):s)}else if(n.canceled){var s=e.appDelete_?Ag():Af();i(s)}else{var s=new Al("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");i(s)}}this.canceled_?t(!1,new AM(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,n){var r=1,i=null,o=!1,a=0,s=!1;function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function c(t){i=setTimeout(function(){i=null,e(l,2===a)},t)}function l(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!s){if(e||2===a||o){u.call.apply(u,(0,D.__spreadArray)([null,e],n));return}r<64&&(r*=2),1===a?(a=2,t=0):t=(r+Math.random())*1e3,c(t)}}var A=!1;function d(e){!A&&(A=!0,!s&&(null!==i?(e||(a=2),clearTimeout(i),c(0)):e||(a=1)))}return c(0),setTimeout(function(){o=!0,d(!0)},n),d}(function(t,n){if(n){t(!1,new AM(!1,null,!0));return}var r=e.pool_.createConnection();function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===h.NO_ERROR,o=r.getStatus();if(!n||e.isRetryStatusCode_(o)){t(!1,new AM(!1,null,r.getErrorCode()===h.ABORT));return}t(!0,new AM(-1!==e.successCodes_.indexOf(o),r))})},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),AM=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Aj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(AR())return new Blob(e);throw new Al("unsupported-environment","This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AZ=function(){function e(e,t){var n=0,r="";AO(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(!AO(this.data_))return new e(new Uint8Array(this.data_.buffer,t,n-t),!0);var r,i=(r=this.data_).webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null;return null===i?null:new e(i)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(AR()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(Aj.apply(null,r))}var i=t.map(function(e){return AD(e)?A_(Ab.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function AH(e){var t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e,t){return t}var AK=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||AV},AG=null;function Az(){if(AG)return AG;var e=[];e.push(new AK("bucket")),e.push(new AK("generation")),e.push(new AK("metageneration")),e.push(new AK("name","fullPath",!0));var t=new AK("name");t.xform=function(e,t){return!AD(t)||t.length<2?t:AH(t)},e.push(t);var n=new AK("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new AK("timeCreated")),e.push(new AK("updated")),e.push(new AK("md5Hash",null,!0)),e.push(new AK("cacheControl",null,!0)),e.push(new AK("contentDisposition",null,!0)),e.push(new AK("contentEncoding",null,!0)),e.push(new AK("contentLanguage",null,!0)),e.push(new AK("contentType",null,!0)),e.push(new AK("metadata","customMetadata",!0)),AG=e}function AW(e,t,n){var r=AQ(t);return null===r?null:function(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return Object.defineProperty(r,"ref",{get:function(){var t=new Ak(r.bucket,r.fullPath);return e._makeStorageReference(t)}}),r}(e,r,n)}function Aq(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AY="prefixes",A$="items",AX=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(e){if(!e)throw Ad()}function A0(e,t){return function(n,r){var i=AW(e,r,t);return AJ(null!==i),i}}function A1(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new Al("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Al("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Al("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Al("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function A2(e){var t=A1(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new Al("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function A4(e,t,n){var r=AL(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new AX(r,"GET",A0(e,n),i);return o.errorHandler=A2(t),o}function A3(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=t&&t.type()||"application/octet-stream"),r}var A5=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function A6(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){AJ(!1)}return AJ(!!n&&-1!==(t||["active"]).indexOf(n)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A8=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(this.next=e.next,this.error=e.error,this.complete=e.complete)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Az(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r,i,o,a,s,u,c,l,A,d,f,h,p=(r=e._ref.storage,i=e._ref._location,o=e._mappings,a=e._blob,s=e._metadata,u=i.bucketOnlyServerUrl(),l={name:(c=A3(i,a,s)).fullPath},A=AL(u,r.host),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+a.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},f=Aq(c,o),(h=new AX(A,"POST",function(e){var t;A6(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){AJ(!1)}return AJ(AD(t)),t},r.maxUploadRetryTime)).urlParams=l,h.headers=d,h.body=f,h.errorHandler=A1(i),h),g=e._ref.storage._makeRequest(p,t,n);e._request=g,g.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i,o,a,s,u=(i=e._ref.storage,o=e._ref._location,a=e._blob,(s=new AX(t,"POST",function(e){var t=A6(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){AJ(!1)}n||AJ(!1);var r=Number(n);return AJ(!isNaN(r)),new A5(r,a.size(),"final"===t)},i.maxUploadRetryTime)).headers={"X-Goog-Upload-Command":"query"},s.errorHandler=A1(o),s),c=e._ref.storage._makeRequest(u,n,r);e._request=c,c.getPromise().then(function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new A5(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){try{a=function(e,t,n,r,i,o,a,s){var u=new A5(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Al("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var A=u.current,d=A+l,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},h=r.slice(A,d);if(null===h)throw Ah();var p=new AX(n,"POST",function(e,n){var i,a=A6(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?A0(t,o)(e,n):null,new A5(s,c,"final"===a,i)},t.maxUploadRetryTime);return p.headers=f,p.body=h.uploadData(),p.progressCallback=s||null,p.errorHandler=A1(e),p}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){e._error=t,e._transition("error");return}var a,s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=A4(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=A3(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Aq(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l=AZ.getBlob(c,r,"\r\n--"+s+"--");if(null===l)throw Ah();var A={name:u.fullPath},d=AL(o,e.host),f=e.maxUploadRetryTime,h=new AX(d,"POST",A0(e,n),f);return h.urlParams=A,h.headers=a,h.body=l.uploadData(),h.errorHandler=A1(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Af(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Ax(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new A8(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Ax(this._state)){case AI.SUCCESS:A9(this._resolve.bind(null,this.snapshot))();break;case AI.CANCELED:case AI.ERROR:A9(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Ax(this._state)){case AI.RUNNING:case AI.PAUSED:e.next&&A9(e.next.bind(e,this.snapshot))();break;case AI.SUCCESS:e.complete&&A9(e.complete.bind(e))();break;case AI.CANCELED:case AI.ERROR:default:e.error&&A9(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),de=function(){function e(e,t){this._service=e,t instanceof Ak?this._location=t:this._location=Ak.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Ak(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return AH(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ak(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Av(e)},e}();function dt(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:var o,a,s,u,c,l,A,d,f;return null!=t&&"number"==typeof t.maxResults&&AF("options.maxResults",1,1e3,t.maxResults),n=t||{},o=e.storage,a=e._location,s=n.pageToken,u=n.maxResults,c={},a.isRoot?c.prefix="":c.prefix=a.path+"/",c.delimiter="/",s&&(c.pageToken=s),u&&(c.maxResults=u),l=AL(a.bucketOnlyServerUrl(),o.host),A=o.maxOperationRetryTime,(f=new AX(l,"GET",(d=a.bucket,function(e,t){var n,r=null===(n=AQ(t))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[AY])for(var i=0,o=n[AY];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Ak(t,a));r.prefixes.push(s)}if(n[A$])for(var u=0,c=n[A$];u<c.length;u++){var l=c[u],s=e._makeStorageReference(new Ak(t,l.name));r.items.push(s)}return r}(o,d,n);return AJ(null!==r),r}),A)).urlParams=c,f.errorHandler=A1(a),r=f,[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function dn(e,t){var n,r,i=(n=e._location.path,r=t.split("/").filter(function(e){return e.length>0}).join("/"),0===n.length?r:n+"/"+r),o=new Ak(e._location.bucket,i);return new de(e.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e){return/^[A-Za-z]+:\/\//.test(e)}function di(e,t){var n=null==t?void 0:t[Ac];return null==n?null:Ak.makeFromBucketSpec(n,e)}var da=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Au,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=Ak.makeFromBucketSpec(i,this._host):this._bucket=di(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ak.makeFromBucketSpec(this._url,e):this._bucket=di(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:if(this._overrideAuthToken)return[2,this._overrideAuthToken];if(!(e=this._authProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this._appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new de(this,e)},e.prototype._makeRequest=function(e,t,n){var r,i,o,a,s,u,c,l=this;if(this._deleted)return new AN(Ag());var A=(r=this._appId,i=this._pool,o=this._firebaseVersion,a=AP(e.urlParams),s=e.url+a,c=u=Object.assign({},e.headers),r&&(c["X-Firebase-GMPID"]=r),null!==t&&t.length>0&&(u.Authorization="Firebase "+t),u["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager"),null!==n&&(u["X-Firebase-AppCheck"]=n),new AU(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i));return this._requests.add(A),A.getPromise().then(function(){return l._requests.delete(A)},function(){return l._requests.delete(A)}),A},e.prototype.makeRequestWithTokens=function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=(t=i.sent())[0],r=t[1],[2,this._makeRequest(e,n,r)]}})})},e}();function ds(e,t){return function(e,t){if(!(t&&dr(t)))return function e(t,n){if(t instanceof da){if(null==t._bucket)throw new Al("no-default-bucket","No default bucket found. Did you set the '"+Ac+"' property when initializing the app?");var r=new de(t,t._bucket);return null!=n?e(r,n):r}return void 0!==n?dn(t,n):t}(e,t);if(e instanceof da)return new de(e,t);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}(e=(0,O.m9)(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var du=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),dc=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new du(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new du(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new du(e,i,i._ref))}:{next:t.next?function(e){return t.next(new du(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),dl=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new dA(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new dA(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),dA=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(dn(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){var n,r;return this._throwIfRoot("put"),new dc((n=this._delegate,(r=n=(0,O.m9)(n))._throwIfRoot("uploadBytesResumable"),new A7(r,new AZ(e),t)),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ab.RAW),this._throwIfRoot("putString");var r=A_(t,e),i=(0,D.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new dc(new A7(this._delegate,new AZ(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t,n=this;return(e=this._delegate,(function e(t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return[4,dt(t,{pageToken:r})];case 1:if(i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),!(null!=i.nextPageToken))return[3,3];return[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})})(e=(0,O.m9)(e),t={prefixes:[],items:[]}).then(function(){return t})).then(function(e){return new dl(e,n.storage)})},e.prototype.list=function(e){var t,n,r=this;return(t=this._delegate,n=e||void 0,dt(t=(0,O.m9)(t),n)).then(function(e){return new dl(e,r.storage)})},e.prototype.getMetadata=function(){var e;return e=this._delegate,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=A4(e.storage,e._location,Az()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,O.m9)(e))},e.prototype.updateMetadata=function(e){var t;return t=this._delegate,function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:var i,o,a,s,u,c,l;return e._throwIfRoot("updateMetadata"),i=e.storage,o=e._location,a=Az(),s=AL(o.fullServerUrl(),i.host),u=Aq(t,a),c=i.maxOperationRetryTime,(l=new AX(s,"PATCH",A0(i,a),c)).headers={"Content-Type":"application/json; charset=utf-8"},l.body=u,l.errorHandler=A2(o),n=l,[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,O.m9)(t),e)},e.prototype.getDownloadURL=function(){var e;return e=this._delegate,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:var r,i,o,a;return e._throwIfRoot("getDownloadURL"),r=e.storage,i=e._location,o=Az(),(a=new AX(AL(i.fullServerUrl(),r.host),"GET",function(e,t){var n=AW(r,t,o);return AJ(null!==n),function(e,t,n){var r=AQ(t);if(null===r||!AD(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var r=e.bucket,i=e.fullPath;return AL("/b/"+o(r)+"/o/"+o(i),n)+AP({alt:"media",token:t})})[0]}(n,t,r.host)},r.maxOperationRetryTime)).errorHandler=A2(i),t=a,[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new Al("no-download-url","The given file does not have any download URLs.");return e})]}})})}(e=(0,O.m9)(e))},e.prototype.delete=function(){var e;return this._throwIfRoot("delete"),e=this._delegate,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:var r,i,o;return e._throwIfRoot("deleteObject"),r=e.storage,(o=new AX(AL((i=e._location).fullServerUrl(),r.host),"DELETE",function(e,t){},r.maxOperationRetryTime)).successCodes=[200,204],o.errorHandler=A2(i),t=o,[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,O.m9)(e))},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Av(e)},e}(),dd=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(dr(e))throw Ap("ref() expected a child path but got a URL, use refFromURL instead.");return new dA(ds(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!dr(e))throw Ap("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ak.makeFromUrl(e,this._delegate.host)}catch(e){throw Ap("refFromUrl() expected a valid full URL but got an invalid one.")}return new dA(ds(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){var r,i,o,a;void 0===n&&(n={}),r=this._delegate,void 0===(i=n)&&(i={}),void 0===(o=i)&&(o={}),r.host="http://"+e+":"+t,(a=o.mockUserToken)&&(r._overrideAuthToken="string"==typeof a?a:(0,O.Sg)(a,r.app.options.projectId))},e}();(o=N.Z).INTERNAL.registerComponent(new l7.wA("storage",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return new dd(r,new da(r,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),new AS,n,N.Z.SDK_VERSION))},"PUBLIC").setServiceProps({TaskState:AI,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ab,Storage:da,Reference:dA}).setMultipleInstances(!0)),o.registerVersion("@firebase/storage","0.7.1");var df=n(70015),dh="0.4.32",dp="w:"+dh,dg="FIS_v2",dv=((p={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',p["not-registered"]="Firebase Installation is not registered.",p["installation-not-found"]="Firebase Installation not found.",p["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',p["app-offline"]="Could not process request. Application offline.",p["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",p),dm=new O.LL("installations","Installations",dv);function dy(e){return e instanceof O.ZR&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function dw(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}function d_(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=r.sent().error,[2,dm.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function dE(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function dC(e,t){var n=t.refreshToken,r=dE(e);return r.append("Authorization",dg+" "+n),r}function dB(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:if((t=n.sent()).status>=500&&t.status<600)return[2,e()];return[2,t]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dx=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dS=new Map;function dk(e,t){var n,r=dT(e);dN(r,t),(n=dO())&&n.postMessage({key:r,fid:t}),dR()}function dN(e,t){var n,r,i=dS.get(e);if(i)try{for(var o=(0,D.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var dD=null;function dO(){return!dD&&"BroadcastChannel"in self&&((dD=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){dN(e.data.key,e.data.fid)}),dD}function dR(){0===dS.size&&dD&&(dD.close(),dD=null)}var dF="firebase-installations-store",dL=null;function dP(){return dL||(dL=(0,df.openDb)("firebase-installations-database",1,function(e){0===e.oldVersion&&e.createObjectStore(dF)})),dL}function dU(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:return n=dT(e),[4,dP()];case 1:return[4,(i=(r=a.sent().transaction(dF,"readwrite")).objectStore(dF)).get(n)];case 2:return o=a.sent(),[4,i.put(t,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===t.fid||dk(e,t.fid),[2,t]}})})}function dM(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return t=dT(e),[4,dP()];case 1:return[4,(n=r.sent().transaction(dF,"readwrite")).objectStore(dF).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}})})}function dj(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return n=dT(e),[4,dP()];case 1:return[4,(i=(r=s.sent().transaction(dF,"readwrite")).objectStore(dF)).get(n)];case 2:if(void 0!==(a=t(o=s.sent())))return[3,4];return[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),a&&(!o||o.fid!==a.fid)&&dk(e,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,dj(e,function(n){var r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dm.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var n=t.fid;return(0,D.__awaiter)(this,void 0,void 0,function(){var t,r,i,o;return(0,D.__generator)(this,function(a){switch(a.label){case 0:return t=db(e),r={method:"POST",headers:dE(e),body:JSON.stringify({fid:n,authVersion:dg,appId:e.appId,sdkVersion:dp})},[4,dB(function(){return fetch(t,r)})];case 1:if(!(i=a.sent()).ok)return[3,3];return[4,i.json()];case 2:return[2,{fid:(o=a.sent()).fid||n,registrationStatus:2,refreshToken:o.refreshToken,authToken:dw(o.authToken)}];case 3:return[4,d_("Create Installation",i)];case 4:throw a.sent()}})})}(e,t)];case 1:return[2,dU(e,r.sent())];case 2:if(!(dy(n=r.sent())&&409===n.customData.serverCode))return[3,4];return[4,dM(e)];case 3:return r.sent(),[3,6];case 4:return[4,dU(e,{fid:t.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw n;case 7:return[2]}})})}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return[4,dQ(e)];case 1:t=o.sent(),o.label=2;case 2:if(1!==t.registrationStatus)return[3,5];return[4,dI(100)];case 3:return o.sent(),[4,dQ(e)];case 4:return t=o.sent(),[3,2];case 5:if(0!==t.registrationStatus)return[3,7];return[4,dZ(e)];case 6:if(r=(n=o.sent()).installationEntry,i=n.registrationPromise)return[2,i];return[2,r];case 7:return[2,t]}})})}(e)}:{installationEntry:t}}(e,dH(n||{fid:function(){try{var e,t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=(e=t,btoa(String.fromCharCode.apply(String,(0,D.__spreadArray)([],(0,D.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return dx.test(n)?n:""}catch(e){return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry})];case 1:if(""!==(n=i.sent()).fid)return[3,3];return r={},[4,t];case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function dQ(e){return dj(e,function(e){if(!e)throw dm.create("installation-not-found");return dH(e)})}function dH(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e,t){return void 0===t&&(t=!1),(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return[4,dj(e.appConfig,function(r){if(!dG(r))throw dm.create("not-registered");var i,o,a,s,u=r.authToken;if(!t&&2===(i=u).requestStatus&&(o=i,!((a=Date.now())<o.creationTime)&&!(o.creationTime+o.expiresIn<a+36e5)))return r;if(1===u.requestStatus)return n=function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,dK(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:if(1!==n.authToken.requestStatus)return[3,5];return[4,dI(100)];case 3:return i.sent(),[4,dK(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:if(0===(r=n.authToken).requestStatus)return[2,dV(e,t)];return[2,r]}})})}(e,t),r;if(!navigator.onLine)throw dm.create("app-offline");var c=(s={requestStatus:1,requestTime:Date.now()},(0,D.__assign)((0,D.__assign)({},r),{authToken:s}));return n=function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,D.__awaiter)(this,void 0,void 0,function(){var e,i,o,a,s;return(0,D.__generator)(this,function(u){switch(u.label){case 0:var c;return c=t.fid,e=db(n)+"/"+c+"/authTokens:generate",i=dC(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dp}})},[4,dB(function(){return fetch(e,a)})];case 1:if(!(s=u.sent()).ok)return[3,3];return[4,s.json()];case 2:return[2,dw(u.sent())];case 3:return[4,d_("Generate Auth Token",s)];case 4:throw u.sent()}})})}(e,t)];case 1:return n=o.sent(),r=(0,D.__assign)((0,D.__assign)({},t),{authToken:n}),[4,dU(e.appConfig,r)];case 2:return o.sent(),[2,n];case 3:if(!(dy(i=o.sent())&&(401===i.customData.serverCode||404===i.customData.serverCode)))return[3,5];return[4,dM(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=(0,D.__assign)((0,D.__assign)({},t),{authToken:{requestStatus:0}}),[4,dU(e.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}(e,c),c})];case 1:if(r=o.sent(),!n)return[3,3];return[4,n];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function dK(e){return dj(e,function(e){var t;if(!dG(e))throw dm.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,D.__assign)((0,D.__assign)({},e),{authToken:{requestStatus:0}}):e})}function dG(e){return void 0!==e&&2===e.registrationStatus}function dz(e){return dm.create("missing-app-config-values",{valueName:e})}(a=N.Z).INTERNAL.registerComponent(new l7.wA("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw dz("App Configuration");if(!e.name)throw dz("App Name");try{for(var t,n,r=(0,D.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw dz(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:return[4,dZ(e.appConfig)];case 1:return n=(t=i.sent()).installationEntry,(r=t.registrationPromise)?r.catch(console.error):dV(e).catch(console.error),[2,n.fid]}})})}(n))},getToken:function(e){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return void 0===t&&(t=!1),(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(n){switch(n.label){case 0:return[4,function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t;return(0,D.__generator)(this,function(n){switch(n.label){case 0:return[4,dZ(e)];case 1:if(!(t=n.sent().registrationPromise))return[3,3];return[4,t];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return n.sent(),[4,dV(e,t)];case 2:return[2,n.sent().token]}})})}(n,e))},delete:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,D.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,dj(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw dm.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw dm.create("app-offline");case 3:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:var a;return a=t.fid,n=db(e)+"/"+a,r={method:"DELETE",headers:dC(e,t)},[4,dB(function(){return fetch(n,r)})];case 1:if((i=o.sent()).ok)return[3,3];return[4,d_("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}})})}(t,n)];case 4:return r.sent(),[4,dM(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n))},onIdChange:function(e){var t,r,i,o;return r=t=n.appConfig,dO(),i=dT(r),(o=dS.get(i))||(o=new Set,dS.set(i,o)),o.add(e),function(){var n,r;n=dT(t),(r=dS.get(n))&&(r.delete(e),0===r.size&&dS.delete(n),dR())}}}},"PUBLIC")),a.registerVersion("@firebase/installations",dh);var dW="https://www.googletagmanager.com/gtag/js";(s=g||(g={})).EVENT="event",s.SET="set",s.CONFIG="config",(u=v||(v={})).ADD_SHIPPING_INFO="add_shipping_info",u.ADD_PAYMENT_INFO="add_payment_info",u.ADD_TO_CART="add_to_cart",u.ADD_TO_WISHLIST="add_to_wishlist",u.BEGIN_CHECKOUT="begin_checkout",u.CHECKOUT_PROGRESS="checkout_progress",u.EXCEPTION="exception",u.GENERATE_LEAD="generate_lead",u.LOGIN="login",u.PAGE_VIEW="page_view",u.PURCHASE="purchase",u.REFUND="refund",u.REMOVE_FROM_CART="remove_from_cart",u.SCREEN_VIEW="screen_view",u.SEARCH="search",u.SELECT_CONTENT="select_content",u.SELECT_ITEM="select_item",u.SELECT_PROMOTION="select_promotion",u.SET_CHECKOUT_OPTION="set_checkout_option",u.SHARE="share",u.SIGN_UP="sign_up",u.TIMING_COMPLETE="timing_complete",u.VIEW_CART="view_cart",u.VIEW_ITEM="view_item",u.VIEW_ITEM_LIST="view_item_list",u.VIEW_PROMOTION="view_promotion",u.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dq=new R.Yd("@firebase/analytics"),dY=((m={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",m["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",m["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",m["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",m["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",m["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",m["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",m["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',m["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',m),d$=new O.LL("analytics","Analytics",dY),dX=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}()),dJ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),d0={},d1=[],d2={},d4="dataLayer",d3="gtag",d5=!1,d6="analytics";(c=N.Z).INTERNAL.registerComponent(new l7.wA(d6,function(e){return function(e,t){!function(){var e=[];if((0,O.ru)()&&e.push("This is a browser extension environment."),(0,O.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),n=d$.create("invalid-analytics-context",{errorInfo:t});dq.warn(n.message)}}();var n=e.options.appId;if(!n)throw d$.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)dq.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.');else throw d$.create("no-api-key")}if(null!=d0[n])throw d$.create("already-exists",{id:n});if(!d5){r=d4,i=[],Array.isArray(window[r])?i=window[r]:window[r]=i;var r,i,o,a,s,u,c=(o=d4,a=d3,s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[o].push(arguments)},window[a]&&"function"==typeof window[a]&&(s=window[a]),window[a]=(u=s,function(e,t,n){return(0,D.__awaiter)(this,void 0,void 0,function(){var r;return(0,D.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,6,,7]),e!==g.EVENT)return[3,2];return[4,function(e,t,n,r,i){return(0,D.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,A;return(0,D.__generator)(this,function(d){switch(d.label){case 0:if(d.trys.push([0,4,,5]),o=[],!(i&&i.send_to))return[3,2];return Array.isArray(a=i.send_to)||(a=[a]),[4,Promise.all(n)];case 1:for(c=0,s=d.sent(),u=function(e){var n=s.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=a;c<l.length&&"break"!==u(l[c]);c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(g.EVENT,r,i||{}),[3,5];case 4:return A=d.sent(),dq.error(A),[3,5];case 5:return[2]}})})}(u,d0,d1,t,n)];case 1:case 3:return i.sent(),[3,5];case 2:if(e!==g.CONFIG)return[3,4];return[4,function(e,t,n,r,i,o){return(0,D.__awaiter)(this,void 0,void 0,function(){var a,s,u;return(0,D.__generator)(this,function(c){switch(c.label){case 0:a=r[i],c.label=1;case 1:if(c.trys.push([1,7,,8]),!a)return[3,3];return[4,t[a]];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:if(!(s=c.sent().find(function(e){return e.measurementId===i})))return[3,6];return[4,t[s.appId]];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return u=c.sent(),dq.error(u),[3,8];case 8:return e(g.CONFIG,i,o),[2]}})})}(u,d0,d1,d2,t,n)];case 4:u(g.SET,t),i.label=5;case 5:return[3,7];case 6:return r=i.sent(),dq.error(r),[3,7];case 7:return[2]}})})}),{gtagCore:s,wrappedGtag:window[a]}),l=c.wrappedGtag,A=c.gtagCore;b=l,y=A,d5=!0}return d0[n]=function(e,t,n,r,i,o){return(0,D.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,l,A;return(0,D.__generator)(this,function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=dX),(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return(0,D.__generator)(this,function(c){if(r=(n=e.options).appId,i=n.apiKey,o=n.measurementId,!r)throw d$.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw d$.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new dJ,setTimeout(function(){return(0,D.__awaiter)(u,void 0,void 0,function(){return(0,D.__generator)(this,function(e){return s.abort(),[2]})})},6e4),[2,function e(t,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=dX),(0,D.__awaiter)(this,void 0,void 0,function(){var n,s,u,c,l,A,d;return(0,D.__generator)(this,function(f){switch(f.label){case 0:n=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,new Promise(function(e,t){var n=setTimeout(e,Math.max(o-Date.now(),0));r.addEventListener(function(){clearTimeout(n),t(d$.create("fetch-throttle",{throttleEndTimeMillis:o}))})})];case 2:return f.sent(),[3,4];case 3:if(u=f.sent(),s)return dq.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 4:return f.trys.push([4,6,,7]),[4,function(e){var t;return(0,D.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:return n=e.appId,r={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":e.apiKey})},[4,fetch("https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),r)];case 1:if(!(200!==(i=s.sent()).status&&304!==i.status))return[3,6];o="",s.label=2;case 2:return s.trys.push([2,4,,5]),[4,i.json()];case 3:return(null===(t=(a=s.sent()).error)||void 0===t?void 0:t.message)&&(o=a.error.message),[3,5];case 4:return s.sent(),[3,5];case 5:throw d$.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o});case 6:return[2,i.json()]}})})}(t)];case 5:return c=f.sent(),i.deleteThrottleMetadata(n),[2,c];case 6:if(!function(e){if(!(e instanceof O.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l=f.sent())){if(i.deleteThrottleMetadata(n),s)return dq.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:n,measurementId:s}];throw l}return A=503===Number(l.customData.httpStatus)?(0,O.$s)(a,i.intervalMillis,30):(0,O.$s)(a,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+A,backoffCount:a+1},i.setThrottleMetadata(n,d),dq.debug("Calling attemptFetch again in "+A+" millis"),[2,e(t,d,r,i)];case 7:return[2]}})})}({appId:r,apiKey:i,measurementId:o},a,s,t)]})})}(e)).then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&dq.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return dq.error(e)}),t.push(a),[4,Promise.all([a,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){return(0,D.__awaiter)(this,void 0,void 0,function(){var e;return(0,D.__generator)(this,function(t){switch(t.label){case 0:if((0,O.hl)())return[3,1];return dq.warn(d$.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1];case 1:return t.trys.push([1,3,,4]),[4,(0,O.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),dq.warn(d$.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})})().then(function(e){return e?r.getId():void 0})])];case 1:if(u=(s=d.sent())[0],c=s[1],!function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(dW))return r}return null}()){var f,h;f=u.measurementId,(h=document.createElement("script")).src=dW+"?l="+o+"&id="+f,h.async=!0,document.head.appendChild(h)}return i("js",new Date),(A={}).origin="firebase",A.update=!0,l=A,null!=c&&(l.firebase_id=c),i(g.CONFIG,u.measurementId,l),[2,u.measurementId]}})})}(e,d1,d2,t,y,d4),{app:e,logEvent:function(e,t,r){/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e,t,n,r,i){return(0,D.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,D.__generator)(this,function(s){switch(s.label){case 0:if(!(i&&i.global))return[3,1];return e(g.EVENT,n,r),[2];case 1:return[4,t];case 2:o=s.sent(),a=(0,D.__assign)((0,D.__assign)({},r),{send_to:o}),e(g.EVENT,n,a),s.label=3;case 3:return[2]}})})})(b,d0[n],e,t,r).catch(function(e){return dq.error(e)})},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:if(!(r&&r.global))return[3,1];return e(g.SET,{screen_name:n}),[2,Promise.resolve()];case 1:return[4,t];case 2:i=o.sent(),e(g.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(b,d0[n],e,t).catch(function(e){return dq.error(e)})},setUserId:function(e,t){(function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i;return(0,D.__generator)(this,function(o){switch(o.label){case 0:if(!(r&&r.global))return[3,1];return e(g.SET,{user_id:n}),[2,Promise.resolve()];case 1:return[4,t];case 2:i=o.sent(),e(g.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(b,d0[n],e,t).catch(function(e){return dq.error(e)})},setUserProperties:function(e,t){(function(e,t,n,r){return(0,D.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,D.__generator)(this,function(c){switch(c.label){case 0:if(!(r&&r.global))return[3,1];for(o=0,i={},a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return e(g.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(g.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(b,d0[n],e,t).catch(function(e){return dq.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,D.__awaiter)(this,void 0,void 0,function(){var n;return(0,D.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})})(d0[n],e).catch(function(e){return dq.error(e)})},INTERNAL:{delete:function(){return delete d0[n],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(e){if(d5)throw d$.create("already-initialized");e.dataLayerName&&(d4=e.dataLayerName),e.gtagName&&(d3=e.gtagName)},EventName:v,isSupported:function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(e){switch(e.label){case 0:if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,O.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}})),c.INTERNAL.registerComponent(new l7.wA("analytics-internal",function(e){try{return{logEvent:e.getProvider(d6).getImmediate().logEvent}}catch(e){throw d$.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),c.registerVersion("@firebase/analytics","0.6.18");var d8="0.4.18",d9="FB-PERF-TRACE-MEASURE",d7="_wt_",fe="_fcp",ft="_fid",fn="@firebase/performance/config",fr="@firebase/performance/configexpire",fi="Performance",fo=((w={})["trace started"]="Trace {$traceName} was started before.",w["trace stopped"]="Trace {$traceName} is not running.",w["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",w["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",w["no window"]="Window is not available.",w["no app id"]="App id is not available.",w["no project id"]="Project id is not available.",w["no api key"]="Api key is not available.",w["invalid cc log"]="Attempted to queue invalid cc event",w["FB not default"]="Performance can only start when Firebase app instance is the default one.",w["RC response not ok"]="RC response is not ok",w["invalid attribute name"]="Attribute name {$attributeName} is invalid.",w["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",w["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",w["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",w),fa=new O.LL("performance",fi,fo),fs=new R.Yd(fi);fs.logLevel=R.in.INFO;var fu=function(){function e(e){if(this.window=e,!e)throw fa.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,O.hl)()||(fs.info("IndexedDB is not supported by current browswer"),!1):(fs.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===_&&(_=new e(E)),_},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e,t){var n=e.length-t.length;if(n<0||n>1)throw fa.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var fl=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=fc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=fc("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw fa.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw fa.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw fa.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===C&&(C=new e),C},e}();(l=I||(I={}))[l.UNKNOWN=0]="UNKNOWN",l[l.VISIBLE=1]="VISIBLE",l[l.HIDDEN=2]="HIDDEN";var fA=["firebase_","google_","ga_"],fd=RegExp("^[a-zA-Z]\\w*$");function ff(){switch(fu.getInstance().document.visibilityState){case"visible":return I.VISIBLE;case"hidden":return I.HIDDEN;default:return I.UNKNOWN}}var fh={loggingEnabled:!0};function fp(e){if(!e)return e;var t=fl.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=fh.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=fg(t.tracesSamplingRate),t.logNetworkAfterSampling=fg(t.networkRequestsSamplingRate),e}function fg(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fv=1;function fm(){var e;return fv=2,x=x||(e=fu.getInstance().document,new Promise(function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})).then(function(){var e;return(e=fl.getInstance().installationsService.getId()).then(function(e){B=e}),e}).then(function(e){var t,n;return(t=function(){var e=fu.getInstance().localStorage;if(e){var t=e.getItem(fr);if(t&&Number(t)>Date.now()){var n=e.getItem(fn);if(n)try{return JSON.parse(n)}catch(e){return}}}}())?(fp(t),Promise.resolve()):((n=fl.getInstance().installationsService.getToken()).then(function(e){}),n).then(function(t){return fetch(new Request("https://firebaseremoteconfig.googleapis.com/v1/projects/"+fl.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+fl.getInstance().getApiKey(),{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:fl.getInstance().getAppId(),app_version:d8,sdk_version:"0.0.1"})})).then(function(e){if(e.ok)return e.json();throw fa.create("RC response not ok")})}).catch(function(){fs.info("Could not fetch config, will use default configs")}).then(fp).then(function(e){var t;return t=fu.getInstance().localStorage,void(e&&t&&(t.setItem(fn,JSON.stringify(e)),t.setItem(fr,String(Date.now()+36e5*fl.getInstance().configTimeToLive))))},function(){})}).then(function(){fv=3},function(){fv=3})}var fy=3,fb=[],fw=!1;function f_(e,t){!T&&(T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e){if(!e.eventTime||!e.message)throw fa.create("invalid cc log");fb=(0,D.__spreadArray)((0,D.__spreadArray)([],fb),[e])}({message:fB.apply(void 0,e),eventTime:Date.now()})}),T(e,t)}function fE(e){var t=fl.getInstance();(t.instrumentationEnabled||!e.isAuto)&&(t.dataCollectionEnabled||e.isAuto)&&fu.getInstance().requiredApisAvailable()&&(!e.isAuto||ff()===I.VISIBLE)&&(3===fv?fC(e):fm().then(function(){return fC(e)},function(){return fC(e)}))}function fC(e){if(B){var t=fl.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return f_(e,1)},0)}}function fB(e,t){var n,r,i;return 0===t?(n={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},JSON.stringify({application_info:fI(),network_request_metric:n})):(r={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs},0!==Object.keys(e.counters).length&&(r.counters=e.counters),0!==Object.keys(i=e.getAttributes()).length&&(r.custom_attributes=i),JSON.stringify({application_info:fI(),trace_metric:r}))}function fI(){var e;return{google_app_id:fl.getInstance().getAppId(),app_instance_id:B,web_app_info:{sdk_version:d8,page_url:fu.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=fu.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:ff(),effective_connection_type:function(){var e=fu.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}var fx=["_fp",fe,ft],fT=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=fu.getInstance(),this.randomId=Math.floor(1e6*Math.random()),!this.isAuto&&(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||d9+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw fa.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw fa.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),fE(this)},e.prototype.record=function(e,t,n){if(e<=0)throw fa.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw fa.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,D.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}fE(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){var n,r;if(n=this.name,0!==e.length&&!(e.length>100)&&(n&&n.startsWith(d7)&&fx.indexOf(e)>-1||!e.startsWith("_")))this.counters[e]=((r=Math.floor(t))<t&&fs.info("Metric value should be an Integer, setting the value as : "+r+"."),r);else throw fa.create("invalid custom metric name",{customMetricName:e})},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=0!==e.length&&!(e.length>40)&&!fA.some(function(t){return e.startsWith(t)})&&!!e.match(fd),r=0!==t.length&&t.length<=100;if(n&&r){this.customAttributes[e]=t;return}if(!n)throw fa.create("invalid attribute name",{attributeName:e});if(!r)throw fa.create("invalid attribute value",{attributeValue:t})},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,D.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=fu.getInstance().getUrl();if(i){var o=new e(d7+i,!0),a=Math.floor(1e3*fu.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric(fe,Math.floor(1e3*u.startTime)),r&&o.putMetric(ft,Math.floor(1e3*r))}fE(o)}},e.createUserTimingTrace=function(t){fE(new e(t,!1,t))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e){if(e&&void 0!==e.responseStart){var t=fu.getInstance().getTimeOrigin(),n=Math.floor((e.startTime+t)*1e3),r=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,i=Math.floor((e.responseEnd-e.startTime)*1e3);!function(e){var t=fl.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return f_(e,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:n,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:i})}}function fk(){B&&(setTimeout(function(){return function(){var e=fu.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){fT.createOobTrace(t,n),r=void 0},5e3);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),fT.createOobTrace(t,n,e))})}else fT.createOobTrace(t,n)}()},0),setTimeout(function(){return function(){for(var e=fu.getInstance(),t=e.getEntriesByType("resource"),n=0;n<t.length;n++)fS(t[n]);e.setupObserver("resource",fS)}()},0),setTimeout(function(){return function(){for(var e=fu.getInstance(),t=e.getEntriesByType("measure"),n=0;n<t.length;n++)fN(t[n]);e.setupObserver("measure",fN)}()},0))}function fN(e){var t=e.name;t.substring(0,d9.length)!==d9&&fT.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fD=function(){function e(e){this.app=e,fu.getInstance().requiredApisAvailable()&&(0,O.eu)().then(function(e){e&&(fw||(function e(t){setTimeout(function(){if(0!==fy){var t,n,r;if(!fb.length)return e(1e4);n=(t=fb.splice(0,1e3)).map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}),(r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fl.getInstance().logSource,log_event:n},fetch(fl.getInstance().getFlTransportFullUrl(),{method:"POST",body:JSON.stringify(r)}).then(function(e){return e.ok||fs.info("Call to Firebase backend failed."),e.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(fb=(0,D.__spreadArray)((0,D.__spreadArray)([],t),fb),fs.info("Retry transport request later.")),fy=3,e(i)})).catch(function(){fb=(0,D.__spreadArray)((0,D.__spreadArray)([],t),fb),fy--,fs.info("Tries left: "+fy+"."),e(1e4)})}},t)}(5500),fw=!0),fm().then(fk,fk))}).catch(function(e){fs.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new fT(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return fl.getInstance().instrumentationEnabled},set:function(e){fl.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return fl.getInstance().dataCollectionEnabled},set:function(e){fl.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();A=N.Z,d=function(e,t){if("[DEFAULT]"!==e.name)throw fa.create("FB not default");if("undefined"==typeof window)throw fa.create("no window");return E=window,fl.getInstance().firebaseAppInstance=e,fl.getInstance().installationsService=t,new fD(e)},A.INTERNAL.registerComponent(new l7.wA("performance",function(e){return d(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),A.registerVersion("@firebase/performance",d8);var fO="Cypress"in window,fR=k.wC.emulatorEnabled,fF=k.wC.performanceEnabled,fL=(f="[DEFAULT]",S.Z.apps.find(function(e){return e.name===f})||S.Z.initializeApp(k.wC,f)),fP=fL.auth(),fU=fL.firestore(),fM=fL.database(),fj=fL.functions(),fZ=fL.storage();S.Z.firestore.setLogLevel(k.wC.logLevel),S.Z.database.enableLogging("debug"===k.wC.logLevel),fF&&fL.performance(),fU.settings({merge:!0,ignoreUndefinedProperties:!0,experimentalForceLongPolling:fO||fR,experimentalAutoDetectLongPolling:!(fO||fR)}),fR&&(fP.useEmulator("http://localhost:5001"),fj.useEmulator("localhost",5002),fU.useEmulator("localhost",5003),fM.useEmulator("localhost",5004),fZ.useEmulator("localhost",5006));var fQ=S.Z,fH=S.Z.firestore.Timestamp;S.Z.firestore.FieldValue},10186:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r,i=(r=n(10097).RZ,{get autoDiagramRequests(){return r.collection("auto-diagram-requests")},get aiOutlineRequests(){return r.collection("ai-outline-requests")},get paywallEventUsage(){return r.collection("paywall-event-usage")},get users(){return r.collection("users")},get teams(){return r.collection("teams")},get profiles(){return r.collection("profiles")},get workspaces(){return r.collection("workspaces")},get workspaceVersions(){return r.collection("workspace-versions")},get templates(){return r.collection("templates")},get visitedWorkspaces(){return r.collection("visited-workspaces")},get templateCategories(){return r.collection("template-categories")},get workspaceIndexes(){return r.collection("workspace-indexes")},get workspaceIndexStatuses(){return r.collection("workspace-index-statuses")},get invites(){return r.collection("invites")},get publicEmailDomains(){return r.collection("public-email-domains")},get canvasLinks(){return r.collection("canvas-links")},get knownPeople(){return r.collection("known-people")},get commentThreads(){return r.collection("comment-threads")},get gitHubLogins(){return r.collection("gitHub-logins")},get gitHubRepositoryOperationStatuses(){return r.collection("gitHub-repository-sync-statuses")},get notionTokens(){return r.collection("notion-tokens")},get weeklyEmailSummaries(){return r.collection("pending-weekly-email-summaries")},get fileViews(){return r.collection("file-views")},get canvasCatalogs(){return r.collection("canvas-catalogs")},get scheduledEmails(){return r.collection("scheduled-emails")},aiOutlineRequest:function(e){return this.aiOutlineRequests.doc(e)},autoDiagramRequest:function(e){return this.autoDiagramRequests.doc(e)},paywallEvent:function(e){return this.paywallEventUsage.doc(e)},config:function(e){return r.doc("config/".concat(e))},publicEmailDomain:function(e){return this.publicEmailDomains.doc(e)},canvasLink:function(e){return this.canvasLinks.doc(e)},user:function(e){return this.users.doc(e)},profile:function(e){return this.profiles.doc(e)},knownPerson:function(e){return this.knownPeople.doc(e)},userTeams:function(e){return this.user(e).collection("teams")},userTeam:function(e,t){return this.user(e).collection("teams").doc(t)},userCoachmarks:function(e){return this.user(e).collection("coachmarks")},userActivations:function(e){return this.user(e).collection("activations")},userEventLog:function(e){return this.user(e).collection("eventLog")},team:function(e){return this.teams.doc(e)},teamMembers:function(e){return this.team(e).collection("members")},teamMember:function(e,t){return this.teamMembers(e).doc(t)},teamEventLog:function(e){return this.team(e).collection("eventLog")},teamGitHubOrganizations:function(e){return this.team(e).collection("gitHubOrganizations")},teamGitHubOrganization:function(e,t){return this.teamGitHubOrganizations(e).doc(t)},teamGitHubRepositories:function(e,t){return this.teamGitHubOrganization(e,t).collection("repositories")},teamGitHubRepository:function(e,t,n){return this.teamGitHubRepositories(e,t).doc(n)},visitedWorkspace:function(e,t){return this.visitedWorkspaces.doc("".concat(e,":").concat(t))},teamFolders:function(e){return this.team(e).collection("folders")},teamFolder:function(e,t){return this.teamFolders(e).doc(t)},invite:function(e){return this.invites.doc(e)},workspace:function(e){return this.workspaces.doc(e)},template:function(e){return this.templates.doc(e)},workspaceIndex:function(e){return this.workspaceIndexes.doc(e)},workspaceIndexStatus:function(e){return this.workspaceIndexStatuses.doc(e)},workspaceMembers:function(e){return this.workspace(e).collection("members")},workspaceMember:function(e,t){return this.workspaceMembers(e).doc(t)},workspaceCollaborators:function(e){return this.workspace(e).collection("collaborators")},workspaceCollaborator:function(e,t){return this.workspaceCollaborators(e).doc(t)},commentThread:function(e){return this.commentThreads.doc(e)},threadComments:function(e){return this.commentThread(e).collection("comments")},gitHubLogin:function(e){return this.gitHubLogins.doc(e)},gitHubRepositoryOperationStatus:function(e){return this.gitHubRepositoryOperationStatuses.doc(e)},notionToken:function(e,t){return t?this.notionTokens.doc("temporary:".concat(e)):this.notionTokens.doc(e)},emailSummaryForTeam:function(e){return this.weeklyEmailSummaries.doc(e)},canvasCatalog:function(e){return this.canvasCatalogs.doc(e)},canvasCatalogItems:function(e){return this.canvasCatalog(e).collection("items")},canvasCatalogItem:function(e,t){return this.canvasCatalogItems(e).doc(t)},scheduledEmail:function(e){return this.scheduledEmails.doc(e)}})},34899:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(64920);function i(e,t,n){return(0,r.A)(e,t,n)}},64920:function(e,t,n){"use strict";n.d(t,{A:function(){return o},o:function(){return a}});var r=n(87394),i=n(50930);function o(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.limit,s=o.orderBy,u=e,c=!0,l=!1,A=void 0;try{for(var d,f=Object.entries(t)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h,p=(0,r.Z)(d.value,2),g=p[0],v=p[1];void 0!==v&&(u=Array.isArray(v)?(h=u).where.apply(h,[g].concat((0,i.Z)(v))):u.where(g,"==",v))}}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}return a&&(u=u.limit(a)),s&&(u=(n=u).orderBy.apply(n,(0,i.Z)(s))),u}function a(e,t){return e.filter(function(e){return Object.entries(t).every(function(t){var n=(0,r.Z)(t,2),i=n[0],o=n[1],a=e[i];if(Array.isArray(o)){var s=(0,r.Z)(o,2),u=s[0],c=s[1];switch(u){case"==":return e[i]===c;case"!=":return e[i]!==c;case"array-contains":return Array.isArray(a)&&a.includes(c);case"in":return Array.isArray(c)&&c.includes(a);case"not-in":return!Array.isArray(c)||!c.includes(a);case"array-contains-any":return Array.isArray(a)&&Array.isArray(c)&&c.some(function(e){return a.includes(e)});case">":return a>c;case">=":return a>=c;case"<":return a<c;case"<=":return a<=c;default:return!1}}return e[i]===o})})}},99669:function(e,t,n){"use strict";n.d(t,{J:function(){return c},m:function(){return u}});var r=n(90581),i=n(66140),o=n(19179),a=o.jU&&o.IU?window.localStorage:null,s=function(e){var t=e.name,n=e.version,r=e.storeName;return"".concat(t,"/").concat(n,"/").concat(r,"/")},u=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._keyPrefix=s(t)}var t=e.prototype;return t.setItem=function(e,t){var n="".concat(this._keyPrefix).concat(e);null==t?null==a||a.removeItem(n):null==a||a.setItem(n,JSON.stringify(t))},t.getItem=function(e){var t,n=null==a?void 0:a.getItem("".concat(this._keyPrefix).concat(e));if(null==n)return null;try{t=JSON.parse(n)}catch(n){console.warn('Localstorage.getItem("'.concat(e,'") - ').concat(n.message)),t=null}return t},t.removeItem=function(e){null==a||a.removeItem("".concat(this._keyPrefix).concat(e))},t.clear=function(){null==a||a.clear()},e}(),c=new u(i.Wc)},37578:function(e,t,n){"use strict";function r(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.d(t,{e:function(){return Z}});let i=r(),o=/[&<>"']/,a=RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,u=RegExp(s.source,"g"),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=e=>c[e];function A(e,t){if(t){if(o.test(e))return e.replace(a,l)}else if(s.test(e))return e.replace(u,l);return e}let d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function f(e){return e.replace(d,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}let h=/(^|[^\[])\^/g;function p(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(h,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}let g=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(e,t,n){if(e){let e;try{e=decodeURIComponent(f(n)).replace(g,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!v.test(n)&&(n=function(e,t){y[" "+e]||(b.test(e)?y[" "+e]=e+"/":y[" "+e]=B(e,"/",!0));let n=-1===(e=y[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"!==t.charAt(0)?e+t:n?t:e.replace(_,"$1")+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}let y={},b=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/,E={exec:function(){}};function C(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function B(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o!==t&&n)i++;else break}else i++}return e.slice(0,r-i)}function I(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function x(e,t,n,r){let i=t.href,o=t.title?A(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:A(a)}}class T{constructor(e){this.options=e||i}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:B(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=B(e,"#");this.options.pedantic?e=t.trim():(!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;let r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,a,s,u,c,l,A,d,f;let h=t[1].trim(),p=h.length>1,g={type:"list",raw:"",ordered:p,start:p?+h.slice(0,-1):"",loose:!1,items:[]};h=p?`\\d{1,9}\\${h.slice(-1)}`:`\\${h}`,this.options.pedantic&&(h=p?h:"[*+-]");let v=RegExp(`^( {0,3}${h})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(f=!1,!(!(t=v.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,e=>" ".repeat(3*e.length)),l=e.split("\n",1)[0],this.options.pedantic?(o=2,d=c.trimLeft()):(o=(o=t[2].search(/[^ ]/))>4?1:o,d=c.slice(o),o+=t[1].length),s=!1,!c&&/^ *$/.test(l)&&(n+=l+"\n",e=e.substring(l.length+1),f=!0),!f){let t=RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),r=RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),a=RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(l=A=e.split("\n",1)[0],this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(i.test(l)||a.test(l)||t.test(l)||r.test(e)));){if(l.search(/[^ ]/)>=o||!l.trim())d+="\n"+l.slice(o);else{if(s||c.search(/[^ ]/)>=4||i.test(c)||a.test(c)||r.test(c))break;d+="\n"+l}s||l.trim()||(s=!0),n+=A+"\n",e=e.substring(A.length+1),c=l.slice(o)}}!g.loose&&(u?g.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d))&&(i="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();let m=g.items.length;for(a=0;a<m;a++)if(this.lexer.state.top=!1,g.items[a].tokens=this.lexer.blockTokens(g.items[a].text,[]),!g.loose){let e=g.items[a].tokens.filter(e=>"space"===e.type),t=e.length>0&&e.some(e=>/\n.*\n/.test(e.raw));g.loose=t}if(g.loose)for(a=0;a<m;a++)g.items[a].loose=!0;return g}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){let n=this.options.sanitizer?this.options.sanitizer(t[0]):A(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:C(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let n,r,i,o;e.raw=t[0];let a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(n=0,a=e.rows.length;n<a;n++)e.rows[n]=C(e.rows[n],e.header.length).map(e=>({text:e}));for(r=0,a=e.header.length;r<a;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(r=0,a=e.rows.length;r<a;r++)for(i=0,o=e.rows[r];i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:A(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):A(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=B(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(")"))return -1;let n=e.length,r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if("("===e[i])r++;else if(")"===e[i]&&--r<0)return i;return -1}(t[2],"()");if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),x(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(!(e=t[e.toLowerCase()])){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return x(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){let n=r[0].length-1,i,o,a=n,s=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=u.exec(t));){if(!(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6]))continue;if(o=i.length,r[3]||r[4]){a+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){s+=o;continue}if((a-=o)>0)continue;o=Math.min(o,o+a+s);let t=e.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){let e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}let u=t.slice(2,-2);return{type:"strong",raw:t,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=A(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return r="@"===n[2]?"mailto:"+(e=A(this.options.mangle?t(n[1]):n[1])):e=A(n[1]),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])r="mailto:"+(e=A(this.options.mangle?t(n[0]):n[0]));else{let t;do t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(t!==n[0]);e=A(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):A(n[0]):n[0]:A(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}let S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:E,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,S.def=p(S.def).replace("label",S._label).replace("title",S._title).getRegex(),S.bullet=/(?:[*+-]|\d{1,9}[.)])/,S.listItemStart=p(/^( *)(bull) */).replace("bull",S.bullet).getRegex(),S.list=p(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex(),S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,S.html=p(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S.paragraph=p(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.blockquote=p(S.blockquote).replace("paragraph",S.paragraph).getRegex(),S.normal={...S},S.gfm={...S.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},S.gfm.table=p(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.gfm.paragraph=p(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.pedantic={...S.normal,html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:p(S.normal._paragraph).replace("hr",S.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};let k={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:E,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:E,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function N(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function D(e){let t="",n,r,i=e.length;for(n=0;n<i;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}k._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",k.punctuation=p(k.punctuation).replace(/punctuation/g,k._punctuation).getRegex(),k.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,k.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,k._comment=p(S._comment).replace("(?:-->|$)","-->").getRegex(),k.emStrong.lDelim=p(k.emStrong.lDelim).replace(/punct/g,k._punctuation).getRegex(),k.emStrong.rDelimAst=p(k.emStrong.rDelimAst,"g").replace(/punct/g,k._punctuation).getRegex(),k.emStrong.rDelimUnd=p(k.emStrong.rDelimUnd,"g").replace(/punct/g,k._punctuation).getRegex(),k._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,k._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,k._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,k.autolink=p(k.autolink).replace("scheme",k._scheme).replace("email",k._email).getRegex(),k._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,k.tag=p(k.tag).replace("comment",k._comment).replace("attribute",k._attribute).getRegex(),k._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,k._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,k._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,k.link=p(k.link).replace("label",k._label).replace("href",k._href).replace("title",k._title).getRegex(),k.reflink=p(k.reflink).replace("label",k._label).replace("ref",S._label).getRegex(),k.nolink=p(k.nolink).replace("ref",S._label).getRegex(),k.reflinkSearch=p(k.reflinkSearch,"g").replace("reflink",k.reflink).replace("nolink",k.nolink).getRegex(),k.normal={...k},k.pedantic={...k.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",k._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",k._label).getRegex()},k.gfm={...k.normal,escape:p(k.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},k.gfm.url=p(k.gfm.url,"i").replace("email",k.gfm._extended_email).getRegex(),k.breaks={...k.gfm,br:p(k.br).replace("{2,}","*").getRegex(),text:p(k.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class O{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:S.normal,inline:k.normal};this.options.pedantic?(t.block=S.pedantic,t.inline=k.pedantic):this.options.gfm&&(t.block=S.gfm,this.options.breaks?t.inline=k.breaks:t.inline=k.gfm),this.tokenizer.rules=t}static get rules(){return{block:S,inline:k}}static lex(e,t){return new O(t).lex(e)}static lexInline(e,t){return new O(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if((n=this.tokenizer.fences(e))||(n=this.tokenizer.heading(e))||(n=this.tokenizer.hr(e))||(n=this.tokenizer.blockquote(e))||(n=this.tokenizer.list(e))||(n=this.tokenizer.html(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if((n=this.tokenizer.table(e))||(n=this.tokenizer.lheading(e))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,a,s;let u=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+I("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+I("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,o.index+o[0].length-2)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if((n=this.tokenizer.emStrong(e,u,s))||(n=this.tokenizer.codespan(e))||(n=this.tokenizer.br(e))||(n=this.tokenizer.del(e))||(n=this.tokenizer.autolink(e,D))||!this.state.inLink&&(n=this.tokenizer.url(e,D))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i,N)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return t}}class R{constructor(e){this.options=e||i}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return(e=e.replace(/\n$/,"")+"\n",r)?'<pre><code class="'+this.options.langPrefix+A(r)+'">'+(n?e:A(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:A(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let i=this.options.headerPrefix+r.slug(n);return`<h${t} id="${i}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=m(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}image(e,t,n){if(null===(e=m(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">"}text(e){return e}}class F{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class L{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do n=e+"-"+ ++r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class P{constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new F,this.slugger=new L}static parse(e,t){return new P(t).parse(e)}static parseInline(e,t){return new P(t).parseInline(e)}parse(e,t=!0){let n="",r,i,o,a,s,u,c,l,A,d,h,p,g,v,m,y,b,w,_,E=e.length;for(r=0;r<E;r++){if(d=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(!1!==(_=this.options.extensions.renderers[d.type].call({parser:this},d))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){n+=_||"";continue}switch(d.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":n+=this.renderer.heading(this.parseInline(d.tokens),d.depth,f(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":n+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(i=0,l="",c="",a=d.header.length;i<a;i++)c+=this.renderer.tablecell(this.parseInline(d.header[i].tokens),{header:!0,align:d.align[i]});for(l+=this.renderer.tablerow(c),A="",a=d.rows.length,i=0;i<a;i++){for(o=0,u=d.rows[i],c="",s=u.length;o<s;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:d.align[o]});A+=this.renderer.tablerow(c)}n+=this.renderer.table(l,A);continue;case"blockquote":A=this.parse(d.tokens),n+=this.renderer.blockquote(A);continue;case"list":for(i=0,h=d.ordered,p=d.start,g=d.loose,a=d.items.length,A="";i<a;i++)y=(m=d.items[i]).checked,b=m.task,v="",m.task&&(w=this.renderer.checkbox(y),g?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=w+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=w+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:w}):v+=w),v+=this.parse(m.tokens,g),A+=this.renderer.listitem(v,b,y);n+=this.renderer.list(A,h,p);continue;case"html":n+=this.renderer.html(d.text);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(A=d.tokens?this.parseInline(d.tokens):d.text;r+1<E&&"text"===e[r+1].type;)A+="\n"+((d=e[++r]).tokens?this.parseInline(d.tokens):d.text);n+=t?this.renderer.paragraph(A):A;continue;default:{let e='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,i,o,a=e.length;for(r=0;r<a;r++){if(i=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(!1!==(o=this.options.extensions.renderers[i.type].call({parser:this},i))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=o||"";continue}switch(i.type){case"escape":case"text":n+=t.text(i.text);break;case"html":n+=t.html(i.text);break;case"link":n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":n+=t.image(i.href,i.title,i.text);break;case"strong":n+=t.strong(this.parseInline(i.tokens,t));break;case"em":n+=t.em(this.parseInline(i.tokens,t));break;case"codespan":n+=t.codespan(i.text);break;case"br":n+=t.br();break;case"del":n+=t.del(this.parseInline(i.tokens,t));break;default:{let e='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}}class U{constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function M(e,t){return(n,r,i)=>{var o,a,s,u;"function"==typeof r&&(i=r,r=null);let c={...r},l=(o=(r={...j.defaults,...c}).silent,a=r.async,s=i,e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",o){let t="<p>An error occurred:</p><pre>"+A(e.message+"",!0)+"</pre>";if(a)return Promise.resolve(t);if(s){s(null,t);return}return t}if(a)return Promise.reject(e);if(s){s(e);return}throw e});if(null==n)return l(Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if((u=r)&&u.sanitize&&!u.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),r.hooks&&(r.hooks.options=r),i){let o;let a=r.highlight;try{r.hooks&&(n=r.hooks.preprocess(n)),o=e(n,r)}catch(e){return l(e)}let s=function(e){let n;if(!e)try{r.walkTokens&&j.walkTokens(o,r.walkTokens),n=t(o,r),r.hooks&&(n=r.hooks.postprocess(n))}catch(t){e=t}return r.highlight=a,e?l(e):i(null,n)};if(!a||a.length<3||(delete r.highlight,!o.length))return s();let u=0;return j.walkTokens(o,function(e){"code"===e.type&&(u++,setTimeout(()=>{a(e.text,e.lang,function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--u&&s()})},0))}),void(0===u&&s())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(t=>e(t,r)).then(e=>r.walkTokens?Promise.all(j.walkTokens(e,r.walkTokens)).then(()=>e):e).then(e=>t(e,r)).then(e=>r.hooks?r.hooks.postprocess(e):e).catch(l);try{r.hooks&&(n=r.hooks.preprocess(n));let i=e(n,r);r.walkTokens&&j.walkTokens(i,r.walkTokens);let o=t(i,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(e){return l(e)}}}function j(e,t,n){return M(O.lex,P.parse)(e,t,n)}function Z(e){var t=j(e,{gfm:!0,xhtml:!0,breaks:!0,baseUrl:""});return new DOMParser().parseFromString(t,"text/html").body}j.options=j.setOptions=function(e){return j.defaults={...j.defaults,...e},i=j.defaults,j},j.getDefaults=r,j.defaults=i,j.use=function(...e){let t=j.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(e=>{let n={...e};if(n.async=j.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw Error("extension name required");if(e.renderer){let n=t.renderers[e.name];n?t.renderers[e.name]=function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:t.renderers[e.name]=e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=j.defaults.renderer||new R;for(let n in e.renderer){let r=t[n];t[n]=(...i)=>{let o=e.renderer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.renderer=t}if(e.tokenizer){let t=j.defaults.tokenizer||new T;for(let n in e.tokenizer){let r=t[n];t[n]=(...i)=>{let o=e.tokenizer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.tokenizer=t}if(e.hooks){let t=j.defaults.hooks||new U;for(let n in e.hooks){let r=t[n];U.passThroughHooks.has(n)?t[n]=i=>{if(j.defaults.async)return Promise.resolve(e.hooks[n].call(t,i)).then(e=>r.call(t,e));let o=e.hooks[n].call(t,i);return r.call(t,o)}:t[n]=(...i)=>{let o=e.hooks[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.hooks=t}if(e.walkTokens){let t=j.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}j.setOptions(n)})},j.walkTokens=function(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(j,r)),r.type){case"table":for(let e of r.header)n=n.concat(j.walkTokens(e.tokens,t));for(let e of r.rows)for(let r of e)n=n.concat(j.walkTokens(r.tokens,t));break;case"list":n=n.concat(j.walkTokens(r.items,t));break;default:j.defaults.extensions&&j.defaults.extensions.childTokens&&j.defaults.extensions.childTokens[r.type]?j.defaults.extensions.childTokens[r.type].forEach(function(e){n=n.concat(j.walkTokens(r[e],t))}):r.tokens&&(n=n.concat(j.walkTokens(r.tokens,t)))}return n},j.parseInline=M(O.lexInline,P.parseInline),j.Parser=P,j.parser=P.parse,j.Renderer=R,j.TextRenderer=F,j.Lexer=O,j.lexer=O.lex,j.Tokenizer=T,j.Slugger=L,j.Hooks=U,j.parse=j,j.options,j.setOptions,j.use,j.walkTokens,j.parseInline,P.parse,O.lex},89960:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(42838),i=n(70865),o=n(15902),a=n(70621),s=n(67640),u=n(83202),c=new Set,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.Z)({},t);if((0,r.Z)(e,a.tk)){if(e.isCaptured)return;e.isCaptured=!0,Object.assign(n,e.data)}(0,r.Z)(e,u.bS)&&Object.assign(n,{code:e.code});var l,f=(0,r.Z)(e,Error)?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e&&"message"in e?e.message:"Unknown error",h=function(e){if("object"==typeof e&&null!==e&&"code"in e)return e.code}(e);if(!function(e,t,n){if(!e||(0,r.Z)(e,a.tk)&&(e.isCaptured||e.statusCode<500)||(0,r.Z)(e,a.MS)&&e.statusCode<500||(0,r.Z)(e,a.WH)||(0,r.Z)(e,o.zO)||(0,r.Z)(e,o.sv)||"string"==typeof n&&n.startsWith("auth"))return!0;var i=t.toLowerCase();return!!(A.some(function(e){return i.includes(e)})||d.includes(i))}(e,f,h)&&!c.has(f)){c.add(f);var p=(0,r.Z)(e,Error)?e.stack:Error().stack,g=(0,r.Z)(e,u.bS)&&e.code===u.bS.Codes.Normalize;s.Z.post("logging",{type:g?"appCrash":"error",message:f,error:e,location:"app",stack:p,cause:(0,r.Z)(e,Error)?e.cause:void 0,causeStack:(0,r.Z)(e,Error)?null===(l=e.cause)||void 0===l?void 0:l.stack:void 0,errorData:n})}},A=["permission_denied","missing or insufficient permissions","client is offline","internal assertion failed","[waiter]","too many errors","parse error","loop completed with undelivered notifications"],d=["set"]},50389:function(e,t,n){"use strict";n.d(t,{GX:function(){return s},H0:function(){return a},aX:function(){return u},pc:function(){return o}});var r=n(70599),i=n(20097);function o(e){var t=null==e?void 0:e.role;return t===i.i.Admin||t===i.i.Member}function a(e){return(null==e?void 0:e.role)===i.i.Admin}function s(e,t,n){return!!t&&null!=e&&!!e.length&&e.some(function(e){return e.id===t&&(!n||n(e))})}function u(e){var t,n;return(null!==(n=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==n?n:r.k9.Free)===r.k9.Free}},97847:function(e,t,n){"use strict";n.d(t,{QY:function(){return o},i8:function(){return i},y7:function(){return a}});var r=n(56818);function i(e,t){return!t||e.version>t.version||e.version===t.version&&e.versionNonce<t.versionNonce?e:t}function o(e){return!!e&&!e.isDeleted&&!((0,r.h4)(e)&&!e.threadId)}function a(e){var t={},n=[],r=0,i=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;n.push(l),o(l)&&(t[l.id]=r++)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return{syncableElements:n,zIndexMap:t}}},3635:function(e,t){"use strict";t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},19179:function(e,t,n){"use strict";n.d(t,{IU:function(){return o},IY:function(){return h},Jf:function(){return d},Nq:function(){return u},W6:function(){return f},b1:function(){return a},cK:function(){return i},jU:function(){return c},vy:function(){return s},zT:function(){return A}});var r=n(70865);function i(e){return!!e&&(!!["INPUT","TEXTAREA","SELECT"].includes(e.tagName)||!!(e.contentEditable&&"true"===e.contentEditable))}var o=function(){try{return void 0!==window.localStorage}catch(e){return!1}}(),a=function(){try{return"ontouchstart"in window}catch(e){return!1}}();function s(){try{return!!window}catch(e){return!1}}function u(){try{return!!window.document&&!!window.document.createElement}catch(e){return!1}}var c=u(),l={behavior:"smooth",block:"end",inline:"nearest"};function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&setTimeout(function(){e.scrollIntoView((0,r.Z)({},l,t))},n)}function d(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function f(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1}function h(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n===t)return!0;n=n.parentElement}return!1}},61490:function(e,t,n){"use strict";n.d(t,{VS:function(){return o}});var r=n(70865),i=n(40199);function o(e,t){return(0,i.backOff)(e,(0,r.Z)({numOfAttempts:5,maxDelay:1e3,retry:function(e,t){return(null==e?void 0:e.code)==="internal"&&(console.info("".concat(t,"/5 Attempt failed, retrying..")),!0)}},t))}n(61049)},88218:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},u6:function(){return o}});var r=/\.(?:aero|asia|ac|cat|coop|edu|gov|int|jobs|mil|museum|post|sch|tel|travel|xxx)(?:\.[a-z]{2,3})?$/;function i(e){return e.split("@")[1]}function o(e){var t,n;return(null==e?void 0:e.email)&&(null==e?void 0:e.emailVerified)&&(t=e.email)&&(n=i(t),!(r.test(n)||t.includes("@gmail")||t.includes("@duck.com")||t.includes(".edu")||t.includes(".ac.")||t.includes(".sch.")||t.includes("@yahoo")||t.includes("mail.ru")||t.includes("qq.com")||t.includes("@hotmail")||t.includes("@googlemail")||t.includes("@outlook")||t.includes("proton.me")||t.includes("protonmail")||t.includes("icloud")||t.includes("@me.com")||t.includes("naver")||t.includes("onmicrosoft.com")||t.includes("@live.co")||t.includes("mozmail.com")||t.includes("gmx.de")||t.includes("yandex")||t.includes("live.com")||t.includes("@web.de")||t.includes("yopmail")||t.includes("gufum")||t.includes("passmail")||t.includes("mailinator")||t.includes("@hey.com")||a.test(t)))?i(e.email):""}var a=/\D+\d{3,5}@/},6901:function(e,t,n){"use strict";n.d(t,{ED:function(){return o},IJ:function(){return i},Um:function(){return r}});var r="undefined"!=typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i="undefined"!=typeof navigator&&/Linux/.test(navigator.platform),o="undefined"!=typeof navigator&&/Win/i.test(navigator.platform)},20954:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(90581),i=n(42838),o=n(2784);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useState)(),r=n[0],i=n[1],a=(0,o.useMemo)(function(){return u.fromEl(e)},[e]),s=t.scrollTargetId,c=t.resizeTarget;return(0,o.useEffect)(function(){if(a)return i(a.bounds),a.subscribe(i)},[a]),(0,o.useEffect)(function(){if(s)return null==a?void 0:a.listenForScroll(s)},[a,s]),(0,o.useEffect)(function(){if(c)return null==a?void 0:a.listenForResize(c)},[a,c]),r}var s=new WeakMap,u=/*#__PURE__*/function(){function e(t){var n=this;(0,r.Z)(this,e),this.el=t,this._cbs=[],this._scrollListenerCount=0,this._resizeListenerCount=0,this._hasBeenTriggered=!1,this._onScroll=function(){n._setBounds()},this._stopListeningForResize=function(){if(n._resizeListenerCount--,0===n._resizeListenerCount&&n._resizeTarget){var e;null===(e=n._resizeObserver)||void 0===e||e.unobserve(n._resizeTarget)}},this._stopListeningForScroll=function(){if(n._scrollListenerCount--,0===n._scrollListenerCount&&n._scrollTarget){var e;null===(e=n._resizeObserver)||void 0===e||e.unobserve(n._scrollTarget),n._scrollTarget.removeEventListener("scroll",n._onScroll)}},this._destroy=function(){var e;null===(e=n._resizeObserver)||void 0===e||e.disconnect(),n._scrollListenerCount,n._stopListeningForScroll(),window.removeEventListener("resize",n._setBounds),s.delete(n.el)},this._setBounds=function(){!1===n._hasBeenTriggered&&(n._hasBeenTriggered=!0,n.bounds=n._getBounds(),n._cbs.forEach(function(e){return e(n.bounds)}),requestAnimationFrame(function(){n._hasBeenTriggered=!1}))},this.el=t,this.bounds=this._getBounds(),(0,i.Z)(this.el,HTMLElement)&&(this._resizeObserver=new ResizeObserver(function(e){(null==e?void 0:e[0])&&n._setBounds()}),this._resizeObserver.observe(this.el)),window.addEventListener("resize",this._setBounds)}var t=e.prototype;return t.subscribe=function(e){var t=this;return this._cbs.push(e),function(){t._cbs=t._cbs.filter(function(t){return t!==e}),0===t._cbs.length&&t._destroy()}},t.listenForScroll=function(e){var t=this;if(0===this._scrollListenerCount){var n,r=document.getElementById(e);r?(this._scrollTarget=r,r.addEventListener("scroll",this._onScroll),null===(n=this._resizeObserver)||void 0===n||n.observe(r)):console.warn("No scroll target found",e)}return this._scrollListenerCount++,function(){return t._stopListeningForScroll()}},t.listenForResize=function(e){var t,n=this;return 0===this._resizeListenerCount&&(this._resizeTarget=e,null===(t=this._resizeObserver)||void 0===t||t.observe(e)),this._resizeListenerCount++,function(){return n._stopListeningForResize()}},t._getBounds=function(){return this.el.getBoundingClientRect()},e}();u.fromEl=function(e){if(e)return s.has(e)||s.set(e,new u(e)),s.get(e)}},45594:function(e,t,n){"use strict";function r(e,t){var n=e.pathname,r=new URLSearchParams(e.query);r.delete(t),e.replace({pathname:n,query:r.toString()},void 0,{shallow:!0})}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.pathname,o=new URLSearchParams(e.query);o.set(t,n),r?e.push({pathname:i,query:o.toString()},void 0,{shallow:!0}):e.replace({pathname:i,query:o.toString()},void 0,{shallow:!0})}n.d(t,{Xi:function(){return i},iO:function(){return r},rj:function(){return o},yT:function(){return a}});var o=function(e){if(!e)return o(window.location.pathname);var t=e.split("/"),n=""===t[0]?1:0;if("integration"===t[n]){var r=t[n+1],i=t[n+2];return"".concat(r,":").concat(i)}return"workspace"!==t[n]?null:t[n+1]},a=function(e){return e?o(e.pathname):null}},24618:function(e,t,n){"use strict";n.d(t,{VK:function(){return j},bJ:function(){return P},BX:function(){return L},jW:function(){return F},pA:function(){return U},Fb:function(){return M},Mh:function(){return N}});var r=n(70865),i=n(94707),o=n(82808),a=n(47864),s=n(83746),u=n(97674),c=n(17407),l=n(1118),A=n(67394),d=n(62355),f=n(59126),h=n(11348);function p(e,t){return Math.pow(2,e)*t}var g=n(45455),v=/*#__PURE__*/n.n(g),m=n(35120),y=n(99054),b=n(77984),w=n(47009),_=n(90581),E=n(21218),C=n(39309),B=n(9947),I=n(17080),x={leading:!0,trailing:!1},T=/*#__PURE__*/function(){function e(t,n,r,i,o){(0,_.Z)(this,e),this._duration=t,this._compare=n,this._scheduler=r,this._leading=i,this._trailing=o}return e.prototype.call=function(e,t){return t.subscribe(new S(e,this._duration,this._compare,this._scheduler,this._leading,this._trailing))},e}(),S=/*#__PURE__*/function(e){(0,E.Z)(n,e);var t=(0,C.Z)(n);function n(e,r,i,o,a,s){var u;return(0,_.Z)(this,n),(u=t.call(this,e)).destination=e,u._duration=r,u._compare=i,u._scheduler=o,u._leading=a,u._trailing=s,u._hasTrailingValue=!1,u}var r=n.prototype;return r._next=function(e){this._prevValue&&!this._compare(this._prevValue,e)?(this.clearThrottle(),this.add(this._throttled=this._scheduler.schedule(k,this._duration,{subscriber:this})),this.destination.next(e)):this._throttled?this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this._throttled=this._scheduler.schedule(k,this._duration,{subscriber:this})),this._leading?this.destination.next(e):this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0)),this._prevValue=e},r._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},r.clearThrottle=function(){var e=this._throttled;e&&(this._trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=void 0,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this._throttled=void 0)},n}(I.Lv);function k(e){e.subscriber.clearThrottle()}var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;return function(i){return i.lift(new T(e,t,n,!!r.leading,!!r.trailing))}};function D(e){return null!=e}function O(e){return null!=e}function R(e){return e.every(O)}function F(){return function(e){return e.pipe((0,y.h)(D))}}function L(){return function(e){return e.pipe((0,y.h)(O))}}function P(){return function(e){return e.pipe((0,y.h)(R))}}function U(e){return function(t){return t.pipe((0,b.U)(function(t){return v()(t)?e:t}))}}function M(e){return function(t){return t.pipe((0,w.K)(function(t){return"permission-denied"===t.code?(0,m.of)(e):(0,s._)(t)}))}}function j(e){return function(t){var n,g,v,m,y,b,w,_,E,C,B,I,x;return t.pipe((v=(g="number"==typeof(n=(0,r.Z)({initialInterval:100,maxRetries:5,maxInterval:1e3,resetOnSuccess:!0},e))?{initialInterval:n}:n).initialInterval,y=void 0===(m=g.maxRetries)?1/0:m,w=void 0===(b=g.maxInterval)?1/0:b,E=void 0===(_=g.shouldRetry)?function(){return!0}:_,B=void 0!==(C=g.resetOnSuccess)&&C,x=void 0===(I=g.backoffDelay)?p:I,function(e){return(0,i.P)(function(){var t,n=0;return e.pipe((t=function(e){var t,r;return e.pipe((t=function(e){var t=n++;return(0,o.s)(function(){return t<y&&E(e)},(0,a.H)(Math.min(x(t,v),w)),(0,s._)(e))},(0,f.m)(void 0)?(0,d.z)(t,r,1):(0,d.z)(t,1)))},(0,l.e)(function(e,n){var r,i,o=!1,a=function(){r=e.subscribe((0,A.x)(n,void 0,void 0,function(e){i||(i=new c.x,(0,u.Xf)(t(i)).subscribe((0,A.x)(n,function(){return r?a():o=!0}))),i&&i.next(e)})),o&&(r.unsubscribe(),r=null,o=!1,a())};a()})),(0,h.b)(function(){B&&(n=0)}))})}))}}},42389:function(e,t,n){"use strict";n.d(t,{BS:function(){return d},_1:function(){return f}});var r=n(42838),i=n(50930),o=n(10732),a=n(83746),s=n(47009);function u(e){var t=e?e():Error("observable thrown from context:");return function(e){return e.pipe((0,s.K)(function(e){return(0,a._)(function(){var n=Error("Rethrowing observable error"),i=Error(t.message);if(i.stack=t.stack,i.cause=n,(0,r.Z)(e,Error))return e.cause=i,e;var o=Error((null!=e?e:"unknown").toString());return o.cause=i,o})}))}}function c(e){try{return JSON.stringify(e)}catch(e){return"{}"}}var l=function(e){var t,n,r,i=JSON.parse(c(e));return null==i?void 0:null===(t=i._delegate)||void 0===t?void 0:null===(n=t._key)||void 0===n?void 0:null===(r=n.path)||void 0===r?void 0:r.segments},A=function(e){var t,n,r,i=JSON.parse(c(e));return null==i?void 0:null===(t=i._delegate)||void 0===t?void 0:null===(n=t._query)||void 0===n?void 0:null===(r=n.path)||void 0===r?void 0:r.segments};function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.BS.apply(void 0,(0,i.Z)(t)).pipe(u(function(){var e=JSON.stringify(A(t[0]));return Error("Thrown from firestore collection ".concat(e))}))}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o._1.apply(void 0,(0,i.Z)(t)).pipe(u(function(){var e=JSON.stringify(l(t[0]));return Error("Thrown from firestore doc ".concat(e))}))}},85117:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;t.Z=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){var a=r[o];if(!n.call(t,a)||e[a]!==t[a])return!1}return!0}},68193:function(e,t,n){"use strict";function r(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame(function(){t=!1,e()}))}}n.d(t,{q:function(){return r}})},51914:function(e,t,n){"use strict";n.d(t,{Cj:function(){return A},vb:function(){return f}});var r=n(87394),i=/(?:http|ftp|ws)s?:\/\/|www\./i,o=/[\w@:%.+~#=-]/,a=/\.\w{2,}/,s=/\/[\w()@:%+.~/-]*/,u=/\?\S+/,c=/#\S+/,l=RegExp("(?:"+"(?:".concat(i.source,")\\w(?:").concat(o.source,"{0,64}[^./?#])?(?:").concat(a.source,"(?:").concat(/:\d+/.source,")?)?")+"|"+"\\w".concat(o.source,"{0,64}\\.(?:").concat(/aero|app|asia|blog|by|cat|cc|club|coop|cu|do|engineering|fun|gu|help|id|ir|is|jobs|kp|law|loan|md|me|menu|mil|mobi|museum|name|online|party|pl|post|pro|sd|sh|shop|site|so|space|sy|tel|top|travel|ve|vip|wang|wtf|xin|xxx|xyz|com|net|org|edu|gov|info|co|ly|io|biz|int|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bw|bz|ca|cd|cf|cg|ch|ci|ck|cl|cm|cn|cr|cv|cw|cx|cy|cz|de|dj|dk|dm|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|ie|il|im|in|iq|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ma|mc|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pm|pn|pr|ps|pt|pw|qa|re|ro|rs|ru|rw|sa|sb|sc|se|sg|si|sk|sl|sm|sn|sr|ss|st|su|sv|sx|sz|tc|td|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw/i.source,")")+")"+"(?:".concat(s.source,")?(?:").concat(u.source,")?(?:").concat(c.source,")?"),"i"),A=RegExp("(?:"+"(?:".concat(i.source,")\\w(?:").concat(o.source,"{0,64}[^./?#])?(?:").concat(a.source,")?")+"|"+"\\w".concat(o.source,"{0,64}\\.(?:").concat(/com|org|net|gov|edu|io|dev|app/i.source,")")+")"+"(?:".concat(s.source,")?(?:").concat(u.source,")?(?:").concat(c.source,")?"),"i"),d=RegExp("^(?:".concat(l.source,")$"),"i");RegExp(l.source,"gi");var f=function(e,t){var n=e,i=n.includes("?");return i||(n+="?"),Object.entries(t).map(function(e,t){var o=(0,r.Z)(e,2),a=o[0],s=o[1];(t>0||i)&&(n+="&"),n+="".concat(a,"=").concat(s.toString())}),encodeURIComponent(n)};t.ZP=function(e){return!!e.length&&d.test(e)}},89813:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(98788),i=n(22970);function o(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})).apply(this,arguments)}},39202:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var r,i,o,a,s,u,c,l=n(98788),A=n(70865),d=n(96670),f=n(22970),h=n(41962),p=n(89960),g=n(99669);(r=c||(c={}))[r.Failed=0]="Failed",r[r.Initialized=1]="Initialized",r[r.Initializing=2]="Initializing",r[r.NotInitialized=3]="NotInitialized";var v="optimizely-data-file",m=(a=c.NotInitialized,s=function(e){return(0,A.Z)({teamId:o.teamId},e||{})},{initialize:(u=(0,l.Z)(function(e,t){var n,r;return(0,f.__generator)(this,function(s){switch(s.label){case 0:if(o=e,a=c.Initializing,(n=g.J.getItem(v))&&(a=c.Initialized),r=null==(i=h.ZP.createInstance((0,d.Z)((0,A.Z)({},t),{datafile:n})))?void 0:i.onReady({timeout:2e3}).then(function(e){var t=e.success;if(e.reason,t){a=c.Initialized;var n,r=null===(n=null==i?void 0:i.getOptimizelyConfig())||void 0===n?void 0:n.getDatafile();r&&g.J.setItem(v,r)}else a=c.Failed}).catch(function(e){return(0,p.T)(e)}),!(a!==c.Initialized))return[3,2];return[4,r];case 1:s.sent(),s.label=2;case 2:return[2]}})}),function(e,t){return u.apply(this,arguments)}),isInitialized:function(){return a===c.Initialized},isFeatureEnabled:function(e,t){return a===c.Initialized&&(y?b[e]:i.isFeatureEnabled(e,o.userId,s(t)))},getFeatureVariables:function(e,t){return a!==c.Initialized?null:i.getAllFeatureVariables(e,o.userId,s(t))},updateUserContext:function(e){return o=(0,A.Z)({},o,e)}});window&&(window.optimizelyService=m);var y=!!(null==window?void 0:window.Cypress),b={excalidrawstyles:!0,git_diagram:!0,product_announcement:!1}},92458:function(e,t,n){"use strict";n.d(t,{B:function(){return u},R:function(){return c}});var r,i=n(2784),o=n(76476),a=n(89813),s=n(39202),u=function(e,t){var n,r,a,u,c=(0,i.useState)(!1),l=c[0],A=c[1];(0,i.useEffect)(function(){l?s.g.updateUserContext(e):(A("pending"),s.g.initialize(e,t).finally(function(){A(!0)}))},[l,t,e]);var d=(n=e.areTeamsEmpty,r=e.areTeamsLoaded,a=e.isUserAnonymous,u=e.teamId,!!(e.userId||a)&&!!(u||n||r));return(0,i.useEffect)(function(){d&&l&&(0,o.Nb)()},[d,l]),d&&!0===l},c=function(){return(0,i.useMemo)(function(){return r||(r=Promise.race([s.g.initialize({isUserAnonymous:!0,userId:"",teamId:""},{logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!1,updateInterval:void 0,urlTemplate:"/api/optimizely/datafile"}}),(0,a.Z)(1e3)])),r},[])}},8018:function(e){e.exports={authFlowFormError:"AuthFlowFormError_authFlowFormError__23he9"}},42762:function(e){e.exports={authFlowViewLayout:"AuthFlowViewLayout_authFlowViewLayout__LsuXS",content:"AuthFlowViewLayout_content__KcAPm",footer:"AuthFlowViewLayout_footer__uwOHC",eraserLogo:"AuthFlowViewLayout_eraserLogo__gVBCx",label:"AuthFlowViewLayout_label__QbLU8"}},98025:function(e){e.exports={authFormLayout:"AuthFormLayout_authFormLayout__Djnmv"}},71481:function(e){e.exports={authViewActionButtons:"AuthViewActionButtons_authViewActionButtons__EVu76"}},57597:function(e){e.exports={joinTeamSelection:"JoinTeamSelection_joinTeamSelection__iUDrv",team:"JoinTeamSelection_team__wCu6U",selected:"JoinTeamSelection_selected__ktt71"}},65181:function(e){e.exports={ssoButtons:"SSOButtons_ssoButtons__cszRd",buttonSize:"SSOButtons_buttonSize__23Wez",button:"SSOButtons_button__VaO1C",halfWidthButton:"SSOButtons_halfWidthButton__o0Lwd"}},56860:function(e){e.exports={resetPassword:"SignInForm_resetPassword__t7x9q"}},70520:function(e){e.exports={signInView:"SignInView_signInView__2T3vn",signInForm:"SignInView_signInForm__1tDK0",resetPasswordForm:"SignInView_resetPasswordForm__Z8f_D",ssoButtons:"SignInView_ssoButtons__gMo6A"}},86066:function(e){e.exports={signUpView:"SignUpView_signUpView__bl4VM",ssoButtons:"SignUpView_ssoButtons__RxV8o",signInLink:"SignUpView_signInLink__7zpHb"}},90910:function(e){e.exports={teamJoinModal:"TeamJoinModal_teamJoinModal__Hx3BH",teams:"TeamJoinModal_teams__klxDh",buttons:"TeamJoinModal_buttons__o4L_r"}},21902:function(e){e.exports={container:"thirdPartySso_container__eytk7",formContainer:"thirdPartySso_formContainer__WO3WJ",button:"thirdPartySso_button__RQzH9"}},24292:function(e){e.exports={errorCtaButton:"ErrorCtaButton_errorCtaButton__MPzRm",isOutline:"ErrorCtaButton_isOutline__Xe57B"}},14052:function(e){e.exports={errorViewLayout:"ErrorViewLayout_errorViewLayout__9aibB",content:"ErrorViewLayout_content__5wmOa",label:"ErrorViewLayout_label__7Z0e6",footer:"ErrorViewLayout_footer__qjgTF"}},40819:function(e){e.exports={container:"HelpCenter_container__Mzr5Z",stickyLeft:"HelpCenter_stickyLeft__bzLd_",stickyRight:"HelpCenter_stickyRight__eGxTp",isOpen:"HelpCenter_isOpen__iuNL2",icon:"HelpCenter_icon__zhG_4",label:"HelpCenter_label___4Xfj",helpButton:"HelpCenter_helpButton__MNdc7"}},19705:function(e){e.exports={navContainer:"KeyboardShortcutsModal_navContainer__pvr9U",navHeader:"KeyboardShortcutsModal_navHeader__kMcmC",noResults:"KeyboardShortcutsModal_noResults__6ok9l",searchInput:"KeyboardShortcutsModal_searchInput__VILUz",shortcutsTable:"KeyboardShortcutsModal_shortcutsTable__TqLNI",table:"KeyboardShortcutsModal_table__r6UNv",shortcutDivider:"KeyboardShortcutsModal_shortcutDivider__vmw_t"}},27846:function(e){e.exports={logo:"EraserLogo_logo__fK1pd",horizontal:"EraserLogo_horizontal__WCaYh",vertical:"EraserLogo_vertical__x_CZ_",icon:"EraserLogo_icon__cN4mR",text:"EraserLogo_text__NlOor"}},46966:function(e){e.exports={minimalPageLayout:"MinimalPageLayout_minimalPageLayout__zOfvH",eraserLogo:"MinimalPageLayout_eraserLogo__7bMLE",content:"MinimalPageLayout_content__igL6T"}},31592:function(e){e.exports={dashboardPage:"Layout_dashboardPage__TrfNE",dashboardBody:"Layout_dashboardBody___RXU1",renamingFolder:"Layout_renamingFolder___rSYx",item:"Layout_item__IRAae",titleRowContent:"Layout_titleRowContent__P_XE9",gutterColumn:"Layout_gutterColumn__p0pUk",alignCenter:"Layout_alignCenter__NuTPx",alignEnd:"Layout_alignEnd__1k18D",headerAuthorPadding:"Layout_headerAuthorPadding__RtKNi",authorPadding:"Layout_authorPadding__mfop4"}},39323:function(e){e.exports={topNav:"LayoutHeader_topNav__wkTMq",topNavTab:"LayoutHeader_topNavTab__1Vd9N",active:"LayoutHeader_active__aZ58d",tableContainer:"LayoutHeader_tableContainer__gsNuX",topNavShortcut:"LayoutHeader_topNavShortcut__JAgnZ"}},23513:function(e){e.exports={wrapper:"Notepad_wrapper__3t9j_",container:"Notepad_container__C0YbN",absolute:"Notepad_absolute__Z3TsM",containerHintPhantom:"Notepad_containerHintPhantom__uLHCF",customScrollbar:"Notepad_customScrollbar__olo4S",notepad:"Notepad_notepad__6sYUU",skeletonTitle:"Notepad_skeletonTitle__YD7B2",skeletonBody:"Notepad_skeletonBody___LfPX",measurer:"Notepad_measurer__Otdpo"}},36976:function(e){e.exports={validPerson:"Mentions_validPerson__cy4GH",editorMention:"Mentions_editorMention__ZYYyU",personDisplay:"Mentions_personDisplay__s9d6U",avatar:"Mentions_avatar__4bw3j",label:"Mentions_label__4lm7Y",isSelected:"Mentions_isSelected__RnL7t",isDarkMode:"Mentions_isDarkMode__FcpWt",isHighlighted:"Mentions_isHighlighted__Lao5V",dropdownAnchor:"Mentions_dropdownAnchor__q_PRJ",dropdownContainer:"Mentions_dropdownContainer___Mkiy",commentMention:"Mentions_commentMention__jaaNA",display:"Mentions_display__NWzLk",autoCompleteDropDown:"Mentions_autoCompleteDropDown__GmhUA",dropdownPopper:"Mentions_dropdownPopper__Y7nIB",hidden:"Mentions_hidden__oYE87",placeholder:"Mentions_placeholder__GzP7W"}},1031:function(e){e.exports={workspaceLimitCard:"WorkspaceLimitCard_workspaceLimitCard__Fu5ce",progressWrapper:"WorkspaceLimitCard_progressWrapper__VZx6O",progress:"WorkspaceLimitCard_progress__oiqV0",upgradeBtn:"WorkspaceLimitCard_upgradeBtn__t9EWY"}},14413:function(e){e.exports={container:"ssoErrorChecker_container__gvLKD",rerouting:"ssoErrorChecker_rerouting__S06GM",joinTable:"ssoErrorChecker_joinTable__QXbf_",joinTableTeamName:"ssoErrorChecker_joinTableTeamName__TWrmc"}},67499:function(e){e.exports={authModal:"Auth_authModal__II_vq"}},75594:function(e){e.exports={item:"TableHeadItem_item__OO2Pa",headItem:"TableHeadItem_headItem__cQyJD",headItemActive:"TableHeadItem_headItemActive__r7pow",headItemSortable:"TableHeadItem_headItemSortable__X8LU5"}},17371:function(e){e.exports={tableHeader:"TableHeader_tableHeader__07mhD",noBorder:"TableHeader_noBorder__p3lKv"}},98156:function(e){e.exports={container:"Toast_container__SU4wE",warning:"Toast_warning__xRuZJ",loading:"Toast_loading__YQi8x",error:"Toast_error__hh2r_",success:"Toast_success__XpEen",blank:"Toast_blank___krRd"}},47200:function(e){e.exports={isDragging:"DragAndDropStyles_isDragging__luYEl",isDroppingWorkspaceTableFolder:"DragAndDropStyles_isDroppingWorkspaceTableFolder__8wlB7",folderTarget:"DragAndDropStyles_folderTarget__IMNH1",droppingBorderBefore:"DragAndDropStyles_droppingBorderBefore__G9tY8",isFirst:"DragAndDropStyles_isFirst__0hlFH",droppingBorderAfter:"DragAndDropStyles_droppingBorderAfter__90I6V",isLast:"DragAndDropStyles_isLast__y37jj"}},94999:function(e){e.exports={member:"Member_member___gkVf",avatar:"Member_avatar__T6cem",name:"Member_name__NSu5d"}},13529:function(e){e.exports={members:"MembersList_members___um72",skeleton:"MembersList_skeleton__FcoKf",name:"MembersList_name__sINBT"}},60706:function(e){e.exports={container:"MembersPile_container__AaFkf",avatars:"MembersPile_avatars__6t_0l","align-start":"MembersPile_align-start__ohH52","align-end":"MembersPile_align-end__NC_K_",avatarContainer:"MembersPile_avatarContainer__QzTlZ",avatar:"MembersPile_avatar__Qs_Ri",userAvatar:"MembersPile_userAvatar__Xz8hg"}},26486:function(e){e.exports={moreMembers:"MoreMembers_moreMembers__0FxIH",listPopper:"MoreMembers_listPopper__lobmm",members:"MoreMembers_members__Lvscx",memberName:"MoreMembers_memberName__b1WDg",skeleton:"MoreMembers_skeleton__j785S",name:"MoreMembers_name__UiEqV"}},94280:function(e){e.exports={listItem:"MoveModalListItem_listItem__AforP",checkMark:"MoveModalListItem_checkMark__IIDqm",isActive:"MoveModalListItem_isActive___Isup"}},8911:function(e){e.exports={newTemplateCard:"NewTemplateCard_newTemplateCard__LgAa0",disabled:"NewTemplateCard_disabled__BUDwV",newTemplateCardTitle:"NewTemplateCard_newTemplateCardTitle__7CdDE"}},58241:function(e){e.exports={templateCard:"TemplateCard_templateCard__BX_u1",disabled:"TemplateCard_disabled__ZgS_e",fallbackContainer:"TemplateCard_fallbackContainer__YiRnE",imageContainer:"TemplateCard_imageContainer__w34Ie",tooltip:"TemplateCard_tooltip__P_bXe",titleWrapper:"TemplateCard_titleWrapper__G_skP",title:"TemplateCard_title__L_HbR",renameInput:"TemplateCard_renameInput__NCAI_"}},15673:function(e){e.exports={metadataContent:"TemplateMetadata_metadataContent__2fEM8",avatar:"TemplateMetadata_avatar__uZZ5J",avatarName:"TemplateMetadata_avatarName__fJI5x"}},96237:function(e){e.exports={successToastWrapper:"TemplateSuccessToast_successToastWrapper__bUgoI"}},38814:function(e){e.exports={modalRoot:"CommandKModal_modalRoot__5Incc",modalWrapper:"CommandKModal_modalWrapper__SKvBF",searchInput:"CommandKModal_searchInput__uthGN",content:"CommandKModal_content__dRTWu",fullSearchSuggestion:"CommandKModal_fullSearchSuggestion__YS_R_",contentWrapper:"CommandKModal_contentWrapper__ixwqc"}},57200:function(e){e.exports={root:"CommandKListEntry_root__1XNHr",rootActive:"CommandKListEntry_rootActive__cV4CB"}},86378:function(e){e.exports={shortcuts:"CommandKModalFooter_shortcuts__ItpvZ",keys:"CommandKModalFooter_keys__mocIL",modeWrapper:"CommandKModalFooter_modeWrapper__YCqnb",menu:"CommandKModalFooter_menu__cXMYX",toggleButton:"CommandKModalFooter_toggleButton__y0kPO",toggleRoot:"CommandKModalFooter_toggleRoot__j1Mvq",toggleTitle:"CommandKModalFooter_toggleTitle__XMn_I"}},74803:function(e){e.exports={root:"ContextModalPill_root__VY5Ck",light:"ContextModalPill_light__NNuqK"}},62441:function(e){e.exports={root:"CommandKCategorySection_root__okYLV",title:"CommandKCategorySection_title__pZcLS"}},26378:function(e){e.exports={subCategoryChevron:"CommandKCommand_subCategoryChevron__NomIU",itemEndContent:"CommandKCommand_itemEndContent__SUswd"}},19101:function(e){e.exports={notFoundWrapper:"CommandScreen_notFoundWrapper__iYHFZ",item:"CommandScreen_item__MKs6o",itemSubTitle:"CommandScreen_itemSubTitle__9te_C",itemIcon:"CommandScreen_itemIcon__P0__6"}},27202:function(e){e.exports={skeletonWrapper:"CommandScreenSkeleton_skeletonWrapper__KL5DV",isActive:"CommandScreenSkeleton_isActive__dd1rL",description:"CommandScreenSkeleton_description__LchFQ"}},12614:function(e){e.exports={icon:"GoToFileEntry_icon__JGGOK"}},69713:function(e){e.exports={fullSearchSuggestion:"GoToFileScreen_fullSearchSuggestion__0oMU0"}},79941:function(e){e.exports={skeletonWrapper:"GoToFileSkeleton_skeletonWrapper__lNrEh",isActive:"GoToFileSkeleton_isActive__4JhL2",folder:"GoToFileSkeleton_folder__YmdXl"}},24344:function(e){e.exports={helpTitle:"HelpScreen_helpTitle__7AfMC",item:"HelpScreen_item__Nn7m4"}},45369:function(e){e.exports={folderSelect:"FolderActions_folderSelect__JhXmp"}},83264:function(e){e.exports={dashboardHeader:"DashboardHeader_dashboardHeader__RR10i",dashboardHeaderTitle:"DashboardHeader_dashboardHeaderTitle__MRmm0",dashboardHeaderTools:"DashboardHeader_dashboardHeaderTools__NVJvd"}},64001:function(e){e.exports={searchBar:"DashboardHeaderTools_searchBar__ydsM1"}},56820:function(e){e.exports={folderTitleRoot:"FolderView_folderTitleRoot__Dyoc3",folderDropdown:"FolderView_folderDropdown__slHzm",iconTooltip:"FolderView_iconTooltip__uMCyu",newFolderIcon:"FolderView_newFolderIcon__Zsg3s",disabledFolderIcon:"FolderView_disabledFolderIcon__I2V_4"}},53047:function(e){e.exports={getStartedChecklist:"GetStartedChecklist_getStartedChecklist__FHd5m",header:"GetStartedChecklist_header__8aaft",threeDotMenu:"GetStartedChecklist_threeDotMenu__CEekJ",progressBadge:"GetStartedChecklist_progressBadge__c8dRA",toggleBtnWrapper:"GetStartedChecklist_toggleBtnWrapper__5G4rk",toggleBtn:"GetStartedChecklist_toggleBtn__sVcEe",progressWrapper:"GetStartedChecklist_progressWrapper__Fc_HR",progressBar:"GetStartedChecklist_progressBar__rk_VW",checklist:"GetStartedChecklist_checklist__rWUMN",setup:"GetStartedChecklist_setup__Zo_pJ",checklistItem:"GetStartedChecklist_checklistItem__OkGLB",arrow:"GetStartedChecklist_arrow__Yn6K0",isComplete:"GetStartedChecklist_isComplete__aAzhS",allCompletedView:"GetStartedChecklist_allCompletedView__YBeda",contentWrap:"GetStartedChecklist_contentWrap__QwgI1",hideBtn:"GetStartedChecklist_hideBtn__UclMd",isCollapsed:"GetStartedChecklist_isCollapsed__BxzLa"}},91983:function(e){e.exports={container:"MoveToFolderModal_container___ygsY",buttonGroup:"MoveToFolderModal_buttonGroup__qnhgt",button:"MoveToFolderModal_button__SUwES",folderList:"MoveToFolderModal_folderList__jQf2r"}},34006:function(e){e.exports={input:"RenamingField_input__jd2SB"}},93664:function(e){e.exports={mobileHeader:"MobileDashboard_mobileHeader__X_XY5",toggleButton:"MobileDashboard_toggleButton__vteHM",searchContainer:"MobileDashboard_searchContainer__45hEA",searchContainerActive:"MobileDashboard_searchContainerActive__I_VZa"}},72397:function(e){e.exports={searchContainer:"CompactSearchBar_searchContainer__RyRTC",focused:"CompactSearchBar_focused__9waIS",searchIcon:"CompactSearchBar_searchIcon__mdwDC",input:"CompactSearchBar_input__t4Qs_",shortcut:"CompactSearchBar_shortcut__g84ar"}},25947:function(e){e.exports={container:"NotFound_container__9bRyf",title:"NotFound_title__E9GnI",text:"NotFound_text__8uD5w"}},84979:function(e){e.exports={tableHeader:"Search_tableHeader__jZSv_",noBorder:"Search_noBorder__4vemY",headerPadding:"Search_headerPadding__zP2u_",alignRight:"Search_alignRight__L40uD",matches:"Search_matches__yN5kJ",matchBlock:"Search_matchBlock__TvWPH",matchIcon:"Search_matchIcon__7iZoj",matchBody:"Search_matchBody__9QUDL",matchFoundIn:"Search_matchFoundIn__4LS3w",matchContent:"Search_matchContent__pqE1f",searchRow:"Search_searchRow__laOHU",isFocused:"Search_isFocused___dKBj",divider:"Search_divider__JZdV5",highlight:"Search_highlight__VYEsV",fileRowMinimal:"Search_fileRowMinimal__qUdfB",searchPadding:"Search_searchPadding__W2ZFb",searchHeader:"Search_searchHeader___M9rq",searchBar:"Search_searchBar__gc4k3",searchInput:"Search_searchInput__a5xn1",searchIcon:"Search_searchIcon__5l0_X"}},24289:function(e){e.exports={container:"Sidebar_container__8a9Qq",mobileSidebar:"Sidebar_mobileSidebar__t_ufQ",mobileSidebarOpen:"Sidebar_mobileSidebarOpen__hjUpD",sidebarOverlay:"Sidebar_sidebarOverlay__60BEN",sidebarMenuContainer:"Sidebar_sidebarMenuContainer__mxUuq",topSection:"Sidebar_topSection__cDHlE",shortcut:"Sidebar_shortcut__AuqLQ",topSectionTab:"Sidebar_topSectionTab__wZMEy",topSectionTabContent:"Sidebar_topSectionTabContent__QmyHz",viewingHistoryIcon:"Sidebar_viewingHistoryIcon___HQUS",foldersWrapper:"Sidebar_foldersWrapper__MyiOf",listContainer:"Sidebar_listContainer__FyWdD"}},53122:function(e){e.exports={root:"SidebarAccordionButton_root__d8XPG",expanded:"SidebarAccordionButton_expanded__9T0e_"}},18001:function(e){e.exports={renamingFolder:"SidebarFolder_renamingFolder__pzqqr",nested:"SidebarFolder_nested__sQpVE",subfolderTooltip:"SidebarFolder_subfolderTooltip__VI1mX",disabled:"SidebarFolder_disabled__NkGLQ",newFolderIcon:"SidebarFolder_newFolderIcon__ul94_",folderName:"SidebarFolder_folderName__Bk_wE"}},605:function(e){e.exports={foldersList:"SidebarFoldersList_foldersList__NSb3Z",noMarginTop:"SidebarFoldersList_noMarginTop__Qdj3q"}},73064:function(e){e.exports={root:"SidebarFooter_root__3hDwv",inviteButton:"SidebarFooter_inviteButton__r_O7i",footerTabsContainer:"SidebarFooter_footerTabsContainer__6mjLI",pricingPlanTabContainer:"SidebarFooter_pricingPlanTabContainer__bQzd_",gitHubLabelContainer:"SidebarFooter_gitHubLabelContainer__imBtl",gitHubBadge:"SidebarFooter_gitHubBadge__FBK2h"}},52365:function(e){e.exports={integrationsList:"SidebarGitHubList_integrationsList__NjG4t",badgeWrapper:"SidebarGitHubList_badgeWrapper__mv_6C",badge:"SidebarGitHubList_badge__HDHkz",repositoryName:"SidebarGitHubList_repositoryName__OJ_MH"}},34315:function(e){e.exports={sidebarMenuContainer:"SidebarMenu_sidebarMenuContainer__r_xY7",buttonsContainer:"SidebarMenu_buttonsContainer__0homq",currentTeam:"SidebarMenu_currentTeam__ENd5F",currentTeamLogo:"SidebarMenu_currentTeamLogo__k9Bqm",currentTeamName:"SidebarMenu_currentTeamName__zEoKQ",sidebarDropdown:"SidebarMenu_sidebarDropdown__W__sM",sidebarDropdownCaret:"SidebarMenu_sidebarDropdownCaret__SPUDV"}},26514:function(e){e.exports={accordionContainer:"SidebarNestedFolder_accordionContainer__gRsDN",parentFolder:"SidebarNestedFolder_parentFolder___Melt",childFolders:"SidebarNestedFolder_childFolders__0DBO2",slideIn:"SidebarNestedFolder_slideIn__Juasb",renamingFolder:"SidebarNestedFolder_renamingFolder__xNBXi"}},9563:function(e){e.exports={sectionTitle:"SidebarSectionTitle_sectionTitle___h2QG",iconButton:"SidebarSectionTitle_iconButton__8Zmzl",icon:"SidebarSectionTitle_icon__FH9cj",tooltipRoot:"SidebarSectionTitle_tooltipRoot__L5XyN"}},46402:function(e){e.exports={root:"SidebarTab_root__iCpoz",large:"SidebarTab_large__X_YCP",medium:"SidebarTab_medium__MnGco",small:"SidebarTab_small__ZGVOY",active:"SidebarTab_active__3fpyF",fullWidth:"SidebarTab_fullWidth__HCP7X",icon:"SidebarTab_icon__f47EC",content:"SidebarTab_content__Rj57P",shortcut:"SidebarTab_shortcut__UICv5"}},84771:function(e){e.exports={buttonsRoot:"NewFileButton_buttonsRoot__7z1CZ",leftButton:"NewFileButton_leftButton__W7RWi",rightButton:"NewFileButton_rightButton__udvd8",leftButtonSplit:"NewFileButton_leftButtonSplit__bKmUt",newFileText:"NewFileButton_newFileText__GaHy8",shortcut:"NewFileButton_shortcut__zcaFi",popper:"NewFileButton_popper__yRvIW"}},9067:function(e){e.exports={description:"DeleteLibraryModal_description__BqG1b",buttonGroup:"DeleteLibraryModal_buttonGroup__VM4kD"}},45026:function(e){e.exports={repositoryWrapper:"NewGitHubFileModal_repositoryWrapper__sO4H4",repositoryLabel:"NewGitHubFileModal_repositoryLabel__sswpX",toggleRoot:"NewGitHubFileModal_toggleRoot__aXF3z",dropdownToggleRoot:"NewGitHubFileModal_dropdownToggleRoot__qKAvf",dropdownMenu:"NewGitHubFileModal_dropdownMenu__RKE56"}},89735:function(e){e.exports={description:"NewReferenceLibraryModal_description__l7IGT",buttonGroup:"NewReferenceLibraryModal_buttonGroup__vG4bT"}},97023:function(e){e.exports={failedPayment:"BillingActions_failedPayment__EmG8l"}},21949:function(e){e.exports={root:"FixedSizeButton_root__Aqz_I",mainButton:"FixedSizeButton_mainButton__C66_M",hiddenButton:"FixedSizeButton_hiddenButton__GOse9"}},23616:function(e){e.exports={bulletListItemIcon:"PaymentPlanBulletList_bulletListItemIcon__ST3Cd",benefitsContainer:"PaymentPlanBulletList_benefitsContainer__RQoil",featureList:"PaymentPlanBulletList_featureList__0oNsQ",secondaryFeatureList:"PaymentPlanBulletList_secondaryFeatureList___uKFW",bulletListItemDescription:"PaymentPlanBulletList_bulletListItemDescription__SbHkH",isHighlighted:"PaymentPlanBulletList_isHighlighted__PP5uO"}},74762:function(e){e.exports={root:"PaymentPlanCard_root__7qFiE",isDarkMode:"PaymentPlanCard_isDarkMode__V2_fF",isCurrent:"PaymentPlanCard_isCurrent__4ZPm1",content:"PaymentPlanCard_content__O_pn4",badge:"PaymentPlanCard_badge__Bkkjl"}},40145:function(e){e.exports={container:"PaymentPlanInternal_container__1SRkb",title:"PaymentPlanInternal_title__0FlBm",link:"PaymentPlanInternal_link__2o_Hp",buttonContainer:"PaymentPlanInternal_buttonContainer__RKagk",priceTagContainer:"PaymentPlanInternal_priceTagContainer__MLhuG",usageBasedSection:"PaymentPlanInternal_usageBasedSection__nJq2K",pricingItem:"PaymentPlanInternal_pricingItem__8O2Fi",pricingAction:"PaymentPlanInternal_pricingAction__hHxH_",currentSpend:"PaymentPlanInternal_currentSpend__g_y6i"}},5406:function(e){e.exports={priceTag:"PriceTag_priceTag__NF6R0",priceTagNumber:"PriceTag_priceTagNumber__E05_S",priceTagText:"PriceTag_priceTagText__A7HwZ",smallSemiBold:"PriceTag_smallSemiBold__vz9yQ"}},13535:function(e){e.exports={buttonGroup:"RenameLibraryModal_buttonGroup__O1mGj"}},1607:function(e){e.exports={modalRoot:"SettingsModal_modalRoot__TA9Un",container:"SettingsModal_container__a5xNF",paneContainer:"SettingsModal_paneContainer__1JUaW",pane:"SettingsModal_pane__g_e7G",titleSlot:"SettingsModal_titleSlot___KmbJ"}},95153:function(e){e.exports={dragArea:"ImageUpload_dragArea__TETOc",title:"ImageUpload_title__miq_z",browseBtn:"ImageUpload_browseBtn__LRI60",description:"ImageUpload_description__JuDB5",notes:"ImageUpload_notes__JF_av",highlightOutline:"ImageUpload_highlightOutline__FHsQT"}},1551:function(e){e.exports={sideBarRoot:"SettingsModalSidebar_sideBarRoot__lFOQC",sideBarHeader:"SettingsModalSidebar_sideBarHeader__x40s6",svgAutoHeight:"SettingsModalSidebar_svgAutoHeight__sUh_S"}},79658:function(e){e.exports={root:"ApiTokenRow_root__aTVBG",label:"ApiTokenRow_label__jVbzo",token:"ApiTokenRow_token__Cg7Iq",inputField:"ApiTokenRow_inputField___RaeC",copyButton:"ApiTokenRow_copyButton__h3Gtp"}},88219:function(e){e.exports={tokensContainer:"ApiTokensPane_tokensContainer__I4BhS",emptyTokenContainer:"ApiTokensPane_emptyTokenContainer__oC_9d",label:"ApiTokensPane_label__uRQt2",inputField:"ApiTokensPane_inputField__wNPAC"}},72888:function(e){e.exports={subTitle:"AppearancePane_subTitle__bVZag",keyboardShortcuts:"AppearancePane_keyboardShortcuts__wczc_",radioCardsWrapper:"AppearancePane_radioCardsWrapper__CjNzx",radioCard:"AppearancePane_radioCard__tg8Yo",checked:"AppearancePane_checked__Iof_V",dark:"AppearancePane_dark__6ZvKW",labelWrapper:"AppearancePane_labelWrapper__2CnaT",labelTitle:"AppearancePane_labelTitle__fh2qL",labelDescription:"AppearancePane_labelDescription__iXSKR",imageWrapper:"AppearancePane_imageWrapper___5BWV",image:"AppearancePane_image__Kr68j",hidden:"AppearancePane_hidden__ii1by"}},31783:function(e){e.exports={icon:"CustomIcon_icon__vJvEE",iconImg:"CustomIcon_iconImg__yoj7A",hidden:"CustomIcon_hidden__eCTic",iconImgSkeleton:"CustomIcon_iconImgSkeleton__OOL45",iconInfo:"CustomIcon_iconInfo__MQmfx",skeleton:"CustomIcon_skeleton__gnIoa",iconLabel:"CustomIcon_iconLabel__zTEq4",iconName:"CustomIcon_iconName__Jtq6c",iconAuthor:"CustomIcon_iconAuthor__Hish0",iconDropdown:"CustomIcon_iconDropdown__F5wZs",deleteOption:"CustomIcon_deleteOption__wrYE9",fileInput:"CustomIcon_fileInput__dFPPC"}},39418:function(e){e.exports={wrapper:"CustomIconsPane_wrapper__vbUjR",noMargin:"CustomIconsPane_noMargin__fwI7T"}},19013:function(e){e.exports={wrapper:"IconsList_wrapper__YBTXn",sidebar:"IconsList_sidebar__O8FTk",list:"IconsList_list__iFXbV",description:"IconsList_description__ziurX",notes:"IconsList_notes__8ICE4",noIcons:"IconsList_noIcons__3zQNk",search:"IconsList_search__1C_e_",searchInput:"IconsList_searchInput__07YUc",searchIcon:"IconsList_searchIcon__oiY2h",searchHotkey:"IconsList_searchHotkey__iLUqo",listContainer:"IconsList_listContainer__BtEFL",limitIndicator:"IconsList_limitIndicator__3Nhc7",spinnerContainer:"IconsList_spinnerContainer__4K_Bb"}},91625:function(e){e.exports={upgradePlanPane:"UpgradePane_upgradePlanPane__nkmGn",description:"UpgradePane_description__Lsi6U"}},68580:function(e){e.exports={root:"GitConnectPane_root__3TnVm",organizationWrapper:"GitConnectPane_organizationWrapper__CoTxW",buttonIcon:"GitConnectPane_buttonIcon__N_L5x",divider:"GitConnectPane_divider__kEMQ5",organizationSubtitle:"GitConnectPane_organizationSubtitle__ryr8e"}},57546:function(e){e.exports={listWrapper:"GitHubRepositoryList_listWrapper__tWGFv",repositoryListButtons:"GitHubRepositoryList_repositoryListButtons__EZisk",repositoryListWrapper:"GitHubRepositoryList_repositoryListWrapper__CoO05",repositoryList:"GitHubRepositoryList_repositoryList__fHAKa",repositoryListItem:"GitHubRepositoryList_repositoryListItem__l53vX",repositoryLink:"GitHubRepositoryList_repositoryLink__CU8x1",searchBar:"GitHubRepositoryList_searchBar__xDzCr",inactive:"GitHubRepositoryList_inactive__2ONY9",note:"GitHubRepositoryList_note__KT8KH",suspension:"GitHubRepositoryList_suspension__hhS_9",link:"GitHubRepositoryList_link__xPEJ5"}},38090:function(e){e.exports={root:"GitlabConnect_root__EjW9s",organizationWrapper:"GitlabConnect_organizationWrapper__5XCkY",divider:"GitlabConnect_divider__qgS99",selectionContainer:"GitlabConnect_selectionContainer__HYcJg",simpleSelectionContainer:"GitlabConnect_simpleSelectionContainer__yd8XR",mainDescription:"GitlabConnect_mainDescription__4wA44",title:"GitlabConnect_title__OPThz",description:"GitlabConnect_description__aYhx2",link:"GitlabConnect_link__s_USl",inlineError:"GitlabConnect_inlineError__ZINfG",inlineLoader:"GitlabConnect_inlineLoader__aMIQE",loaderDot:"GitlabConnect_loaderDot__nHZJY",dotPulse:"GitlabConnect_dotPulse__67MHq",userProfile:"GitlabConnect_userProfile__TI5iT",userProfileHeader:"GitlabConnect_userProfileHeader__xzUSF",userInfo:"GitlabConnect_userInfo__qcVEs",userName:"GitlabConnect_userName__fLwpM",userUsername:"GitlabConnect_userUsername__snAOJ",userEmail:"GitlabConnect_userEmail__1SGTs",profileLink:"GitlabConnect_profileLink__KFrUQ",connectedView:"GitlabConnect_connectedView__6sgJW",visibility:"GitlabConnect_visibility__lJRzo",loadingContainer:"GitlabConnect_loadingContainer__rhAGI",loader:"GitlabConnect_loader__qxr1C",spin:"GitlabConnect_spin__WluDL",errorBlock:"GitlabConnect_errorBlock__S8itQ",errorMessage:"GitlabConnect_errorMessage__BH23Q",retryButton:"GitlabConnect_retryButton__dZsYO",projectsList:"GitlabConnect_projectsList__AJwkN",projectItem:"GitlabConnect_projectItem__KHnmD",checkbox:"GitlabConnect_checkbox__WbI_O",projectName:"GitlabConnect_projectName__JmGQw",noProjects:"GitlabConnect_noProjects__JhstL",sectionTitle:"GitlabConnect_sectionTitle__J19t1",groupContainer:"GitlabConnect_groupContainer__SIy4B",groupHeader:"GitlabConnect_groupHeader__OyjTk",groupToggle:"GitlabConnect_groupToggle__oYVxX",groupInfo:"GitlabConnect_groupInfo__CXFa5",groupAvatar:"GitlabConnect_groupAvatar__6sp_6",groupName:"GitlabConnect_groupName__Xq2CL",groupProjects:"GitlabConnect_groupProjects__8lx9B",loadingProjects:"GitlabConnect_loadingProjects__r_MNG"}},47252:function(e){e.exports={organizationHeaderRoot:"OrgHeader_organizationHeaderRoot__lSNlV",organizationLogo:"OrgHeader_organizationLogo__JX8xn",organzationInfo:"OrgHeader_organzationInfo__LSB8Z",organizationName:"OrgHeader_organizationName__ltIvP",organizationLink:"OrgHeader_organizationLink__Cri8L",removeOrganizationButton:"OrgHeader_removeOrganizationButton__IUpTm",organizationSubtitle:"OrgHeader_organizationSubtitle__C1Hla"}},60411:function(e){e.exports={wrapper:"ImageToDiagramPane_wrapper__RVZiP",subtitle:"ImageToDiagramPane_subtitle__QIOfa"}},34577:function(e){e.exports={form:"PasswordForm_form__kS1wj",row:"PasswordForm_row__f5sfb",label:"PasswordForm_label__SQDtC",readonlyValue:"PasswordForm_readonlyValue__xEr9y",link:"PasswordForm_link__EL60x",input:"PasswordForm_input__F08af",buttonGroup:"PasswordForm_buttonGroup__HRESL",submitButton:"PasswordForm_submitButton__Q5Yr1"}},99975:function(e){e.exports={row:"PersonalInformationForm_row__VoZFs",label:"PersonalInformationForm_label__TV_EG",input:"PersonalInformationForm_input__KszCg",providerEmail:"PersonalInformationForm_providerEmail__SLpn_",readonlyValue:"PersonalInformationForm_readonlyValue__GuOFB",changeButton:"PersonalInformationForm_changeButton__vqaGJ",buttonGroup:"PersonalInformationForm_buttonGroup__YAjd3"}},91852:function(e){e.exports={root:"ProfilePane_root__HLIrY",profileInfoSide:"ProfilePane_profileInfoSide__e1pFb",profilePictureSide:"ProfilePane_profilePictureSide__EaxKe",gettingStartedRow:"ProfilePane_gettingStartedRow__Q7PAr",separator:"ProfilePane_separator__dbam3",gettingStartedDescription:"ProfilePane_gettingStartedDescription__i80cf",dangerZone:"ProfilePane_dangerZone__wrPR0"}},65227:function(e){e.exports={avatar:"ProfilePicture_avatar___yI2v",uploadButton:"ProfilePicture_uploadButton__dfDa2",selected:"ProfilePicture_selected__EQoYo"}},53017:function(e){e.exports={root:"SettingsSection_root__6Ytpo",title:"SettingsSection_title__ZYuJg",settingRows:"SettingsSection_settingRows__Xcpum",settingRow:"SettingsSection_settingRow__y5hWK",settingTitleContainer:"SettingsSection_settingTitleContainer__SC8hY",settingTitle:"SettingsSection_settingTitle__hzErl",description:"SettingsSection_description__cVhYl",domain:"SettingsSection_domain__qLfI_",inviteLinkContainer:"SettingsSection_inviteLinkContainer__leGO4",link:"SettingsSection_link__CowVE",copyButton:"SettingsSection_copyButton__Q9egU",linkLoading:"SettingsSection_linkLoading___9mlB"}},27401:function(e){e.exports={container:"TeamMembersPane_container__U6p4A",centered:"TeamMembersPane_centered__pQrLf",preamble:"TeamMembersPane_preamble__JbEJk",body:"TeamMembersPane_body__Ah161",leftHalf:"TeamMembersPane_leftHalf__L1p1E",rightHalf:"TeamMembersPane_rightHalf__fC_FM",settingsSubtext:"TeamMembersPane_settingsSubtext__pkG_c",inviteInputContainer:"TeamMembersPane_inviteInputContainer__nPVSF",membersListContainer:"TeamMembersPane_membersListContainer__AD1gK",userList:"TeamMembersPane_userList__ZVplh",userRow:"TeamMembersPane_userRow__qVAOz",manageLink:"TeamMembersPane_manageLink__fsYwJ"}},76897:function(e){e.exports={teamRow:"TeamSettingsPane_teamRow__kFk_2",subHeader:"TeamSettingsPane_subHeader__fMl27",teamRowName:"TeamSettingsPane_teamRowName__8CARl",teamRowField:"TeamSettingsPane_teamRowField__eOKEe",teamRowInput:"TeamSettingsPane_teamRowInput___pr2c",teamRowDropdown:"TeamSettingsPane_teamRowDropdown__R7bQj",teamRowBadge:"TeamSettingsPane_teamRowBadge__pFLfs",description:"TeamSettingsPane_description__enJEX",dangerZone:"TeamSettingsPane_dangerZone__KAsBR",dangerTitle:"TeamSettingsPane_dangerTitle__DWCNx",dangerMessage:"TeamSettingsPane_dangerMessage__E6Tpu",deletionWarning:"TeamSettingsPane_deletionWarning__6HFaj"}},11406:function(e){e.exports={form:"ssoForm_form__gZjRJ",table:"ssoForm_table__1oXGF",infoText:"ssoForm_infoText__MumJm"}},54242:function(e){e.exports={usagePaneList:"UsagePane_usagePaneList__uprPF",usageItem:"UsagePane_usageItem__NpkYi",usageItemLimitBar:"UsagePane_usageItemLimitBar__aR9HQ",bar:"UsagePane_bar__CRrIS",usageItemDescription:"UsagePane_usageItemDescription___T6MO",usageItemPeriod:"UsagePane_usageItemPeriod__HP7zz",payGoItemItemTitle:"UsagePane_payGoItemItemTitle__u8i4L",progressBar:"UsagePane_progressBar__ryNmA"}},94127:function(e){e.exports={root:"TemplatesModal_root__vD81W"}},73705:function(e){e.exports={closeButton:"AllTemplatesScreen_closeButton__jrQSo",titleWrapper:"AllTemplatesScreen_titleWrapper__3uOPw",title:"AllTemplatesScreen_title__Pn8WU",titleTools:"AllTemplatesScreen_titleTools__YZccQ",searchBar:"AllTemplatesScreen_searchBar__2U2lh",contentWrapper:"AllTemplatesScreen_contentWrapper__OnNQL",templateCard:"AllTemplatesScreen_templateCard__rS9mx"}},34823:function(e){e.exports={root:"TemplatePreviewScreen_root__4B2c5",headerWrapper:"TemplatePreviewScreen_headerWrapper__SUx4O",navigationWrapper:"TemplatePreviewScreen_navigationWrapper__ImmE8",previousIcon:"TemplatePreviewScreen_previousIcon__lzrVq",metadataWrapper:"TemplatePreviewScreen_metadataWrapper__7Mk5q",controlsWrapper:"TemplatePreviewScreen_controlsWrapper__iIVuK",previewWrapper:"TemplatePreviewScreen_previewWrapper__GcSGY",previewImage:"TemplatePreviewScreen_previewImage__HZlxx"}},68870:function(e){e.exports={skeleton:"Avatar_skeleton__d_c9U",avatar:"Avatar_avatar___nyMi",fallback:"Avatar_fallback__5_gH8",hasImage:"Avatar_hasImage__xMLHW",isTransparent:"Avatar_isTransparent__WHnAE"}},11163:function(e){e.exports={badge:"Badge_badge__Bm5vD",opacity:"Badge_opacity__N5rb2",inverted:"Badge_inverted__kaCFX",primary:"Badge_primary___7lc_",secondary:"Badge_secondary__TtmIs",success:"Badge_success__uw_NO"}},36544:function(e){e.exports={breadCrumbsRoot:"BreadCrumb_breadCrumbsRoot__nhFj_",breadCrumbRoot:"BreadCrumb_breadCrumbRoot__sSAG_",breadCrumb:"BreadCrumb_breadCrumb__1BBNv",disabled:"BreadCrumb_disabled__zee0L",clickable:"BreadCrumb_clickable__SctW1"}},77322:function(e){e.exports={button:"Button_button__fNS_E",leftIcon:"Button_leftIcon__JKaKw",iconOnly:"Button_iconOnly__qT4xR",tooltipWrapper:"Button_tooltipWrapper__QMAeG",spinnerWrapper:"Button_spinnerWrapper__JB4Wv","variant--reversed":"Button_variant--reversed__uSNSK","variant--reversed-danger":"Button_variant--reversed-danger__4tAm_","variant--outline":"Button_variant--outline__mLyuZ","variant--outline-regular":"Button_variant--outline-regular__D2RCV","x-large":"Button_x-large__JIN_Y",large:"Button_large__DUVaK",small:"Button_small__rvXZZ","x-small":"Button_x-small__Zky_7",tiny:"Button_tiny__cbC3L",isLoading:"Button_isLoading__lufw5",regular:"Button_regular__eMnxK",selected:"Button_selected__G2hIk","outline-regular":"Button_outline-regular__D_ei7","relief-grey":"Button_relief-grey__KNuvo",reversed:"Button_reversed__Yd8T5",transparent:"Button_transparent__FI2_6","transparent-success":"Button_transparent-success__A6Bm6","transparent-regular":"Button_transparent-regular__z0Cq_",danger:"Button_danger__AoS1X","reversed-danger":"Button_reversed-danger__nBmyV",outline:"Button_outline__uZAW4",subtle:"Button_subtle__7yXs3",focus:"Button_focus__oDt0l",dark:"Button_dark__NCyth",light:"Button_light__p9Dmo"}},74025:function(e){e.exports={buttonGroup:"ButtonGroup_buttonGroup__JsPHv",autoWidth:"ButtonGroup_autoWidth__upITY"}},11716:function(e){e.exports={checkboxWrapper:"Checkbox_checkboxWrapper__mdDwH",checkbox:"Checkbox_checkbox__PywQJ",label:"Checkbox_label___HGpY"}},56537:function(e){e.exports={fieldset:"CheckboxGroup_fieldset__yb1xg",block:"CheckboxGroup_block__zSGq5",inline:"CheckboxGroup_inline__wxKAP",label:"CheckboxGroup_label__349I0",selected:"CheckboxGroup_selected__nD4NS",transparent:"CheckboxGroup_transparent__rbQ_d",checkbox:"CheckboxGroup_checkbox__KFAWn",selectAll:"CheckboxGroup_selectAll__MQZwt"}},65421:function(e){e.exports={confirmationModal:"ConfirmationModal_confirmationModal___lZAR",description:"ConfirmationModal_description__JtwEX",actions:"ConfirmationModal_actions__nJb6_",actionBtn:"ConfirmationModal_actionBtn__b_ECH"}},8350:function(e){e.exports={uploadBtn:"UploadButton_uploadBtn__qLJSR",fileInput:"UploadButton_fileInput__9s71N"}},36689:function(e){e.exports={dots:"Dots_dots__104zg"}},35266:function(e){e.exports={toggle:"Dropdown_toggle__waP_7",isFocused:"Dropdown_isFocused__KCFaZ",isDisabled:"Dropdown_isDisabled__VJ6x7",isSubMenu:"Dropdown_isSubMenu__Qih7v","variant--grey":"Dropdown_variant--grey__mTIAZ",caretIcon:"Dropdown_caretIcon__Byzw_",rightElement:"Dropdown_rightElement__qb3cl","variant--lightGrey":"Dropdown_variant--lightGrey__6Hc_X","variant--lightGreyContrast":"Dropdown_variant--lightGreyContrast__po3l6","variant--transparent":"Dropdown_variant--transparent__KkfGu","variant--input":"Dropdown_variant--input__XlPW7",popupToggle:"Dropdown_popupToggle__JbX6o",content:"Dropdown_content__0oQUo",hasCaret:"Dropdown_hasCaret__i2Jsx",icon:"Dropdown_icon__3dHle",isOpen:"Dropdown_isOpen__W5Mlk",title:"Dropdown_title__C64eP",popper:"Dropdown_popper__eyiza",divider:"Dropdown_divider__DvcJe","size--medium":"Dropdown_size--medium__dKrTh","size--large":"Dropdown_size--large__MZ0W0",transparent:"Dropdown_transparent__3AlZO",wrapper:"Dropdown_wrapper__cpBhb",list:"Dropdown_list__wqzXY","spacing--none":"Dropdown_spacing--none__FVP8z","spacing--small":"Dropdown_spacing--small__E5gSq","spacing--medium":"Dropdown_spacing--medium__Az_SC",searchNotFound:"Dropdown_searchNotFound__3BKdw",threeDotsDropdown:"Dropdown_threeDotsDropdown__y7str",threeDotsDropdownToggle:"Dropdown_threeDotsDropdownToggle__KxgPz",hint:"Dropdown_hint__7Zn5H",shortcut:"Dropdown_shortcut__WzlMY",accessBadge:"Dropdown_accessBadge__kyKzm"}},85950:function(e){e.exports={emptyStateRoot:"EmptyState_emptyStateRoot__sGyRy",emptyStateContent:"EmptyState_emptyStateContent__p8jlG",primaryIcon:"EmptyState_primaryIcon__lBiCX",iconTray:"EmptyState_iconTray__JFcIH",textSection:"EmptyState_textSection__3Vhlt",bottom:"EmptyState_bottom__PLtMO",media:"EmptyState_media__tNP_f"}},28695:function(e){e.exports={infoBlock:"Info_infoBlock__nwhG3","variant--lightGrey":"Info_variant--lightGrey__2xxy8","variant--error":"Info_variant--error__RMDR_","variant--warning":"Info_variant--warning___c9xc","variant--primary":"Info_variant--primary__NGRnG","variant--transparent":"Info_variant--transparent__Fn8iP"}},11504:function(e){e.exports={announcement:"Launch_announcement__tmhhZ",title:"Launch_title__0dXCS",footer:"Launch_footer__RbvAt",confetti:"Launch_confetti__1Jbzq",confettiPiece:"Launch_confettiPiece__wrpbW",makeItRain:"Launch_makeItRain___ilyJ"}},81625:function(e){e.exports={videoContainer:"Video_videoContainer__7W1xv",overlay:"Video_overlay__aBxkZ",player:"Video_player__f0YHx",button:"Video_button__5U5aI"}},71946:function(e){e.exports={inputLabel:"InputLabel_inputLabel__X_cPh",label:"InputLabel_label__efXfL",required:"InputLabel_required__4gcFS",field:"InputLabel_field__2O8kZ",explanation:"InputLabel_explanation__NsNKv",error:"InputLabel_error__Tflqu"}},28121:function(e){e.exports={hidden:"KnownPeopleAutocompleteDropdown_hidden__UMyrh",dropdownPopper:"KnownPeopleAutocompleteDropdown_dropdownPopper__6vxvS",popperListBox:"KnownPeopleAutocompleteDropdown_popperListBox__DQh18"}},75391:function(e){e.exports={knownPersonInfoMedium:"KnownPersonInfo_knownPersonInfoMedium__NpVEC",knownPersonInfoSmall:"KnownPersonInfo_knownPersonInfoSmall__9LsaN",knownPersonInfo:"KnownPersonInfo_knownPersonInfo__eUUNA",guest:"KnownPersonInfo_guest__HQztF",memberMedium:"KnownPersonInfo_memberMedium__Z_unh",memberSmall:"KnownPersonInfo_memberSmall__GMu8l",member:"KnownPersonInfo_member__uaOs7",avatarMedium:"KnownPersonInfo_avatarMedium__d_KHu",avatarSmall:"KnownPersonInfo_avatarSmall__o8uIT",labelMedium:"KnownPersonInfo_labelMedium__noin7",labelSmall:"KnownPersonInfo_labelSmall__gvOC6",label:"KnownPersonInfo_label__DPEQc",email:"KnownPersonInfo_email__21hlz",isActive:"KnownPersonInfo_isActive__oarJs"}},47837:function(e){e.exports={link:"ExternalLink_link__tkNBC"}},36421:function(e){e.exports={link:"PrimaryLink_link__1EuA8"}},5021:function(e){e.exports={listBox:"ListBox_listBox__R1cIs"}},22298:function(e){e.exports={root:"ListEntry_root__LgMus",disableHover:"ListEntry_disableHover__9x1s3",isActive:"ListEntry_isActive__Y62iI",content:"ListEntry_content__ShHpq",backIcon:"ListEntry_backIcon__YKFq1",icon:"ListEntry_icon__mbIH5",forwardIcon:"ListEntry_forwardIcon__oPabT",title:"ListEntry_title__6OpPl",mainTitle:"ListEntry_mainTitle__wkT8S",fitWidth:"ListEntry_fitWidth__oIZj5",secondaryTitle:"ListEntry_secondaryTitle__7X04O",subTitle:"ListEntry_subTitle__VwQBg"}},7971:function(e){e.exports={skeleton:"MemberAvatar_skeleton___Nnzn",avatar:"MemberAvatar_avatar__Q48lu"}},52305:function(e){e.exports={modal:"Modal_modal__1M1kH",fadeIn:"Modal_fadeIn__1NgSR",isDarkMode:"Modal_isDarkMode__VrR_T",dialog:"Modal_dialog__XFB9y",addTopPadding:"Modal_addTopPadding__g4idB",large:"Modal_large__EM_E1",xl:"Modal_xl__iDkch",hasBottomGradient:"Modal_hasBottomGradient__EWfij",closeBtn:"Modal_closeBtn__zXnGe",closeBtnCross:"Modal_closeBtnCross__QDkyj",closeBtnText:"Modal_closeBtnText__NVWq3",header:"Modal_header__UA9ac",content:"Modal_content__CFXie",titleSeparator:"Modal_titleSeparator__08CBv",body:"Modal_body__fBVW_",bg:"Modal_bg__2jwqw",left:"Modal_left__JFTtd",right:"Modal_right__fjpib",bottomGradient:"Modal_bottomGradient__vBvtj"}},60885:function(e){e.exports={container:"MoneyInput_container__MbnCb",dollarSign:"MoneyInput_dollarSign__Oicf8",input:"MoneyInput_input__LJ2O4"}},16593:function(e){e.exports={popper:"Popper_popper__EEixQ",arrow:"Popper_arrow__gcKtu",fade:"Popper_fade__KFvfV"}},59211:function(e){e.exports={option:"Option_option__6NPoM",row:"Option_row__ezIZ0",paddingLarge:"Option_paddingLarge__nHdJT",isLoading:"Option_isLoading__d3jnY",disabled:"Option_disabled__V1duV",selected:"Option_selected__w8jci",checkbox:"Option_checkbox__sz6P4","selected-primary":"Option_selected-primary__1DHU3","selected-grey":"Option_selected-grey__sf6cw",content:"Option_content__MtPVs",icon:"Option_icon___Fyzv",right:"Option_right__4w8dx",explanation:"Option_explanation__4Jrqf",marginLeft:"Option_marginLeft__kQX2m"}},87042:function(e){e.exports={toggler:"Popup_toggler__V5BaU",disabled:"Popup_disabled__9QS6_",menu:"Popup_menu__uNwra",isSubmenu:"Popup_isSubmenu__k8VV5"}},6956:function(e){e.exports={progressBar:"ProgressBar_progressBar__QWO3D",progress:"ProgressBar_progress___FpDF",withColor:"ProgressBar_withColor__RZ07O"}},96296:function(e){e.exports={searchContainer:"SearchInput_searchContainer__Md0dD",shortcut:"SearchInput_shortcut__4FID7"}},43664:function(e){e.exports={spinner:"Spinner_spinner__l0kTa",inline:"Spinner_inline__DxoPR",fancySpinner:"Spinner_fancySpinner__vsDoa"}},56706:function(e){e.exports={switch:"Switch_switch__I7mM2",disabled:"Switch_disabled__LgSvu",presentation:"Switch_presentation___PJZr",slider:"Switch_slider__dCMx9",sliderDot:"Switch_sliderDot__OaaCD",label:"Switch_label__ypNsH",labelLeft:"Switch_labelLeft__fsSGS",input:"Switch_input__UaOW_"}},9717:function(e){e.exports={label:"TextArea_label__ABrbp",textarea:"TextArea_textarea__O24bQ",disabled:"TextArea_disabled__g_NOx",fadeRightSideOfInput:"TextArea_fadeRightSideOfInput__2q7gy"}},73149:function(e){e.exports={button:"TextInput_button__y0jnx",errorIcon:"TextInput_errorIcon___6_lM",textInput:"TextInput_textInput__XA9JQ",small:"TextInput_small__oKZKC",medium:"TextInput_medium__MAwSm",large:"TextInput_large__7lIg4",fadeRightSideOfInput:"TextInput_fadeRightSideOfInput__6SKGe",disabled:"TextInput_disabled__4_mWW",readOnly:"TextInput_readOnly__aF8MB",lockIcon:"TextInput_lockIcon__xDrPR"}},26772:function(e){e.exports={tooltip:"tooltip_tooltip__H_xAF",mainText:"tooltip_mainText__PcaGo",shortcut:"tooltip_shortcut__vrw6N",subText:"tooltip_subText__zDmVo"}},95343:function(e){e.exports={information:"Typography_information__v1Vpp",muted:"Typography_muted__m6zU9",error:"Typography_error__ChBjL",small:"Typography_small__Rmt27",semiBold:"Typography_semiBold__J9oKI",bold:"Typography_bold__YkqAg",medium:"Typography_medium__aRf_F",header:"Typography_header__HXIUC",explanation:"Typography_explanation__HyACK",ul:"Typography_ul__0Sc3B",ol:"Typography_ol___t2Qi",h3:"Typography_h3__xtqxm",h4:"Typography_h4__z_NvV",h5:"Typography_h5__DxDFI",standard:"Typography_standard__kUjiD"}},146:function(e){e.exports={user:"UserInfo_user__3qRBh",content:"UserInfo_content__THSwn"}},16216:function(e){e.exports={shortcut:"ShortcutKeys_shortcut__YUJIb",inline:"ShortcutKeys_inline__xqzMC",shortcutKey:"ShortcutKeys_shortcutKey__DCXaM",text:"ShortcutKeys_text__56IdZ",pill:"ShortcutKeys_pill__Z5okF",darkBackground:"ShortcutKeys_darkBackground__vRIgg"}},83030:function(e){e.exports={sideMenuContainer:"Slate_sideMenuContainer__AJAWz",sideMenuChild:"Slate_sideMenuChild__rgt0A","comment-button":"Slate_comment-button__KhYUz","ai-outline-button":"Slate_ai-outline-button__0oxCm"}},31858:function(){},48538:function(){},76498:function(){},84912:function(){},17459:function(){},79827:function(){},97653:function(){},83167:function(){},25237:function(e,t,n){e.exports=n(95805)},97729:function(e,t,n){e.exports=n(75913)},39097:function(e,t,n){e.exports=n(90162)},5632:function(e,t,n){e.exports=n(93642)},50962:function(e,t,n){"use strict";n.d(t,{LI:function(){return s},_o:function(){return o},kL:function(){return a}});var r=n(2784),i=n(17407);function o(){return new i.x}function a(e){var t=(0,r.useRef)(!0),n=(0,r.useRef)(null);return t.current&&(t.current=!1,n.current=e()),n}var s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect},34394:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(39739),i=n(68594),o=n(59126),a=n(56130),s=n(2784),u=n(50962);function c(e,t){return function(e,t,n){if(t&&(t instanceof i.y||(0,o.m)(t.lift)&&(0,o.m)(t.subscribe))){var r=(0,s.useState)(function(){return t instanceof a.X||void 0!==t.value?t.value:"function"==typeof n?n():n}),c=r[0],l=r[1];return e(t,l),(0,s.useDebugValue)(c),c}var A=(0,s.useState)(n),d=A[0],l=A[1],f=(0,u.kL)(u._o),h=(0,u.kL)(function(){return t(f.current,d)}).current,p=(0,s.useRef)(function(e){return f.current.next(e)}).current;return e(h,l),(0,s.useDebugValue)(d),[d,p]}(r.m,e,t)}},20810:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(56130),i=n(50962),o=n(2784);function a(e,t){return function(e,t,n){if(!n)return(0,i.kL)(t).current;var a=(0,i.kL)(function(){return new r.X(n)}),s=(0,i.kL)(function(){return t(a.current)}),u=(0,o.useRef)(!0);return e(function(){if(u.current){u.current=!1;return}a.current.next(n)},n),s.current}(o.useEffect,e,t)}},39739:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(2784),i=n(50962);function o(e,t,n,o){var a,s,u,c;return a=r.useEffect,s=[e,t,n,o],u=(0,r.useRef)(s),c=(0,r.useRef)(),(0,i.LI)(function(){u.current=s}),a(function(){var e=u.current[0],t=e.subscribe({next:function(t){if(e===u.current[0]){var n,r=(null===(n=u.current[1])||void 0===n?void 0:n.next)||u.current[1];if(r)return r(t)}},error:function(t){if(e===u.current[0]){var n,r=(null===(n=u.current[1])||void 0===n?void 0:n.error)||u.current[2];if(r)return r(t);console.error(t)}},complete:function(){if(e===u.current[0]){var t,n=(null===(t=u.current[1])||void 0===t?void 0:t.complete)||u.current[3];if(n)return n()}}});return c.current=t,function(){t.unsubscribe()}},[s[0]]),c}},34406:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u=[],c=!1,l=-1;function A(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=s(A);c=!0;for(var t=u.length;t;){for(r=u,u=[];++l<t;)r&&r[l].run();l=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},97375:function(e,t){"use strict";var n,r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){var i,a,s=[];for(a in"string"!=typeof(t=t||"")&&(t="?"),e)if(r.call(e,a)){if(!(i=e[a])&&(null===i||i===n||isNaN(i))&&(i=""),a=o(a),i=o(i),null===a||null===i)continue;s.push(a+"="+i)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},65089:function(e,t,n){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},11929:function(e,t,n){"use strict";n.d(t,{UK:function(){return f}});var r=n(2784);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}/*#__PURE__*/"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),/*#__PURE__*/"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var o={status:"not-requested",loading:!1,result:void 0,error:void 0},a={status:"loading",loading:!0,result:void 0,error:void 0},s=function(){},u={initialState:function(e){return e&&e.executeOnMount?a:o},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return a},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:s,onError:s},c=function(e){var t=(0,r.useState)(function(){return e.initialState(e)}),n=t[0],o=t[1],a=(0,r.useCallback)(function(){return o(e.initialState(e))},[o,e]),s=(0,r.useCallback)(function(){return o(e.setLoading(n))},[n,o]),u=(0,r.useCallback)(function(t){return o(e.setResult(t,n))},[n,o]),c=(0,r.useCallback)(function(t){return o(e.setError(t,n))},[n,o]),l=(0,r.useCallback)(function(e){return o(i({},n,{},e))},[n,o]);return{value:n,set:o,merge:l,reset:a,setLoading:s,setResult:u,setError:c}},l=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),function(){return e.current}},A=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}},d=function(e,t,n){var o=i({},u,{},n),a=(0,r.useState)(null),s=a[0],d=a[1],f=c(o),h=l(),p=A(),g=function(e){return h()&&p.is(e)},v=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.apply(void 0,n);return(d(n),i instanceof Promise)?(p.set(i),f.setLoading(),i.then(function(e){g(i)&&f.setResult(e),o.onSuccess(e,{isCurrent:function(){return p.is(i)}})},function(e){g(i)&&f.setError(e),o.onError(e,{isCurrent:function(){return p.is(i)}})}),i):(f.setResult(i),Promise.resolve(i))},m=!h();return(0,r.useEffect)(function(){m?o.executeOnMount&&v.apply(void 0,t):o.executeOnUpdate&&v.apply(void 0,t)},t),i({},f.value,{set:f.set,merge:f.merge,reset:f.reset,execute:v,currentPromise:p.get(),currentParams:s})},f=function(e,t){return d(e,[],i({},t,{executeOnMount:!1,executeOnUpdate:!1}))}},78435:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,o){try{return function e(o,a){if(o===a)return!0;if(o&&a&&"object"==typeof o&&"object"==typeof a){var s,u,c,l;if(o.constructor!==a.constructor)return!1;if(Array.isArray(o)){if((s=o.length)!=a.length)return!1;for(u=s;0!=u--;)if(!e(o[u],a[u]))return!1;return!0}if(n&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(l=o.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=o.entries();!(u=l.next()).done;)if(!e(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(l=o.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if((s=o.length)!=a.length)return!1;for(u=s;0!=u--;)if(o[u]!==a[u])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===a.toString();if((s=(c=Object.keys(o)).length)!==Object.keys(a).length)return!1;for(u=s;0!=u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(t&&o instanceof Element)return!1;for(u=s;0!=u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!o.$$typeof)&&!e(o[c[u]],a[c[u]]))return!1;return!0}return o!=o&&a!=a}(e,o)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},66866:function(e,t){"use strict";/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,c=60112,l=60113,A=60120,d=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;n=h("react.element"),h("react.portal"),h("react.fragment"),h("react.strict_mode"),h("react.profiler"),h("react.provider"),h("react.context"),h("react.forward_ref"),h("react.suspense"),h("react.suspense_list"),h("react.memo"),h("react.lazy"),h("react.block"),h("react.server.block"),h("react.fundamental"),h("react.debug_trace_mode"),h("react.legacy_hidden")}t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},48570:function(e,t,n){"use strict";e.exports=n(66866)},51992:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(68334)),i=o(n(98432));function o(e){return e&&e.__esModule?e:{default:e}}},98432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(2784)),a=n(82887),s=n(68334);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=/*#__PURE__*/function(e){var t;function n(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=l(n).apply(this,arguments),e&&("object"===c(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,i=/*#__PURE__*/(0,a.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,a.jsx)("div",{css:i},r)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(o.Component);t.default=d,r="defaultProps",i={color:s.defaultBaseColor,highlightColor:s.defaultHighlightColor},r in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i},68334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=A,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(2784))&&r.__esModule;var r,i=n(82887);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return n},n}var s="#eee";t.defaultBaseColor=s;var u="#f5f5f5";t.defaultHighlightColor=u;var c=function(e,t){return(0,i.keyframes)(a(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=c;var l=/*#__PURE__*/(0,i.css)("background-color:",s,";background-image:linear-gradient( 90deg,",s,",",u,",",s," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function A(e){for(var t=e.count,n=e.duration,r=e.width,a=e.wrapper,s=e.height,u=e.circle,A=e.delay,d=e.style,f=e.className,h=[],p=0;p<t;p++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&u&&(g.borderRadius="50%");var v="react-loading-skeleton";f&&(v+=" "+f),h.push((0,i.jsx)("span",{key:p,className:v,css:/*#__PURE__*/(0,i.css)(l," animation:",c(n,A)," ",n+A,"s ease-in-out infinite;label:Skeleton;"),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},d,{},g)},""))}return(0,i.jsx)("span",null,a?h.map(function(e,t){return(0,i.jsx)(a,{key:t},e,"")}):h)}t.skeletonStyles=l,A.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},89473:function(e,t,n){"use strict";var r=n(97209),i=n(2784),o=n(28316),a=n(80594),s=n(98357);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=/*#__PURE__*/u(r),l=/*#__PURE__*/function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}(i),A=/*#__PURE__*/u(a),d=/*#__PURE__*/u(s),f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(e,t,n,r){switch(t){case"debounce":return A.default(e,n,r);case"throttle":return d.default(e,n,r);default:return e}},g=function(e){return"function"==typeof e},v=function(){return"undefined"==typeof window},m=function(e){return e instanceof Element||e instanceof HTMLDocument},y=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t(function(t){return(t.width!==o||t.height!==a)&&(t.width!==o||r)&&(t.height!==a||n)?(e&&g(e)&&e(o,a),{width:o,height:a}):t})}},b=(function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!v()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();!i||n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(v())return null;if(t)return document.querySelector(t);if(r&&m(r))return r;if(n.targetRef&&m(n.targetRef.current))return n.targetRef.current;var i=o.findDOMNode(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var u=y(s,n.setState.bind(n),i,a);e.forEach(function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;n.skipOnMount||v()||u({width:r,height:i}),n.skipOnMount=!1})}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return g(t)?"renderProp":g(r)?"childFunction":i.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,a=t.refreshMode,s=t.refreshRate,u=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=i.createRef(),n.observableElement=null,v()||(n.resizeHandler=p(n.createResizeHandler,a,void 0===s?1e3:s,u),n.resizeObserver=new c.default(n.resizeHandler)),n}(function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){v()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,o=t.nodeType,a=this.state,s={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(s);case"childFunction":return(e=r)(s);case"child":if((e=r).type&&"string"==typeof e.type){s.targetRef;var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(s,["targetRef"]);return i.cloneElement(e,u)}return i.cloneElement(e,s);case"childArray":return(e=r).map(function(e){return!!e&&i.cloneElement(e,s)});default:return l.createElement(void 0===o?"div":o,null)}}}(i.PureComponent),v()?i.useEffect:i.useLayoutEffect);t.NB=function(e){void 0===e&&(e={});var t=e.skipOnMount,n=e.refreshMode,r=e.refreshRate,o=void 0===r?1e3:r,a=e.refreshOptions,s=e.handleWidth,u=void 0===s||s,l=e.handleHeight,A=void 0===l||l,d=e.targetRef,f=e.observerOptions,g=e.onResize,m=i.useRef(void 0!==t&&t),w=i.useRef(null),_=null!=d?d:w,E=i.useRef(),C=i.useState({width:void 0,height:void 0}),B=C[0],I=C[1];return b(function(){if(!v()){var e=y(g,I,u,A);E.current=p(function(t){(u||A)&&t.forEach(function(t){var n=t&&t.contentRect||{},r=n.width,i=n.height;m.current||v()||e({width:r,height:i}),m.current=!1})},n,o,a);var t=new c.default(E.current);return _.current&&t.observe(_.current,f),function(){t.disconnect();var e=E.current;e&&e.cancel&&e.cancel()}}},[n,o,a,u,A,g,f,_.current]),h({ref:_},B)}},69904:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(e,[])}},11837:function(e,t,n){"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(4079);var r=n(2784),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},52322:function(e,t,n){"use strict";e.exports=n(11837)},2732:function(e,t,n){"use strict";let r;n.d(t,{FV:function(){return iA},Wh:function(){return iu},Zl:function(){return id},_8:function(){return ip},cn:function(){return ic},rb:function(){return ih},sJ:function(){return il}});var i,o,a=n(2784),s=n(28316),u=function(e){return!!e&&"function"==typeof e.then},c=function(e,t){if(null!=e)return e;throw Error(null!=t?t:"Got unexpected null or undefined")};class l{}let A=new l,d={valueMaybe(){},valueOrThrow(){throw Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if("hasError"===this.state)return this;if("hasValue"===this.state)try{let t=e(this.contents);return u(t)?p(t.then(e=>({__value:e}))):f(t)}catch(t){return u(t)?p(t.next(()=>e(this.contents))):h(t)}if("loading"===this.state)return p(this.contents.then(t=>({__value:e(t.__value)})).catch(t=>{if(u(t))return t.then(()=>e(this.contents));throw t}));throw Error("Invalid Loadable state")}};function f(e){return Object.freeze({state:"hasValue",contents:e,...d,getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}})}function h(e){return Object.freeze({state:"hasError",contents:e,...d,getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}})}function p(e){return Object.freeze({state:"loading",contents:e,...d,getValue(){throw this.contents.then(({__value:e})=>e)},toPromise(){return this.contents.then(({__value:e})=>e)},promiseMaybe(){return this.contents.then(({__value:e})=>e)},promiseOrThrow(){return this.contents.then(({__value:e})=>e)}})}var g={loadableWithValue:f,loadableWithError:h,loadableWithPromise:p,loadableLoading:function(){return p(new Promise(()=>{}))},loadableAll:function(e){return e.every(e=>"hasValue"===e.state)?f(e.map(e=>e.contents)):e.some(e=>"hasError"===e.state)?h(c(e.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):p(Promise.all(e.map(e=>e.contents)).then(e=>({__value:e})))},Canceled:l,CANCELED:A};let v=null!==(o=a.useMutableSource)&&void 0!==o?o:a.unstable_useMutableSource;var m={mutableSourceExists:function(){return v&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:v};let{mutableSourceExists:y}=m,b=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function w(e){var t;return!!("recoil_early_rendering_2021"!==e||y())&&null!==(t=b.get(e))&&void 0!==t&&t}w.setPass=e=>{b.set(e,!0)},w.setFail=e=>{b.set(e,!1)};var _=function(e,t,{error:n}={}){return null},E={setByAddingToSet:function(e,t){let n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){let n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){let n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){let n=new Map(e);return t.forEach(e=>n.delete(e)),n}},C=function*(e,t){let n=0;for(let r of e)t(r,n++)&&(yield r)},B=function(e,t){return function*(){let n=0;for(let r of e)yield t(r,n++)}()},I=function(e,...t){};function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T{constructor(e){x(this,"key",void 0),this.key=e}}class S extends T{}class k extends T{}var N=/*#__PURE__*/Object.freeze({__proto__:null,AbstractRecoilValue:T,RecoilState:S,RecoilValueReadOnly:k,isRecoilValue:function(e){return e instanceof S||e instanceof k}});class D{}let O=new D,R=new Map,F=new Map;class L extends Error{}let P=new Map;function U(e){return P.get(e)}var M={nodes:R,recoilValues:F,registerNode:function(e){R.has(e.key)&&console.warn(`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`),R.set(e.key,e);let t=null==e.set?new N.RecoilValueReadOnly(e.key):new N.RecoilState(e.key);return F.set(e.key,t),t},getNode:function(e){let t=R.get(e);if(null==t)throw new L(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return R.get(e)},deleteNodeConfigIfPossible:function(e){var t,n;if(!w("recoil_memory_managament_2020"))return;let r=R.get(e);(null==r?void 0:null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))&&(R.delete(e),null===(n=U(e))||void 0===n||n(),P.delete(e))},setConfigDeletionHandler:function(e,t){w("recoil_memory_managament_2020")&&(void 0===t?P.delete(e):P.set(e,t))},getConfigDeletionHandler:U,recoilValuesForKeys:function(e){return B(e,e=>c(F.get(e)))},NodeMissingError:L,DefaultValue:D,DEFAULT_VALUE:O,RecoilValueNotReady:class extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}};class j{}var Z={RetentionZone:j,retentionZone:function(){return new j}};let{setByAddingToSet:Q}=E,{getNode:H,getNodeMaybe:V,recoilValuesForKeys:K}=M,{RetentionZone:G}=Z,z=Object.freeze(new Set);class W extends Error{}function q(e,t,n,r){let i=e.getState();if(i.nodeCleanupFunctions.has(n))return;let o=H(n),a=function(e,t,n){if(!w("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof G)i(n);else if(Array.isArray(n))for(let e of n)i(e);return()=>{if(!w("recoil_memory_managament_2020"))return;let r=e.getState().retention.nodesRetainedByZone;function i(e){let n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof G)i(n);else if(Array.isArray(n))for(let e of n)i(e)}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,()=>{s(),a()})}function Y(e,t,n){return H(n).peek(e,t)}function $(e,t,n){let r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var a;for(let t of(r.add(e),null!==(a=o.nodeToNodeSubscriptions.get(e))&&void 0!==a?a:z))r.has(t)||i.push(t)}return r}var X={getNodeLoadable:function(e,t,n){return q(e,t,n,"get"),H(n).get(e,t)},peekNodeLoadable:Y,setNodeValue:function(e,t,n,r){let i=H(n);if(null==i.set)throw new W(`Attempt to set read-only RecoilValue: ${n}`);let o=i.set;return q(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;let r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;let i=V(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Q(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;let a=e.getState(),s=e.getGraph(t.version),u=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,c=C($(e,t,new Set([n])),e=>e!==n);return{loadable:Y(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:K(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:K(c),components:B(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],([e])=>({name:e}))}}},getDownstreamNodes:$,initializeNodeIfNewToStore:q};let{CANCELED:J}=g,{getDownstreamNodes:ee,getNodeLoadable:et,setNodeValue:en}=X,{getNodeMaybe:er}=M,{DefaultValue:ei,RecoilValueNotReady:eo}=M,{AbstractRecoilValue:ea,RecoilState:es,RecoilValueReadOnly:eu,isRecoilValue:ec}=N;function el(e,t,n){"hasValue"===n.state&&n.contents instanceof ei?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function eA(e,t){e.replaceState(n=>{let r=eh(n);for(let n of t)!function(e,t,n){if("set"===n.type){let{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"!=typeof r)return r;{let i=et(e,t,n);if("loading"===i.state)throw new eo(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}}(e,t,r,i);for(let[n,i]of en(e,t,r.key,o).entries())el(t,n,i)}else if("setLoadable"===n.type){let{recoilValue:{key:e},loadable:r}=n;el(t,e,r)}else if("markModified"===n.type){let{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;let{recoilValue:{key:e},unvalidatedValue:i}=n,o=er(e);null==o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else _(`Unknown action ${n.type}`)}(e,r,n);return ep(e,r),r})}function ed(e,t){if(ef.length){let n=ef[ef.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else eA(e,[t])}let ef=[];function eh(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ep(e,t){for(let i of ee(e,t,t.dirtyAtoms)){var n,r;null===(n=er(i))||void 0===n||null===(r=n.invalidate)||void 0===r||r.call(n,t)}}function eg(e,t,n){ed(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let ev=0;var em={RecoilValueReadOnly:eu,AbstractRecoilValue:ea,RecoilState:es,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;let o=e.getState();n.version===o.currentTree.version||n.version===(null===(r=o.nextTree)||void 0===r?void 0:r.version)||n.version===(null===(i=o.previousTree)||void 0===i?void 0:i.version)||_("Tried to read from a discarded tree");let a=et(e,n,t);return"loading"===a.state&&a.contents.catch(()=>J),a},setRecoilValue:eg,setRecoilValueLoadable:function(e,t,n){if(n instanceof ei)return eg(e,t,n);ed(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ed(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ed(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){let i=ev++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),c(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]),w("recoil_early_rendering_2021")){let r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{let n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);if(void 0===r||!r.has(i)){_(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)}}},isRecoilValue:ec,applyAtomValueWrites:function(e,t){let n=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof ei?n.delete(t):n.set(t,e)}),n},batchStart:function(){let e=new Map;return ef.push(e),()=>{for(let[t,n]of e)eA(t,n);ef.pop()!==e&&_("Incorrect order of batch popping")}},writeLoadableToTreeState:el,invalidateDownstreams:ep,copyTreeState:eh,invalidateDownstreams_FOR_TESTING:ep};let{unstable_batchedUpdates:ey}=s,{unstable_batchedUpdates:eb}={unstable_batchedUpdates:ey},{batchStart:ew}=em,{unstable_batchedUpdates:e_}={unstable_batchedUpdates:eb},eE=e_;var eC={getBatcher:()=>eE,setBatcher:e=>{eE=e},batchUpdates:e=>{eE(()=>{let t=()=>void 0;try{t=ew(),e()}finally{t()}})}},eB=function(e,t){t()},eI=function(e,...t){let n=new Set;i:for(let r of e){for(let e of t)if(e.has(r))continue i;n.add(r)}return n},ex=function(e,t){let n=new Map;return e.forEach((e,r)=>{n.set(r,t(e,r))}),n};function eT(e,t,n){let{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach((e,t)=>{let o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:eI(e,o)).forEach(e=>{i.has(e)||i.set(e,new Set),c(i.get(e)).add(t)}),o&&eI(o,e).forEach(e=>{if(!i.has(e))return;let n=c(i.get(e));n.delete(t),0===n.size&&i.delete(e)}))})}var eS={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),c(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:ex(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:ex(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach((e,n)=>{t.has(n)||t.set(n,new Set);let r=c(t.get(n));e.forEach(e=>r.add(e))})},saveDependencyMapToStore:function(e,t,n){var r,i,o,a,s;let u=t.getState();n===u.currentTree.version||n===(null===(r=u.nextTree)||void 0===r?void 0:r.version)||n===(null===(i=u.previousTree)||void 0===i?void 0:i.version)||_("Tried to save dependencies to a discarded tree");let c=t.getGraph(n);if(eT(e,c),n===(null===(o=u.previousTree)||void 0===o?void 0:o.version)&&eT(e,t.getGraph(u.currentTree.version),c),n===(null===(a=u.previousTree)||void 0===a?void 0:a.version)||n===u.currentTree.version){let n=null===(s=u.nextTree)||void 0===s?void 0:s.version;void 0!==n&&eT(e,t.getGraph(n),c)}}},ek=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r={},i=function(e){return function(){return e}},o=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},a=function(e,t){return t>>>e&31},s=function(e){return 1<<e},u=function(e,t){var n;return n=e&t-1,n-=n>>1&1431655765,n=(n=(858993459&n)+(n>>2&858993459))+(n>>4)&252645135,n+=n>>8,127&(n+=n>>16)},c=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},l=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},A=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u},d={__hamt_isEmpty:!0},f=function(e){return e===d||e&&e.__hamt_isEmpty},h=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},p=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:C}},g=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:B}},v=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:I}},m=function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,v(e,s+1,o)},y=function(e,t,n,r){for(var i=Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var c=r[s];c&&!f(c)&&(i[o++]=c,a|=1<<s)}return g(e,a,i)},b=function e(t,n,r,i,o,u){if(r===o)return p(t,r,[u,i]);var c=a(n,r),l=a(n,o);return g(t,s(c)|s(l),c===l?[e(t,n+5,r,i,o,u)]:c<l?[i,u]:[u,i])},w=function(e,t,n,i,o,a,s,u){for(var A=o.length,d=0;d<A;++d){var f=o[d];if(n(s,f.key)){var p=f.value,g=a(p);if(g===p)return o;if(g===r)return--u.value,l(e,d,o);return c(e,d,h(t,i,s,g),o)}}var v=a();return v===r?o:(++u.value,c(e,A,h(t,i,s,v),o))},_=function(e,t){return e===t.edit},E=function(e,t,n,i,o,a,s){if(t(a,this.key)){var u=i(this.value);return u===this.value?this:u===r?(--s.value,d):_(e,this)?(this.value=u,this):h(e,o,a,u)}var c=i();return c===r?this:(++s.value,b(e,n,this.hash,this,o,h(e,o,a,c)))},C=function(e,t,n,i,o,a,s){if(o===this.hash){var u=w(_(e,this),e,t,this.hash,this.children,i,a,s);return u===this.children?this:u.length>1?p(e,this.hash,u):u[0]}var c=i();return c===r?this:(++s.value,b(e,n,this.hash,this,o,h(e,o,a,c)))},B=function(e,t,n,r,i,o,h){var p,v=this.mask,y=this.children,b=a(n,i),w=s(b),E=u(v,w),C=v&w,B=C?y[E]:d,I=B._modify(e,t,n+5,r,i,o,h);if(B===I)return this;var x=_(e,this),T=v,S=void 0;if(C&&f(I)){if(!(T&=~w))return d;if(y.length<=2&&((p=y[1^E])===d||1===p.type||2===p.type))return y[1^E];S=l(x,E,y)}else if(C||f(I))S=c(x,E,I,y);else{if(y.length>=16)return m(e,b,I,v,y);T|=w,S=A(x,E,I,y)}return x?(this.mask=T,this.children=S,this):g(e,T,S)},I=function(e,t,n,r,i,o,s){var u=this.size,l=this.children,A=a(n,i),h=l[A],p=(h||d)._modify(e,t,n+5,r,i,o,s);if(h===p)return this;var g=_(e,this),m=void 0;if(f(h)&&!f(p))++u,m=c(g,A,p,l);else if(!f(h)&&f(p)){if(--u<=8)return y(e,u,A,l);m=c(g,A,d,l)}else m=c(g,A,p,l);return g?(this.size=u,this.children=m,this):v(e,u,m)};function x(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}d._modify=function(e,t,n,i,o,a,s){var u=i();return u===r?d:(++s.value,h(e,o,a,u))},x.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new x(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,c=r._config.keyEq;;)switch(i.type){case 1:return c(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var l=i.children,A=0,d=l.length;A<d;++A){var f=l[A];if(c(n,f.key))return f.value}return e;case 3:var h=s(a(o,t));if(i.mask&h){i=i.children[u(i.mask,h)],o+=5;break}return e;case 4:if(i=i.children[a(o,t)]){o+=5;break}return e;default:return e}};x.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var S=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};x.prototype.tryGet=function(e,t){return S(e,t,this)};var k=n.getHash=function(e,t,n){return T(void 0,e,t,n)};x.prototype.getHash=function(e,t){return k(e,t,this)},n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},x.prototype.get=function(e,t){return S(t,e,this)};var N=n.has=function(e,t,n){return T(r,e,t,n)!==r};x.prototype.hasHash=function(e,t){return N(e,t,this)};var D=n.has=function(e,t){return N(t._config.hash(e),e,t)};x.prototype.has=function(e){return D(e,this)};var O=function(e,t){return e===t};n.make=function(e){return new x(0,0,{keyEq:e&&e.keyEq||O,hash:e&&e.hash||o},d,0)},n.empty=n.make();var R=n.isEmpty=function(e){return e&&!!f(e._root)};x.prototype.isEmpty=function(){return R(this)};var F=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};x.prototype.modifyHash=function(e,t,n){return F(n,e,t,this)};var L=n.modify=function(e,t,n){return F(e,n._config.hash(t),t,n)};x.prototype.modify=function(e,t){return L(t,e,this)};var P=n.setHash=function(e,t,n,r){return F(i(n),e,t,r)};x.prototype.setHash=function(e,t,n){return P(e,t,n,this)};var U=n.set=function(e,t,n){return P(n._config.hash(e),e,t,n)};x.prototype.set=function(e,t){return U(e,t,this)};var M=i(r),j=n.removeHash=function(e,t,n){return F(M,e,t,n)};x.prototype.removeHash=x.prototype.deleteHash=function(e,t){return j(e,t,this)};var Z=n.remove=function(e,t){return j(t._config.hash(e),e,t)};x.prototype.remove=x.prototype.delete=function(e){return Z(e,this)};var Q=n.beginMutation=function(e){return new x(e._editable+1,e._edit+1,e._config,e._root,e._size)};x.prototype.beginMutation=function(){return Q(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};x.prototype.endMutation=function(){return H(this)};var V=n.mutate=function(e,t){var n=Q(t);return e(n),H(n)};x.prototype.mutate=function(e){return V(e,this)};var K=function(e){return e&&G(e[0],e[1],e[2],e[3],e[4])},G=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!f(o))return z(o,r,[e,t,n,r,i])}return K(i)},z=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return G(r.length,r,0,t,n);default:return K(n)}},W={done:!0};function q(e){this.v=e}q.prototype.next=function(){if(!this.v)return W;var e=this.v;return this.v=K(e.rest),e},q.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new q(z(e._root,t))},$=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,$)};x.prototype.entries=x.prototype[Symbol.iterator]=function(){return X(this)};var J=function(e){return e.key},ee=n.keys=function(e){return Y(e,J)};x.prototype.keys=function(){return ee(this)};var et=function(e){return e.value},en=n.values=x.prototype.values=function(e){return Y(e,et)};x.prototype.values=function(){return en(this)};var er=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};x.prototype.fold=function(e,t){return er(e,t,this)};var ei=n.forEach=function(e,t){return er(function(n,r,i){return e(r,i,t)},null,t)};x.prototype.forEach=function(e){return ei(e,this)};var eo=n.count=function(e){return e._size};x.prototype.count=function(){return eo(this)},Object.defineProperty(x.prototype,"size",{get:x.prototype.count}),e.exports?e.exports=n:undefined.hamt=n}(i={exports:{}},i.exports),i.exports);class eN{constructor(e){x(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return eO(this)}toMap(){return new Map(this._map)}}class eD{constructor(e){if(x(this,"_hamt",ek.empty.beginMutation()),e instanceof eD){let t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(let[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return eO(this)}toMap(){return new Map(this._hamt)}}function eO(e){return w("recoil_hamt_2020")?new eD(e):new eN(e)}var eR=/*#__PURE__*/Object.freeze({__proto__:null,persistentMap:{persistentMap:eO}.persistentMap});let{graph:eF}=eS,{persistentMap:eL}=eR,eP=0,eU=()=>eP++;function eM(){let e=eU();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eL(),nonvalidatedAtoms:eL()}}var ej={makeEmptyTreeState:eM,makeEmptyStoreState:function(){let e=eM();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,eF()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:eU},eZ=function(...e){let t=new Set;for(let n of e)for(let e of n)t.add(e);return t},eQ=function(e,t,n){let r=e.entries(),i=r.next();for(;!i.done;){let o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};let{cleanUpNode:eH}=X,{deleteNodeConfigIfPossible:eV,getNode:eK}=M,{RetentionZone:eG}=Z,ez=new Set;function eW(e,t){let n=e.getState(),r=n.currentTree;if(n.nextTree){_("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let e of t)if(e instanceof eG)for(let t of function(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:ez}(n,e))i.add(t);else i.add(e);for(let t of function(e,t){let n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return function t(s){var u,l;let A=new Set;for(let t of function(e,t,n,r,i){let o=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)(function e(t){if(r.has(t)||i.has(t)){n.delete(t);return}if(s.has(t))return;let u=o.nodeToNodeSubscriptions.get(t);if(u)for(let t of u)e(t);s.add(t),n.delete(t),a.push(t)})(c(n.values().next().value));return a}(e,r,s,o,a)){if("recoilRoot"===eK(t).retainedBy||(null!==(u=n.retention.referenceCounts.get(t))&&void 0!==u?u:0)>0||eq(t).some(e=>n.retention.referenceCounts.get(e))){a.add(t);continue}let e=i.nodeToNodeSubscriptions.get(t);if(e&&eQ(e,e=>a.has(e))){a.add(t);continue}o.add(t),A.add(t)}let d=new Set;for(let e of A)for(let t of null!==(l=i.nodeDeps.get(e))&&void 0!==l?l:ez)o.has(t)||d.add(t);d.size&&t(d)}(t),o}(e,i))!function(e,t,n){var r,i;if(!w("recoil_memory_managament_2020"))return;eH(e,n);let o=e.getState();for(let e of(o.knownAtoms.delete(n),o.knownSelectors.delete(n),o.nodeTransactionSubscriptions.delete(n),o.retention.referenceCounts.delete(n),eq(n)))null===(r=o.retention.nodesRetainedByZone.get(e))||void 0===r||r.delete(n);t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);let a=o.graphsByVersion.get(t.version);if(a){let e=a.nodeDeps.get(n);if(void 0!==e)for(let t of(a.nodeDeps.delete(n),e))null===(i=a.nodeToNodeSubscriptions.get(t))||void 0===i||i.delete(n);a.nodeToNodeSubscriptions.delete(n)}eV(n)}(e,r,t)}function eq(e){let t=eK(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof eG?[t]:t}function eY(e,t){w("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){let n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):eW(e,new Set([t]))}(e,t))}var e$={updateRetainCount:function(e,t,n){var r;if(!w("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?eY(e,t):i.set(t,o)},updateRetainCountToZero:eY,releaseScheduledRetainablesNow:function(e){if(!w("recoil_memory_managament_2020"))return;let t=e.getState();eW(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},eX=function*(e){for(let t of e)for(let e of t)yield e},eJ={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};let{isSSR:e0}=eJ,{batchUpdates:e1}=eC,{initializeNodeIfNewToStore:e2,peekNodeInfo:e4}=X,{graph:e3}=eS,{DEFAULT_VALUE:e5,recoilValues:e6,recoilValuesForKeys:e8}=M,{AbstractRecoilValue:e9,getRecoilValueAsLoadable:e7,setRecoilValue:te,setUnvalidatedRecoilValue:tt}=em,{updateRetainCount:tn}=e$,{getNextTreeStateVersion:tr,makeEmptyStoreState:ti}=ej;class to{constructor(e){for(let t of(x(this,"_store",void 0),x(this,"_refCount",0),x(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),e7(this._store,e))),x(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),x(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0)return(null==e?void 0:e.isInitialized)===!1?[]:e8(this._store.getState().currentTree.dirtyAtoms);let t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?e6.values():!0===e.isInitialized?e8(eX([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):C(e6.values(),({key:e})=>!t.has(e)&&!n.has(e))}),x(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),e4(this._store,this._store.getState().currentTree,e))),x(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new tu(this,e1);return e(t),ts(t.getStore_INTERNAL())}),x(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new tu(this,e1);return await e(t),ts(t.getStore_INTERNAL())}),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{let n=e.graphsByVersion;if(n.has(t))return c(n.get(t));let r=e3();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Error("Cannot subscribe to Snapshots")}},this._store.getState().nodeCleanupFunctions.keys()))e2(this._store,e.currentTree,t,"get"),tn(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!w("recoil_memory_managament_2020"))return()=>void 0;this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){w("recoil_memory_managament_2020")&&(e0||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){w("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){w("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function ta(e,t,n=!1){let r=e.getState(),i=n?tr():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function ts(e,t="current"){let n=e.getState();return new to(ta(e,"current"===t?n.currentTree:c(n.previousTree)))}class tu extends to{constructor(e,t){super(ta(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),x(this,"_batch",void 0),x(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let n=this.getStore_INTERNAL();this._batch(()=>{tn(n,e.key,1),te(this.getStore_INTERNAL(),e,t)})}),x(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{tn(t,e.key,1),te(this.getStore_INTERNAL(),e,e5)})}),x(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();e1(()=>{for(let[n,r]of e.entries())tn(t,n,1),tt(t,new e9(n),r)})}),this._batch=t}}var tc=/*#__PURE__*/Object.freeze({__proto__:null,Snapshot:to,MutableSnapshot:tu,freshSnapshot:function(e){let t=new to(ti());return null!=e?t.map(e):t},cloneSnapshot:ts});let{getNextTreeStateVersion:tl,makeEmptyStoreState:tA}=ej,{cleanUpNode:td,getDownstreamNodes:tf,setNodeValue:th,setUnvalidatedAtomValue_DEPRECATED:tp}=X,{graph:tg}=eS,{cloneGraph:tv}=eS,{applyAtomValueWrites:tm}=em,{releaseScheduledRetainablesNow:ty}=e$,{freshSnapshot:tb}=tc,{useCallback:tw,useContext:t_,useEffect:tE,useMemo:tC,useRef:tB,useState:tI}=a;function tx(){throw Error("This component must be used inside a <RecoilRoot> component.")}let tT=Object.freeze({getState:tx,replaceState:tx,getGraph:tx,subscribeToTransactions:tx,addTransactionMetadata:tx}),tS=!1;function tk(e){if(tS)throw Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){w("recoil_memory_managament_2020")&&w("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&ty(e);let n=t.currentTree.version,r=tl();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,tv(c(t.graphsByVersion.get(n))))}}let tN=a.createContext({current:tT}),tD=()=>t_(tN),tO=a.createContext(null);function tR(e,t,n){for(let r of tf(e,n,n.dirtyAtoms)){let e=t.nodeToComponentSubscriptions.get(r);if(e)for(let[t,[r,i]]of e)i(n)}}function tF(e){let t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(let[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(let[t,n]of i)n(e);for(let[n,r]of t.transactionSubscriptions)r(e);(!w("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(tR(e,t,n),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function tL({setNotifyBatcherOfChange:e}){let t=tD(),[n,r]=tI([]);return e(()=>r({})),tE(()=>{eB("Batcher",()=>{!function(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,tF(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):_("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,w("recoil_memory_managament_2020")&&ty(e.current)}finally{t.commitDepth--}}(t)})}),tE(()=>()=>{e(()=>{})},[e]),null}let tP=0;function tU({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){var i;let o;let s=tB(null),u=tw(e=>{s.current=e},[s]),l=null!==(i=a.createMutableSource)&&void 0!==i?i:a.unstable_createMutableSource,A=null!=n?n:{getState:()=>o.current,replaceState:e=>{let t;let n=d.current.getState();tk(d.current);let r=c(n.nextTree);try{tS=!0,t=e(r)}finally{tS=!1}t!==r&&(n.nextTree=t,w("recoil_early_rendering_2021")&&tR(A,n,t),c(s.current)())},getGraph:e=>{let t=o.current.graphsByVersion;if(t.has(e))return c(t.get(e));let n=tg();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){let{transactionSubscriptions:t}=d.current.getState(),n=tP++;return t.set(n,e),{release:()=>{t.delete(n)}}}{let{nodeTransactionSubscriptions:n}=d.current.getState();n.has(t)||n.set(t,new Map);let r=tP++;return c(n.get(t)).set(r,e),{release:()=>{let e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{for(let t of(tk(d.current),Object.keys(e)))c(d.current.getState().nextTree).transactionMetadata[t]=e[t]}},d=tB(A),f=tC(()=>l?l(o,()=>o.current.currentTree.version):null,[l,o=tB(null!=e?function(e,t){let n=tA();return t({set:(t,r)=>{let i=n.currentTree,o=th(e,i,t.key,r),a=new Set(o.keys()),s=i.nonvalidatedAtoms.clone();for(let e of a)s.delete(e);n.currentTree={...i,dirtyAtoms:eZ(i.dirtyAtoms,a),atomValues:tm(i.atomValues,o),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{n.currentTree=tp(n.currentTree,t,e)})}}),n}(A,e):null!=t?tb().map(t).getStore_INTERNAL().getState():tA())]);return tE(()=>()=>{for(let e of d.current.getState().knownAtoms)td(d.current,e)},[]),/*#__PURE__*/a.createElement(tN.Provider,{value:d},/*#__PURE__*/a.createElement(tO.Provider,{value:f},/*#__PURE__*/a.createElement(tL,{setNotifyBatcherOfChange:u}),r))}var tM={useStoreRef:tD,useRecoilMutableSource:function(){let e=t_(tO);return null==e&&I("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},RecoilRoot:function(e){let{override:t,...n}=e,r=tD();return!1===t&&r.current!==tT?e.children:/*#__PURE__*/a.createElement(tU,n)},notifyComponents_FOR_TESTING:tR,sendEndOfBatchNotifications_FOR_TESTING:tF};let{loadableWithValue:tj}=g,{DEFAULT_VALUE:tZ,getNode:tQ}=M,{copyTreeState:tH,getRecoilValueAsLoadable:tV,invalidateDownstreams:tK,writeLoadableToTreeState:tG}=em;function tz(e){return"atom"===tQ(e.key).nodeType}class tW{constructor(e,t){x(this,"_store",void 0),x(this,"_treeState",void 0),x(this,"_changes",void 0),x(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!tz(e))throw Error("Reading selectors within atomicUpdate is not supported");let t=tV(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw Error(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),x(this,"set",(e,t)=>{if(!tz(e))throw Error("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)}),x(this,"reset",e=>{this.set(e,tZ)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=tH(this._treeState);for(let[t,n]of this._changes)tG(e,t,tj(n));return tK(this._store,e),e}}var tq=/*#__PURE__*/Object.freeze({__proto__:null,atomicUpdater:function(e){return t=>{e.replaceState(n=>{let r=new tW(e,n);return t(r),r.newTreeState_INTERNAL()})}}}),tY=function(e,t){let n=new Map;for(let[r,i]of e)t(i,r)&&n.set(r,i);return n},t$=function(e,t){let n=new Set;for(let r of e)t(r)&&n.add(r);return n},tX=function(e,t){if(!e)throw Error(t)},tJ=function(...e){let t=new Map;for(let n=0;n<e.length;n++){let r;let i=e[n].keys();for(;!(r=i.next()).done;)t.set(r.value,e[n].get(r.value))}return t},t0=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};let{useRef:t1}=a;var t2=function(){return t1(),"<component name not available>"};let{atomicUpdater:t4}=tq,{batchUpdates:t3}=eC,{DEFAULT_VALUE:t5,getNode:t6,nodes:t8}=M,{useRecoilMutableSource:t9,useStoreRef:t7}=tM,{isRecoilValue:ne}=N,{AbstractRecoilValue:nt,getRecoilValueAsLoadable:nn,setRecoilValue:nr,setRecoilValueLoadable:ni,setUnvalidatedRecoilValue:no,subscribeToRecoilValue:na}=em,{updateRetainCount:ns}=e$,{RetentionZone:nu}=Z,{Snapshot:nc,cloneSnapshot:nl}=tc,{setByAddingToSet:nA}=E,{isSSR:nd}=eJ,{mutableSourceExists:nf,useMutableSource:nh}=m,{useCallback:np,useEffect:ng,useMemo:nv,useRef:nm,useState:ny}=a;function nb(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise(e=>{n.current.getState().suspendedComponentResolvers.add(e)});if("hasError"===e.state)throw e.contents;throw Error(`Invalid value of loadable atom "${t.key}"`)}function nw(e){return(w("recoil_memory_managament_2020")&&nk(e),nf())?function(e){let t=t7(),n=np(()=>{var n;let r=t.current,i=r.getState();return nn(r,e,w("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)},[t,e]),r=np(()=>n(),[n]),i=t2(),o=np((r,o)=>na(t.current,e,()=>{if(!w("recoil_suppress_rerender_in_callback"))return o();let e=n();s.current.is(e)||o(),s.current=e},i).release,[t,e,i,n]),a=nh(t9(),r,o),s=nm(a);return ng(()=>{s.current=a}),a}(e):function(e){let t=t7(),[n,r]=ny([]),i=t2();ng(()=>{let n=t.current,o=n.getState(),s=na(n,e,t=>{var i;if(!w("recoil_suppress_rerender_in_callback"))return r([]);let o=nn(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o},i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,r([])});else{var u;if(!w("recoil_suppress_rerender_in_callback"))return r([]);let t=nn(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(t))||r(t),a.current=t}return s.release},[i,e,t]);let o=nn(t.current,e),a=nm(o);return ng(()=>{a.current=o}),o}(e)}function n_(e){let t=t7();return nb(nw(e),e,t)}function nE(e){let t=t7();return np(n=>{nr(t.current,e,n)},[t,e])}function nC(e){let t=t7();ng(()=>t.current.subscribeToTransactions(e).release,[e,t])}function nB(e){let t=ex(tY(e.atomValues.toMap(),(e,t)=>{let n=t6(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state}),e=>e.contents);return tJ(e.nonvalidatedAtoms.toMap(),t)}function nI(e){let t=nm();return ng(()=>{t.current=e}),t.current}function nx(){let e=t7();return np(t=>{var n;let r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;t3(()=>{let n=new Set;for(let e of[i.atomValues.keys(),o.atomValues.keys()])for(let t of e){var r,a;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(a=o.atomValues.get(t))||void 0===a?void 0:a.contents)&&t6(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach(t=>{ni(e.current,new nt(t),o.atomValues.has(t)?c(o.atomValues.get(t)):t5)}),e.current.replaceState(e=>({...e,stateID:t.getID_INTERNAL()}))})},[e])}class nT{}let nS=new nT;function nk(e){if(w("recoil_memory_managament_2020"))return function(e){let t=(Array.isArray(e)?e:[e]).map(e=>e instanceof nu?e:e.key),n=t7();ng(()=>{if(!w("recoil_memory_managament_2020"))return;let e=n.current;if(r.current&&!nd)window.clearTimeout(r.current),r.current=null;else for(let n of t)ns(e,n,1);return()=>{for(let n of t)ns(e,n,-1)}},[n,...t]);let r=nm(),i=nI(t);if(!nd&&(void 0===i||!t0(i,t))){let e=n.current;for(let n of t)ns(e,n,1);if(i)for(let t of i)ns(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{for(let n of(r.current=null,t))ns(e,n,-1)},12e4)}}(e)}let{peekNodeInfo:nN}=X,{useStoreRef:nD}=tM,{RecoilRoot:nO,useStoreRef:nR}=tM,{useMemo:nF}=a,{isReactNative:nL,isSSR:nP}=eJ;var nU=function(e,t={allowFunctions:!1}){return function e(t,n,r){if("string"==typeof t&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((null==n?void 0:n.allowFunctions)!==!0)throw Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(null===t)return"null";if("object"!=typeof t){var i;return null!==(i=JSON.stringify(t))&&void 0!==i?i:""}if(u(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((t,r)=>e(t,n,r.toString()))}]`;if("function"==typeof t.toJSON)return e(t.toJSON(r),n,r);if(t instanceof Map){let i={};for(let[r,o]of t)i["string"==typeof r?r:e(r,n)]=o;return e(i,n,r)}return t instanceof Set?e(Array.from(t).sort((t,r)=>e(t,n).localeCompare(e(r,n))),n,r):void 0!==Symbol&&null!=t[Symbol.iterator]&&"function"==typeof t[Symbol.iterator]?e(Array.from(t),n,r):`{${Object.keys(t).filter(e=>void 0!==t[e]).sort().map(r=>`${e(r,n)}:${e(t[r],n,r)}`).join(",")}}`}(e,t)};let nM=(e,t,n)=>{var r;if(null==e)return;if(null==n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;let i=t(e.nodeKey);return nM(e.branches.get(i),t,n)},nj=(e,t,n,r,i,o)=>{var a;let s;if(null==e){if(0===t.length)s={type:"leaf",value:r,parent:n,branchKey:i};else{let[e,...a]=t,[u,c]=e;(s={type:"branch",nodeKey:u,parent:n,branches:new Map,branchKey:i}).branches.set(c,nj(null,a,s,r,c,o))}}else if(s=e,t.length){let[n,...i]=t,[a,s]=n;"branch"===e.type&&e.nodeKey===a||tX(!1),e.branches.set(s,nj(e.branches.get(s),i,e,r,s,o))}return null==o||null===(a=o.onNodeVisit)||void 0===a||a.call(o,s),s},nZ=(e,t,n)=>n?(n.branches.delete(t.branchKey),nQ(e,n,n.parent)):e===t,nQ=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),nQ(e,n,n.parent)):e===t,nH=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce((e,t)=>e+nH(t),0);var nV=/*#__PURE__*/Object.freeze({__proto__:null,TreeCache:{TreeCache:class{constructor(e){var t,n,r;x(this,"_numLeafs",void 0),x(this,"_root",void 0),x(this,"_onHit",void 0),x(this,"_onSet",void 0),x(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return nM(this.root(),t=>this._mapNodeValue(e(t)),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r;let i=nj(this.root(),e.map(([e,t])=>[e,this._mapNodeValue(t)]),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=i),this._numLeafs++,this._onSet(c(r))}delete(e){if(!this.root())return!1;let t=c(this.root());return!!nZ(t,e,e.parent)&&(e!==t&&("branch"!==t.type||t.branches.size)?this._numLeafs-=nH(e):(this._root=null,this._numLeafs=0),!0)}clear(){this._numLeafs=0,this._root=null}}}.TreeCache}),nK=/*#__PURE__*/Object.freeze({__proto__:null,LRUCache:{LRUCache:class{constructor(e){var t;x(this,"_maxSize",void 0),x(this,"_size",void 0),x(this,"_head",void 0),x(this,"_tail",void 0),x(this,"_map",void 0),x(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){let n=this._keyMapper(e);this._map.get(n)&&this.delete(e);let r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let n=c(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}}.LRUCache});let{LRUCache:nG}=nK,{TreeCache:nz}=nV;var nW=function(e,t=e=>e){let n=new nG({maxSize:e}),r=new nz({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{let i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};let{TreeCache:nq}=nV,nY={equality:"reference",eviction:"keep-all",maxSize:1/0},{CANCELED:n$,Canceled:nX,loadableWithError:nJ,loadableWithPromise:n0,loadableWithValue:n1}=g,{getNodeLoadable:n2,peekNodeLoadable:n4,setNodeValue:n3}=X,{saveDependencyMapToStore:n5}=eS,{DEFAULT_VALUE:n6,RecoilValueNotReady:n8,getConfigDeletionHandler:n9,registerNode:n7}=M,{isRecoilValue:re}=N,{AbstractRecoilValue:rt}=N,{setRecoilValueLoadable:rn}=em,{retainedByOptionWithDefault:rr}=e$,{cloneSnapshot:ri}=tc,{startPerfBlock:ro}={startPerfBlock:function(e){return()=>null}},ra=[],rs=new Map,ru=(r=0,()=>r++);var rc=function(e){let{key:t,get:n,cachePolicy_UNSTABLE:r}=e,i=null!=e.set?e.set:void 0,o=function({equality:e=nY.equality,eviction:t=nY.eviction,maxSize:n=nY.maxSize}=nY){return function(e,t,n){switch(e){case"keep-all":return new nq({mapNodeValue:n});case"lru":return nW(c(t),n);case"most-recent":return nW(1,n)}throw Error(`Unrecognized eviction policy ${e}`)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nU(e)}throw Error(`Unrecognized equality policy ${e}`)}(e))}(null!=r?r:{equality:"reference",eviction:"keep-all"}),a=rr(e.retainedBy_UNSTABLE),s=new Map,l=0;function A(){return!w("recoil_memory_managament_2020")||l>0}function d(e){return s.has(e)||s.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),c(s.get(e))}function f(e){return l++,e.getState().knownSelectors.add(t),()=>{l--,e.getState().knownSelectors.delete(t),s.delete(e)}}function h(){return void 0!==n9(t)&&!A()}function p(e,t,n){if("loading"===t.state){let t=rs.get(n);null==t&&rs.set(n,t=new Set),t.add(e)}}function g(e,t,n){let r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return c(t.atomValues.get(n));let i=n2(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function v(e,n,r,i,o){return n.then(n=>{if(!A())return S(e,o),n$;if(n instanceof nX)return _("Selector was released while it had dependencies"),n$;let{__key:i,__value:a}=null!=n?n:{},s=!0;null!=i&&(r.atomValues.set(i,n1(a)),s=!1);let u=E(e,r);if(u&&"hasValue"===u.state)return x(u,e),{__value:u.contents,__key:t};if(!k(e,o)){var c;let e=B(r);if((null==e?void 0:null===(c=e.latestLoadable)||void 0===c?void 0:c.state)==="loading")return e.latestLoadable.contents}let[l,d]=b(e,r,o,s);if(k(e,o)&&T(d,e,o),N(l),"loading"!==l.state&&(D(r,C(d),l),y(e,r,new Set(d.keys()),o),m(e,l,o)),"hasError"===l.state)throw l.contents;return"hasValue"===l.state?{__value:l.contents,__key:t}:l.contents}).catch(t=>{if(!A())return S(e,o),n$;let n=nJ(t);throw D(r,C(i),nJ(t)),y(e,r,new Set(i.keys()),o),m(e,n,o),t})}function m(e,n,r){k(e,r)&&(x(n,e),function(e,n){let r=rs.get(n);if(void 0!==r){for(let n of r)rn(n,new rt(t),e);rs.delete(n)}}(n,r))}function y(e,n,r,i){var o,a,s,u,c,l,A;(k(e,i)||n.version===(null===(o=e.getState())||void 0===o?void 0:null===(a=o.currentTree)||void 0===a?void 0:a.version)||n.version===(null===(s=e.getState())||void 0===s?void 0:null===(u=s.nextTree)||void 0===u?void 0:u.version))&&n5(new Map([[t,r]]),e,null!==(c=null===(l=e.getState())||void 0===l?void 0:null===(A=l.nextTree)||void 0===A?void 0:A.version)&&void 0!==c?c:e.getState().currentTree.version)}function b(e,r,i,o=!1){let a,s;let c=ro(t),l=!1,d=new Map,f=new Set;function h(t){let{key:n}=t;f.add(n),y(e,r,f,i);let a=o?n2(e,r,n):g(e,r,n);if(N(a),d.set(n,a),"hasValue"===a.state)return a.contents;throw a.contents}y(e,r,f,i);let p=!1;try{(a=n({get:h,getCallback:t=>(...n)=>{if(!p)throw Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let r=t({snapshot:ri(e)});if("function"!=typeof r)throw Error("getCallback() expects a function that returns a function.");return r(...n)}}),a=re(a)?h(a):a,p=!0,u(a))?a=a.then(n=>{if(!A())return S(e,i),n$;let o=n1(n);return D(r,C(d),o),y(e,r,new Set(d.keys()),i),m(e,o,i),{__value:n,__key:t}}).catch(t=>{if(!A())return S(e,i),n$;if(k(e,i)&&T(d,e,i),u(t))return v(e,t,r,d,i);let n=nJ(t);throw D(r,C(d),n),y(e,r,new Set(d.keys()),i),m(e,n,i),t}).finally(c):c()}catch(t){u(a=t)?a=v(e,a,r,d,i).finally(c):(l=!0,c())}return N(s=l?nJ(a):u(a)?n0(a):n1(a)),[s,d]}function E(e,n){let r=new Set,i=d(e),a=o.get(t=>("string"!=typeof t&&tX(!1),g(e,n,t).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==t&&"string"==typeof e.nodeKey&&r.add(e.nodeKey)}});return a&&y(e,n,r,i.latestExecutionId),a}function C(e){return Array.from(e.entries()).map(([e,t])=>[e,t.contents])}function B(e){var t;let[,n]=null!==(t=Array.from(s.entries()).find(([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;let i=d(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=I.get(t.version))&&void 0!==r?r:new Map).entries()),s=I.has(t.version)&&a.length===o.size&&a.every(([e,t])=>o.get(e)===t);return null!=o&&t.version!==i.stateVersion&&!s&&(I.set(t.version,new Map(o)),Array.from(o).some(([n,r])=>g(e,t,n).contents!==r.contents))}(t,e)))&&void 0!==t?t:[];return n}let I=new Map;function x(e,t,n,r,i){let o=d(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null==i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function T(e,t,n){let r=d(t);k(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function S(e,t){k(e,t)&&s.delete(e)}function k(e,t){return t===d(e).latestExecutionId}function N(e){"loading"!==e.state&&e.contents}function D(e,n,r){e.atomValues.set(t,r),o.set(n,r)}function O(e,t){return o.get(n=>{"string"!=typeof n&&tX(!1);let r=n4(e,t,n);return null==r?void 0:r.contents})}function R(e,n){return function(e){if(ra.includes(t))return nJ(Error(`Recoil selector has circular dependencies: ${ra.slice(ra.indexOf(t)).join("  ")}`));ra.push(t);try{return e()}finally{ra.pop()}}(()=>(function(e,t){let n=E(e,t);if(null!=n)return x(n,e),n;let r=B(t);return r?(p(e,c(r.latestLoadable),c(r.latestExecutionId)),c(r.latestLoadable)):function(e,t){var n;let r=ru(),[i,o]=b(e,t,r);return x(i,e,o,r,t),n=C(o),"loading"!==i.state&&D(t,n,i),p(e,i,r),i}(e,t)})(e,n))}function F(e){e.atomValues.delete(t)}return null!=i?n7({key:t,nodeType:"selector",peek:O,get:R,set:(e,t,n)=>{let r=!1,o=new Map;function a({key:n}){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let i=g(e,t,n);if(N(i),"hasValue"===i.state)return i.contents;if("loading"===i.state)throw new n8(n);throw i.contents}function s(n,i){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let s="function"==typeof i?i(a(n)):i;n3(e,t,n.key,s).forEach((e,t)=>o.set(t,e))}let c=i({set:s,get:a,reset:function(e){s(e,n6)}},n);if(void 0!==c)throw u(c)?Error("Recoil: Async selector sets are not currently supported."):Error("Recoil: selector set should be a void function.");return r=!0,o},init:f,invalidate:F,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a}):n7({key:t,nodeType:"selector",peek:O,get:R,init:f,invalidate:F,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})};let{loadableWithError:rl,loadableWithPromise:rA,loadableWithValue:rd}=g,{DEFAULT_VALUE:rf,DefaultValue:rh,getConfigDeletionHandler:rp,registerNode:rg,setConfigDeletionHandler:rv}=M,{isRecoilValue:rm}=N,{markRecoilValueModified:ry,setRecoilValue:rb,setRecoilValueLoadable:rw}=em,{retainedByOptionWithDefault:r_}=e$;var rE=/*#__PURE__*/Object.freeze({__proto__:null,MapCache:{MapCache:class{constructor(e){var t;x(this,"_map",void 0),x(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}}.MapCache});let{LRUCache:rC}=nK,{MapCache:rB}=rE,rI={equality:"reference",eviction:"none",maxSize:1/0},{setConfigDeletionHandler:rx}=M,{setConfigDeletionHandler:rT}=M,rS=0;var rk=function(e){var t,n;let r=function({equality:e=rI.equality,eviction:t=rI.eviction,maxSize:n=rI.maxSize}=rI){return function(e,t,n){switch(e){case"keep-all":return new rB({mapKey:n});case"lru":return new rC({mapKey:n,maxSize:c(t)});case"most-recent":return new rC({mapKey:n,maxSize:1})}throw Error(`Unrecognized eviction policy ${e}`)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nU(e)}throw Error(`Unrecognized equality policy ${e}`)}(e))}({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i;let o=r.get(t);if(null!=o)return o;let a=`${e.key}__selectorFamily/${null!==(n=nU(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${rS++}`,s=n=>e.get(t)(n),u=e.cachePolicy_UNSTABLE,c="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let n=e.set;i=rc({key:a,get:s,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else i=rc({key:a,get:s,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,i),rT(i.key,()=>{r.delete(t)}),i}};rk({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}}),rk({key:"__error",get:e=>()=>{throw Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});let{loadableWithError:rN,loadableWithPromise:rD,loadableWithValue:rO}=g;function rR(e,t){let n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function rF(e){return null!=e&&!u(e)}function rL(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function rP(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("__value")?e.__value:e}function rU(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{})}function rM(e,t,n){return rU(e,n.map((e,n)=>null==e?rO(t[n]):u(e)?rD(e):rN(e)))}let rj=rk({key:"__waitForNone",get:e=>({get:t})=>{let[n,r]=rR(t,rL(e));return rM(e,n,r)},dangerouslyAllowMutability:!0}),rZ=rk({key:"__waitForAny",get:e=>({get:t})=>{let[n,r]=rR(t,rL(e));return r.some(e=>!u(e))?rM(e,n,r):new Promise(t=>{for(let[i,o]of r.entries())u(o)&&o.then(o=>{n[i]=rP(o),r[i]=void 0,t(rM(e,n,r))}).catch(o=>{r[i]=o,t(rM(e,n,r))})})},dangerouslyAllowMutability:!0}),rQ=rk({key:"__waitForAll",get:e=>({get:t})=>{let[n,r]=rR(t,rL(e));if(r.every(e=>null==e))return rU(e,n);let i=r.find(rF);if(null!=i)throw i;return Promise.all(r).then(t=>rU(e,t.map((e,t)=>void 0===e?n[t]:e).map(rP)))},dangerouslyAllowMutability:!0}),rH=rk({key:"__waitForAllSettled",get:e=>({get:t})=>{let[n,r]=rR(t,rL(e));return r.every(e=>!u(e))?rM(e,n,r):Promise.all(r.map((e,t)=>u(e)?e.then(e=>{n[t]=rP(e),r[t]=void 0}).catch(e=>{n[t]=void 0,r[t]=e}):null)).then(()=>rM(e,n,r))},dangerouslyAllowMutability:!0}),rV=rk({key:"__noWait",get:e=>({get:t})=>{try{return rO(t(e))}catch(e){return u(e)?rD(e):rN(e)}},dangerouslyAllowMutability:!0}),{batchUpdates:rK,setBatcher:rG}=eC,{DefaultValue:rz}=M,{RecoilRoot:rW}=tM,{isRecoilValue:rq}=N,{retentionZone:rY}=Z,{freshSnapshot:r$}=tc,{useGotoRecoilSnapshot:rX,useRecoilCallback:rJ,useRecoilSnapshot:r0,useRecoilState:r1,useRecoilStateLoadable:r2,useRecoilTransaction:r4,useRecoilTransactionObserver:r3,useRecoilValue:r5,useRecoilValueLoadable:r6,useResetRecoilState:r8,useRetain:r9,useSetRecoilState:r7,useSetUnvalidatedAtomValues:ie,useTransactionObservation_DEPRECATED:it}={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useGotoRecoilSnapshot:nx,useRecoilCallback:function(e,t){let n=t7(),r=nx();return np((...t)=>{function i(e,t){nr(n.current,e,t)}function o(e){nr(n.current,e,t5)}let a=nl(n.current),s=t4(n.current),u=nS;return t3(()=>{let n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw Error(n);let c=e({set:i,reset:o,snapshot:a,gotoSnapshot:r,transact_UNSTABLE:s});if("function"!=typeof c)throw Error(n);u=c(...t)}),u instanceof nT&&tX(!1),u},null!=t?[...t,n]:void 0)},useRecoilInterface:function(){let e=t7(),[t,n]=ny([]),r=nm(new Set);r.current=new Set;let i=nm(new Set),o=nm(new Map),a=np(e=>{let t=o.current.get(e);t&&(t.release(),o.current.delete(e))},[o]),s=t2();return ng(()=>{let t=e.current;function u(e,t){o.current.has(t)&&n([])}eI(r.current,i.current).forEach(e=>{if(o.current.has(e)){I(`Double subscription to RecoilValue "${e}"`);return}let n=na(t,new nt(e),t=>{u(t,e)},s);o.current.set(e,n),t.getState().nextTree?t.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u(t.getState(),e)}):u(t.getState(),e)}),eI(i.current,r.current).forEach(e=>{a(e)}),i.current=r.current}),ng(()=>{let e=o.current;return()=>e.forEach((e,t)=>a(t))},[a]),nv(()=>{function t(t){return n=>{nr(e.current,t,n)}}function n(t){var n;r.current.has(t.key)||(r.current=nA(r.current,t.key));let i=e.current.getState();return nn(e.current,t,w("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(t){return nb(n(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[n(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>nr(e.current,t,t5)}}},[r,e])},useRecoilSnapshot:function(){let e=t7(),[t,n]=ny(()=>nl(e.current)),r=nI(t),i=nm();return ng(()=>(i.current&&!nd&&window.clearTimeout(i.current),t.retain()),[t]),nC(np(e=>n(nl(e)),[])),r===t||nd||(i.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},12e4)),t},useRecoilState:function(e){return[n_(e),nE(e)]},useRecoilStateLoadable:function(e){return[nw(e),nE(e)]},useRecoilTransaction:function(e,t){let n=t7();return nv(()=>(...t)=>{t4(n.current)(n=>{e(n)(...t)})},null!=t?[...t,n]:void 0)},useRecoilTransactionObserver:function(e){nC(np(t=>{e({snapshot:nl(t,"current"),previousSnapshot:nl(t,"previous")})},[e]))},useRecoilValue:n_,useRecoilValueLoadable:nw,useRetain:nk,useResetRecoilState:function(e){let t=t7();return np(()=>{nr(t.current,e,t5)},[t,e])},useSetRecoilState:nE,useSetUnvalidatedAtomValues:function(){let e=t7();return(t,n={})=>{t3(()=>{e.current.addTransactionMetadata(n),t.forEach((t,n)=>no(e.current,new nt(n),t))})}},useTransactionObservation_DEPRECATED:function(e){nC(np(t=>{let n=t.getState().previousTree,r=t.getState().currentTree;n||(_("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);let i=nB(r),o=nB(n),a=ex(t8,e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}}),s=t$(r.dirtyAtoms,e=>i.has(e)||o.has(e));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:nC},{noWait:ir,waitForAll:ii,waitForAllSettled:io,waitForAny:ia,waitForNone:is}={waitForNone:rj,waitForAny:rZ,waitForAll:rQ,waitForAllSettled:rH,noWait:rV};var iu=rW,ic=function e(t){let{default:n,...r}=t;return rm(n)?function(t){let n=e({...t,default:rf,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof rh?e:c(t.persistence_UNSTABLE).validator(e,rf)},effects_UNSTABLE:t.effects_UNSTABLE}),r=rc({key:`${t.key}__withFallback`,get:({get:e})=>{let r=e(n);return r instanceof rh?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return rv(r.key,rp(t.key)),r}({...r,default:n}):function(e){let t;let{key:n,persistence_UNSTABLE:r}=e,i=r_(e.retainedBy_UNSTABLE),o=0,a=u(e.default)?rA(e.default.then(e=>(a=rd(e),{__key:n,__value:e})).catch(e=>{throw a=rl(e),e})):rd(e.default),s=new Map,l=rg({key:n,nodeType:"atom",peek:function(e,r){var i,o,s;return null!==(i=null!==(o=r.atomValues.get(n))&&void 0!==o?o:null===(s=t)||void 0===s?void 0:s[1])&&void 0!==i?i:a},get:function(e,i){if(i.atomValues.has(n))return c(i.atomValues.get(n));if(!i.nonvalidatedAtoms.has(n))return a;{if(null!=t)return t;if(null==r)return I(`Tried to restore a persisted value for atom ${n} but it has no persistence settings.`),a;let e=i.nonvalidatedAtoms.get(n),o=r.validator(e,rf);return t=o instanceof rh?a:rd(o)}},set:function(e,r,i){if(r.atomValues.has(n)){let e=c(r.atomValues.get(n));if("hasValue"===e.state&&i===e.contents)return new Map}else if(!r.nonvalidatedAtoms.has(n)&&i instanceof rh)return new Map;return t=void 0,new Map().set(n,rd(i))},init:function(t,r,i){var c,A,d;o++;let f=t.getState().knownAtoms.has(n);if(t.getState().knownAtoms.add(n),"loading"===a.state){let e=()=>{var e;(null!==(e=t.getState().nextTree)&&void 0!==e?e:t.getState().currentTree).atomValues.has(n)||ry(t,l)};a.contents.then(e).catch(e)}let h=rf,p=null;if(null!=e.effects_UNSTABLE&&!f){let r=!0,o=e=>n=>{if(r){let t=h instanceof rh||u(h)?"hasValue"===a.state?a.contents:rf:h;u(h="function"==typeof n?n(t):n)&&(h=h.then(t=>(p={effect:e,value:t},t)))}else{if(u(n))throw Error("Setting atoms to async values is not implemented.");"function"!=typeof n&&(p={effect:e,value:n}),rb(t,l,"function"==typeof n?t=>{let r=n(t);return p={effect:e,value:r},r}:n)}},d=e=>()=>o(e)(rf),f=e=>r=>{t.subscribeToTransactions(t=>{var i,o,s,u,c;let{currentTree:l,previousTree:A}=t.getState();A||(_("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),A=l);let d=null!==(i=l.atomValues.get(n))&&void 0!==i?i:a;if("hasValue"===d.state){let t=d.contents,i=null!==(o=A.atomValues.get(n))&&void 0!==o?o:a,l="hasValue"===i.state?i.contents:rf;(null===(s=p)||void 0===s?void 0:s.effect)!==e||(null===(u=p)||void 0===u?void 0:u.value)!==t?r(t,l):(null===(c=p)||void 0===c?void 0:c.effect)===e&&(p=null)}},n)};for(let n of null!==(c=e.effects_UNSTABLE)&&void 0!==c?c:[]){let e=n({node:l,trigger:i,setSelf:o(n),resetSelf:d(n),onSet:f(n)});null!=e&&s.set(t,[...null!==(A=s.get(t))&&void 0!==A?A:[],e])}r=!1}if(!(h instanceof rh)){let e=u(h)?rA(function(e,t){let r=t.then(t=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(n))||void 0===o?void 0:o.contents)===r&&rb(e,l,t),{__key:n,__value:t}}).catch(t=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(n))||void 0===o?void 0:o.contents)===r&&rw(e,l,rl(t)),t});return r}(t,h)):rd(h);r.atomValues.set(n,e),null===(d=t.getState().nextTree)||void 0===d||d.atomValues.set(n,e)}return()=>{var e;o--,null===(e=s.get(t))||void 0===e||e.forEach(e=>e()),s.delete(t),t.getState().knownAtoms.delete(n)}},invalidate:function(){t=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==rp(n)&&o<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:i});return l}({...r,default:n})},il=r5,iA=r1,id=r7,ih=r8,ip=rJ},57245:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},97209:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&u()}function s(){a(o)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=e}return u}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=g(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&"function"==typeof e.getBBox};function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!i)return d;if(p(e)){var t;return g(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=A(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=h(r,"left","right")+o),Math.round(u+a)!==n&&(u-=h(r,"top","bottom")+a)),e!==A(e).document.documentElement){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return g(i.left,i.top,s,u)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),m=function(e,t){var n,r,i,o,a,s=(n=t.x,r=t.y,i=t.width,o=t.height,l(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:r,width:i,height:o,top:r,right:n+i,bottom:o+r,left:n}),a);l(this,{target:e,contentRect:s})},y=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new m(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new r,w=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new y(t,c.getInstance(),this);b.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}});var _=void 0!==o.ResizeObserver?o.ResizeObserver:w;t.default=_},10732:function(e,t,n){"use strict";n.d(t,{BS:function(){return l},_1:function(){return u},m:function(){return s}});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=n(68594),o=n(77984);function a(e,t){return new i.y(function(n){return{unsubscribe:e.onSnapshot(t||{},n)}})}function s(e,t){return a(e,t)}function u(e,t){return a(e,void 0).pipe((0,o.U)(function(e){return c(e,t)}))}function c(e,t){var n;return r(r({},e.data()),t?((n={})[t]=e.id,n):null)}function l(e,t){return a(e,void 0).pipe((0,o.U)(function(e){return e.docs})).pipe((0,o.U)(function(e){return e.map(function(e){return c(e,t)})}))}(0,n(99054).h)(function(e){return e.length>0})},56130:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(22970),i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n.closed||t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(17407).x)},68594:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(17080),i=n(93287),o=n(34105),a=n(69676),s=n(64020),u=n(59126),c=n(24831),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,a=this,s=(o=e)&&o instanceof r.Lv||o&&(0,u.m)(o.next)&&(0,u.m)(o.error)&&(0,u.m)(o.complete)&&(0,i.Nn)(o)?e:new r.Hp(e,t,n);return(0,c.x)(function(){var e=a.operator,t=a.source;s.add(e?e.call(s,t):t?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=A(t))(function(t,i){var o=new r.Hp({next:function(t){try{e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:t});n.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=A(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function A(e){var t;return null!==(t=null!=e?e:s.v.Promise)&&void 0!==t?t:Promise}},17407:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(22970),i=n(68594),o=n(93287),a=(0,n(5589).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),s=n(37990),u=n(24831),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.__extends)(t,e),t.prototype.lift=function(e){var t=new l(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a},t.prototype.next=function(e){var t=this;(0,u.x)(function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=(0,r.__values)(t.currentObservers),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;(0,u.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,u.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?o.Lc:(this.currentObservers=null,i.push(e),new o.w0(function(){t.currentObservers=null,(0,s.P)(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new l(e,t)},t}(i.y),l=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.__extends)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.Lc},t}(c)},17080:function(e,t,n){"use strict";n.d(t,{Hp:function(){return v},Lv:function(){return f}});var r=n(22970),i=n(59126),o=n(93287),a=n(64020),s=n(66278),u=n(15562),c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var A=n(90561),d=n(24831),f=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,o.Nn)(t)&&t.add(n)):n.destination=b,n}return(0,r.__extends)(t,e),t.create=function(e,t,n){return new v(e,t,n)},t.prototype.next=function(e){this.isStopped?y(l("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?y(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.w0),h=Function.prototype.bind;function p(e,t){return h.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),v=function(e){function t(t,n,r){var o,s,u=e.call(this)||this;return(0,i.m)(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&a.v.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&p(t.next,s),error:t.error&&p(t.error,s),complete:t.complete&&p(t.complete,s)}):o=t,u.destination=new g(o),u}return(0,r.__extends)(t,e),t}(f);function m(e){a.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,s.h)(e)}function y(e,t){var n=a.v.onStoppedNotification;n&&A.z.setTimeout(function(){return n(e,t)})}var b={closed:!0,next:u.Z,error:function(e){throw e},complete:u.Z}},93287:function(e,t,n){"use strict";n.d(t,{Lc:function(){return u},w0:function(){return s},Nn:function(){return c}});var r=n(22970),i=n(59126),o=(0,n(5589).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),a=n(37990),s=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,a,s,u=this._parentage;if(u){if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.__values)(u),A=c.next();!A.done;A=c.next())A.value.remove(this)}catch(t){e={error:t}}finally{try{A&&!A.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this)}var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(e){s=e instanceof o?e.errors:[e]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=(0,r.__values)(f),p=h.next();!p.done;p=h.next()){var g=p.value;try{l(g)}catch(e){s=null!=s?s:[],e instanceof o?s=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(s)),(0,r.__read)(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}}if(s)throw new o(s)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)l(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,a.P)(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&(0,a.P)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),u=s.EMPTY;function c(e){return e instanceof s||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function l(e){(0,i.m)(e)?e():e.unsubscribe()}},64020:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},43806:function(e,t,n){"use strict";n.d(t,{a:function(){return g}});var r=n(68594),i=Array.isArray,o=Object.getPrototypeOf,a=Object.prototype,s=Object.keys,u=n(19184),c=n(69676),l=n(22970),A=n(77984),d=Array.isArray,f=n(26932),h=n(67394),p=n(90032);function g(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var p=(0,f.yG)(t),g=(0,f.jO)(t),m=function(e){if(1===e.length){var t=e[0];if(i(t))return{args:t,keys:null};if(t&&"object"==typeof t&&o(t)===a){var n=s(t);return{args:n.map(function(e){return t[e]}),keys:n}}}return{args:e,keys:null}}(t),y=m.args,b=m.keys;if(0===y.length)return(0,u.D)([],p);var w=new r.y((void 0===(e=b?function(e){return b.reduce(function(t,n,r){return t[n]=e[r],t},{})}:c.y)&&(e=c.y),function(t){v(p,function(){for(var n=y.length,r=Array(n),i=n,o=n,a=function(n){v(p,function(){var a=(0,u.D)(y[n],p),s=!1;a.subscribe((0,h.x)(t,function(i){r[n]=i,!s&&(s=!0,o--),o||t.next(e(r.slice()))},function(){--i||t.complete()}))},t)},s=0;s<n;s++)a(s)},t)}));return g?w.pipe((0,A.U)(function(e){return d(e)?g.apply(void 0,(0,l.__spreadArray)([],(0,l.__read)(e))):g(e)})):w}function v(e,t,n){e?(0,p.f)(n,e,t):t()}},4264:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(84309),i=n(26932),o=n(19184);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.J)(1)((0,o.D)(e,(0,i.yG)(e)))}},94707:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(68594),i=n(97674);function o(e){return new r.y(function(t){(0,i.Xf)(e()).subscribe(t)})}},20:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=new(n(68594)).y(function(e){return e.complete()})},19184:function(e,t,n){"use strict";n.d(t,{D:function(){return b}});var r=n(97674),i=n(90032),o=n(1118),a=n(67394);function s(e,t){return void 0===t&&(t=0),(0,o.e)(function(n,r){n.subscribe((0,a.x)(r,function(n){return(0,i.f)(r,e,function(){return r.next(n)},t)},function(){return(0,i.f)(r,e,function(){return r.complete()},t)},function(n){return(0,i.f)(r,e,function(){return r.error(n)},t)}))})}function u(e,t){return void 0===t&&(t=0),(0,o.e)(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}var c=n(68594),l=n(6149),A=n(59126);function d(e,t){if(!e)throw Error("Iterable cannot be null");return new c.y(function(n){(0,i.f)(n,t,function(){var r=e[Symbol.asyncIterator]();(0,i.f)(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}var f=n(31053),h=n(51856),p=n(9361),g=n(83651),v=n(41305),m=n(62085),y=n(42141);function b(e,t){return t?function(e,t){if(null!=e){if((0,f.c)(e))return(0,r.Xf)(e).pipe(u(t),s(t));if((0,p.z)(e))return new c.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if((0,h.t)(e))return(0,r.Xf)(e).pipe(u(t),s(t));if((0,v.D)(e))return d(e,t);if((0,g.T)(e))return new c.y(function(n){var r;return(0,i.f)(n,t,function(){r=e[l.h](),(0,i.f)(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){n.error(e);return}i?n.complete():n.next(t)},0,!0)}),function(){return(0,A.m)(null==r?void 0:r.return)&&r.return()}});if((0,y.L)(e))return d((0,y.Q)(e),t)}throw(0,m.z)(e)}(e,t):(0,r.Xf)(e)}},82808:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(94707);function i(e,t,n){return(0,r.P)(function(){return e()?t:n})}},97674:function(e,t,n){"use strict";n.d(t,{Xf:function(){return p}});var r=n(22970),i=n(9361),o=n(51856),a=n(68594),s=n(31053),u=n(41305),c=n(62085),l=n(83651),A=n(42141),d=n(59126),f=n(66278),h=n(34105);function p(e){if(e instanceof a.y)return e;if(null!=e){if((0,s.c)(e))return new a.y(function(t){var n=e[h.L]();if((0,d.m)(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(e))return new a.y(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if((0,o.t)(e))return new a.y(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,f.h)});if((0,u.D)(e))return g(e);if((0,l.T)(e))return new a.y(function(t){var n,i;try{for(var o=(0,r.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.complete()});if((0,A.L)(e))return g((0,A.Q)(e))}throw(0,c.z)(e)}function g(e){return new a.y(function(t){(function(e,t){var n,i,o,a;return(0,r.__awaiter)(this,void 0,void 0,function(){var s;return(0,r.__generator)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,r.__asyncValues)(e),u.label=1;case 1:return[4,n.next()];case 2:if((i=u.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o={error:u.sent()},[3,11];case 6:if(u.trys.push([6,,9,10]),!(i&&!i.done&&(a=n.return)))return[3,8];return[4,a.call(n)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},35120:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(26932),i=n(19184);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.yG)(e);return(0,i.D)(e,n)}},83746:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(68594),i=n(59126);function o(e,t){var n=(0,i.m)(e)?e:function(){return e},o=function(e){return e.error(n())};return new r.y(t?function(e){return t.schedule(o,0,e)}:o)}},47864:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(68594),i=n(9947),o=n(86670);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=i.P);var a=-1;return null!=t&&((0,o.K)(t)?n=t:a=t),new r.y(function(t){var r,i=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())},i)})}},67394:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(22970);function i(e,t,n,r,i){return new o(e,t,n,r,i)}var o=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,r.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(n(17080).Lv)},47009:function(e,t,n){"use strict";n.d(t,{K:function(){return function e(t){return(0,o.e)(function(n,o){var a,s=null,u=!1;s=n.subscribe((0,i.x)(o,void 0,void 0,function(i){a=(0,r.Xf)(t(i,e(t)(n))),s?(s.unsubscribe(),s=null,a.subscribe(o)):u=!0})),u&&(s.unsubscribe(),s=null,a.subscribe(o))})}}});var r=n(97674),i=n(67394),o=n(1118)},61938:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(9947),i=n(4264),o=n(56718),a=n(1118),s=n(67394),u=n(15562),c=n(77984),l=n(62355),A=n(97674),d=n(47864);function f(e,t){void 0===t&&(t=r.z);var n=(0,d.H)(e,t);return function e(t,n){return n?function(r){return(0,i.z)(n.pipe((0,o.q)(1),(0,a.e)(function(e,t){e.subscribe((0,s.x)(t,u.Z))})),r.pipe(e(t)))}:(0,l.z)(function(e,n){return(0,A.Xf)(t(e,n)).pipe((0,o.q)(1),(0,c.U)(function(){return e}))})}(function(){return n})}},39369:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(69676),i=n(1118),o=n(67394);function a(e,t){return void 0===t&&(t=r.y),e=null!=e?e:s,(0,i.e)(function(n,r){var i,a=!0;n.subscribe((0,o.x)(r,function(n){var o=t(n);(a||!e(i,o))&&(a=!1,i=o,r.next(n))}))})}function s(e,t){return e===t}},99054:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(1118),i=n(67394);function o(e,t){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){return e.call(t,n,o++)&&r.next(n)}))})}},51058:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=(0,n(5589).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),i=n(99054),o=n(56718),a=n(1118),s=n(67394),u=n(69676);function c(e,t){var n=arguments.length>=2;return function(c){var l;return c.pipe(e?(0,i.h)(function(t,n){return e(t,n,c)}):u.y,(0,o.q)(1),n?(0,a.e)(function(e,n){var r=!1;e.subscribe((0,s.x)(n,function(e){r=!0,n.next(e)},function(){r||n.next(t),n.complete()}))}):(l=function(){return new r},(0,a.e)(function(e,t){var n=!1;e.subscribe((0,s.x)(t,function(e){n=!0,t.next(e)},function(){return n?t.complete():t.error(l())}))})))}}},77984:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(1118),i=n(67394);function o(e,t){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){r.next(e.call(t,n,o++))}))})}},84309:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(62355),i=n(69676);function o(e){return void 0===e&&(e=1/0),(0,r.z)(i.y,e)}},62355:function(e,t,n){"use strict";n.d(t,{z:function(){return function e(t,n,u){return(void 0===u&&(u=1/0),(0,s.m)(n))?e(function(e,o){return(0,r.U)(function(t,r){return n(e,t,o,r)})((0,i.Xf)(t(e,o)))},u):("number"==typeof n&&(u=n),(0,o.e)(function(e,n){var r,o,s,c,l,A,d,f,h;return r=u,s=[],c=0,l=0,A=!1,d=function(){!A||s.length||c||n.complete()},f=function(e){return c<r?h(e):s.push(e)},h=function(e){c++;var u=!1;(0,i.Xf)(t(e,l++)).subscribe((0,a.x)(n,function(e){o?f(e):n.next(e)},function(){u=!0},void 0,function(){if(u)try{for(c--;s.length&&c<r;)!function(){var e=s.shift();h(e)}();d()}catch(e){n.error(e)}}))},e.subscribe((0,a.x)(n,f,function(){A=!0,d()})),function(){}}))}}});var r=n(77984),i=n(97674),o=n(1118),a=(n(90032),n(67394)),s=n(59126)},12335:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(97674),i=n(1118),o=n(67394);function a(e,t){return(0,i.e)(function(n,i){var a=null,s=0,u=!1,c=function(){return u&&!a&&i.complete()};n.subscribe((0,o.x)(i,function(n){null==a||a.unsubscribe();var u=0,l=s++;(0,r.Xf)(e(n,l)).subscribe(a=(0,o.x)(i,function(e){return i.next(t?t(n,e,l,u++):e)},function(){a=null,c()}))},function(){u=!0,c()}))})}},56718:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(20),i=n(1118),o=n(67394);function a(e){return e<=0?function(){return r.E}:(0,i.e)(function(t,n){var r=0;t.subscribe((0,o.x)(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},11348:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(59126),i=n(1118),o=n(67394),a=n(69676);function s(e,t,n){var s=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return s?(0,i.e)(function(e,t){null===(n=s.subscribe)||void 0===n||n.call(s);var n,r=!0;e.subscribe((0,o.x)(t,function(e){var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)},function(){var e;r=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var n;r=!1,null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)},function(){var e,t;r&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)}))}):a.y}},9947:function(e,t,n){"use strict";n.d(t,{P:function(){return A},z:function(){return l}});var r=n(22970),i=function(e){function t(t,n){return e.call(this)||this}return(0,r.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(93287).w0),o={setInterval:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=o.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,(0,r.__spreadArray)([e,t],(0,r.__read)(n))):setInterval.apply(void 0,(0,r.__spreadArray)([e,t],(0,r.__read)(n)))},clearInterval:function(e){var t=o.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},a=n(37990),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&o.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i),u={now:function(){return(u.delegate||Date).now()},delegate:void 0},c=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=u.now,e}(),l=new(function(e){function t(t,n){void 0===n&&(n=c.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,r.__extends)(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(c))(s),A=l},90561:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(22970),i={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,(0,r.__spreadArray)([e,t],(0,r.__read)(n))):setTimeout.apply(void 0,(0,r.__spreadArray)([e,t],(0,r.__read)(n)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},6149:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},34105:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},26932:function(e,t,n){"use strict";n.d(t,{_6:function(){return u},jO:function(){return a},yG:function(){return s}});var r=n(59126),i=n(86670);function o(e){return e[e.length-1]}function a(e){return(0,r.m)(o(e))?e.pop():void 0}function s(e){return(0,i.K)(o(e))?e.pop():void 0}function u(e,t){return"number"==typeof o(e)?e.pop():t}},37990:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},5589:function(e,t,n){"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},24831:function(e,t,n){"use strict";n.d(t,{O:function(){return a},x:function(){return o}});var r=n(64020),i=null;function o(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i,o=n.errorThrown,a=n.error;if(i=null,o)throw a}}else e()}function a(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},90032:function(e,t,n){"use strict";function r(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}n.d(t,{f:function(){return r}})},69676:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9361:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},41305:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(59126);function i(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},59126:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},31053:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(34105),i=n(59126);function o(e){return(0,i.m)(e[r.L])}},83651:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(6149),i=n(59126);function o(e){return(0,i.m)(null==e?void 0:e[r.h])}},51856:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(59126);function i(e){return(0,r.m)(null==e?void 0:e.then)}},42141:function(e,t,n){"use strict";n.d(t,{L:function(){return a},Q:function(){return o}});var r=n(22970),i=n(59126);function o(e){return(0,r.__asyncGenerator)(this,arguments,function(){var t,n,i;return(0,r.__generator)(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.__await)(t.read())];case 3:if(i=(n=o.sent()).value,!n.done)return[3,5];return[4,(0,r.__await)(void 0)];case 4:return[2,o.sent()];case 5:return[4,(0,r.__await)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function a(e){return(0,i.m)(null==e?void 0:e.getReader)}},86670:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(59126);function i(e){return e&&(0,r.m)(e.schedule)}},1118:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(59126);function i(e){return function(t){if((0,r.m)(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},15562:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},66278:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(64020),i=n(90561);function o(e){i.z.setTimeout(function(){var t=r.v.onUnhandledError;if(t)t(e);else throw e})}},62085:function(e,t,n){"use strict";function r(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:function(){return r}})},20672:function(e,t,n){"use strict";n.d(t,{MO:function(){return u},Ye:function(){return s}});var r=n(66439),i=n(12995),o={isHistory(e){return(0,r.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||i.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||i.OX.isOperationList(e.undos[0].operations))}};new WeakMap;var a=new WeakMap,s=new WeakMap,u={isHistoryEditor(e){return o.isHistory(e.history)&&i.ML.isEditor(e)},isMerging(e){return s.get(e)},isSaving(e){return a.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=u.isMerging(e);s.set(e,!1),t(),s.set(e,n)},withoutSaving(e,t){var n=u.isSaving(e);a.set(e,!1),t(),a.set(e,n)}}},85009:function(e,t,n){"use strict";n.d(t,{CX:function(){return tA},F3:function(){return eC},mH:function(){return tw},UE:function(){return tm},vt:function(){return eH},ui:function(){return eW},_7:function(){return eR},BU:function(){return tx}});var r=n(93636),i=/*#__PURE__*/n.n(r),o=n(54073),a=/*#__PURE__*/n.n(o),s=n(12436),u=/*#__PURE__*/n.n(s),c=n(2784);function l(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function A(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n,r=getComputedStyle(e,null);return A(r.overflowY,t)||A(r.overflowX,t)||!!(n=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1}function f(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function h(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!l(e))throw TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,A=[],h=e;l(h)&&u(h);){if((h=h.parentElement)===c){A.push(h);break}null!=h&&h===document.body&&d(h)&&!d(document.documentElement)||null!=h&&d(h,s)&&A.push(h)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),b=y.height,w=y.width,_=y.top,E=y.right,C=y.bottom,B=y.left,I="start"===i||"nearest"===i?_:"end"===i?C:_+b/2,x="center"===o?B+w/2:"end"===o?E:B,T=[],S=0;S<A.length;S++){var k=A[S],N=k.getBoundingClientRect(),D=N.height,O=N.width,R=N.top,F=N.right,L=N.bottom,P=N.left;if("if-needed"===r&&_>=0&&B>=0&&C<=g&&E<=p&&_>=R&&C<=L&&B>=P&&E<=F)break;var U=getComputedStyle(k),M=parseInt(U.borderLeftWidth,10),j=parseInt(U.borderTopWidth,10),Z=parseInt(U.borderRightWidth,10),Q=parseInt(U.borderBottomWidth,10),H=0,V=0,K="offsetWidth"in k?k.offsetWidth-k.clientWidth-M-Z:0,G="offsetHeight"in k?k.offsetHeight-k.clientHeight-j-Q:0;if(c===k)H="start"===i?I:"end"===i?I-g:"nearest"===i?f(m,m+g,g,j,Q,m+I,m+I+b,b):I-g/2,V="start"===o?x:"center"===o?x-p/2:"end"===o?x-p:f(v,v+p,p,M,Z,v+x,v+x+w,w),H=Math.max(0,H+m),V=Math.max(0,V+v);else{H="start"===i?I-R-j:"end"===i?I-L+Q+G:"nearest"===i?f(R,L,D,j,Q+G,I,I+b,b):I-(R+D/2)+G/2,V="start"===o?x-P-M:"center"===o?x-(P+O/2)+K/2:"end"===o?x-F+Z+K:f(P,F,O,M,Z+K,x,x+w,w);var z=k.scrollLeft,W=k.scrollTop;I+=W-(H=Math.max(0,Math.min(W+H,k.scrollHeight-D+G))),x+=z-(V=Math.max(0,Math.min(z+V,k.scrollWidth-O+K)))}T.push({el:k,top:H,left:V})}return T}function p(e){return e===Object(e)&&0!==Object.keys(e).length}var g=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(p(t)&&"function"==typeof t.behavior)return t.behavior(n?h(e,t):[]);if(n){var r=!1===t?{block:"end",inline:"nearest"}:p(t)?t:{block:"start",inline:"nearest"};return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)})}(h(e,r),r.behavior)}},v=n(12995),m=n(87202),y=n(28316);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _=0;class E{constructor(){this.id="".concat(_++)}}var C=new WeakMap,B=new WeakMap,I=new WeakMap,x=new WeakMap,T=new WeakMap,S=new WeakMap,k=new WeakMap,N=new WeakMap,D=new WeakMap,O=new WeakMap,R=new WeakMap,F=new WeakMap,L=new WeakMap,P=new WeakMap,U=new WeakMap,M=new WeakMap,j=new WeakMap,Z=new WeakMap,Q=new WeakMap,H=new WeakMap,V=new WeakMap,K=new WeakMap,G=Symbol("placeholder"),z=Symbol("mark-placeholder"),W=globalThis.Text,q=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Y=e=>X(e)&&8===e.nodeType,$=e=>X(e)&&1===e.nodeType,X=e=>{var t=q(e);return!!t&&e instanceof t.Node},J=e=>{var t=e&&e.anchorNode&&q(e.anchorNode);return!!t&&e instanceof t.Selection},ee=e=>X(e)&&3===e.nodeType,et=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,en=e=>{var[t,n]=e;if($(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=ei(t,i,r?"backward":"forward"),r=i<n;$(t)&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=eo(t,o,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]},er=e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},ei=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],o=t,a=!1,s=!1;(Y(i)||$(i)&&0===i.childNodes.length||$(i)&&"false"===i.getAttribute("contenteditable"))&&(!a||!s);){if(o>=r.length){a=!0,o=t-1,n="backward";continue}if(o<0){s=!0,o=t+1,n="forward";continue}i=r[o],t=o,o+="forward"===n?1:-1}return[i,t]},eo=(e,t,n)=>{var[r]=ei(e,t,n);return r},ea=e=>{var t="";if(ee(e)&&e.nodeValue)return e.nodeValue;if($(e)){for(var n of Array.from(e.childNodes))t+=ea(n);var r=getComputedStyle(e).getPropertyValue("display");("block"===r||"list"===r||"BR"===e.tagName)&&(t+="\n")}return t},es=/data-slate-fragment="(.+?)"/m,eu=e=>{var[,t]=e.getData("text/html").match(es)||[];return t},ec=(e,t,n)=>{var{target:r}=t;if($(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=eC.getWindow(e);if(i.contains(r))return eC.hasDOMNode(e,r,{editable:!0});var o=n.find(e=>{var{addedNodes:t,removedNodes:n}=e;for(var i of t)if(i===r||i.contains(r))return!0;for(var o of n)if(o===r||o.contains(r))return!0});return!!o&&o!==t&&ec(e,o,n)},el=parseInt(c.version.split(".")[0],10)>=17,eA="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ed="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),ef="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),eh="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ep="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),eg="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),ev="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),em="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),ey="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),eb="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),ew="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),e_=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),eE=!em&&!eg&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,eC={isComposing(e){return!!L.get(e)},getWindow(e){var t=I.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},findKey(e,t){var n=N.get(t);return n||(n=new E,N.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var i=B.get(r);if(null==i){if(v.ML.isEditor(r))return n;break}var o=C.get(r);if(null==o)break;n.unshift(o),r=i}throw Error("Unable to find the path for Slate node: ".concat(v.o4.stringify(t)))},findDocumentOrShadowRoot(e){var t=eC.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused(e){return!!F.get(e)},isReadOnly(e){return!!R.get(e)},blur(e){var t=eC.toDOMNode(e,e),n=eC.findDocumentOrShadowRoot(e);F.set(e,!1),n.activeElement===t&&t.blur()},focus(e){var t=eC.toDOMNode(e,e),n=eC.findDocumentOrShadowRoot(e);F.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=eC.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&v.YR.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,o=eC.toDOMNode(e,e);try{n=$(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===o&&(!i||!!n.isContentEditable||"boolean"==typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===o||!!n.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData(e,t){return e.insertFragmentData(t)},insertTextData(e,t){return e.insertTextData(t)},setFragmentData(e,t,n){e.setFragmentData(t,n)},toDOMNode(e,t){var n=D.get(e),r=v.ML.isEditor(t)?x.get(e):null==n?void 0:n.get(eC.findKey(e,t));if(!r)throw Error("Cannot resolve a DOM node from Slate node: ".concat(v.o4.stringify(t)));return r},toDOMPoint(e,t){var[n]=v.ML.node(e,t.path),r=eC.toDOMNode(e,n);v.ML.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),o=0,a=0;a<i.length;a++){var s=i[a],u=s.childNodes[0];if(null!=u&&null!=u.textContent){var{length:c}=u.textContent,l=s.getAttribute("data-slate-length"),A=o+(null==l?c:parseInt(l,10)),d=i[a+1];if(t.offset===A&&null!=d&&d.hasAttribute("data-slate-mark-placeholder")){var f,h,p=d.childNodes[0];f=[p instanceof W?p:d,null!==(h=d.textContent)&&void 0!==h&&h.startsWith("\uFEFF")?1:0];break}if(t.offset<=A){f=[u,Math.min(c,Math.max(0,t.offset-o))];break}o=A}}if(!f)throw Error("Cannot resolve a DOM point from Slate point: ".concat(v.o4.stringify(t)));return f},toDOMRange(e,t){var{anchor:n,focus:r}=t,i=v.e6.isBackward(t),o=eC.toDOMPoint(e,n),a=v.e6.isCollapsed(t)?o:eC.toDOMPoint(e,r),s=eC.getWindow(e).document.createRange(),[u,c]=i?a:o,[l,A]=i?o:a,d=!!($(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),f=!!($(l)?l:l.parentElement).getAttribute("data-slate-zero-width");return s.setStart(u,d?1:c),s.setEnd(l,f?1:A),s},toSlateNode(e,t){var n=$(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?S.get(n):null;if(!r)throw Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n,{clientX:r,clientY:i,target:o}=t;if(null==r||null==i)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=eC.toSlateNode(e,t.target),s=eC.findPath(e,a);if(v.ML.isVoid(e,a)){var u=o.getBoundingClientRect(),c=e.isInline(a)?r-u.left<u.left+u.width-r:i-u.top<u.top+u.height-i,l=v.ML.point(e,s,{edge:c?"start":"end"}),A=c?v.ML.before(e,l):v.ML.after(e,l);if(A)return v.ML.range(e,A)}var{document:d}=eC.getWindow(e);if(d.caretRangeFromPoint)n=d.caretRangeFromPoint(r,i);else{var f=d.caretPositionFromPoint(r,i);f&&((n=d.createRange()).setStart(f.offsetNode,f.offset),n.setEnd(f.offsetNode,f.offset))}if(!n)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return eC.toSlateRange(e,n,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,n){var{exactMatch:r,suppressThrow:i}=n,[o,a]=r?t:en(t),s=o.parentNode,u=null,c=0;if(s){var l,A,d=eC.toDOMNode(e,e),f=s.closest('[data-slate-void="true"]'),h=f&&d.contains(f)?f:null,p=s.closest("[data-slate-leaf]"),g=null;if(p){if(u=p.closest('[data-slate-node="text"]')){var m=eC.getWindow(e).document.createRange();m.setStart(u,0),m.setEnd(o,a);var y=m.cloneContents();[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(ef&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),c=y.textContent.length,g=u}}else if(h){for(var b=h.querySelectorAll("[data-slate-leaf]"),w=0;w<b.length;w++){var _=b[w];if(eC.hasDOMNode(e,_)){p=_;break}}p?(u=p.closest('[data-slate-node="text"]'),c=(g=p).textContent.length,g.querySelectorAll("[data-slate-zero-width]").forEach(e=>{c-=e.textContent.length})):c=1}g&&c===g.textContent.length&&ef&&"z"===g.getAttribute("data-slate-zero-width")&&null!==(l=g.textContent)&&void 0!==l&&l.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||eh&&null!==(A=g.textContent)&&void 0!==A&&A.endsWith("\n\n"))&&c--}if(ef&&!u&&!r){var E=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(E&&eC.hasDOMNode(e,E,{editable:!0})){var C=eC.toSlateNode(e,E),{path:B,offset:I}=v.ML.start(e,eC.findPath(e,C));return E.querySelector("[data-slate-leaf]")||(I=a),{path:B,offset:I}}}if(!u){if(i)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var x=eC.toSlateNode(e,u);return{path:eC.findPath(e,x),offset:c}},toSlateRange(e,t,n){var r,i,o,a,s,{exactMatch:u,suppressThrow:c}=n;if((J(t)?t.anchorNode:t.startContainer)&&(J(t)?(r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=ev&&er(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=t.collapsed)),null==r||null==o||null==i||null==a)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));var l=eC.toSlatePoint(e,[r,i],{exactMatch:u,suppressThrow:c});if(!l)return null;var A=s?l:eC.toSlatePoint(e,[o,a],{exactMatch:u,suppressThrow:c});if(!A)return null;var d={anchor:l,focus:A};return v.e6.isExpanded(d)&&v.e6.isForward(d)&&$(o)&&v.ML.void(e,{at:d.focus,mode:"highest"})&&(d=v.ML.unhangRange(e,d,{voids:!0})),d},hasRange(e,t){var{anchor:n,focus:r}=t;return v.ML.hasPath(e,n.path)&&v.ML.hasPath(e,r.path)},hasTarget(e,t){return X(t)&&eC.hasDOMNode(e,t)},hasEditableTarget(e,t){return X(t)&&eC.hasDOMNode(e,t,{editable:!0})},hasSelectableTarget(e,t){return eC.hasEditableTarget(e,t)||eC.isTargetInsideNonReadonlyVoid(e,t)},isTargetInsideNonReadonlyVoid(e,t){if(R.get(e))return!1;var n=eC.hasTarget(e,t)&&eC.toSlateNode(e,t);return v.ML.isVoid(e,n)},androidScheduleFlush(e){var t;null===(t=M.get(e))||void 0===t||t()},androidPendingDiffs(e){return Q.get(e)}},eB=e_?c.useLayoutEffect:c.useEffect,eI=["anchor","focus"],ex=["anchor","focus"],eT=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),eS=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],o=w(r,eI),a=w(i,ex);if(!v.e6.equals(r,i)||r[G]!==i[G]||!eT(o,a))return!1}return!0},ek=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,o=eR(),a=eC.findPath(o,i),s=v.y$.parent(a),u=!0===n[z];return o.isVoid(r)?/*#__PURE__*/c.createElement(eD,{length:v.NB.string(r).length}):""!==n.text||r.children[r.children.length-1]!==i||o.isInline(r)||""!==v.ML.string(o,s)?""===n.text?/*#__PURE__*/c.createElement(eD,{isMarkPlaceholder:u}):t&&"\n"===n.text.slice(-1)?/*#__PURE__*/c.createElement(eN,{isTrailing:!0,text:n.text}):/*#__PURE__*/c.createElement(eN,{text:n.text}):/*#__PURE__*/c.createElement(eD,{isLineBreak:!0,isMarkPlaceholder:u})},eN=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,c.useRef)(null),i=()=>"".concat(null!=t?t:"").concat(n?"\n":"");return(eB(()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)}),r.current)?/*#__PURE__*/c.createElement("span",{"data-slate-string":!0,ref:r}):/*#__PURE__*/c.createElement("span",{"data-slate-string":!0,ref:r},i())},eD=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),/*#__PURE__*/c.createElement("span",Object.assign({},i),ef&&n?null:"\uFEFF",n?/*#__PURE__*/c.createElement("br",null):null)},eO=/*#__PURE__*/(0,c.createContext)(null),eR=()=>{var e=(0,c.useContext)(eO);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},eF=/*#__PURE__*/c.memo(e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:o,renderLeaf:a=e=>/*#__PURE__*/c.createElement(eL,Object.assign({},e))}=e,s=(0,c.useRef)(null),u=eR(),l=(0,c.useRef)(null);(0,c.useEffect)(()=>()=>{l.current&&l.current.disconnect()},[]),(0,c.useEffect)(()=>{var e=null==s?void 0:s.current;if(e?T.set(u,e):T.delete(u),l.current?(l.current.disconnect(),e&&l.current.observe(e)):e&&(l.current=new ResizeObserver(e=>{var[{target:t}]=e,n=O.get(u);if(n){var r="".concat(t.clientHeight,"px");n.innerHTML=':where([data-slate-editor-id="'.concat(u.id,'"]) { min-height: ').concat(r,"; }")}}),l.current.observe(e)),!e){var t=O.get(u);t&&(t.innerHTML="")}return()=>{T.delete(u)}},[s,t]);var A=/*#__PURE__*/c.createElement(ek,{isLast:n,leaf:t,parent:i,text:r});if(t[G]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:s}};A=/*#__PURE__*/c.createElement(c.Fragment,null,o(d),A)}return a({attributes:{"data-slate-leaf":!0},children:A,leaf:t,text:r})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&v.xv.equals(t.leaf,e.leaf)&&t.leaf[G]===e.leaf[G]),eL=e=>{var{attributes:t,children:n}=e;return /*#__PURE__*/c.createElement("span",Object.assign({},t),n)},eP=/*#__PURE__*/c.memo(e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:o,text:a}=e,s=eR(),u=(0,c.useRef)(null),l=v.xv.decorations(a,t),A=eC.findKey(s,a),d=[],f=0;f<l.length;f++){var h=l[f];d.push(/*#__PURE__*/c.createElement(eF,{isLast:n&&f===l.length-1,key:"".concat(A.id,"-").concat(f),renderPlaceholder:i,leaf:h,text:a,parent:r,renderLeaf:o}))}return eB(()=>{var e=D.get(s);u.current?(null==e||e.set(A,u.current),k.set(a,u.current),S.set(u.current,a)):(null==e||e.delete(A),k.delete(a))}),/*#__PURE__*/c.createElement("span",{"data-slate-node":"text",ref:u},d)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&eS(t.decorations,e.decorations)),eU=/*#__PURE__*/c.memo(e=>{var{decorations:t,element:n,renderElement:r=e=>/*#__PURE__*/c.createElement(eM,Object.assign({},e)),renderPlaceholder:o,renderLeaf:a,selection:s}=e,u=eR(),l=eG(),A=u.isInline(n),d=eC.findKey(u,n),f=(0,c.useCallback)(e=>{var t=D.get(u);e?(null==t||t.set(d,e),k.set(n,e),S.set(e,n)):(null==t||t.delete(d),k.delete(n))},[u,d,n]),h=eV({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:s}),p={"data-slate-node":"element",ref:f};if(A&&(p["data-slate-inline"]=!0),!A&&v.ML.hasInlines(u,n)){var g=v.NB.string(n),m=i()(g);"rtl"===m&&(p.dir=m)}if(v.ML.isVoid(u,n)){p["data-slate-void"]=!0,!l&&A&&(p.contentEditable=!1);var[[y]]=v.NB.texts(n);h=/*#__PURE__*/c.createElement(A?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},/*#__PURE__*/c.createElement(eP,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:y})),C.set(y,0),B.set(y,n)}return r({attributes:p,children:h,element:n})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&eS(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&v.e6.equals(e.selection,t.selection))),eM=e=>{var{attributes:t,children:n,element:r}=e,i=eR().isInline(r)?"span":"div";return /*#__PURE__*/c.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},ej=/*#__PURE__*/(0,c.createContext)(()=>[]),eZ=()=>(0,c.useContext)(ej),eQ=/*#__PURE__*/(0,c.createContext)(!1),eH=()=>(0,c.useContext)(eQ),eV=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:a}=e,s=eZ(),u=eR(),l=eC.findPath(u,n),A=[],d=v.W_.isElement(n)&&!u.isInline(n)&&v.ML.hasInlines(u,n),f=0;f<n.children.length;f++){var h=l.concat(f),p=n.children[f],g=eC.findKey(u,p),m=v.ML.range(u,h),y=a&&v.e6.intersection(m,a),b=s([p,h]);for(var w of t){var _=v.e6.intersection(w,m);_&&b.push(_)}v.W_.isElement(p)?A.push(/*#__PURE__*/c.createElement(eQ.Provider,{key:"provider-".concat(g.id),value:!!y},/*#__PURE__*/c.createElement(eU,{decorations:b,element:p,key:g.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:y}))):A.push(/*#__PURE__*/c.createElement(eP,{decorations:b,key:g.id,isLast:d&&f===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:p})),C.set(p,f),B.set(p,n)}return A},eK=/*#__PURE__*/(0,c.createContext)(!1),eG=()=>(0,c.useContext)(eK),ez=/*#__PURE__*/(0,c.createContext)(null),eW=()=>{var e=(0,c.useContext)(ez);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},eq={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},eY={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},e$={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},eX=e=>{var t=eq[e],n=eY[e],r=e$[e],i=t&&(0,m.TB)(t),o=n&&(0,m.TB)(n),a=r&&(0,m.TB)(r);return e=>!!(i&&i(e)||ed&&o&&o(e)||!ed&&a&&a(e))},eJ={isBold:eX("bold"),isCompose:eX("compose"),isMoveBackward:eX("moveBackward"),isMoveForward:eX("moveForward"),isDeleteBackward:eX("deleteBackward"),isDeleteForward:eX("deleteForward"),isDeleteLineBackward:eX("deleteLineBackward"),isDeleteLineForward:eX("deleteLineForward"),isDeleteWordBackward:eX("deleteWordBackward"),isDeleteWordForward:eX("deleteWordForward"),isExtendBackward:eX("extendBackward"),isExtendForward:eX("extendForward"),isExtendLineBackward:eX("extendLineBackward"),isExtendLineForward:eX("extendLineForward"),isItalic:eX("italic"),isMoveLineBackward:eX("moveLineBackward"),isMoveLineForward:eX("moveLineForward"),isMoveWordBackward:eX("moveWordBackward"),isMoveWordForward:eX("moveWordForward"),isRedo:eX("redo"),isSoftBreak:eX("insertSoftBreak"),isSplitBlock:eX("splitBlock"),isTransposeCharacter:eX("transposeCharacter"),isUndo:eX("undo")},e0=(e,t)=>{var n=[],r=()=>{n=[]};return{registerMutations:r=>{if(t.current){var i=r.filter(t=>ec(e,t,r));n.push(...i)}},restoreDOM:function(){n.reverse().forEach(e=>{if("characterData"===e.type){e.target.textContent=e.oldValue;return}e.removedNodes.forEach(t=>{e.target.insertBefore(t,e.nextSibling)}),e.addedNodes.forEach(t=>{e.target.removeChild(t)})}),r()},clear:r}},e1={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class e2 extends c.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,e1)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=e0(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();return null!=i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i)),null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}e2.contextType=eO;var e4=ef?e2:e=>{var{children:t}=e;return /*#__PURE__*/c.createElement(c.Fragment,null,t)};function e3(e,t){var{start:n,end:r,text:i}=t,o=e.slice(n,r),a=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(o,i),s=Math.min(o.length-a,i.length-a),u=function(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}(o,i,s),c={start:n+a,end:r-u,text:i.slice(a,i.length-u)};return c.start===c.end&&0===c.text.length?null:c}function e5(e,t){var{path:n,offset:r}=t;if(!v.ML.hasPath(e,n))return null;var i=v.NB.get(e,n);if(!v.xv.isText(i))return null;var o=v.ML.above(e,{match:t=>v.ML.isBlock(e,t),at:n});if(!o)return null;for(;r>i.text.length;){var a=v.ML.next(e,{at:n,match:v.xv.isText});if(!a||!v.y$.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function e6(e,t){var n=e5(e,t.anchor);if(!n)return null;if(v.e6.isCollapsed(t))return{anchor:n,focus:n};var r=e5(e,t.focus);return r?{anchor:n,focus:r}:null}function e8(e,t,n){var r=Q.get(e),i=null==r?void 0:r.find(e=>{var{path:n}=e;return v.y$.equals(n,t.path)});if(!i||t.offset<=i.diff.start)return v.E9.transform(t,n,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var a={path:t.path,offset:o.start},s=v.E9.transform(a,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-o.start}:null}var u={path:t.path,offset:t.offset-o.text.length+o.end-o.start},c=v.E9.transform(u,n,{affinity:"backward"});return c?"split_node"===n.type&&v.y$.equals(n.path,t.path)&&u.offset<n.position&&o.start<n.position?c:{path:c.path,offset:c.offset+o.text.length-o.end+o.start}:null}function e9(e,t,n){var r=e8(e,t.anchor,n);if(!r)return null;if(v.e6.isCollapsed(t))return{anchor:r,focus:r};var i=e8(e,t.focus,n);return i?{anchor:r,focus:i}:null}function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tt=function(){},tn=["node"];function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ti={subtree:!0,childList:!0,characterData:!0},to=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],ta=["text"];function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tc=e=>/*#__PURE__*/c.createElement(c.Fragment,null,eV(e)),tl=0,tA=e=>{var t,n,r,o,{autoFocus:s,decorate:l=tf,onDOMBeforeInput:A,placeholder:d,readOnly:f=!1,renderElement:h,renderLeaf:p,renderPlaceholder:g=e=>/*#__PURE__*/c.createElement(td,Object.assign({},e)),scrollSelectionIntoView:m=th,style:y={},as:_="div"}=e,E=w(e,to),C=eW(),[B,N]=(0,c.useState)(!1),D=(0,c.useRef)(null),U=(0,c.useRef)([]),{onUserInput:W,receivedUserInput:Y}=(t=eR(),n=(0,c.useRef)(!1),r=(0,c.useRef)(0),o=(0,c.useCallback)(()=>{if(!n.current){n.current=!0;var e=eC.getWindow(t);e.cancelAnimationFrame(r.current),r.current=e.requestAnimationFrame(()=>{n.current=!1})}},[]),(0,c.useEffect)(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:n,onUserInput:o}),[,ee]=(0,c.useReducer)(e=>e+1,0);K.set(C,ee),R.set(C,f);var en=(0,c.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,c.useEffect)(()=>{D.current&&s&&D.current.focus()},[s]);var er=(0,c.useCallback)(u()(()=>{if((ef||!eC.isComposing(C))&&(!en.isUpdatingSelection||null!=eo&&eo.isFlushing())&&!en.isDraggingInternally){var e=eC.findDocumentOrShadowRoot(C),{activeElement:t}=e,n=eC.toDOMNode(C,C),r=e.getSelection();if(t===n?(en.latestElement=t,F.set(C,!0)):F.delete(C),!r)return v.YR.deselect(C);var{anchorNode:i,focusNode:o}=r,a=eC.hasEditableTarget(C,i)||eC.isTargetInsideNonReadonlyVoid(C,i),s=eC.hasEditableTarget(C,o)||eC.isTargetInsideNonReadonlyVoid(C,o);if(a&&s){var u=eC.toSlateRange(C,r,{exactMatch:!1,suppressThrow:!0});u&&(eC.isComposing(C)||null!=eo&&eo.hasPendingChanges()||null!=eo&&eo.isFlushing()?null==eo||eo.handleUserSelect(u):v.YR.select(C,u))}!f||a&&s||v.YR.deselect(C)}},100),[f]),ei=(0,c.useMemo)(()=>a()(er,0),[er]),eo=function(e){var t,{node:n}=e,r=w(e,tn);if(!ef)return null;var i=eR(),o=(t=(0,c.useRef)(!1),(0,c.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current),[a]=(0,c.useState)(()=>(function(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,o=null,a=null,s=null,u=0,c=!1,l=()=>{var e=V.get(t);if(V.delete(t),e){var{selection:n}=t,r=e6(t,e);!r||n&&v.e6.equals(r,n)||v.YR.select(t,r)}},A=()=>{var e=H.get(t);if(H.delete(t),e){if(e.at){var n=v.E9.isPoint(e.at)?e5(t,e.at):e6(t,e.at);if(!n)return;var r=v.ML.range(t,n);t.selection&&v.e6.equals(t.selection,r)||v.YR.select(t,n)}e.run()}},d=()=>{if(a&&(clearTimeout(a),a=null),s&&(clearTimeout(s),s=null),!m()&&!g()){l();return}i||(i=!0,setTimeout(()=>i=!1)),g()&&(i="action");var e=t.selection&&v.ML.rangeRef(t,t.selection,{affinity:"forward"});Z.set(t,t.marks),tt("flush",H.get(t),Q.get(t));for(var o=!!(null!==(u=Q.get(t))&&void 0!==u&&u.length);d=null===(f=Q.get(t))||void 0===f?void 0:f[0];){var u,d,f,h,p=j.get(t);void 0!==p&&(j.delete(t),t.marks=p),p&&!1===c&&(c=null);var y=function(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}(d);t.selection&&v.e6.equals(t.selection,y)||v.YR.select(t,y),d.diff.text?v.ML.insertText(t,d.diff.text):v.ML.deleteFragment(t),Q.set(t,null===(h=Q.get(t))||void 0===h?void 0:h.filter(e=>{var{id:t}=e;return t!==d.id})),!function(e,t){var{path:n,diff:r}=t;if(!v.ML.hasPath(e,n))return!1;var i=v.NB.get(e,n);if(!v.xv.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var o=v.y$.next(n);if(!v.ML.hasPath(e,o))return!1;var a=v.NB.get(e,o);return v.xv.isText(a)&&a.text.startsWith(r.text)}(t,d)&&(o=!1,H.delete(t),Z.delete(t),i="action",V.delete(t),n.cancel(),r.cancel(),null==e||e.unref())}var b=null==e?void 0:e.unref();if(!b||V.get(t)||t.selection&&v.e6.equals(b,t.selection)||v.YR.select(t,b),g()){A();return}o&&n(),n.flush(),r.flush(),l();var w=Z.get(t);Z.delete(t),void 0!==w&&(t.marks=w,t.onChange())},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=T.get(t);if(n){if(m()||e){n.style.display="none";return}n.style.removeProperty("display")}},h=(e,n)=>{var r,i,o,a,s,c,l,A,d=null!==(A=Q.get(t))&&void 0!==A?A:[];Q.set(t,d);var h=v.NB.leaf(t,e),p=d.findIndex(t=>v.y$.equals(t.path,e));if(p<0){e3(h.text,n)&&d.push({path:e,diff:n,id:u++}),f();return}var g=(r=h.text,o=Math.min((i=d[p].diff).start,n.start),a=Math.max(0,Math.min(i.start+i.text.length,n.end)-n.start),s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end),e)}(r,i,n),c=Math.max(n.start+n.text.length,i.start+i.text.length+(i.start+i.text.length>n.start?n.text.length:0)-a),l=s.slice(o,c),e3(r,{start:o,end:Math.max(i.end,n.end-i.text.length+(i.end-i.start)),text:l}));if(!g){d.splice(p,1),f();return}d[p]=te(te({},d[p]),{},{diff:g})},p=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c=!1,V.delete(t),n.cancel(),r.cancel(),g()&&d(),H.set(t,{at:i,run:e}),s=setTimeout(d)},g=()=>!!H.get(t),m=()=>{var e;return!!(null!==(e=Q.get(t))&&void 0!==e&&e.length)},y=()=>{g()||(s=setTimeout(d))};return{flush:d,scheduleFlush:y,hasPendingDiffs:m,hasPendingAction:g,hasPendingChanges:()=>g()||m(),isFlushing:()=>i,handleUserSelect:e=>{V.set(t,e),a&&(clearTimeout(a),a=null);var{selection:n}=t;if(e){var r=!n||!v.y$.equals(n.anchor.path,e.anchor.path),i=!n||!v.y$.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&c||i)&&(c=!1),(r||!m())&&(a=setTimeout(d,200))}},handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout(()=>{L.set(t,!1),d()},25)},handleCompositionStart:e=>{L.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{a&&(clearTimeout(a),a=null);var{inputType:n}=e,r=null,i=e.dataTransfer||e.data||void 0;!1!==c&&"insertText"!==n&&"insertCompositionText"!==n&&(c=!1);var[o]=e.getTargetRanges();o&&(r=eC.toSlateRange(t,o,{exactMatch:!1,suppressThrow:!0}));var s=eC.getWindow(t).getSelection();if(!r&&s&&(o=s,r=eC.toSlateRange(t,s,{exactMatch:!1,suppressThrow:!0})),r=null!==(w=r)&&void 0!==w?w:t.selection){if(v.e6.isExpanded(r)&&n.startsWith("delete")){var[u,l]=v.e6.edges(r);if(v.NB.leaf(t,u.path).text.length===u.offset&&0===l.offset){var A=v.ML.next(t,{at:u.path,match:v.xv.isText});A&&v.y$.equals(A[1],l.path)&&(r={anchor:l,focus:l})}}if(v.e6.isExpanded(r)&&n.startsWith("delete")){if(v.y$.equals(r.anchor.path,r.focus.path)){var[d,f]=v.e6.edges(r);return h(r.anchor.path,{text:"",end:f.offset,start:d.offset})}var g=n.endsWith("Backward")?"backward":"forward";return p(()=>v.ML.deleteFragment(t,{direction:g}),{at:r})}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>v.ML.deleteFragment(t),{at:r});case"deleteContent":case"deleteContentForward":var{anchor:m}=r;if(v.e6.isCollapsed(r)){var b=v.NB.leaf(t,m.path);if(m.offset<b.text.length)return h(m.path,{text:"",start:m.offset,end:m.offset+1})}return p(()=>v.ML.deleteForward(t),{at:r});case"deleteContentBackward":var w,_,{anchor:E}=r;if((J(o)?o.isCollapsed:!!(null!==(_=o)&&void 0!==_&&_.collapsed))&&v.e6.isCollapsed(r)&&E.offset>0)return h(E.path,{text:"",start:E.offset-1,end:E.offset});return p(()=>v.ML.deleteBackward(t),{at:r});case"deleteEntireSoftLine":return p(()=>{v.ML.deleteBackward(t,{unit:"line"}),v.ML.deleteForward(t,{unit:"line"})},{at:r});case"deleteHardLineBackward":return p(()=>v.ML.deleteBackward(t,{unit:"block"}),{at:r});case"deleteSoftLineBackward":return p(()=>v.ML.deleteBackward(t,{unit:"line"}),{at:r});case"deleteHardLineForward":return p(()=>v.ML.deleteForward(t,{unit:"block"}),{at:r});case"deleteSoftLineForward":return p(()=>v.ML.deleteForward(t,{unit:"line"}),{at:r});case"deleteWordBackward":return p(()=>v.ML.deleteBackward(t,{unit:"word"}),{at:r});case"deleteWordForward":return p(()=>v.ML.deleteForward(t,{unit:"word"}),{at:r});case"insertLineBreak":return p(()=>v.ML.insertSoftBreak(t),{at:r});case"insertParagraph":return p(()=>v.ML.insertBreak(t),{at:r});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if((null==i?void 0:i.constructor.name)==="DataTransfer")return p(()=>eC.insertData(t,i),{at:r});if("string"==typeof i&&i.includes("\n"))return p(()=>v.ML.insertSoftBreak(t),{at:v.e6.end(r)});var C=null!=i?i:"";if(j.get(t)&&(C=C.replace("\uFEFF","")),v.y$.equals(r.anchor.path,r.focus.path)){var[B,I]=v.e6.edges(r),x={start:B.offset,end:I.offset,text:C};if(C&&c&&"insertCompositionText"===n){var T=c.start+c.text.search(/\S|$/);x.start+x.text.search(/\S|$/)===T+1&&x.end===c.start+c.text.length?(x.start-=1,c=null,y()):c=!1}else c="insertText"===n&&(null===c?x:!!(c&&v.e6.isCollapsed(r))&&c.end+c.text.length===B.offset&&te(te({},c),{},{text:c.text+C}));h(B.path,x);return}return p(()=>v.ML.insertText(t,C),{at:r})}}},handleKeyDown:e=>{m()||(f(!0),setTimeout(f))},handleDomMutations:e=>{if(!(m()||g())&&e.some(n=>ec(t,n,e))){var n;null===(n=K.get(t))||void 0===n||n()}},handleInput:()=>{(g()||!m())&&d()}}})(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({editor:i},r)));return!function(e,t,n){var[r]=(0,c.useState)(()=>new MutationObserver(t));eB(()=>{r.takeRecords()}),(0,c.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[])}(n,a.handleDomMutations,ti),M.set(i,a.scheduleFlush),o&&a.flush(),a}({node:D,onDOMSelectionChange:er,scheduleOnDOMSelectionChange:ei});eB(()=>{D.current&&(e=q(D.current))?(I.set(C,e),x.set(C,D.current),k.set(C,D.current),S.set(D.current,C)):k.delete(C);var e,{selection:t}=C,n=eC.findDocumentOrShadowRoot(C).getSelection();if(!(!n||!eC.isFocused(C)||null!=eo&&eo.hasPendingAction())){var r=e=>{var r="None"!==n.type;if(t||r){var i=x.get(C),o=!1;if(i.contains(n.anchorNode)&&i.contains(n.focusNode)&&(o=!0),r&&o&&t&&!e){var a=eC.toSlateRange(C,n,{exactMatch:!0,suppressThrow:!0});if(a&&v.e6.equals(a,t)){if(!en.hasMarkPlaceholder)return;var s,{anchorNode:u}=n;if(null!=u&&null!==(s=u.parentElement)&&void 0!==s&&s.hasAttribute("data-slate-mark-placeholder"))return}}if(t&&!eC.hasRange(C,t)){C.selection=eC.toSlateRange(C,n,{exactMatch:!1,suppressThrow:!0});return}en.isUpdatingSelection=!0;var c=t&&eC.toDOMRange(C,t);return c?(v.e6.isBackward(t)?n.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):n.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset),m(C,c)):n.removeAllRanges(),c}},i=r(),o=(null==eo?void 0:eo.isFlushing())==="action";if(!ef||!o){setTimeout(()=>{i&&eh&&eC.toDOMNode(C,C).focus(),en.isUpdatingSelection=!1});return}var a=null,s=requestAnimationFrame(()=>{if(o){var e=e=>{try{eC.toDOMNode(C,C).focus(),r(e)}catch(e){}};e(),a=setTimeout(()=>{e(!0),en.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(s),a&&clearTimeout(a)}}});var ea=(0,c.useCallback)(e=>{if(W(),!f&&eC.hasEditableTarget(C,e.target)&&!tg(e,A)){if(eo)return eo.handleDOMBeforeInput(e);ei.flush(),er.flush();var{selection:t}=C,{inputType:n}=e,r=e.dataTransfer||e.data||void 0,i="insertCompositionText"===n||"deleteCompositionText"===n;if(!(i&&eC.isComposing(C))){var o=!1;if("insertText"===n&&t&&v.e6.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){o=!0,C.marks&&(o=!1);var{anchor:a}=t,[s,u]=eC.toDOMPoint(C,a),c=null===(h=s.parentElement)||void 0===h?void 0:h.closest("a"),l=eC.getWindow(C);if(o&&c&&eC.hasDOMNode(C,c)){var d,h,p,g,m=null==l?void 0:l.document.createTreeWalker(c,NodeFilter.SHOW_TEXT).lastChild();m===s&&(null===(g=m.textContent)||void 0===g?void 0:g.length)===u&&(o=!1)}if(o&&s.parentElement&&(null==l?void 0:null===(p=l.getComputedStyle(s.parentElement))||void 0===p?void 0:p.whiteSpace)==="pre"){var y=v.ML.above(C,{at:a.path,match:e=>v.ML.isBlock(C,e)});y&&v.NB.string(y[0]).includes("	")&&(o=!1)}}if(!n.startsWith("delete")||n.startsWith("deleteBy")){var[b]=e.getTargetRanges();if(b){var w=eC.toSlateRange(C,b,{exactMatch:!1,suppressThrow:!1});if(!t||!v.e6.equals(t,w)){o=!1;var _=!i&&C.selection&&v.ML.rangeRef(C,C.selection);v.YR.select(C,w),_&&P.set(C,_)}}}if(!i){if(o||e.preventDefault(),t&&v.e6.isExpanded(t)&&n.startsWith("delete")){var E=n.endsWith("Backward")?"backward":"forward";v.ML.deleteFragment(C,{direction:E});return}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":v.ML.deleteFragment(C);break;case"deleteContent":case"deleteContentForward":v.ML.deleteForward(C);break;case"deleteContentBackward":v.ML.deleteBackward(C);break;case"deleteEntireSoftLine":v.ML.deleteBackward(C,{unit:"line"}),v.ML.deleteForward(C,{unit:"line"});break;case"deleteHardLineBackward":v.ML.deleteBackward(C,{unit:"block"});break;case"deleteSoftLineBackward":v.ML.deleteBackward(C,{unit:"line"});break;case"deleteHardLineForward":v.ML.deleteForward(C,{unit:"block"});break;case"deleteSoftLineForward":v.ML.deleteForward(C,{unit:"line"});break;case"deleteWordBackward":v.ML.deleteBackward(C,{unit:"word"});break;case"deleteWordForward":v.ML.deleteForward(C,{unit:"word"});break;case"insertLineBreak":v.ML.insertSoftBreak(C);break;case"insertParagraph":v.ML.insertBreak(C);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===n&&eC.isComposing(C)&&(N(!1),L.set(C,!1)),(null==r?void 0:r.constructor.name)==="DataTransfer"?eC.insertData(C,r):"string"==typeof r&&(o?U.current.push(()=>v.ML.insertText(C,r)):v.ML.insertText(C,r))}var B=null===(d=P.get(C))||void 0===d?void 0:d.unref();P.delete(C),!B||C.selection&&v.e6.equals(C.selection,B)||v.YR.select(C,B)}}}},[f,A]);eB(()=>(D.current&&eE&&D.current.addEventListener("beforeinput",ea),()=>{D.current&&eE&&D.current.removeEventListener("beforeinput",ea)}),[ea]),eB(()=>{var e=eC.getWindow(C);return e.document.addEventListener("selectionchange",ei),()=>{e.document.removeEventListener("selectionchange",ei)}},[ei]);var es=l([C,[]]);if(d&&1===C.children.length&&1===Array.from(v.NB.texts(C)).length&&""===v.NB.string(C)&&!B){var eu=v.ML.start(C,[]);es.push({[G]:!0,placeholder:d,anchor:eu,focus:eu})}var{marks:el}=C;if(en.hasMarkPlaceholder=!1,C.selection&&v.e6.isCollapsed(C.selection)&&el){var{anchor:ed}=C.selection,eg=v.NB.leaf(C,ed.path),em=w(eg,ta);if(!v.xv.equals(eg,el,{loose:!0})){en.hasMarkPlaceholder=!0;var eI=Object.fromEntries(Object.keys(em).map(e=>[e,null]));es.push(tu(tu(tu({[z]:!0},eI),el),{},{anchor:ed,focus:ed}))}}return(0,c.useEffect)(()=>{setTimeout(()=>{var{selection:e}=C;if(e){var{anchor:t}=e,n=v.NB.leaf(C,t.path);if(el&&!v.xv.equals(n,el,{loose:!0})){j.set(C,el);return}}j.delete(C)})}),(0,c.useEffect)(()=>{if(1==++tl){var e=document.createElement("style");e.setAttribute("data-slate-default-styles","true"),e.innerHTML=":where([data-slate-editor]) {position: relative;outline: none;white-space: pre-wrap;word-wrap: break-word;}",document.head.appendChild(e)}return()=>{var e;--tl<=0&&(null===(e=document.querySelector("style[data-slate-default-styles]"))||void 0===e||e.remove())}},[]),(0,c.useEffect)(()=>{var e=document.createElement("style");return document.head.appendChild(e),O.set(C,e),()=>{e.remove(),O.delete(C)}},[]),/*#__PURE__*/c.createElement(eK.Provider,{value:f},/*#__PURE__*/c.createElement(ej.Provider,{value:l},/*#__PURE__*/c.createElement(e4,{node:D,receivedUserInput:Y},/*#__PURE__*/c.createElement(_,Object.assign({role:f?void 0:"textbox","aria-multiline":!f||void 0},E,{spellCheck:(!!eE||!e_)&&E.spellCheck,autoCorrect:eE||!e_?E.autoCorrect:"false",autoCapitalize:eE||!e_?E.autoCapitalize:"false","data-slate-editor":!0,"data-slate-editor-id":C.id,"data-slate-node":"value",contentEditable:!f,zindex:-1,suppressContentEditableWarning:!0,ref:D,style:y,onBeforeInput:(0,c.useCallback)(e=>{if(!eE&&!f&&!tp(e,E.onBeforeInput)&&eC.hasSelectableTarget(C,e.target)&&(e.preventDefault(),!eC.isComposing(C))){var t=e.data;v.ML.insertText(C,t)}},[f]),onInput:(0,c.useCallback)(e=>{if(eo){eo.handleInput();return}for(var t of U.current)t();U.current=[]},[]),onBlur:(0,c.useCallback)(e=>{if(!(f||en.isUpdatingSelection||!eC.hasSelectableTarget(C,e.target)||tp(e,E.onBlur))){var t=eC.findDocumentOrShadowRoot(C);if(en.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(!(n===eC.toDOMNode(C,C)||$(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&X(n)&&eC.hasDOMNode(C,n)){var r=eC.toSlateNode(C,n);if(v.W_.isElement(r)&&!C.isVoid(r))return}if(ep){var i=t.getSelection();null==i||i.removeAllRanges()}F.delete(C)}}}},[f,E.onBlur]),onClick:(0,c.useCallback)(e=>{if(eC.hasTarget(C,e.target)&&!tp(e,E.onClick)&&X(e.target)){var t=eC.toSlateNode(C,e.target),n=eC.findPath(C,t);if(v.ML.hasPath(C,n)&&v.NB.get(C,n)===t){if(3===e.detail&&n.length>=1){var r=n;if(!v.ML.isBlock(C,t)){var i,o=v.ML.above(C,{match:e=>v.ML.isBlock(C,e),at:n});r=null!==(i=null==o?void 0:o[1])&&void 0!==i?i:n.slice(0,1)}var a=v.ML.range(C,r);v.YR.select(C,a);return}if(!f){var s=v.ML.start(C,n),u=v.ML.end(C,n),c=v.ML.void(C,{at:s}),l=v.ML.void(C,{at:u});if(c&&l&&v.y$.equals(c[1],l[1])){var A=v.ML.range(C,s);v.YR.select(C,A)}}}}},[f,E.onClick]),onCompositionEnd:(0,c.useCallback)(e=>{if(eC.hasSelectableTarget(C,e.target)&&(eC.isComposing(C)&&(N(!1),L.set(C,!1)),null==eo||eo.handleCompositionEnd(e),!tp(e,E.onCompositionEnd)&&!ef&&!ep&&!ey&&!eA&&!ew&&!eb&&e.data)){var t=j.get(C);j.delete(C),void 0!==t&&(Z.set(C,C.marks),C.marks=t),v.ML.insertText(C,e.data);var n=Z.get(C);Z.delete(C),void 0!==n&&(C.marks=n)}},[E.onCompositionEnd]),onCompositionUpdate:(0,c.useCallback)(e=>{!eC.hasSelectableTarget(C,e.target)||tp(e,E.onCompositionUpdate)||eC.isComposing(C)||(N(!0),L.set(C,!0))},[E.onCompositionUpdate]),onCompositionStart:(0,c.useCallback)(e=>{if(eC.hasSelectableTarget(C,e.target)&&(null==eo||eo.handleCompositionStart(e),!tp(e,E.onCompositionStart)&&!ef)){N(!0);var{selection:t}=C;if(t){if(v.e6.isExpanded(t)){v.ML.deleteFragment(C);return}var n=v.ML.above(C,{match:e=>v.ML.isInline(C,e),mode:"highest"});if(n){var[,r]=n;if(v.ML.isEnd(C,t.anchor,r)){var i=v.ML.after(C,r);v.YR.setSelection(C,{anchor:i,focus:i})}}}}},[E.onCompositionStart]),onCopy:(0,c.useCallback)(e=>{eC.hasSelectableTarget(C,e.target)&&!tp(e,E.onCopy)&&(e.preventDefault(),eC.setFragmentData(C,e.clipboardData,"copy"))},[E.onCopy]),onCut:(0,c.useCallback)(e=>{if(!f&&eC.hasSelectableTarget(C,e.target)&&!tp(e,E.onCut)){e.preventDefault(),eC.setFragmentData(C,e.clipboardData,"cut");var{selection:t}=C;if(t){if(v.e6.isExpanded(t))v.ML.deleteFragment(C);else{var n=v.NB.parent(C,t.anchor.path);v.ML.isVoid(C,n)&&v.YR.delete(C)}}}},[f,E.onCut]),onDragOver:(0,c.useCallback)(e=>{if(eC.hasTarget(C,e.target)&&!tp(e,E.onDragOver)){var t=eC.toSlateNode(C,e.target);v.ML.isVoid(C,t)&&e.preventDefault()}},[E.onDragOver]),onDragStart:(0,c.useCallback)(e=>{if(!f&&eC.hasTarget(C,e.target)&&!tp(e,E.onDragStart)){var t=eC.toSlateNode(C,e.target),n=eC.findPath(C,t);if(v.ML.isVoid(C,t)||v.ML.void(C,{at:n,voids:!0})){var r=v.ML.range(C,n);v.YR.select(C,r)}en.isDraggingInternally=!0,eC.setFragmentData(C,e.dataTransfer,"drag")}},[f,E.onDragStart]),onDrop:(0,c.useCallback)(e=>{if(!f&&eC.hasTarget(C,e.target)&&!tp(e,E.onDrop)){e.preventDefault();var t=C.selection,n=eC.findEventRange(C,e),r=e.dataTransfer;v.YR.select(C,n),en.isDraggingInternally&&t&&!v.e6.equals(t,n)&&!v.ML.void(C,{at:n,voids:!0})&&v.YR.delete(C,{at:t}),eC.insertData(C,r),eC.isFocused(C)||eC.focus(C)}en.isDraggingInternally=!1},[f,E.onDrop]),onDragEnd:(0,c.useCallback)(e=>{!f&&en.isDraggingInternally&&E.onDragEnd&&eC.hasTarget(C,e.target)&&E.onDragEnd(e),en.isDraggingInternally=!1},[f,E.onDragEnd]),onFocus:(0,c.useCallback)(e=>{if(!f&&!en.isUpdatingSelection&&eC.hasEditableTarget(C,e.target)&&!tp(e,E.onFocus)){var t=eC.toDOMNode(C,C),n=eC.findDocumentOrShadowRoot(C);if(en.latestElement=n.activeElement,eh&&e.target!==t){t.focus();return}F.set(C,!0)}},[f,E.onFocus]),onKeyDown:(0,c.useCallback)(e=>{if(!f&&eC.hasEditableTarget(C,e.target)){null==eo||eo.handleKeyDown(e);var{nativeEvent:t}=e;if(eC.isComposing(C)&&!1===t.isComposing&&(L.set(C,!1),N(!1)),!(tp(e,E.onKeyDown)||eC.isComposing(C))){var{selection:n}=C,r=C.children[null!==n?n.focus.path[0]:0],o="rtl"===i()(v.NB.string(r));if(eJ.isRedo(t)){e.preventDefault(),"function"==typeof C.redo&&C.redo();return}if(eJ.isUndo(t)){e.preventDefault(),"function"==typeof C.undo&&C.undo();return}if(eJ.isMoveLineBackward(t)){e.preventDefault(),v.YR.move(C,{unit:"line",reverse:!0});return}if(eJ.isMoveLineForward(t)){e.preventDefault(),v.YR.move(C,{unit:"line"});return}if(eJ.isExtendLineBackward(t)){e.preventDefault(),v.YR.move(C,{unit:"line",edge:"focus",reverse:!0});return}if(eJ.isExtendLineForward(t)){e.preventDefault(),v.YR.move(C,{unit:"line",edge:"focus"});return}if(eJ.isMoveBackward(t)){e.preventDefault(),n&&v.e6.isCollapsed(n)?v.YR.move(C,{reverse:!o}):v.YR.collapse(C,{edge:"start"});return}if(eJ.isMoveForward(t)){e.preventDefault(),n&&v.e6.isCollapsed(n)?v.YR.move(C,{reverse:o}):v.YR.collapse(C,{edge:"end"});return}if(eJ.isMoveWordBackward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)&&v.YR.collapse(C,{edge:"focus"}),v.YR.move(C,{unit:"word",reverse:!o});return}if(eJ.isMoveWordForward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)&&v.YR.collapse(C,{edge:"focus"}),v.YR.move(C,{unit:"word",reverse:o});return}if(eE){if((ev||ep)&&n&&(eJ.isDeleteBackward(t)||eJ.isDeleteForward(t))&&v.e6.isCollapsed(n)){var a=v.NB.parent(C,n.anchor.path);if(v.W_.isElement(a)&&v.ML.isVoid(C,a)&&(v.ML.isInline(C,a)||v.ML.isBlock(C,a))){e.preventDefault(),v.ML.deleteBackward(C,{unit:"block"});return}}}else{if(eJ.isBold(t)||eJ.isItalic(t)||eJ.isTransposeCharacter(t)){e.preventDefault();return}if(eJ.isSoftBreak(t)){e.preventDefault(),v.ML.insertSoftBreak(C);return}if(eJ.isSplitBlock(t)){e.preventDefault(),v.ML.insertBreak(C);return}if(eJ.isDeleteBackward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"backward"}):v.ML.deleteBackward(C);return}if(eJ.isDeleteForward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"forward"}):v.ML.deleteForward(C);return}if(eJ.isDeleteLineBackward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"backward"}):v.ML.deleteBackward(C,{unit:"line"});return}if(eJ.isDeleteLineForward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"forward"}):v.ML.deleteForward(C,{unit:"line"});return}if(eJ.isDeleteWordBackward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"backward"}):v.ML.deleteBackward(C,{unit:"word"});return}if(eJ.isDeleteWordForward(t)){e.preventDefault(),n&&v.e6.isExpanded(n)?v.ML.deleteFragment(C,{direction:"forward"}):v.ML.deleteForward(C,{unit:"word"});return}}}}},[f,E.onKeyDown]),onPaste:(0,c.useCallback)(e=>{!f&&eC.hasSelectableTarget(C,e.target)&&!tp(e,E.onPaste)&&(!eE||et(e.nativeEvent))&&(e.preventDefault(),eC.insertData(C,e.clipboardData))},[f,E.onPaste])}),/*#__PURE__*/c.createElement(tc,{decorations:es,node:C,renderElement:h,renderPlaceholder:g,renderLeaf:p,selection:C.selection})))))},td=e=>{var{attributes:t,children:n}=e;return /*#__PURE__*/c.createElement("span",Object.assign({},t),n,ef&&/*#__PURE__*/c.createElement("br",null))},tf=()=>[],th=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&v.e6.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),g(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},tp=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},tg=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},tv=/*#__PURE__*/(0,c.createContext)(!1),tm=()=>(0,c.useContext)(tv),ty=/*#__PURE__*/(0,c.createContext)({}),tb=["editor","children","onChange","value"],tw=e=>{var t,n,r,{editor:i,children:o,onChange:a,value:s}=e,u=w(e,tb),l=(0,c.useRef)(!1),[A,d]=c.useState(()=>{if(!v.NB.isNodeList(s))throw Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(v.o4.stringify(s)));if(!v.ML.isEditor(i))throw Error("[Slate] editor is invalid! You passed: ".concat(v.o4.stringify(i)));return i.children=s,Object.assign(i,u),{v:0,editor:i}}),{selectorContext:f,onChange:h}=(t=(0,c.useRef)([]).current,n=(0,c.useRef)({editor:i}).current,r=(0,c.useCallback)(e=>{n.editor=e,t.forEach(t=>t(e))},[]),{selectorContext:(0,c.useMemo)(()=>({getSlate:()=>n.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})}),[t,n]),onChange:r}),p=(0,c.useCallback)(()=>{a&&a(i.children),d(e=>({v:e.v+1,editor:i})),h(i)},[a]);U.set(i,p),(0,c.useEffect)(()=>()=>{U.set(i,()=>{}),l.current=!0},[]);var[g,m]=(0,c.useState)(eC.isFocused(i));return(0,c.useEffect)(()=>{m(eC.isFocused(i))}),eB(()=>{var e=()=>m(eC.isFocused(i));return el?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),/*#__PURE__*/c.createElement(ty.Provider,{value:f},/*#__PURE__*/c.createElement(ez.Provider,{value:A},/*#__PURE__*/c.createElement(eO.Provider,{value:A.editor},/*#__PURE__*/c.createElement(tv.Provider,{value:g},o))))},t_=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},tE=(e,t,n)=>{var r=eC.toDOMRange(e,t).getBoundingClientRect(),i=eC.toDOMRange(e,n).getBoundingClientRect();return t_(r,i)&&t_(i,r)},tC=(e,t)=>{var n=v.ML.range(e,v.e6.end(t)),r=Array.from(v.ML.positions(e,{at:t})),i=0,o=r.length,a=Math.floor(o/2);if(tE(e,v.ML.range(e,r[i]),n))return v.ML.range(e,r[i],n);if(r.length<2)return v.ML.range(e,r[r.length-1],n);for(;a!==r.length&&a!==i;)tE(e,v.ML.range(e,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return v.ML.range(e,r[o],n)};function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tx=e=>{var{apply:t,onChange:n,deleteBackward:r,addMark:i,removeMark:o}=e;return D.set(e,new WeakMap),e.addMark=(t,n)=>{var r,o;null===(r=M.get(e))||void 0===r||r(),!j.get(e)&&null!==(o=Q.get(e))&&void 0!==o&&o.length&&j.set(e,null),Z.delete(e),i(t,n)},e.removeMark=t=>{var n;!j.get(e)&&null!==(n=Q.get(e))&&void 0!==n&&n.length&&j.set(e,null),Z.delete(e),o(t)},e.deleteBackward=t=>{if("line"!==t)return r(t);if(e.selection&&v.e6.isCollapsed(e.selection)){var n=v.ML.above(e,{match:t=>v.ML.isBlock(e,t),at:e.selection});if(n){var[,i]=n,o=v.ML.range(e,i,e.selection.anchor),a=tC(e,o);v.e6.isCollapsed(a)||v.YR.delete(e,{at:a})}}},e.apply=n=>{var r,i=[],o=Q.get(e);if(null!=o&&o.length){var a=o.map(e=>(function(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":if(!v.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset<=r.start)return{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":if(!v.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset+t.text.length<=r.start)return{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":if(!v.y$.equals(t.path,n)||t.position>=r.end)return{diff:r,id:i,path:v.y$.transform(n,t,{affinity:"backward"})};if(t.position>r.start)return{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n};return{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:v.y$.transform(n,t,{affinity:"forward"})};case"merge_node":if(!v.y$.equals(t.path,n))return{diff:r,id:i,path:v.y$.transform(n,t)};return{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:v.y$.transform(n,t)}}var o=v.y$.transform(n,t);return o?{diff:r,path:o,id:i}:null})(e,n)).filter(Boolean);Q.set(e,a)}var s=V.get(e);s&&V.set(e,e9(e,s,n));var u=H.get(e);if(null!=u&&u.at){var c=v.E9.isPoint(null==u?void 0:u.at)?e8(e,u.at,n):e9(e,u.at,n);H.set(e,c?tI(tI({},u),{},{at:c}):null)}switch(n.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...tT(e,n.path));break;case"set_selection":null===(r=P.get(e))||void 0===r||r.unref(),P.delete(e);break;case"insert_node":case"remove_node":i.push(...tT(e,v.y$.parent(n.path)));break;case"merge_node":i.push(...tT(e,v.y$.previous(n.path)));break;case"move_node":i.push(...tT(e,v.y$.common(v.y$.parent(n.path),v.y$.parent(n.newPath))))}for(var[l,A]of(t(n),i)){var[d]=v.ML.node(e,l);N.set(d,A)}},e.setFragmentData=t=>{var{selection:n}=e;if(n){var[r,i]=v.e6.edges(n),o=v.ML.void(e,{at:r.path}),a=v.ML.void(e,{at:i.path});if(!v.e6.isCollapsed(n)||o){var s=eC.toDOMRange(e,n),u=s.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)}),a){var[l]=a,A=s.cloneRange(),d=eC.toDOMNode(e,l);A.setEndAfter(d),u=A.cloneContents()}if(o&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),ee(c)){var f=c.ownerDocument.createElement("span");f.style.whiteSpace="pre",f.appendChild(c),u.appendChild(f),c=f}var h=JSON.stringify(e.getFragment()),p=window.btoa(encodeURIComponent(h));c.setAttribute("data-slate-fragment",p),t.setData("application/x-slate-fragment",p);var g=u.ownerDocument.createElement("div");return g.appendChild(u),g.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(g),t.setData("text/html",g.innerHTML),t.setData("text/plain",ea(g)),u.ownerDocument.body.removeChild(g),t}}},e.insertData=t=>{e.insertFragmentData(t)||e.insertTextData(t)},e.insertFragmentData=t=>{var n=t.getData("application/x-slate-fragment")||eu(t);if(n){var r=JSON.parse(decodeURIComponent(window.atob(n)));return e.insertFragment(r),!0}return!1},e.insertTextData=t=>{var n=t.getData("text/plain");if(n){var r=n.split(/\r\n|\r|\n/),i=!1;for(var o of r)i&&v.YR.splitNodes(e,{always:!0}),e.insertText(o),i=!0;return!0}return!1},e.onChange=()=>{y.unstable_batchedUpdates(()=>{var t=U.get(e);t&&t(),n()})},e},tT=(e,t)=>{var n=[];for(var[r,i]of v.ML.levels(e,{at:t})){var o=eC.findKey(e,r);n.push([i,o])}return n}},12995:function(e,t,n){"use strict";n.d(t,{ML:function(){return eG},W_:function(){return ej},NB:function(){return e$},OX:function(){return e0},y$:function(){return e1},E9:function(){return e5},e6:function(){return e7},o4:function(){return tn},xv:function(){return tu},YR:function(){return tE},Jh:function(){return ed}});var r,i,o=n(66439);function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function s(e){return!!e&&!!e[V]}function u(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||f(e)||h(e))}function c(e,t,n){void 0===n&&(n=!1),0===l(e)?(n?Object.keys:G)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function l(e){var t=e[V];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function A(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t,n){var r=l(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e){return M&&e instanceof Map}function h(e){return j&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=z(e);delete t[V];for(var n=G(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),y(e)||s(e)||!u(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&c(e,function(e,t){return v(t,!0)},!0)),e}function m(){a(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=W[e];return t||a(18,e),t}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){E(e),e.p.forEach(B),e.p=null}function E(e){e===P&&(P=e.l)}function C(e){return P={p:[],l:P,h:e,m:!0,_:0}}function B(e){var t=e[V];0===t.i||1===t.i?t.j():t.O=!0}function I(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,r),r?(n[V].P&&(_(t),a(4)),u(e)&&(e=x(t,e),t.l||S(t,e)),t.u&&b("Patches").M(n[V].t,e,t.u,t.s)):e=x(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==Q?e:void 0}function x(e,t,n){if(y(t))return t;var r=t[V];if(!r)return c(t,function(i,o){return T(e,r,t,i,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return S(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o;c(3===r.i?new Set(i):i,function(t,o){return T(e,r,i,t,o,n)}),S(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,i,o){if(s(i)){var a=x(e,i,o&&t&&3!==t.i&&!A(t.D,r)?o.concat(r):void 0);if(d(n,r,a),!s(a))return;e.m=!1}if(u(i)&&!y(i)){if(!e.h.F&&e._<1)return;x(e,i),t&&t.A.l||S(e,i)}}function S(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function k(e,t){var n=e[V];return(n?p(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function O(e){e.o||(e.o=g(e.t))}function R(e,t,n){var r,i,o,a,s,u,c,l=f(t)?b("MapSet").N(t,n):h(t)?b("MapSet").T(t,n):e.g?(o=i={i:(r=Array.isArray(t))?1:0,A:n?n.A:P,P:!1,I:!1,D:{},l:n,t:t,k:null,o:null,j:null,C:!1},a=q,r&&(o=[i],a=Y),u=(s=Proxy.revocable(o,a)).revoke,c=s.proxy,i.k=c,i.j=u,c):b("ES5").J(t,n);return(n?n.A:P).p.push(l),l}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}var L,P,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),M="undefined"!=typeof Map,j="undefined"!=typeof Set,Z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Q=U?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),H=U?Symbol.for("immer-draftable"):"__$immer_draftable",V=U?Symbol.for("immer-state"):"__$immer_state",K=""+Object.prototype.constructor,G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,z=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},W={},q={get:function(e,t){if(t===V)return e;var n,r,i=p(e);if(!A(i,t))return(r=N(i,t))?"value"in r?r.value:null===(n=r.get)||void 0===n?void 0:n.call(e.k):void 0;var o=i[t];return e.I||!u(o)?o:o===k(e.t,t)?(O(e),e.o[t]=R(e.A.h,o,e)):o},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=N(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=k(p(e),t),o=null==i?void 0:i[V];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if((n===i?0!==n||1/n==1/i:n!=n&&i!=i)&&(void 0!==n||A(e.t,t)))return!0;O(e),D(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.D[t]=!1,O(e),D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},Y={};c(q,function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Y.deleteProperty=function(e,t){return Y.set.call(this,e,t,void 0)},Y.set=function(e,t,n){return q.set.call(this,e[0],t,n,e[0])};var $=new(function(){function e(e){var t=this;this.g=Z,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i,o=n;return n=e,function(e){var r=this;void 0===e&&(e=o);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return t.produce(e,function(e){var t;return(t=n).call.apply(t,[r,e].concat(a))})}}if("function"!=typeof n&&a(6),void 0!==r&&"function"!=typeof r&&a(7),u(e)){var s=C(t),c=R(t,e,void 0),l=!0;try{i=n(c),l=!1}finally{l?_(s):E(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return w(s,r),I(e,s)},function(e){throw _(s),e}):(w(s,r),I(i,s))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===Q&&(i=void 0),t.F&&v(i,!0),r){var A=[],d=[];b("Patches").M(e,i,A,d),r(A,d)}return i}a(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})};var r,i,o=t.produce(e,n,function(e,t){r=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,r,i]}):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){u(e)||a(8),s(e)&&(s(t=e)||a(22,t),e=function e(t){if(!u(t))return t;var n,r=t[V],i=l(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=F(t,i),r.I=!1}else n=F(t,i);return c(n,function(t,i){var o;r&&(2===l(o=r.t)?o.get(t):o[t])===i||d(n,t,e(i))}),3===i?new Set(n):n}(t));var t,n=C(this),r=R(this,e,void 0);return r[V].C=!0,E(n),r},t.finishDraft=function(e,t){var n=(e&&e[V]).A;return w(n,t),I(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Z&&a(20),this.g=e},t.applyPatches=function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=b("Patches").$;return s(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),X=$.produce,J=($.produceWithPatches.bind($),$.setAutoFreeze.bind($),$.setUseProxies.bind($),$.applyPatches.bind($),$.createDraft.bind($)),ee=$.finishDraft.bind($);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=new WeakMap,er=new WeakMap,ei=new WeakMap,eo=new WeakMap,ea=new WeakMap,es=new WeakMap,eu=new WeakMap;function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eA=0,ed=()=>{var e={children:[],operations:[],selection:null,marks:null,id:eA++,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of eG.pathRefs(e))e2.transform(n,t);for(var r of eG.pointRefs(e))e6.transform(r,t);for(var i of eG.rangeRefs(e))te.transform(i,t);var o,a,s=en.get(e)||[],u=er.get(e)||new Set,c=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),o.push(e))}};if(e1.operationCanTransformPath(t))for(var l of(o=[],a=new Set,s))c(e1.transform(l,t));else o=s,a=u;for(var A of e.getDirtyPaths(t))c(A);en.set(e,o),er.set(e,a),tE.transform(e,t),e.operations.push(t),eG.normalize(e),"set_selection"===t.type&&(e.marks=null),ei.get(e)||(ei.set(e,!0),Promise.resolve().then(()=>{ei.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:r,markableVoid:i}=e;if(r){var o=(t,n)=>{if(!tu.isText(t))return!1;var[r,i]=eG.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},a=e7.isExpanded(r),s=!1;if(!a){var[u,c]=eG.node(e,r);if(u&&o(u,c)){var[l]=eG.parent(e,c);s=l&&e.markableVoid(l)}}if(a||s)tE.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var A=el(el({},eG.marks(e)||{}),{},{[t]:n});e.marks=A,ei.get(e)||e.onChange()}}},deleteBackward:t=>{var{selection:n}=e;n&&e7.isCollapsed(n)&&tE.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&e7.isCollapsed(n)&&tE.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&e7.isExpanded(n)&&tE.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?e$.fragment(e,t):[]},insertBreak:()=>{tE.splitNodes(e,{always:!0})},insertSoftBreak:()=>{tE.splitNodes(e,{always:!0})},insertFragment:t=>{tE.insertFragment(e,t)},insertNode:t=>{tE.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(r){var i=el({text:t},r);tE.insertNodes(e,i)}else tE.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!tu.isText(n)){if(ej.isElement(n)&&0===n.children.length){tE.insertNodes(e,{text:""},{at:r.concat(0),voids:!0});return}for(var i=!eG.isEditor(n)&&ej.isElement(n)&&(e.isInline(n)||0===n.children.length||tu.isText(n.children[0])||e.isInline(n.children[0])),o=0,a=0;a<n.children.length;a++,o++){var s=e$.get(e,r);if(!tu.isText(s)){var u=n.children[a],c=s.children[o-1],l=a===n.children.length-1;if((tu.isText(u)||ej.isElement(u)&&e.isInline(u))!==i)tE.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(ej.isElement(u)){if(e.isInline(u)){if(null!=c&&tu.isText(c)){if(l){var A={text:""};tE.insertNodes(e,A,{at:r.concat(o+1),voids:!0}),o++}}else{var d={text:""};tE.insertNodes(e,d,{at:r.concat(o),voids:!0}),o++}}}else null!=c&&tu.isText(c)&&(tu.equals(u,c,{loose:!0})?(tE.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):""===c.text?(tE.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):""===u.text&&(tE.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}}},removeMark:t=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!tu.isText(t))return!1;var[r,i]=eG.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},i=e7.isExpanded(n),o=!1;if(!i){var[a,s]=eG.node(e,n);if(a&&r(a,s)){var[u]=eG.parent(e,s);o=u&&e.markableVoid(u)}}if(i||o)tE.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var c=el({},eG.marks(e)||{});delete c[t],e.marks=c,ei.get(e)||e.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return e1.levels(t);case"insert_node":var{node:n,path:r}=e;return[...e1.levels(r),...tu.isText(n)?[]:Array.from(e$.nodes(n),e=>{var[,t]=e;return r.concat(t)})];case"merge_node":var{path:i}=e;return[...e1.ancestors(i),e1.previous(i)];case"move_node":var{path:o,newPath:a}=e;if(e1.equals(o,a))return[];var s=[],u=[];for(var c of e1.ancestors(o)){var l=e1.transform(c,e);s.push(l)}for(var A of e1.ancestors(a)){var d=e1.transform(A,e);u.push(d)}var f=u[u.length-1],h=a[a.length-1];return[...s,...u,f.concat(h)];case"remove_node":var{path:p}=e;return[...e1.ancestors(p)];case"split_node":var{path:g}=e;return[...e1.levels(g),e1.next(g)];default:return[]}}};return e};function ef(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var eh=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?ew(e):e,o=i.None,a=i.None,s=0,u=null;for(var c of r){var l=c.codePointAt(0);if(!l)break;var A=eO(c,l);if([o,a]=n?[a,A]:[A,o],(o&i.ZWJ)!=0&&(a&i.ExtPict)!=0&&!(n?eL(e.substring(0,s)):eL(e.substring(0,e.length-s)))||(o&i.RI)!=0&&(a&i.RI)!=0&&!(u=null!==u?!u:!!n||eU(e.substring(0,e.length-s)))||o!==i.None&&a!==i.None&&function(e,t){return -1===eR.findIndex(n=>(e&n[0])!=0&&(t&n[1])!=0)}(o,a))break;s+=c.length}return s||1},ep=/\s/,eg=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ev=/['\u2018\u2019]/,em=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=eh(e,t),[o,a]=ey(e,i,t);if(eb(o,a,t))r=!0,n+=i;else if(r)break;else n+=i;e=a}return n},ey=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},eb=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ep.test(t))return!1;if(ev.test(t)){var i=eh(n,r),[o,a]=ey(n,i,r);if(e(o,a,r))return!0}return!eg.test(t)},ew=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(eE(r.charCodeAt(0))){var i=e.charAt(t-n-1);if(e_(i.charCodeAt(0))){yield i+r,n++;continue}}yield r}},e_=e=>e>=55296&&e<=56319,eE=e=>e>=56320&&e<=57343;(r=i||(i={}))[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any";var eC=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,eB=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,eI=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ex=/^[\u1100-\u115F\uA960-\uA97C]$/,eT=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,eS=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,ek=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,eN=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,eD=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,eO=(e,t)=>{var n=i.Any;return -1!==e.search(eC)&&(n|=i.Extend),8205===t&&(n|=i.ZWJ),t>=127462&&t<=127487&&(n|=i.RI),-1!==e.search(eB)&&(n|=i.Prepend),-1!==e.search(eI)&&(n|=i.SpacingMark),-1!==e.search(ex)&&(n|=i.L),-1!==e.search(eT)&&(n|=i.V),-1!==e.search(eS)&&(n|=i.T),-1!==e.search(ek)&&(n|=i.LV),-1!==e.search(eN)&&(n|=i.LVT),-1!==e.search(eD)&&(n|=i.ExtPict),n},eR=[[i.L,i.L|i.V|i.LV|i.LVT],[i.LV|i.V,i.V|i.T],[i.LVT|i.T,i.T],[i.Any,i.Extend|i.ZWJ],[i.Any,i.SpacingMark],[i.Prepend,i.Any],[i.ZWJ,i.ExtPict],[i.RI,i.RI]],eF=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,eL=e=>-1!==e.search(eF),eP=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,eU=e=>{var t=e.match(eP);return null!==t&&t[0].length/2%2==1},eM=e=>(0,o.P)(e)&&e$.isNodeList(e.children)&&!eG.isEditor(e),ej={isAncestor(e){return(0,o.P)(e)&&e$.isNodeList(e.children)},isElement:eM,isElementList(e){return Array.isArray(e)&&e.every(e=>ej.isElement(e))},isElementProps(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return eM(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},eZ=["text"],eQ=["text"];function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eK=new WeakMap,eG={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:o}=t;if(i){var a=eG.path(e,i);for(var[s,u]of eG.levels(e,{at:a,voids:n,match:o,reverse:"lowest"===r}))if(!tu.isText(s)){if(e7.isRange(i)){if(e1.isAncestor(u,i.anchor.path)&&e1.isAncestor(u,i.focus.path))return[s,u]}else if(!e1.equals(a,u))return[s,u]}}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=eG.point(e,t,{edge:"end"}),o=eG.end(e,[]),{distance:a=1}=r,s=0;for(var u of eG.positions(e,eV(eV({},r),{},{at:{anchor:i,focus:o}}))){if(s>a)break;0!==s&&(n=u),s++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=eG.start(e,[]),o=eG.point(e,t,{edge:"start"}),{distance:a=1}=r,s=0;for(var u of eG.positions(e,eV(eV({},r),{},{at:{anchor:i,focus:o},reverse:!0}))){if(s>a)break;0!==s&&(n=u),s++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges(e,t){return[eG.start(e,t),eG.end(e,t)]},end(e,t){return eG.point(e,t,{edge:"end"})},first(e,t){var n=eG.path(e,t,{edge:"start"});return eG.node(e,n)},fragment(e,t){var n=eG.range(e,t);return e$.fragment(e,n)},hasBlocks(e,t){return t.children.some(t=>eG.isBlock(e,t))},hasInlines(e,t){return t.children.some(t=>tu.isText(t)||eG.isInline(e,t))},hasTexts(e,t){return t.children.every(e=>tu.isText(e))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return ej.isElement(t)&&!e.isInline(t)},isEditor(e){var t=eK.get(e);if(void 0!==t)return t;if(!(0,o.P)(e))return!1;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||(0,o.P)(e.marks))&&(null===e.selection||e7.isRange(e.selection))&&e$.isNodeList(e.children)&&e0.isOperationList(e.operations);return eK.set(e,n),n},isEnd(e,t,n){var r=eG.end(e,n);return e5.equals(t,r)},isEdge(e,t,n){return eG.isStart(e,t,n)||eG.isEnd(e,t,n)},isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&tu.isText(r)&&""===r.text&&!e.isVoid(t)},isInline(e,t){return ej.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=eo.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=eG.start(e,n);return e5.equals(t,r)},isVoid(e,t){return ej.isElement(t)&&e.isVoid(t)},last(e,t){var n=eG.path(e,t,{edge:"end"});return eG.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n);return[e$.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),n){var a=[],s=eG.path(e,n);for(var[u,c]of e$.levels(e,s))if(o(u,c)&&(a.push([u,c]),!i&&eG.isVoid(e,u)))break;r&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(e7.isExpanded(n)){var[r]=eG.nodes(e,{match:tu.isText});if(!r)return{};var[i]=r;return ef(i,eZ)}var{anchor:o}=n,{path:a}=o,[s]=eG.leaf(e,a);if(0===o.offset){var u=eG.previous(e,{at:a,match:tu.isText});if(!eG.above(e,{match:t=>eG.isVoid(e,t)&&e.markableVoid(t)})){var c=eG.above(e,{match:t=>eG.isBlock(e,t)});if(u&&c){var[l,A]=u,[,d]=c;e1.isAncestor(d,A)&&(s=l)}}}return ef(s,eQ)},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=eG.after(e,o,{voids:r});if(a){var[,s]=eG.last(e,[]),u=[a.path,s];if(e1.isPath(o)&&0===o.length)throw Error("Cannot get the next node from the root node!");if(null==i){if(e1.isPath(o)){var[c]=eG.parent(e,o);i=e=>c.children.includes(e)}else i=()=>!0}var[l]=eG.nodes(e,{at:u,match:i,mode:n,voids:r});return l}}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n);return[e$.get(e,r),r]},*nodes(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:o=e.selection,mode:a="all",universal:s=!1,reverse:u=!1,voids:c=!1}=i,{match:l}=i;if(l||(l=()=>!0),o){if(ez.isSpan(o))t=o[0],n=o[1];else{var A=eG.path(e,o,{edge:"start"}),d=eG.path(e,o,{edge:"end"});t=u?d:A,n=u?A:d}var f=e$.nodes(e,{reverse:u,from:t,to:n,pass:t=>{var[n]=t;return!c&&eG.isVoid(e,n)}}),h=[];for(var[p,g]of f){var v=r&&0===e1.compare(g,r[1]);if("highest"!==a||!v){if(!l(p,g)){if(s&&!v&&tu.isText(p))return;continue}if("lowest"===a&&v){r=[p,g];continue}var m="lowest"===a?r:[p,g];m&&(s?h.push(m):yield m),r=[p,g]}}"lowest"===a&&r&&(s?h.push(r):yield r),s&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>en.get(e)||[],i=e=>er.get(e)||new Set,o=e=>{var t=r(e).pop(),n=t.join(",");return i(e).delete(n),t};if(eG.isNormalizing(e)){if(n){var a=Array.from(e$.nodes(e),e=>{var[,t]=e;return t}),s=new Set(a.map(e=>e.join(",")));en.set(e,a),er.set(e,s)}0!==r(e).length&&eG.withoutNormalizing(e,()=>{for(var t of r(e))if(e$.has(e,t)){var n=eG.node(e,t),[i,a]=n;ej.isElement(i)&&0===i.children.length&&e.normalizeNode(n)}for(var s=42*r(e).length,u=0;0!==r(e).length;){if(u>s)throw Error("\n            Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var c=o(e);if(e$.has(e,c)){var l=eG.node(e,c);e.normalizeNode(l)}u++}})}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n),i=e1.parent(r);return eG.node(e,i)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(e1.isPath(t)){if("start"===i){var[,o]=e$.first(e,t);t=o}else if("end"===i){var[,a]=e$.last(e,t);t=a}}return e7.isRange(t)&&(t="start"===i?e7.start(t):"end"===i?e7.end(t):e1.common(t.anchor.path,t.focus.path)),e5.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath(e,t){return e$.has(e,t)},pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return eG.pathRefs(e).delete(i),i.current=null,t}};return eG.pathRefs(e).add(i),i},pathRefs(e){var t=ea.get(e);return t||(t=new Set,ea.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(e1.isPath(t)){if("end"===r){var i,[,o]=e$.last(e,t);i=o}else{var[,a]=e$.first(e,t);i=a}var s=e$.get(e,i);if(!tu.isText(s))throw Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(e7.isRange(t)){var[u,c]=e7.edges(t);return"start"===r?u:c}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return eG.pointRefs(e).delete(i),i.current=null,t}};return eG.pointRefs(e).add(i),i},pointRefs(e){var t=es.get(e);return t||(t=new Set,es.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:o=!1}=t;if(n){var a=eG.range(e,n),[s,u]=e7.edges(a),c=i?u:s,l=!1,A="",d=0,f=0,h=0;for(var[p,g]of eG.nodes(e,{at:n,reverse:i,voids:o})){if(ej.isElement(p)){if(!o&&e.isVoid(p)){yield eG.start(e,g);continue}if(e.isInline(p))continue;if(eG.hasInlines(e,p)){var v=e1.isAncestor(g,u.path)?u:eG.end(e,g),m=e1.isAncestor(g,s.path)?s:eG.start(e,g);A=eG.string(e,{anchor:m,focus:v},{voids:o}),l=!0}}if(tu.isText(p)){var y,b=e1.equals(g,c.path);for(b?(f=i?c.offset:p.text.length-c.offset,h=c.offset):(f=p.text.length,h=i?f:0),(b||l||"offset"===r)&&(yield{path:g,offset:h},l=!1);;){if(0===d){if(""===A)break;y=A,A=ey(A,d="character"===r?eh(y,i):"word"===r?em(y,i):"line"===r||"block"===r?y.length:1,i)[1]}if(h=i?h-d:h+d,(f-=d)<0){d=-f;break}d=0,yield{path:g,offset:h}}}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=eG.before(e,o,{voids:r});if(a){var[,s]=eG.first(e,[]),u=[a.path,s];if(e1.isPath(o)&&0===o.length)throw Error("Cannot get the previous node from the root node!");if(null==i){if(e1.isPath(o)){var[c]=eG.parent(e,o);i=e=>c.children.includes(e)}else i=()=>!0}var[l]=eG.nodes(e,{reverse:!0,at:u,match:i,mode:n,voids:r});return l}}},range(e,t,n){return e7.isRange(t)&&!n?t:{anchor:eG.start(e,t),focus:eG.end(e,n||t)}},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return eG.rangeRefs(e).delete(i),i.current=null,t}};return eG.rangeRefs(e).add(i),i},rangeRefs(e){var t=eu.get(e);return t||(t=new Set,eu.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){eo.set(e,t)},start(e,t){return eG.point(e,t,{edge:"start"})},string(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=eG.range(e,t),[o,a]=e7.edges(i),s="";for(var[u,c]of eG.nodes(e,{at:i,match:tu.isText,voids:r})){var l=u.text;e1.equals(c,a.path)&&(l=l.slice(0,a.offset)),e1.equals(c,o.path)&&(l=l.slice(o.offset)),s+=l}return s},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,o]=e7.edges(t);if(0!==i.offset||0!==o.offset||e7.isCollapsed(t)||e1.hasPrevious(o.path))return t;var a=eG.above(e,{at:o,match:t=>eG.isBlock(e,t),voids:r}),s=a?a[1]:[],u={anchor:eG.start(e,i),focus:o},c=!0;for(var[l,A]of eG.nodes(e,{at:u,match:tu.isText,reverse:!0,voids:r})){if(c){c=!1;continue}if(""!==l.text||e1.isBefore(A,s)){o={path:A,offset:l.text.length};break}}return{anchor:i,focus:o}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return eG.above(e,eV(eV({},t),{},{match:t=>eG.isVoid(e,t)}))},withoutNormalizing(e,t){var n=eG.isNormalizing(e);eG.setNormalizing(e,!1);try{t()}finally{eG.setNormalizing(e,n)}eG.normalize(e)}},ez={isSpan(e){return Array.isArray(e)&&2===e.length&&e.every(e1.isPath)}},eW=["children"],eq=["text"],eY=new WeakMap,e$={ancestor(e,t){var n=e$.get(e,t);if(tu.isText(n))throw Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(tn.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e1.ancestors(t,n)){var i=[e$.ancestor(e,r),r];yield i}},child(e,t){if(tu.isText(e))throw Error("Cannot get the child of a text node: ".concat(tn.stringify(e)));var n=e.children[t];if(null==n)throw Error("Cannot get child at index `".concat(t,"` in node: ").concat(tn.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,i=e$.ancestor(e,t),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var s=e$.child(i,a),u=t.concat(a);yield[s,u],a=r?a-1:a+1}},common(e,t,n){var r=e1.common(t,n);return[e$.get(e,r),r]},descendant(e,t){var n=e$.get(e,t);if(eG.isEditor(n))throw Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(tn.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of e$.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of e$.nodes(e,t))ej.isElement(n)&&(yield[n,r])},extractProps(e){if(ej.isAncestor(e)){var t=ef(e,eW);return t}var t=ef(e,eq);return t},first(e,t){for(var n=t.slice(),r=e$.get(e,n);r&&!tu.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(tu.isText(e))throw Error("Cannot get a fragment starting from a root text node: ".concat(tn.stringify(e)));return X({children:e.children},e=>{var[n,r]=e7.edges(t);for(var[,i]of e$.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!e7.includes(t,n)}})){if(!e7.includes(t,i)){var o=e$.parent(e,i),a=i[i.length-1];o.children.splice(a,1)}if(e1.equals(i,r.path)){var s=e$.leaf(e,i);s.text=s.text.slice(0,r.offset)}if(e1.equals(i,n.path)){var u=e$.leaf(e,i);u.text=u.text.slice(n.offset)}}eG.isEditor(e)&&(e.selection=null)}).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(tu.isText(n)||!n.children[i])throw Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(tn.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(tu.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){return tu.isText(e)||ej.isElement(e)||eG.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=eY.get(e);if(void 0!==t)return t;var n=e.every(e=>e$.isNode(e));return eY.set(e,n),n},last(e,t){for(var n=t.slice(),r=e$.get(e,n);r&&!tu.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=e$.get(e,t);if(!tu.isText(n))throw Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(tn.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e1.levels(t,n)){var i=e$.get(e,r);yield[i,r]}},matches(e,t){return ej.isElement(e)&&ej.isElementProps(t)&&ej.matches(e,t)||tu.isText(e)&&tu.isTextProps(t)&&tu.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:i=[],to:o}=t,a=new Set,s=[],u=e;!(o&&(r?e1.isBefore(s,o):e1.isAfter(s,o)));){if(a.has(u)||(yield[u,s]),!a.has(u)&&!tu.isText(u)&&0!==u.children.length&&(null==n||!1===n([u,s]))){a.add(u);var c=r?u.children.length-1:0;e1.isAncestor(s,i)&&(c=i[s.length]),s=s.concat(c),u=e$.get(e,s);continue}if(0===s.length)break;if(!r){var l=e1.next(s);if(e$.has(e,l)){s=l,u=e$.get(e,s);continue}}if(r&&0!==s[s.length-1]){s=e1.previous(s),u=e$.get(e,s);continue}s=e1.parent(s),u=e$.get(e,s),a.add(u)}},parent(e,t){var n=e1.parent(t),r=e$.get(e,n);if(tu.isText(r))throw Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return tu.isText(e)?e.text:e.children.map(e$.string).join("")},*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of e$.nodes(e,t))tu.isText(n)&&(yield[n,r])}};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e0={isNodeOperation(e){return e0.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!(0,o.P)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return e1.isPath(e.path)&&e$.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&e1.isPath(e.path);case"merge_node":return"number"==typeof e.position&&e1.isPath(e.path)&&(0,o.P)(e.properties);case"move_node":return e1.isPath(e.path)&&e1.isPath(e.newPath);case"set_node":return e1.isPath(e.path)&&(0,o.P)(e.properties)&&(0,o.P)(e.newProperties);case"set_selection":return null===e.properties&&e7.isRange(e.newProperties)||null===e.newProperties&&e7.isRange(e.properties)||(0,o.P)(e.properties)&&(0,o.P)(e.newProperties);case"split_node":return e1.isPath(e.path)&&"number"==typeof e.position&&(0,o.P)(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(e=>e0.isOperation(e))},isSelectionOperation(e){return e0.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return e0.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return eJ(eJ({},e),{},{type:"remove_node"});case"insert_text":return eJ(eJ({},e),{},{type:"remove_text"});case"merge_node":return eJ(eJ({},e),{},{type:"split_node",path:e1.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(e1.equals(t,n))return e;if(e1.isSibling(n,t))return eJ(eJ({},e),{},{path:t,newPath:n});var r=e1.transform(n,e),i=e1.transform(e1.next(n),e);return eJ(eJ({},e),{},{path:r,newPath:i});case"remove_node":return eJ(eJ({},e),{},{type:"insert_node"});case"remove_text":return eJ(eJ({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:a}=e;return eJ(eJ({},e),{},{properties:a,newProperties:o});case"set_selection":var{properties:s,newProperties:u}=e;if(null==s)return eJ(eJ({},e),{},{properties:u,newProperties:null});if(null==u)return eJ(eJ({},e),{},{properties:null,newProperties:s});return eJ(eJ({},e),{},{properties:u,newProperties:s});case"split_node":return eJ(eJ({},e),{},{type:"merge_node",path:e1.next(e.path)})}}},e1={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=e1.levels(e,t);return n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return e1.equals(r,i)&&o>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return e1.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return e1.equals(r,i)&&o<a},equals(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return 1===e1.compare(e,t)},isAncestor(e,t){return e.length<t.length&&0===e1.compare(e,t)},isBefore(e,t){return -1===e1.compare(e,t)},isChild(e,t){return e.length===t.length+1&&0===e1.compare(e,t)},isCommon(e,t){return e.length<=t.length&&0===e1.compare(e,t)},isDescendant(e,t){return e.length>t.length&&0===e1.compare(e,t)},isParent(e,t){return e.length+1===t.length&&0===e1.compare(e,t)},isPath(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&e1.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!e1.isAncestor(t,e)&&!e1.equals(e,t))throw Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:o}=t;(e1.equals(o,r)||e1.endsBefore(o,r)||e1.isAncestor(o,r))&&(r[o.length-1]+=1);break;case"remove_node":var{path:a}=t;if(e1.equals(a,r)||e1.isAncestor(a,r))return null;e1.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:s,position:u}=t;e1.equals(s,r)||e1.endsBefore(s,r)?r[s.length-1]-=1:e1.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=u);break;case"split_node":var{path:c,position:l}=t;if(e1.equals(c,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else e1.endsBefore(c,r)?r[c.length-1]+=1:e1.isAncestor(c,r)&&e[c.length]>=l&&(r[c.length-1]+=1,r[c.length]-=l);break;case"move_node":var{path:A,newPath:d}=t;if(e1.equals(A,d))break;if(e1.isAncestor(A,r)||e1.equals(A,r)){var f=d.slice();return e1.endsBefore(A,d)&&A.length<d.length&&(f[A.length-1]-=1),f.concat(r.slice(A.length))}e1.isSibling(A,d)&&(e1.isAncestor(d,r)||e1.equals(d,r))?e1.endsBefore(A,r)?r[A.length-1]-=1:r[A.length-1]+=1:e1.endsBefore(d,r)||e1.equals(d,r)||e1.isAncestor(d,r)?(e1.endsBefore(A,r)&&(r[A.length-1]-=1),r[d.length-1]+=1):e1.endsBefore(A,r)&&(e1.equals(d,r)&&(r[d.length-1]+=1),r[A.length-1]-=1)}return r}},e2={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e1.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5={compare(e,t){var n=e1.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return 1===e5.compare(e,t)},isBefore(e,t){return -1===e5.compare(e,t)},equals(e,t){return e.offset===t.offset&&e1.equals(e.path,t.path)},isPoint(e){return(0,o.P)(e)&&"number"==typeof e.offset&&e1.isPath(e.path)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X(e,e=>{if(null===e)return null;var{affinity:r="forward"}=n,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=e1.transform(i,t,n);break;case"insert_text":e1.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===r)&&(e.offset+=t.text.length);break;case"merge_node":e1.equals(t.path,i)&&(e.offset+=t.position),e.path=e1.transform(i,t,n);break;case"remove_text":e1.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(e1.equals(t.path,i)||e1.isAncestor(t.path,i))return null;e.path=e1.transform(i,t,n);break;case"split_node":if(e1.equals(t.path,i)){if(t.position===o&&null==r)return null;(t.position<o||t.position===o&&"forward"===r)&&(e.offset-=t.position,e.path=e1.transform(i,t,e3(e3({},n),{},{affinity:"forward"})))}else e.path=e1.transform(i,t,n)}})}},e6={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e5.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},e8=["anchor","focus"];function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e7={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return e7.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=e7.edges(e);return t},equals(e,t){return e5.equals(e.anchor,t.anchor)&&e5.equals(e.focus,t.focus)},includes(e,t){if(e7.isRange(t)){if(e7.includes(e,t.anchor)||e7.includes(e,t.focus))return!0;var[n,r]=e7.edges(e),[i,o]=e7.edges(t);return e5.isBefore(n,i)&&e5.isAfter(r,o)}var[a,s]=e7.edges(e),u=!1,c=!1;return e5.isPoint(t)?(u=e5.compare(t,a)>=0,c=0>=e5.compare(t,s)):(u=e1.compare(t,a.path)>=0,c=0>=e1.compare(t,s.path)),u&&c},intersection(e,t){var n=ef(e,e8),[r,i]=e7.edges(e),[o,a]=e7.edges(t),s=e5.isBefore(r,o)?o:r,u=e5.isBefore(i,a)?i:a;return e5.isBefore(u,s)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({anchor:s,focus:u},n)},isBackward(e){var{anchor:t,focus:n}=e;return e5.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return e5.equals(t,n)},isExpanded(e){return!e7.isCollapsed(e)},isForward(e){return!e7.isBackward(e)},isRange(e){return(0,o.P)(e)&&e5.isPoint(e.anchor)&&e5.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=e7.edges(e);return t},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X(e,e=>{if(null===e)return null;var r,i,{affinity:o="inward"}=n;if("inward"===o){var a=e7.isCollapsed(e);e7.isForward(e)?(r="forward",i=a?r:"backward"):(r="backward",i=a?r:"forward")}else"outward"===o?e7.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=o,i=o);var s=e5.transform(e.anchor,t,{affinity:r}),u=e5.transform(e.focus,t,{affinity:i});if(!s||!u)return null;e.anchor=s,e.focus=u})}},te={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e7.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},tt=void 0,tn={setScrubber(e){tt=e},stringify(e){return JSON.stringify(e,tt)}},tr=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if((0,o.P)(r)&&(0,o.P)(i)){if(!tr(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(r!==i)return!1}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0},ti=["text"],to=["anchor","focus"];function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tu={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;return tr(r?ef(e,ti):e,r?ef(t,ti):t)},isText(e){return(0,o.P)(e)&&"string"==typeof e.text},isTextList(e){return Array.isArray(e)&&e.every(e=>tu.isText(e))},isTextProps(e){return void 0!==e.text},matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[ts({},e)];for(var r of t){var i=ef(r,to),[o,a]=e7.edges(r),s=[],u=0,c=o.offset,l=a.offset;for(var A of n){var{length:d}=A.text,f=u;if(u+=d,c<=f&&u<=l){Object.assign(A,i),s.push(A);continue}if(c!==l&&(c===u||l===f)||c>u||l<f||l===f&&0!==f){s.push(A);continue}var h=A,p=void 0,g=void 0;if(l<u){var v=l-f;g=ts(ts({},h),{},{text:h.text.slice(v)}),h=ts(ts({},h),{},{text:h.text.slice(0,v)})}if(c>f){var m=c-f;p=ts(ts({},h),{},{text:h.text.slice(0,m)}),h=ts(ts({},h),{},{text:h.text.slice(m)})}Object.assign(h,i),p&&s.push(p),s.push(h),g&&s.push(g)}n=s}return n}};function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tA=(e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:i}=n,o=e$.parent(e,r),a=r[r.length-1];if(a>o.children.length)throw Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(a,0,i),t)for(var[s,u]of e7.points(t))t[u]=e5.transform(s,n);break;case"insert_text":var{path:c,offset:l,text:A}=n;if(0===A.length)break;var d=e$.leaf(e,c),f=d.text.slice(0,l),h=d.text.slice(l);if(d.text=f+A+h,t)for(var[p,g]of e7.points(t))t[g]=e5.transform(p,n);break;case"merge_node":var{path:v}=n,m=e$.get(e,v),y=e1.previous(v),b=e$.get(e,y),w=e$.parent(e,v),_=v[v.length-1];if(tu.isText(m)&&tu.isText(b))b.text+=m.text;else if(tu.isText(m)||tu.isText(b))throw Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interfaces: ").concat(tn.stringify(m)," ").concat(tn.stringify(b)));else b.children.push(...m.children);if(w.children.splice(_,1),t)for(var[E,C]of e7.points(t))t[C]=e5.transform(E,n);break;case"move_node":var{path:B,newPath:I}=n;if(e1.isAncestor(B,I))throw Error("Cannot move a path [".concat(B,"] to new path [").concat(I,"] because the destination is inside itself."));var x=e$.get(e,B),T=e$.parent(e,B),S=B[B.length-1];T.children.splice(S,1);var k=e1.transform(B,n),N=e$.get(e,e1.parent(k)),D=k[k.length-1];if(N.children.splice(D,0,x),t)for(var[O,R]of e7.points(t))t[R]=e5.transform(O,n);break;case"remove_node":var{path:F}=n,L=F[F.length-1];if(e$.parent(e,F).children.splice(L,1),t)for(var[P,U]of e7.points(t)){var M=e5.transform(P,n);if(null!=t&&null!=M)t[U]=M;else{var j=void 0,Z=void 0;for(var[Q,H]of e$.texts(e))if(-1===e1.compare(H,F))j=[Q,H];else{Z=[Q,H];break}var V=!1;j&&Z&&(V=e1.equals(Z[1],F)?!e1.hasPrevious(Z[1]):e1.common(j[1],F).length<e1.common(Z[1],F).length),j&&!V?(P.path=j[1],P.offset=j[0].text.length):Z?(P.path=Z[1],P.offset=0):t=null}}break;case"remove_text":var{path:K,offset:G,text:z}=n;if(0===z.length)break;var W=e$.leaf(e,K),q=W.text.slice(0,G),Y=W.text.slice(G+z.length);if(W.text=q+Y,t)for(var[$,X]of e7.points(t))t[X]=e5.transform($,n);break;case"set_node":var{path:J,properties:ee,newProperties:et}=n;if(0===J.length)throw Error("Cannot set properties on the root node!");var en=e$.get(e,J);for(var er in et){if("children"===er||"text"===er)throw Error('Cannot set the "'.concat(er,'" property of nodes!'));var ei=et[er];null==ei?delete en[er]:en[er]=ei}for(var eo in ee)et.hasOwnProperty(eo)||delete en[eo];break;case"set_selection":var{newProperties:ea}=n;if(null==ea)t=ea;else{if(null==t){if(!e7.isRange(ea))throw Error('Cannot apply an incomplete "set_selection" operation properties '.concat(tn.stringify(ea)," when there is no current selection."));t=tl({},ea)}for(var es in ea){var eu=ea[es];if(null==eu){if("anchor"===es||"focus"===es)throw Error('Cannot remove the "'.concat(es,'" selection property'));delete t[es]}else t[es]=eu}}break;case"split_node":var ec,{path:el,position:eA,properties:ed}=n;if(0===el.length)throw Error('Cannot apply a "split_node" operation at path ['.concat(el,"] because the root node cannot be split."));var ef=e$.get(e,el),eh=e$.parent(e,el),ep=el[el.length-1];if(tu.isText(ef)){var eg=ef.text.slice(0,eA),ev=ef.text.slice(eA);ef.text=eg,ec=tl(tl({},ed),{},{text:ev})}else{var em=ef.children.slice(0,eA),ey=ef.children.slice(eA);ef.children=em,ec=tl(tl({},ed),{},{children:ey})}if(eh.children.splice(ep+1,0,ec),t)for(var[eb,ew]of e7.points(t))t[ew]=e5.transform(eb,n)}return t},td=["text"],tf=["children"];function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tg=(e,t)=>ej.isElement(t)?!!eG.isVoid(e,t)||1===t.children.length&&tg(e,t.children[0]):!eG.isEditor(t),tv=(e,t)=>{if(e7.isCollapsed(t))return t.anchor;var[,n]=e7.edges(t),r=eG.pointRef(e,n);return tE.delete(e,{at:t}),r.unref()},tm=(e,t)=>{var[n]=eG.node(e,t);return e=>e===n};function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tE=t_(t_(t_(t_({},{transform(e,t){e.children=J(e.children);var n=e.selection&&J(e.selection);try{n=tA(e,n,t)}finally{e.children=ee(e.children),n?e.selection=s(n)?ee(n):n:e.selection=null}}}),{insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a,match:s,select:u}=n;if(e$.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(a||(a=e.selection?e.selection:e.children.length>0?eG.end(e,[]):[0],u=!0),null==u&&(u=!1),e7.isRange(a)){if(r||(a=eG.unhangRange(e,a,{voids:i})),e7.isCollapsed(a))a=a.anchor;else{var[,l]=e7.edges(a),A=eG.pointRef(e,l);tE.delete(e,{at:a}),a=A.unref()}}if(e5.isPoint(a)){null==s&&(s=tu.isText(c)?e=>tu.isText(e):e.isInline(c)?t=>tu.isText(t)||eG.isInline(e,t):t=>eG.isBlock(e,t));var[d]=eG.nodes(e,{at:a.path,match:s,mode:o,voids:i});if(!d)return;var[,f]=d,h=eG.pathRef(e,f),p=eG.isEnd(e,a,f);tE.splitNodes(e,{at:a,match:s,mode:o,voids:i});var g=h.unref();a=p?e1.next(g):g}var v=e1.parent(a),m=a[a.length-1];if(!(!i&&eG.void(e,{at:v}))){for(var y of t){var b=v.concat(m);m++,e.apply({type:"insert_node",path:b,node:y}),a=e1.next(a)}if(a=e1.previous(a),u){var w=eG.end(e,a);w&&tE.select(e,w)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=e1.isPath(n)?tm(e,n):t=>eG.isBlock(e,t)),n)for(var a of Array.from(eG.nodes(e,{at:n,match:o,mode:r,voids:i}),t=>{var[,n]=t;return eG.pathRef(e,n)})){var s=a.unref();if(s.length<2)throw Error("Cannot lift node at a path [".concat(s,"] because it has a depth of less than `2`."));var[u,c]=eG.node(e,e1.parent(s)),l=s[s.length-1],{length:A}=u.children;if(1===A){var d=e1.next(c);tE.moveNodes(e,{at:s,to:d,voids:i}),tE.removeNodes(e,{at:c,voids:i})}else if(0===l)tE.moveNodes(e,{at:s,to:c,voids:i});else if(l===A-1){var f=e1.next(c);tE.moveNodes(e,{at:s,to:f,voids:i})}else{var h=e1.next(s),p=e1.next(c);tE.splitNodes(e,{at:h,voids:i}),tE.moveNodes(e,{at:s,to:p,voids:i})}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,r,{match:i,at:o=e.selection}=t,{hanging:a=!1,voids:s=!1,mode:u="lowest"}=t;if(o){if(null==i){if(e1.isPath(o)){var[c]=eG.parent(e,o);i=e=>c.children.includes(e)}else i=t=>eG.isBlock(e,t)}if(!a&&e7.isRange(o)&&(o=eG.unhangRange(e,o,{voids:s})),e7.isRange(o)){if(e7.isCollapsed(o))o=o.anchor;else{var[,l]=e7.edges(o),A=eG.pointRef(e,l);tE.delete(e,{at:o}),o=A.unref(),null==t.at&&tE.select(e,o)}}var[d]=eG.nodes(e,{at:o,match:i,voids:s,mode:u}),f=eG.previous(e,{at:o,match:i,voids:s,mode:u});if(d&&f){var[h,p]=d,[g,v]=f;if(0!==p.length&&0!==v.length){var m=e1.next(v),y=e1.common(p,v),b=e1.isSibling(p,v),w=Array.from(eG.levels(e,{at:p}),e=>{var[t]=e;return t}).slice(y.length).slice(0,-1),_=eG.above(e,{at:p,mode:"highest",match:t=>w.includes(t)&&tg(e,t)}),E=_&&eG.pathRef(e,_[1]);if(tu.isText(h)&&tu.isText(g)){var C=ef(h,td);r=g.text.length,n=C}else if(ej.isElement(h)&&ej.isElement(g)){var C=ef(h,tf);r=g.children.length,n=C}else throw Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(tn.stringify(h)," ").concat(tn.stringify(g)));b||tE.moveNodes(e,{at:p,to:m,voids:s}),E&&tE.removeNodes(e,{at:E.current,voids:s}),ej.isElement(g)&&eG.isEmpty(e,g)||tu.isText(g)&&""===g.text&&0!==v[v.length-1]?tE.removeNodes(e,{at:v,voids:s}):e.apply({type:"merge_node",path:m,position:r,properties:n}),E&&E.unref()}}}})},moveNodes(e,t){eG.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:o=!1}=t,{match:a}=t;if(r){null==a&&(a=e1.isPath(r)?tm(e,r):t=>eG.isBlock(e,t));var s=eG.pathRef(e,n);for(var u of Array.from(eG.nodes(e,{at:r,match:a,mode:i,voids:o}),t=>{var[,n]=t;return eG.pathRef(e,n)})){var c=u.unref(),l=s.current;0!==c.length&&e.apply({type:"move_node",path:c,newPath:l}),s.current&&e1.isSibling(l,c)&&e1.isAfter(l,c)&&(s.current=e1.next(s.current))}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:o=e.selection,match:a}=t;if(o)for(var s of(null==a&&(a=e1.isPath(o)?tm(e,o):t=>eG.isBlock(e,t)),!n&&e7.isRange(o)&&(o=eG.unhangRange(e,o,{voids:r})),Array.from(eG.nodes(e,{at:o,match:a,mode:i,voids:r}),t=>{var[,n]=t;return eG.pathRef(e,n)}))){var u=s.unref();if(u){var[c]=eG.node(e,u);e.apply({type:"remove_node",path:u,node:c})}}})},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection,compare:o,merge:a}=n,{hanging:s=!1,mode:u="lowest",split:c=!1,voids:l=!1}=n;if(i){if(null==r&&(r=e1.isPath(i)?tm(e,i):t=>eG.isBlock(e,t)),!s&&e7.isRange(i)&&(i=eG.unhangRange(e,i,{voids:l})),c&&e7.isRange(i)){if(e7.isCollapsed(i)&&eG.leaf(e,i.anchor)[0].text.length>0)return;var A=eG.rangeRef(e,i,{affinity:"inward"}),[d,f]=e7.edges(i),h="lowest"===u?"lowest":"highest",p=eG.isEnd(e,f,f.path);tE.splitNodes(e,{at:f,match:r,mode:h,voids:l,always:!p});var g=eG.isStart(e,d,d.path);tE.splitNodes(e,{at:d,match:r,mode:h,voids:l,always:!g}),i=A.unref(),null==n.at&&tE.select(e,i)}for(var[v,m]of(o||(o=(e,t)=>e!==t),eG.nodes(e,{at:i,match:r,mode:u,voids:l}))){var y={},b={};if(0!==m.length){var w=!1;for(var _ in t)"children"!==_&&"text"!==_&&o(t[_],v[_])&&(w=!0,v.hasOwnProperty(_)&&(y[_]=v[_]),a?null!=t[_]&&(b[_]=a(v[_],t[_])):null!=t[_]&&(b[_]=t[_]));w&&e.apply({type:"set_node",path:m,properties:y,newProperties:b})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,r,{mode:i="lowest",voids:o=!1}=t,{match:a,at:s=e.selection,height:u=0,always:c=!1}=t;if(null==a&&(a=t=>eG.isBlock(e,t)),e7.isRange(s)&&(s=tv(e,s)),e1.isPath(s)){var l=s,A=eG.point(e,l),[d]=eG.parent(e,l);a=e=>e===d,u=A.path.length-l.length+1,s=A,c=!0}if(s){var f=eG.pointRef(e,s,{affinity:"backward"});try{var[h]=eG.nodes(e,{at:s,match:a,mode:i,voids:o});if(!h)return;var p=eG.void(e,{at:s,mode:"highest"});if(!o&&p){var[g,v]=p;if(ej.isElement(g)&&e.isInline(g)){var m=eG.after(e,v);if(!m){var y=e1.next(v);tE.insertNodes(e,{text:""},{at:y,voids:o}),m=eG.point(e,y)}s=m,c=!0}u=s.path.length-v.length+1,c=!0}n=eG.pointRef(e,s);var b=s.path.length-u,[,w]=h,_=s.path.slice(0,b),E=0===u?s.offset:s.path[b]+0;for(var[C,B]of eG.levels(e,{at:_,reverse:!0,voids:o})){var I=!1;if(B.length<w.length||0===B.length||!o&&eG.isVoid(e,C))break;var x=f.current,T=eG.isEnd(e,x,B);if(c||!f||!eG.isEdge(e,x,B)){I=!0;var S=e$.extractProps(C);e.apply({type:"split_node",path:B,position:E,properties:S})}E=B[B.length-1]+(I||T?1:0)}if(null==t.at){var k=n.current||eG.end(e,[]);tE.select(e,k)}}finally{f.unref(),null===(r=n)||void 0===r||r.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;tE.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=e1.isPath(o)?tm(e,o):t=>eG.isBlock(e,t)),e1.isPath(o)&&(o=eG.range(e,o));var s=e7.isRange(o)?eG.rangeRef(e,o):null;for(var u of Array.from(eG.nodes(e,{at:o,match:a,mode:n,voids:i}),t=>{var[,n]=t;return eG.pathRef(e,n)}).reverse())!function(t){var n=t.unref(),[o]=eG.node(e,n),a=eG.range(e,n);r&&s&&(a=e7.intersection(s.current,a)),tE.liftNodes(e,{at:a,match:e=>ej.isAncestor(o)&&o.children.includes(e),voids:i})}(u);s&&s.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{match:a,at:s=e.selection}=n;if(s){if(null==a&&(a=e1.isPath(s)?tm(e,s):e.isInline(t)?t=>eG.isInline(e,t)||tu.isText(t):t=>eG.isBlock(e,t)),i&&e7.isRange(s)){var[u,c]=e7.edges(s),l=eG.rangeRef(e,s,{affinity:"inward"});tE.splitNodes(e,{at:c,match:a,voids:o}),tE.splitNodes(e,{at:u,match:a,voids:o}),s=l.unref(),null==n.at&&tE.select(e,s)}for(var[,A]of Array.from(eG.nodes(e,{at:s,match:e.isInline(t)?t=>eG.isBlock(e,t):e=>eG.isEditor(e),mode:"lowest",voids:o}))){var d=e7.isRange(s)?e7.intersection(s,eG.range(e,A)):s;if(d){var f=Array.from(eG.nodes(e,{at:d,match:a,mode:r,voids:o}));if(f.length>0&&"continue"===function(){var[n]=f,r=f[f.length-1],[,i]=n,[,a]=r;if(0===i.length&&0===a.length)return"continue";var s=e1.equals(i,a)?e1.parent(i):e1.common(i,a),u=eG.range(e,i,a),[c]=eG.node(e,s),l=s.length+1,A=e1.next(a.slice(0,l)),d=tp(tp({},t),{},{children:[]});tE.insertNodes(e,d,{at:A,voids:o}),tE.moveNodes(e,{at:u,match:e=>ej.isAncestor(c)&&c.children.includes(e),to:A.concat(0),voids:o})}())continue}}}})}}),{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r){if("anchor"===n)tE.select(e,r.anchor);else if("focus"===n)tE.select(e,r.focus);else if("start"===n){var[i]=e7.edges(r);tE.select(e,i)}else if("end"===n){var[,o]=e7.edges(r);tE.select(e,o)}}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:o=!1}=t,{edge:a=null}=t;if(n){"start"===a&&(a=e7.isBackward(n)?"focus":"anchor"),"end"===a&&(a=e7.isBackward(n)?"anchor":"focus");var{anchor:s,focus:u}=n,c={distance:r,unit:i},l={};if(null==a||"anchor"===a){var A=o?eG.before(e,s,c):eG.after(e,s,c);A&&(l.anchor=A)}if(null==a||"focus"===a){var d=o?eG.before(e,u,c):eG.after(e,u,c);d&&(l.focus=d)}tE.setSelection(e,l)}},select(e,t){var{selection:n}=e;if(t=eG.range(e,t),n){tE.setSelection(e,t);return}if(!e7.isRange(t))throw Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(tn.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})},setPoint(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=e7.isBackward(r)?"focus":"anchor"),"end"===i&&(i=e7.isBackward(r)?"anchor":"focus");var{anchor:o,focus:a}=r,s="anchor"===i?o:a;tE.setSelection(e,{["anchor"===i?"anchor":"focus"]:tb(tb({},s),t)})}},setSelection(e,t){var{selection:n}=e,r={},i={};if(n){for(var o in t)("anchor"!==o||null==t.anchor||e5.equals(t.anchor,n.anchor))&&("focus"!==o||null==t.focus||e5.equals(t.focus,n.focus))&&("anchor"===o||"focus"===o||t[o]===n[o])||(r[o]=n[o],i[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}}}),{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,{reverse:r=!1,unit:i="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:u=!1}=t;if(s){var c=!1;if(e7.isRange(s)&&e7.isCollapsed(s)&&(c=!0,s=s.anchor),e5.isPoint(s)){var l=eG.void(e,{at:s,mode:"highest"});if(!a&&l){var[,A]=l;s=A}else{var d={unit:i,distance:o},f=r?eG.before(e,s,d)||eG.start(e,[]):eG.after(e,s,d)||eG.end(e,[]);s={anchor:s,focus:f},u=!0}}if(e1.isPath(s)){tE.removeNodes(e,{at:s,voids:a});return}if(!e7.isCollapsed(s)){if(!u){var[,h]=e7.edges(s),p=eG.end(e,[]);e5.equals(h,p)||(s=eG.unhangRange(e,s,{voids:a}))}var[g,v]=e7.edges(s),m=eG.above(e,{match:t=>eG.isBlock(e,t),at:g,voids:a}),y=eG.above(e,{match:t=>eG.isBlock(e,t),at:v,voids:a}),b=m&&y&&!e1.equals(m[1],y[1]),w=e1.equals(g.path,v.path),_=a?null:eG.void(e,{at:g,mode:"highest"}),E=a?null:eG.void(e,{at:v,mode:"highest"});if(_){var C=eG.before(e,g);C&&m&&e1.isAncestor(m[1],C.path)&&(g=C)}if(E){var B=eG.after(e,v);B&&y&&e1.isAncestor(y[1],B.path)&&(v=B)}var I=[];for(var x of eG.nodes(e,{at:s,voids:a})){var[T,S]=x;(!n||0!==e1.compare(S,n))&&(!a&&eG.isVoid(e,T)||!e1.isCommon(S,g.path)&&!e1.isCommon(S,v.path))&&(I.push(x),n=S)}var k=Array.from(I,t=>{var[,n]=t;return eG.pathRef(e,n)}),N=eG.pointRef(e,g),D=eG.pointRef(e,v),O="";if(!w&&!_){var R=N.current,[F]=eG.leaf(e,R),{path:L}=R,{offset:P}=g,U=F.text.slice(P);U.length>0&&(e.apply({type:"remove_text",path:L,offset:P,text:U}),O=U)}if(k.reverse().map(e=>e.unref()).filter(e=>null!==e).forEach(t=>tE.removeNodes(e,{at:t,voids:a})),!E){var M=D.current,[j]=eG.leaf(e,M),{path:Z}=M,Q=w?g.offset:0,H=j.text.slice(Q,v.offset);H.length>0&&(e.apply({type:"remove_text",path:Z,offset:Q,text:H}),O=H)}!w&&b&&D.current&&N.current&&tE.mergeNodes(e,{at:D.current,hanging:!0,voids:a}),c&&r&&"character"===i&&O.length>1&&O.match(/[\u0E00-\u0E7F]+/)&&tE.insertText(e,O.slice(0,O.length-o));var V=N.unref(),K=D.unref(),G=r?V||K:K||V;null==t.at&&G&&tE.select(e,G)}}})},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var r,{hanging:i=!1,voids:o=!1}=n,{at:a=e.selection}=n;if(t.length&&a){if(e7.isRange(a)){if(i||(a=eG.unhangRange(e,a,{voids:o})),e7.isCollapsed(a))a=a.anchor;else{var[,s]=e7.edges(a);if(!o&&eG.void(e,{at:s}))return;var u=eG.pointRef(e,s);tE.delete(e,{at:a}),a=u.unref()}}else e1.isPath(a)&&(a=eG.start(e,a));if(!(!o&&eG.void(e,{at:a}))){var c=eG.above(e,{at:a,match:t=>eG.isInline(e,t),mode:"highest",voids:o});if(c){var[,l]=c;eG.isEnd(e,a,l)?a=eG.after(e,l):eG.isStart(e,a,l)&&(a=eG.before(e,l))}var[,A]=eG.above(e,{match:t=>eG.isBlock(e,t),at:a,voids:o}),d=eG.isStart(e,a,A),f=eG.isEnd(e,a,A),h=d&&f,p=!d||d&&f,g=!f,[,v]=e$.first({children:t},[]),[,m]=e$.last({children:t},[]),y=[],b=t=>{var[n,r]=t;return 0!==r.length&&(!!h||!(p&&e1.isAncestor(r,v)&&ej.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)||g&&e1.isAncestor(r,m)&&ej.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))};for(var w of e$.nodes({children:t},{pass:b}))b(w)&&y.push(w);var _=[],E=[],C=[],B=!0,I=!1;for(var[x]of y)ej.isElement(x)&&!e.isInline(x)?(B=!1,I=!0,E.push(x)):B?_.push(x):C.push(x);var[T]=eG.nodes(e,{at:a,match:t=>tu.isText(t)||eG.isInline(e,t),mode:"highest",voids:o}),[,S]=T,k=eG.isStart(e,a,S),N=eG.isEnd(e,a,S),D=eG.pathRef(e,f&&!C.length?e1.next(A):A),O=eG.pathRef(e,N?e1.next(S):S);tE.splitNodes(e,{at:a,match:t=>I?eG.isBlock(e,t):tu.isText(t)||eG.isInline(e,t),mode:I?"lowest":"highest",always:I&&(!d||_.length>0)&&(!f||C.length>0),voids:o});var R=eG.pathRef(e,!k||k&&N?e1.next(S):S);if(tE.insertNodes(e,_,{at:R.current,match:t=>tu.isText(t)||eG.isInline(e,t),mode:"highest",voids:o}),h&&!_.length&&E.length&&!C.length&&tE.delete(e,{at:A,voids:o}),tE.insertNodes(e,E,{at:D.current,match:t=>eG.isBlock(e,t),mode:"lowest",voids:o}),tE.insertNodes(e,C,{at:O.current,match:t=>tu.isText(t)||eG.isInline(e,t),mode:"highest",voids:o}),!n.at&&(C.length>0&&O.current?r=e1.previous(O.current):E.length>0&&D.current?r=e1.previous(D.current):R.current&&(r=e1.previous(R.current)),r)){var F=eG.end(e,r);tE.select(e,F)}R.unref(),D.unref(),O.unref()}}})},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=e.selection}=n;if(i){if(e1.isPath(i)&&(i=eG.range(e,i)),e7.isRange(i)){if(e7.isCollapsed(i))i=i.anchor;else{var o=e7.end(i);if(!r&&eG.void(e,{at:o}))return;var a=e7.start(i),s=eG.pointRef(e,a),u=eG.pointRef(e,o);tE.delete(e,{at:i,voids:r});var c=s.unref(),l=u.unref();i=c||l,tE.setSelection(e,{anchor:i,focus:i})}}if(!(!r&&eG.void(e,{at:i}))){var{path:A,offset:d}=i;t.length>0&&e.apply({type:"insert_text",path:A,offset:d,text:t})}}})}})},42294:function(e,t,n){"use strict";var r=n(81867);e.exports=function(e,t){var n=String(e),i=String(t),o=r.pseudoRandomBytes(32);return function(e,t){if(e.length!==t.length)return!1;if(r.timingSafeEqual)return r.timingSafeEqual(e,t);for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(r.createHmac("sha256",o).update(n).digest(),r.createHmac("sha256",o).update(i).digest())&&e===t}},99642:function(e){e.exports="/_next/static/images/eraser-og-ai-5f2e6c94f2dfe2392c4b5207b91a5181.png"},64846:function(e,t,n){"use strict";var r=n(57245),i=n(97375),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function A(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return p(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function h(e){"undefined"!=typeof window?t=window:void 0!==n.g?t=n.g:"undefined"!=typeof self?t=self:t={};var t,r,i=t.location||{},o={},a=typeof(e=e||i);if("blob:"===e.protocol)o=new v(unescape(e.pathname),{});else if("string"===a)for(r in o=new v(e,{}),f)delete o[r];else if("object"===a){for(r in e)r in f||(o[r]=e[r]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function p(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=A(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):p(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&p(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||p(i),slashesCount:u,rest:n}}function v(e,t,n){if(e=(e=A(e)).replace(a,""),!(this instanceof v))return new v(e,t,n);var o,s,u,c,f,m,y=d.slice(),b=typeof t,w=0;for("object"!==b&&"string"!==b&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),o=!(s=g(e||"",t=h(t))).protocol&&!s.slashes,this.slashes=s.slashes||o&&t.slashes,this.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!p(this.protocol)))&&(y[3]=[/(.*)/,"pathname"]);w<y.length;w++){if("function"==typeof(c=y[w])){e=c(e,this);continue}u=c[0],m=c[1],u!=u?this[m]=e:"string"==typeof u?~(f="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof c[2]?(this[m]=e.slice(0,f),e=e.slice(f+c[2])):(this[m]=e.slice(f),e=e.slice(0,f))):(f=u.exec(e))&&(this[m]=f[1],e=e.slice(0,f.index)),this[m]=this[m]||o&&c[3]&&t[m]||"",c[4]&&(this[m]=this[m].toLowerCase())}n&&(this.query=n(this.query)),o&&t.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==t.pathname)&&(this.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),("."===i||".."===i)&&n.push(""),n.join("/")}(this.pathname,t.pathname)),"/"!==this.pathname.charAt(0)&&p(this.protocol)&&(this.pathname="/"+this.pathname),r(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(~(f=this.auth.indexOf(":"))?(this.username=this.auth.slice(0,f),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=this.auth.slice(f+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(this.auth)),this.auth=this.password?this.username+":"+this.password:this.username),this.origin="file:"!==this.protocol&&p(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString()}v.prototype={set:function(e,t,n){switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),this[e]=t;break;case"port":this[e]=t,r(t,this.protocol)?t&&(this.host=this.hostname+":"+t):(this.host=this.hostname,this[e]="");break;case"hostname":this[e]=t,this.port&&(t+=":"+this.port),this.host=t;break;case"host":this[e]=t,u.test(t)?(t=t.split(":"),this.port=t.pop(),this.hostname=t.join(":")):(this.hostname=t,this.port="");break;case"protocol":this.protocol=t.toLowerCase(),this.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";this[e]=t.charAt(0)!==o?o+t:t}else this[e]=t;break;case"username":case"password":this[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(this.username=t.slice(0,a),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=t.slice(a+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<d.length;s++){var c=d[s];c[4]&&(this[c[1]]=this[c[1]].toLowerCase())}return this.auth=this.password?this.username+":"+this.password:this.username,this.origin="file:"!==this.protocol&&p(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this.host,r=this.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(this.protocol&&this.slashes||p(this.protocol)?"//":"");return this.username?(o+=this.username,this.password&&(o+=":"+this.password),o+="@"):this.password?o+=":"+this.password+"@":"file:"!==this.protocol&&p(this.protocol)&&!n&&"/"!==this.pathname&&(o+="@"),(":"===n[n.length-1]||u.test(this.hostname)&&!this.port)&&(n+=":"),o+=n+this.pathname,(t="object"==typeof this.query?e(this.query):this.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),this.hash&&(o+=this.hash),o}},v.extractProtocol=g,v.location=h,v.trimLeft=A,v.qs=i,e.exports=v},21746:function(e,t,n){"use strict";n.d(t,{Sz:function(){return d},kr:function(){return A},qp:function(){return f}});var r=n(2784),i=n(14616),o=n(28316);n(34406);let a=Symbol(),s=Symbol(),u="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,c=i.unstable_runWithPriority?e=>(0,i.unstable_runWithPriority)(i.unstable_NormalPriority,e):e=>e(),l=e=>e;function A(e){var t;let n=(0,r.createContext)({[a]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return n[s]=n.Provider,n.Provider=(t=n.Provider,({value:e,children:n})=>{let i=(0,r.useRef)(e),s=(0,r.useRef)(0),l=(0,r.useRef)();if(!l.current){let e=new Set;l.current={[a]:{v:i,n:s,l:e,u:t=>{(0,o.unstable_batchedUpdates)(()=>{s.current+=1,e.forEach(e=>e([s.current])),t()})}}}}return u(()=>{i.current=e,s.current+=1,c(()=>{l.current[a].l.forEach(t=>{t([s.current,e])})})},[e]),(0,r.createElement)(t,{value:l.current},n)}),delete n.Consumer,n}function d(e,t){let{v:{current:n},n:{current:i},l:o}=(0,r.useContext)(e)[a],s=t(n),[c,l]=(0,r.useReducer)((e,r)=>{if(!r)return[n,s];if(r[0]<=i)return Object.is(e[1],s)?e:[n,s];try{if(2===r.length){if(Object.is(e[0],r[1]))return e;let n=t(r[1]);return Object.is(e[1],n)?e:[r[1],n]}}catch(e){}return[...e]},[n,s]);return Object.is(c[1],s)||l(),u(()=>(o.add(l),()=>{o.delete(l)}),[o]),c[1]}function f(e){return d(e,l)}},20452:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2784),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})},[e,n,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},43100:function(e,t,n){"use strict";e.exports=n(20452)},34566:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=(0,n(2784).createContext)({dragDropManager:void 0})},56846:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(14141),i=n(69378),o=/*#__PURE__*/n.n(i),a=n(2784);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){var i,c,l,A,d,f,h,p,g,v,m;return i=e||function(){return{}},c=function(){return n.reconnect()},v=(g=function(e){if(Array.isArray(e))return e}((d=(A=function(e){if(Array.isArray(e))return e}(l=(0,a.useState)(function(){return i(t)}))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(l,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(l,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],f=A[1],h=(0,a.useCallback)(function(){var e=i(t);!o()(d,e)&&(f(e),c&&c())},[d,t,c]),(0,r.L)(h),p=[d,h]))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(p,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,2)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],m=g[1],(0,r.L)(function(){var e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(m,{handlerIds:[e]})},[t,m]),v}},9311:function(e,t,n){"use strict";n.d(t,{c:function(){return E}});var r=n(5934),i=n(14141),o=n(2784);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=/*#__PURE__*/function(){var e;function t(e,n,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),s(this,"spec",void 0),s(this,"monitor",void 0),s(this,"connector",void 0),this.spec=e,this.monitor=n,this.connector=r}return e=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!==(e="object"===a(t.item)?t.item:"function"==typeof t.item?t.item(n):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,i=n.isDragging;return i?i(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),c=n(40917),l=n(45293);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(67617);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=!1,p=!1,g=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),f(this,"internalMonitor",void 0),f(this,"sourceId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,l.k)(!h,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return h=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{h=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,l.k)(!p,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return p=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{p=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),v=n(40898),m=n(71618),y=n(57320);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=/*#__PURE__*/function(){var e;function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),b(this,"hooks",(0,v.p)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,(0,m.d)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,(0,m.d)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),b(this,"handlerId",null),b(this,"dragSourceRef",null),b(this,"dragSourceNode",void 0),b(this,"dragSourceOptionsInternal",null),b(this,"dragSourceUnsubscribe",void 0),b(this,"dragPreviewRef",null),b(this,"dragPreviewNode",void 0),b(this,"dragPreviewOptionsInternal",null),b(this,"dragPreviewUnsubscribe",void 0),b(this,"lastConnectedHandlerId",null),b(this,"lastConnectedDragSource",null),b(this,"lastConnectedDragSourceOptions",null),b(this,"lastConnectedDragPreview",null),b(this,"lastConnectedDragPreviewOptions",null),b(this,"backend",void 0),this.backend=e}return e=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(t&&this.disconnectDragSource(),this.handlerId){if(!e){this.lastConnectedDragSource=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,y.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,y.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),_=n(56846);function E(e,t){var n,a,s,f,h,p,v,m,y=(0,d.w)(e,t);(0,l.k)(!y.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var b=(n=(0,c.N)(),(0,o.useMemo)(function(){return new g(n)},[n])),E=(a=y.options,s=y.previewOptions,f=(0,c.N)(),h=(0,o.useMemo)(function(){return new w(f.getBackend())},[f]),(0,i.L)(function(){return h.dragSourceOptions=a||null,h.reconnect(),function(){return h.disconnectDragSource()}},[h,a]),(0,i.L)(function(){return h.dragPreviewOptions=s||null,h.reconnect(),function(){return h.disconnectDragPreview()}},[h,s]),h);return p=(0,c.N)(),v=(0,o.useMemo)(function(){return new u(y,b,E)},[b,E]),(0,o.useEffect)(function(){v.spec=y},[y]),m=(0,o.useMemo)(function(){var e=y.type;return(0,l.k)(null!=e,"spec.type must be defined"),e},[y]),(0,i.L)(function(){if(null!=m){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.w)(m,v,p))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return b.receiveHandlerId(n),E.receiveHandlerId(n),i}},[p,b,E,v,m]),[(0,_.J)(y.collect,b,E),(0,o.useMemo)(function(){return E.hooks.dragSource()},[E]),(0,o.useMemo)(function(){return E.hooks.dragPreview()},[E])]}},40917:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(2784),i=n(45293),o=n(34566);function a(){var e=(0,r.useContext)(o.L).dragDropManager;return(0,i.k)(null!=e,"Expected drag drop context"),e}},34569:function(e,t,n){"use strict";n.d(t,{L:function(){return w}});var r=n(5934),i=n(40917),o=n(14141),a=n(45293),s=n(2784);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),u(this,"spec",void 0),u(this,"monitor",void 0),this.spec=e,this.monitor=n}return e=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=n(67617);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=!1,h=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),d(this,"internalMonitor",void 0),d(this,"targetId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,a.k)(!f,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return f=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{f=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),p=n(57320),g=n(40898),v=n(71618);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=/*#__PURE__*/function(){var e;function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),m(this,"hooks",(0,g.p)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,(0,v.d)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),m(this,"handlerId",null),m(this,"dropTargetRef",null),m(this,"dropTargetNode",void 0),m(this,"dropTargetOptionsInternal",null),m(this,"unsubscribeDropTarget",void 0),m(this,"lastConnectedHandlerId",null),m(this,"lastConnectedDropTarget",null),m(this,"lastConnectedDropTargetOptions",null),m(this,"backend",void 0),this.backend=e}return e=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,p.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),b=n(56846);function w(e,t){var n,u,d,f,p,g,v,m,w=(0,A.w)(e,t),_=(n=(0,i.N)(),(0,s.useMemo)(function(){return new h(n)},[n])),E=(u=w.options,d=(0,i.N)(),f=(0,s.useMemo)(function(){return new y(d.getBackend())},[d]),(0,o.L)(function(){return f.dropTargetOptions=u||null,f.reconnect(),function(){return f.disconnectDropTarget()}},[u]),f);return p=(0,i.N)(),g=(0,s.useMemo)(function(){return new c(w,_)},[_]),(0,s.useEffect)(function(){g.spec=w},[w]),v=w.accept,m=(0,s.useMemo)(function(){return(0,a.k)(null!=w.accept,"accept must be defined"),Array.isArray(v)?v:[v]},[v]),(0,o.L)(function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.n)(m,g,p))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return _.receiveHandlerId(n),E.receiveHandlerId(n),i},[p,_,g,E,m.map(function(e){return e.toString()}).join("|")]),[(0,b.J)(w.collect,_,E),(0,s.useMemo)(function(){return E.hooks.dropTarget()},[E])]}},14141:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},67617:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(2784);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,o=function(e){if(Array.isArray(e))return i(e)}(n=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&o.push(e),(0,r.useMemo)(function(){return"function"==typeof e?e():e},o)}},71618:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,{d:function(){return i}})},5934:function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,{n:function(){return r},w:function(){return i}})},40898:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(45293),i=n(2784);function o(e){var t={};return Object.keys(e).forEach(function(n){var o=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var s=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.isValidElement)(n)?(function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(n),e=s?function(e){return o(e,s)}:o,t=n.ref,((0,r.k)("string"!=typeof t,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t)?(0,i.cloneElement)(n,{ref:function(n){a(t,n),a(e,n)}}):(0,i.cloneElement)(n,{ref:e})):(o(n,s),n)};t[n]=function(){return s}}}),t}function a(e,t){"function"==typeof e?e(t):e.current=t}},35580:function(){},98554:function(){},81867:function(){},5392:function(e){var t;t=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];t["[object "+i+"]"]=i.toLowerCase()}var o=function(e){return t[Object.prototype.toString.call(e)]||"object"},a=Math.PI,s={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:e,type:o,unpack:function(e,t){return(void 0===t&&(t=null),e.length>=3)?Array.prototype.slice.call(e):"object"==o(e[0])&&t?t.split("").filter(function(t){return void 0!==e[0][t]}).map(function(t){return e[0][t]}):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==o(e[t])?e[t].toLowerCase():null},TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},u={format:{},autodetect:[]},c=s.last,l=s.clip_rgb,A=s.type,d=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===A(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=c(e),r=!1;if(!n){r=!0,u.sorted||(u.autodetect=u.autodetect.sort(function(e,t){return t.p-e.p}),u.sorted=!0);for(var i=0,o=u.autodetect;i<o.length;i+=1){var a=o[i];if(n=a.test.apply(a,e))break}}if(u.format[n]){var s=u.format[n].apply(null,r?e:e.slice(0,-1));this._rgb=l(s)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)};d.prototype.toString=function(){return"function"==A(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var f=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f.Color,[null].concat(e)))};f.Color=d,f.version="2.4.2";var h=s.unpack,p=Math.max,g=s.unpack,v=s.unpack,m=s.type,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=h(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-p(r/=255,p(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]};d.prototype.cmyk=function(){return y(this._rgb)},f.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},u.format.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=g(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===m(e=v(e,"cmyk"))&&4===e.length)return"cmyk"}});var b=s.unpack,w=s.last,_=function(e){return Math.round(100*e)/100},E=s.unpack,C=function(){for(var e,t,n=[],r=arguments.length;r--;)n[r]=arguments[r];var i=(n=E(n,"rgba"))[0],o=n[1],a=n[2],s=Math.min(i/=255,o/=255,a/=255),u=Math.max(i,o,a),c=(u+s)/2;return(u===s?(e=0,t=Number.NaN):e=c<.5?(u-s)/(u+s):(u-s)/(2-u-s),i==u?t=(o-a)/(u-s):o==u?t=2+(a-i)/(u-s):a==u&&(t=4+(i-o)/(u-s)),(t*=60)<0&&(t+=360),n.length>3&&void 0!==n[3])?[t,e,c,n[3]]:[t,e,c]},B=s.unpack,I=s.last,x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=b(e,"hsla"),r=w(e)||"lsa";return n[0]=_(n[0]||0),n[1]=_(100*n[1])+"%",n[2]=_(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},T=Math.round,S=s.unpack,k=Math.round,N=function(){for(var e,t,n,r,i=[],o=arguments.length;o--;)i[o]=arguments[o];var a=(i=S(i,"hsl"))[0],s=i[1],u=i[2];if(0===s)t=n=r=255*u;else{var c=[0,0,0],l=[0,0,0],A=u<.5?u*(1+s):u+s-u*s,d=2*u-A,f=a/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?l[h]=d+(A-d)*6*c[h]:2*c[h]<1?l[h]=A:3*c[h]<2?l[h]=d+(A-d)*(2/3-c[h])*6:l[h]=d;t=(e=[k(255*l[0]),k(255*l[1]),k(255*l[2])])[0],n=e[1],r=e[2]}return i.length>3?[t,n,r,i[3]]:[t,n,r,1]},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,O=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,F=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,L=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,P=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=Math.round,M=function(e){if(e=e.toLowerCase().trim(),u.format.named)try{return u.format.named(e)}catch(e){}if(t=e.match(D)){for(var t,n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(O)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(R)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=U(2.55*a[s]);return a[3]=1,a}if(t=e.match(F)){for(var c=t.slice(1,5),l=0;l<3;l++)c[l]=U(2.55*c[l]);return c[3]=+c[3],c}if(t=e.match(L)){var A=t.slice(1,4);A[1]*=.01,A[2]*=.01;var d=N(A);return d[3]=1,d}if(t=e.match(P)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var h=N(f);return h[3]=+t[4],h}};M.test=function(e){return D.test(e)||O.test(e)||R.test(e)||F.test(e)||L.test(e)||P.test(e)};var j=s.type,Z=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=B(e,"rgba"),r=I(e)||"rgb";return"hsl"==r.substr(0,3)?x(C(n),r):(n[0]=T(n[0]),n[1]=T(n[1]),n[2]=T(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")};d.prototype.css=function(e){return Z(this._rgb,e)},f.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},u.format.css=M,u.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===j(e)&&M.test(e))return"css"}});var Q=s.unpack;u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Q(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},f.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var H=s.unpack,V=s.unpack,K=Math.floor,G=s.unpack,z=s.type,W=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=H(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),u=Math.max(i,o,a),c=u-s;return 0===c?e=Number.NaN:(i===u&&(e=(o-a)/c),o===u&&(e=2+(a-i)/c),a===u&&(e=4+(i-o)/c),(e*=60)<0&&(e+=360)),[e,100*c/255,s/(255-c)*100]};d.prototype.hcg=function(){return W(this._rgb)},f.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},u.format.hcg=function(){for(var e,t,n,r,i,o,a,s,u,c=[],l=arguments.length;l--;)c[l]=arguments[l];var A=(c=V(c,"hcg"))[0],d=c[1],f=c[2];f*=255;var h=255*d;if(0===d)a=s=u=f;else{360===A&&(A=0),A>360&&(A-=360),A<0&&(A+=360);var p=K(A/=60),g=A-p,v=f*(1-d),m=v+h*(1-g),y=v+h*g,b=v+h;switch(p){case 0:a=(e=[b,y,v])[0],s=e[1],u=e[2];break;case 1:a=(t=[m,b,v])[0],s=t[1],u=t[2];break;case 2:a=(n=[v,b,y])[0],s=n[1],u=n[2];break;case 3:a=(r=[v,m,b])[0],s=r[1],u=r[2];break;case 4:a=(i=[y,v,b])[0],s=i[1],u=i[2];break;case 5:a=(o=[b,v,m])[0],s=o[1],u=o[2]}}return[a,s,u,c.length>3?c[3]:1]},u.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===z(e=G(e,"hcg"))&&3===e.length)return"hcg"}});var q=s.unpack,Y=s.last,$=Math.round,X=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=q(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=Y(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var u="000000"+((r=$(r))<<16|(i=$(i))<<8|(o=$(o))).toString(16);u=u.substr(u.length-6);var c="0"+$(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+u+c;case"argb":return"#"+c+u;default:return"#"+u}},J=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ee=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,et=function(e){if(e.match(J)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(ee)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16),r=Math.round((255&n)/255*100)/100;return[n>>24&255,n>>16&255,n>>8&255,r]}throw Error("unknown hex color: "+e)},en=s.type;d.prototype.hex=function(e){return X(this._rgb,e)},f.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},u.format.hex=et,u.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===en(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var er=s.unpack,ei=s.TWOPI,eo=Math.min,ea=Math.sqrt,es=Math.acos,eu=s.unpack,ec=s.limit,el=s.TWOPI,eA=s.PITHIRD,ed=Math.cos,ef=s.unpack,eh=s.type,ep=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=er(t,"rgb"),i=r[0],o=r[1],a=r[2],s=eo(i/=255,o/=255,a/=255),u=(i+o+a)/3,c=u>0?1-s/u:0;return 0===c?e=NaN:(e=es(e=(i-o+(i-a))/2/ea((i-o)*(i-o)+(i-a)*(o-a))),a>o&&(e=ei-e),e/=ei),[360*e,c,u]};d.prototype.hsi=function(){return ep(this._rgb)},f.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},u.format.hsi=function(){for(var e,t,n,r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=(r=eu(r,"hsi"))[0],a=r[1],s=r[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?t=1-((n=(1-a)/3)+(e=(1+a*ed(el*o)/ed(eA-el*o))/3)):o<2/3?(o-=1/3,n=1-((e=(1-a)/3)+(t=(1+a*ed(el*o)/ed(eA-el*o))/3))):(o-=2/3,e=1-((t=(1-a)/3)+(n=(1+a*ed(el*o)/ed(eA-el*o))/3))),[255*(e=ec(s*e*3)),255*(t=ec(s*t*3)),255*(n=ec(s*n*3)),r.length>3?r[3]:1]},u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eh(e=ef(e,"hsi"))&&3===e.length)return"hsi"}});var eg=s.unpack,ev=s.type;d.prototype.hsl=function(){return C(this._rgb)},f.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},u.format.hsl=N,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===ev(e=eg(e,"hsl"))&&3===e.length)return"hsl"}});var em=s.unpack,ey=Math.min,eb=Math.max,ew=s.unpack,e_=Math.floor,eE=s.unpack,eC=s.type,eB=function(){for(var e,t,n,r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=(r=em(r,"rgb"))[0],a=r[1],s=r[2],u=ey(o,a,s),c=eb(o,a,s),l=c-u;return n=c/255,0===c?(e=Number.NaN,t=0):(t=l/c,o===c&&(e=(a-s)/l),a===c&&(e=2+(s-o)/l),s===c&&(e=4+(o-a)/l),(e*=60)<0&&(e+=360)),[e,t,n]};d.prototype.hsv=function(){return eB(this._rgb)},f.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},u.format.hsv=function(){for(var e,t,n,r,i,o,a,s,u,c=[],l=arguments.length;l--;)c[l]=arguments[l];var A=(c=ew(c,"hsv"))[0],d=c[1],f=c[2];if(f*=255,0===d)a=s=u=f;else{360===A&&(A=0),A>360&&(A-=360),A<0&&(A+=360);var h=e_(A/=60),p=A-h,g=f*(1-d),v=f*(1-d*p),m=f*(1-d*(1-p));switch(h){case 0:a=(e=[f,m,g])[0],s=e[1],u=e[2];break;case 1:a=(t=[v,f,g])[0],s=t[1],u=t[2];break;case 2:a=(n=[g,f,m])[0],s=n[1],u=n[2];break;case 3:a=(r=[g,v,f])[0],s=r[1],u=r[2];break;case 4:a=(i=[m,g,f])[0],s=i[1],u=i[2];break;case 5:a=(o=[f,g,v])[0],s=o[1],u=o[2]}}return[a,s,u,c.length>3?c[3]:1]},u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eC(e=eE(e,"hsv"))&&3===e.length)return"hsv"}});var eI={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ex=s.unpack,eT=Math.pow,eS=function(e){return(e/=255)<=.04045?e/12.92:eT((e+.055)/1.055,2.4)},ek=function(e){return e>eI.t3?eT(e,1/3):e/eI.t2+eI.t0},eN=function(){for(var e,t,n,r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=ex(r,"rgb"),a=(e=o[0],t=o[1],n=o[2],[ek((.4124564*(e=eS(e))+.3575761*(t=eS(t))+.1804375*(n=eS(n)))/eI.Xn),ek((.2126729*e+.7151522*t+.072175*n)/eI.Yn),ek((.0193339*e+.119192*t+.9503041*n)/eI.Zn)]),s=a[0],u=a[1],c=a[2],l=116*u-16;return[l<0?0:l,500*(s-u),200*(u-c)]},eD=s.unpack,eO=Math.pow,eR=function(e){return 255*(e<=.00304?12.92*e:1.055*eO(e,1/2.4)-.055)},eF=function(e){return e>eI.t1?e*e*e:eI.t2*(e-eI.t0)},eL=function(){for(var e,t,n,r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=(r=eD(r,"lab"))[0],a=r[1],s=r[2];return t=(o+16)/116,e=isNaN(a)?t:t+a/500,n=isNaN(s)?t:t-s/200,t=eI.Yn*eF(t),[eR(3.2404542*(e=eI.Xn*eF(e))-1.5371385*t-.4985314*(n=eI.Zn*eF(n))),eR(-.969266*e+1.8760108*t+.041556*n),eR(.0556434*e-.2040259*t+1.0572252*n),r.length>3?r[3]:1]},eP=s.unpack,eU=s.type;d.prototype.lab=function(){return eN(this._rgb)},f.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},u.format.lab=eL,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eU(e=eP(e,"lab"))&&3===e.length)return"lab"}});var eM=s.unpack,ej=s.RAD2DEG,eZ=Math.sqrt,eQ=Math.atan2,eH=Math.round,eV=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eM(e,"lab"),r=n[0],i=n[1],o=n[2],a=eZ(i*i+o*o),s=(eQ(o,i)*ej+360)%360;return 0===eH(1e4*a)&&(s=Number.NaN),[r,a,s]},eK=s.unpack,eG=s.unpack,ez=s.DEG2RAD,eW=Math.sin,eq=Math.cos,eY=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eG(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,eq(o*=ez)*i,eW(o)*i]},e$=s.unpack,eX=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eY((e=e$(e,"lch"))[0],e[1],e[2]),r=eL(n[0],n[1],n[2]);return[r[0],r[1],r[2],e.length>3?e[3]:1]},eJ=s.unpack,e0=s.unpack,e1=s.type,e2=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eK(e,"rgb"),r=eN(n[0],n[1],n[2]);return eV(r[0],r[1],r[2])};d.prototype.lch=function(){return e2(this._rgb)},d.prototype.hcl=function(){return e2(this._rgb).reverse()},f.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},f.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},u.format.lch=eX,u.format.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eJ(e,"hcl").reverse();return eX.apply(void 0,n)},["lch","hcl"].forEach(function(e){return u.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===e1(t=e0(t,e))&&3===t.length)return e}})});var e4={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e3=s.type;d.prototype.name=function(){for(var e=X(this._rgb,"rgb"),t=0,n=Object.keys(e4);t<n.length;t+=1){var r=n[t];if(e4[r]===e)return r.toLowerCase()}return e},u.format.named=function(e){if(e4[e=e.toLowerCase()])return et(e4[e]);throw Error("unknown color name: "+e)},u.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===e3(e)&&e4[e.toLowerCase()])return"named"}});var e5=s.unpack,e6=s.type,e8=s.type,e9=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e5(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]};d.prototype.num=function(){return e9(this._rgb)},f.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},u.format.num=function(e){if("number"==e6(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},u.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===e8(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var e7=s.unpack,te=s.type,tt=Math.round;d.prototype.rgb=function(e){return(void 0===e&&(e=!0),!1===e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tt)},d.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(t,n){return n<3?!1===e?t:tt(t):t})},f.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},u.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e7(e,"rgba");return void 0===n[3]&&(n[3]=1),n},u.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===te(e=e7(e,"rgba"))&&(3===e.length||4===e.length&&"number"==te(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var tn=Math.log,tr=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*tn(n),r=i<20?0:-254.76935184120902+.8274096064007395*(r=i-10)+115.67994401066147*tn(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*tn(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*tn(n),r=255),[t,n,r,1]},ti=s.unpack,to=Math.round,ta=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=ti(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4;s-a>.4;){var u=tr(e=(s+a)*.5);u[2]/u[0]>=o/i?s=e:a=e}return to(e)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return ta(this._rgb)},f.temp=f.kelvin=f.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=tr;var ts=s.unpack,tu=Math.cbrt,tc=Math.pow,tl=Math.sign,tA=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ts(e,"rgb"),r=n[0],i=n[1],o=n[2],a=[td(r/255),td(i/255),td(o/255)],s=a[0],u=a[1],c=a[2],l=tu(.4122214708*s+.5363325363*u+.0514459929*c),A=tu(.2119034982*s+.6806995451*u+.1073969566*c),d=tu(.0883024619*s+.2817188376*u+.6299787005*c);return[.2104542553*l+.793617785*A-.0040720468*d,1.9779984951*l-2.428592205*A+.4505937099*d,.0259040371*l+.7827717662*A-.808675766*d]};function td(e){var t=Math.abs(e);return t<.04045?e/12.92:(tl(e)||1)*tc((t+.055)/1.055,2.4)}var tf=s.unpack,th=Math.pow,tp=Math.sign,tg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=tf(e,"lab"))[0],r=e[1],i=e[2],o=th(n+.3963377774*r+.2158037573*i,3),a=th(n-.1055613458*r-.0638541728*i,3),s=th(n-.0894841775*r-1.291485548*i,3);return[255*tv(4.0767416621*o-3.3077115913*a+.2309699292*s),255*tv(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*tv(-.0041960863*o-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]};function tv(e){var t=Math.abs(e);return t>.0031308?(tp(e)||1)*(1.055*th(t,1/2.4)-.055):12.92*e}var tm=s.unpack,ty=s.type;d.prototype.oklab=function(){return tA(this._rgb)},f.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["oklab"])))},u.format.oklab=tg,u.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===ty(e=tm(e,"oklab"))&&3===e.length)return"oklab"}});var tb=s.unpack,tw=s.unpack,t_=s.unpack,tE=s.type,tC=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=tb(e,"rgb"),r=tA(n[0],n[1],n[2]);return eV(r[0],r[1],r[2])};d.prototype.oklch=function(){return tC(this._rgb)},f.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["oklch"])))},u.format.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eY((e=tw(e,"lch"))[0],e[1],e[2]),r=tg(n[0],n[1],n[2]);return[r[0],r[1],r[2],e.length>3?e[3]:1]},u.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tE(e=t_(e,"oklch"))&&3===e.length)return"oklch"}});var tB=s.type;d.prototype.alpha=function(e,t){return(void 0===t&&(t=!1),void 0!==e&&"number"===tB(e))?t?(this._rgb[3]=e,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=eI.Kn*e,new d(t,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(!r)return i;var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw Error("unknown channel "+r+" in mode "+n)};var tI=s.type,tx=Math.pow;d.prototype.luminance=function(e){if(void 0!==e&&"number"===tI(e)){if(0===e)return new d([0,0,0,this._rgb[3]],"rgb");if(1===e)return new d([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,i){var o=t.interpolate(i,.5,"rgb"),a=o.luminance();return!(1e-7>Math.abs(e-a))&&n--?a>e?r(t,o):r(o,i):o},i=(t>e?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(i.concat([this._rgb[3]]))}return tT.apply(void 0,this._rgb.slice(0,3))};var tT=function(e,t,n){return .2126*(e=tS(e))+.7152*(t=tS(t))+.0722*(n=tS(n))},tS=function(e){return(e/=255)<=.03928?e/12.92:tx((e+.055)/1.055,2.4)},tk={},tN=s.type,tD=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(tk[o]||r.length||(o=Object.keys(tk)[0]),!tk[o])throw Error("interpolation mode "+o+" is not defined");return"object"!==tN(e)&&(e=new d(e)),"object"!==tN(t)&&(t=new d(t)),tk[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};d.prototype.mix=d.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return tD.apply(void 0,[this,e,t].concat(n))},d.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new d([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},d.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=eI.Kn*e,t[1]<0&&(t[1]=0),new d(t,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var tO=s.type;d.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(!o)return a;var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==tO(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else if("number"===tO(t))a[s]=t;else throw Error("unsupported value for Color.set");var u=new d(a,i);return n?(this._rgb=u._rgb,this):u}throw Error("unknown channel "+o+" in mode "+i)},tk.rgb=function(e,t,n){var r=e._rgb,i=t._rgb;return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var tR=Math.sqrt,tF=Math.pow;tk.lrgb=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,u=s[0],c=s[1],l=s[2];return new d(tR(tF(i,2)*(1-n)+tF(u,2)*n),tR(tF(o,2)*(1-n)+tF(c,2)*n),tR(tF(a,2)*(1-n)+tF(l,2)*n),"rgb")},tk.lab=function(e,t,n){var r=e.lab(),i=t.lab();return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var tL=function(e,t,n,r){var i,o,a,s,u,c,l,A,f,h,p,g,v,m;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&(u=(i=a)[0],l=i[1],f=i[2],c=(o=s)[0],A=o[1],h=o[2]),isNaN(u)||isNaN(c)?isNaN(u)?isNaN(c)?g=Number.NaN:(g=c,(1==f||0==f)&&"hsv"!=r&&(p=A)):(g=u,(1==h||0==h)&&"hsv"!=r&&(p=l)):(m=c>u&&c-u>180?c-(u+360):c<u&&u-c>180?c+360-u:c-u,g=u+n*m),void 0===p&&(p=l+n*(A-l)),v=f+n*(h-f),"oklch"===r?new d([v,p,g],r):new d([g,p,v],r)},tP=function(e,t,n){return tL(e,t,n,"lch")};tk.lch=tP,tk.hcl=tP,tk.num=function(e,t,n){var r=e.num();return new d(r+n*(t.num()-r),"num")},tk.hcg=function(e,t,n){return tL(e,t,n,"hcg")},tk.hsi=function(e,t,n){return tL(e,t,n,"hsi")},tk.hsl=function(e,t,n){return tL(e,t,n,"hsl")},tk.hsv=function(e,t,n){return tL(e,t,n,"hsv")},tk.oklab=function(e,t,n){var r=e.oklab(),i=t.oklab();return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")},tk.oklch=function(e,t,n){return tL(e,t,n,"oklch")};var tU=s.clip_rgb,tM=Math.pow,tj=Math.sqrt,tZ=Math.PI,tQ=Math.cos,tH=Math.sin,tV=Math.atan2,tK=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=tM(s[0],2)*a,r[1]+=tM(s[1],2)*a,r[2]+=tM(s[2],2)*a,r[3]+=s[3]*a}return r[0]=tj(r[0]),r[1]=tj(r[1]),r[2]=tj(r[2]),r[3]>.9999999&&(r[3]=1),new d(tU(r))},tG=s.type,tz=Math.pow,tW=function(e){var t="rgb",n=f("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,u=[],c=!1,l=0,A=1,d=!1,h={},p=!0,g=1,v=function(e){if("string"===tG(e=e||["#fff","#000"])&&f.brewer&&f.brewer[e.toLowerCase()]&&(e=f.brewer[e.toLowerCase()]),"array"===tG(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=f(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return _(),u=e},m=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},y=function(e){return e},b=function(e){return e},w=function(e,r){if(null==r&&(r=!1),isNaN(e)||null===e)return n;if(r)c=e;else if(s&&s.length>2){var i,c;c=m(e)/(s.length-2)}else c=A!==l?(e-l)/(A-l):1;c=b(c),r||(c=y(c)),1!==g&&(c=tz(c,g));var d=Math.floor(1e4*(c=Math.min(1,Math.max(0,c=a[0]+c*(1-a[0]-a[1])))));if(p&&h[d])i=h[d];else{if("array"===tG(u))for(var v=0;v<o.length;v++){var w=o[v];if(c<=w||c>=w&&v===o.length-1){i=u[v];break}if(c>w&&c<o[v+1]){c=(c-w)/(o[v+1]-w),i=f.interpolate(u[v],u[v+1],c,t);break}}else"function"===tG(u)&&(i=u(c));p&&(h[d]=i)}return i},_=function(){return h={}};v(e);var E=function(e){var t=f(w(e));return c&&t[c]?t[c]():t};return E.classes=function(e){if(null!=e){if("array"===tG(e))s=e,i=[e[0],e[e.length-1]];else{var t=f.analyze(i);s=0===e?[t.min,t.max]:f.limits(t,"e",e)}return E}return s},E.domain=function(e){if(!arguments.length)return i;l=e[0],A=e[e.length-1],o=[];var t=u.length;if(e.length===t&&l!==A)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-l)/(A-l))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map(function(t,n){return n/(e.length-1)}),d=e.map(function(e){return(e-l)/(A-l)});d.every(function(e,t){return c[t]===e})||(b=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=d[t+1];)t++;var n=(e-d[t])/(d[t+1]-d[t]);return c[t]+n*(c[t+1]-c[t])})}}return i=[l,A],E},E.mode=function(e){return arguments.length?(t=e,_(),E):t},E.range=function(e,t){return v(e),E},E.out=function(e){return c=e,E},E.spread=function(e){return arguments.length?(r=e,E):r},E.correctLightness=function(e){return null==e&&(e=!0),d=e,_(),y=d?function(e){for(var t=w(0,!0).lab()[0],n=w(1,!0).lab()[0],r=t>n,i=w(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,u=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=e,e+=(u-e)*.5):(u=e,e+=(s-e)*.5),a=(i=w(e,!0).lab()[0])-o;return e}:function(e){return e},E},E.padding=function(e){return null!=e?("number"===tG(e)&&(e=[e,e]),a=e,E):a},E.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0==arguments.length)r=u.slice(0);else if(1===t)r=[E(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=(function(e,t,n){for(var r=[],i=0<t,o=n?i?t+1:t-1:t,a=0;i?a<o:a>o;i?a++:a--)r.push(a);return r})(0,t,!1).map(function(e){return E(o+e/(t-1)*a)})}else{e=[];var c=[];if(s&&s.length>2)for(var l=1,A=s.length,d=1<=A;d?l<A:l>A;d?l++:l--)c.push((s[l-1]+s[l])*.5);else c=i;r=c.map(function(e){return E(e)})}return f[n]&&(r=r.map(function(e){return e[n]()})),r},E.cache=function(e){return null!=e?(p=e,E):p},E.gamma=function(e){return null!=e?(g=e,E):g},E.nodata=function(e){return null!=e?(n=f(e),E):n},E},tq=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},tY=function(e){var t,n,r,i,o,a,s,u,c,l,A;if(2===(e=e.map(function(e){return new d(e)})).length)o=(t=e.map(function(e){return e.lab()}))[0],a=t[1],i=function(e){return new d([0,1,2].map(function(t){return o[t]+e*(a[t]-o[t])}),"lab")};else if(3===e.length)o=(n=e.map(function(e){return e.lab()}))[0],a=n[1],s=n[2],i=function(e){return new d([0,1,2].map(function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}),"lab")};else if(4===e.length)o=(r=e.map(function(e){return e.lab()}))[0],a=r[1],s=r[2],u=r[3],i=function(e){return new d([0,1,2].map(function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]}),"lab")};else if(e.length>=5)c=e.map(function(e){return e.lab()}),l=tq(A=e.length-1),i=function(e){var t=1-e;return new d([0,1,2].map(function(n){return c.reduce(function(r,i,o){return r+l[o]*Math.pow(t,A-o)*Math.pow(e,o)*i[n]},0)}),"lab")};else throw RangeError("No point in running bezier with only one color.");return i},t$=function(e,t,n){if(!t$[n])throw Error("unknown blend mode "+n);return t$[n](e,t)},tX=function(e){return function(t,n){var r=f(n).rgb(),i=f(t).rgb();return f.rgb(e(r,i))}},tJ=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};t$.normal=tX(tJ(function(e){return e})),t$.multiply=tX(tJ(function(e,t){return e*t/255})),t$.screen=tX(tJ(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),t$.overlay=tX(tJ(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),t$.darken=tX(tJ(function(e,t){return e>t?t:e})),t$.lighten=tX(tJ(function(e,t){return e>t?e:t})),t$.dodge=tX(tJ(function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e})),t$.burn=tX(tJ(function(e,t){return 255*(1-(1-t/255)/(e/255))}));for(var t0=s.type,t1=s.clip_rgb,t2=s.TWOPI,t4=Math.pow,t3=Math.sin,t5=Math.cos,t6=Math.floor,t8=Math.random,t9=Math.log,t7=Math.pow,ne=Math.floor,nt=Math.abs,nn=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===o(e)&&(e=Object.values(e)),e.forEach(function(e){t&&"object"===o(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,t){return nr(n,e,t)},n},nr=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==o(e)&&(e=nn(e));var r=e.min,i=e.max,a=e.values.sort(function(e,t){return e-t});if(1===n)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*t9(r),l=Math.LOG10E*t9(i);s.push(r);for(var A=1;A<n;A++)s.push(t7(10,c+A/n*(l-c)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var d=1;d<n;d++){var f=(a.length-1)*d/n,h=ne(f);if(h===f)s.push(a[h]);else{var p=f-h;s.push(a[h]*(1-p)+a[h+1]*p)}}s.push(i)}else if("k"===t.substr(0,1)){var g,v=a.length,m=Array(v),y=Array(n),b=!0,w=0,_=null;(_=[]).push(r);for(var E=1;E<n;E++)_.push(r+E/n*(i-r));for(_.push(i);b;){for(var C=0;C<n;C++)y[C]=0;for(var B=0;B<v;B++)for(var I=a[B],x=Number.MAX_VALUE,T=void 0,S=0;S<n;S++){var k=nt(_[S]-I);k<x&&(x=k,T=S),y[T]++,m[B]=T}for(var N=Array(n),D=0;D<n;D++)N[D]=null;for(var O=0;O<v;O++)null===N[g=m[O]]?N[g]=a[O]:N[g]+=a[O];for(var R=0;R<n;R++)N[R]*=1/y[R];b=!1;for(var F=0;F<n;F++)if(N[F]!==_[F]){b=!0;break}_=N,++w>200&&(b=!1)}for(var L={},P=0;P<n;P++)L[P]=[];for(var U=0;U<v;U++)L[g=m[U]].push(a[U]);for(var M=[],j=0;j<n;j++)M.push(L[j][0]),M.push(L[j][L[j].length-1]);M=M.sort(function(e,t){return e-t}),s.push(M[0]);for(var Z=1;Z<M.length;Z+=2){var Q=M[Z];isNaN(Q)||-1!==s.indexOf(Q)||s.push(Q)}}return s},ni=Math.sqrt,no=Math.pow,na=Math.min,ns=Math.max,nu=Math.atan2,nc=Math.abs,nl=Math.cos,nA=Math.sin,nd=Math.exp,nf=Math.PI,nh={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},np=0,ng=Object.keys(nh);np<ng.length;np+=1){var nv=ng[np];nh[nv.toLowerCase()]=nh[nv]}return f.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(Array(r)).map(function(){return 1}));var i=r/n.reduce(function(e,t){return e+t});if(n.forEach(function(e,t){n[t]*=i}),e=e.map(function(e){return new d(e)}),"lrgb"===t)return tK(e,n);for(var o=e.shift(),a=o.get(t),s=[],u=0,c=0,l=0;l<a.length;l++)if(a[l]=(a[l]||0)*n[0],s.push(isNaN(a[l])?0:n[0]),"h"===t.charAt(l)&&!isNaN(a[l])){var A=a[l]/180*tZ;u+=tQ(A)*n[0],c+=tH(A)*n[0]}var f=o.alpha()*n[0];e.forEach(function(e,r){var i=e.get(t);f+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o])){if(s[o]+=n[r+1],"h"===t.charAt(o)){var l=i[o]/180*tZ;u+=tQ(l)*n[r+1],c+=tH(l)*n[r+1]}else a[o]+=i[o]*n[r+1]}});for(var h=0;h<a.length;h++)if("h"===t.charAt(h)){for(var p=tV(c/s[h],u/s[h])/tZ*180;p<0;)p+=360;for(;p>=360;)p-=360;a[h]=p}else a[h]=a[h]/s[h];return f/=r,new d(a,t).alpha(f>.99999?1:f,!0)},f.bezier=function(e){var t=tY(e);return t.scale=function(){return tW(t)},t},f.blend=t$,f.cubehelix=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===t0(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var u=t2*((e+120)/360+t*s),c=t4(i[0]+o*s,r),l=(0!==a?n[0]+s*a:n)*c*(1-c)/2,A=t5(u),d=t3(u);return f(t1([255*(c+l*(-.14861*A+1.78277*d)),255*(c+l*(-.29227*A-.90649*d)),255*(c+1.97294*A*l),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===t0(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===t0(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return f.scale(s)},s.hue(n),s},f.mix=f.interpolate=tD,f.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(t6(16*t8()));return new d(e,"hex")},f.scale=tW,f.analyze=nn,f.contrast=function(e,t){e=new d(e),t=new d(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},f.deltaE=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*nf)},a=function(e){return 2*nf*e/360};e=new d(e),t=new d(t);var s=Array.from(e.lab()),u=s[0],c=s[1],l=s[2],A=Array.from(t.lab()),f=A[0],h=A[1],p=A[2],g=(u+f)/2,v=(ni(no(c,2)+no(l,2))+ni(no(h,2)+no(p,2)))/2,m=.5*(1-ni(no(v,7)/(no(v,7)+no(25,7)))),y=c*(1+m),b=h*(1+m),w=ni(no(y,2)+no(l,2)),_=ni(no(b,2)+no(p,2)),E=(w+_)/2,C=o(nu(l,y)),B=o(nu(p,b)),I=C>=0?C:C+360,x=B>=0?B:B+360,T=nc(I-x)>180?(I+x+360)/2:(I+x)/2,S=1-.17*nl(a(T-30))+.24*nl(a(2*T))+.32*nl(a(3*T+6))-.2*nl(a(4*T-63)),k=x-I;k=180>=nc(k)?k:x<=I?k+360:k-360,k=2*ni(w*_)*nA(a(k)/2);var N=_-w,D=1+.015*no(g-50,2)/ni(20+no(g-50,2)),O=1+.045*E,R=1+.015*E*S,F=30*nd(-no((T-275)/25,2)),L=-(2*ni(no(E,7)/(no(E,7)+no(25,7))))*nA(2*a(F));return ns(0,na(100,ni(no((f-u)/(n*D),2)+no(N/(r*O),2)+no(k/(i*R),2)+N/(r*O)*L*(k/(i*R)))))},f.distance=function(e,t,n){void 0===n&&(n="lab"),e=new d(e),t=new d(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},f.limits=nr,f.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(e){return!1}},f.scales={cool:function(){return tW([f.hsl(180,1,.9),f.hsl(250,.7,.4)])},hot:function(){return tW(["#000","#f00","#ff0","#fff"]).mode("rgb")}},f.colors=e4,f.brewer=nh,f},e.exports=t()},2947:function(e){class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){let n=Object.create(null);for(let t in e)n[t]=e[t];return t.forEach(function(e){for(let t in e)n[t]=e[t]}),n}let i=e=>!!e.scope,o=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`};class a{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!i(e))return;let t=o(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){i(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}let s=(e={})=>{let t={children:[]};return Object.assign(t,e),t};class u{constructor(){this.rootNode=s(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let t=s({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{u._collapse(e)}))}}class c extends u{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){let n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function l(e){return e?"string"==typeof e?e:e.source:null}function A(e){return h("(?=",e,")")}function d(e){return h("(?:",e,")*")}function f(e){return h("(?:",e,")?")}function h(...e){return e.map(e=>l(e)).join("")}function p(...e){return"("+(function(e){let t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e).capture?"":"?:")+e.map(e=>l(e)).join("|")+")"}function g(e){return RegExp(e.toString()+"|").exec("").length-1}let v=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function m(e,{joinWith:t}){let n=0;return e.map(e=>{let t=n+=1,r=l(e),i="";for(;r.length>0;){let e=v.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i}).map(e=>`(${e})`).join(t)}let y="[a-zA-Z]\\w*",b="[a-zA-Z_]\\w*",w="\\b\\d+(\\.\\d+)?",_="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",E="\\b(0b[01]+)",C={begin:"\\\\[\\s\\S]",relevance:0},B=function(e,t,n={}){let i=r({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let o=p("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:h(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},I=B("//","$"),x=B("/\\*","\\*/"),T=B("#","$");var S=/*#__PURE__*/Object.freeze({__proto__:null,APOS_STRING_MODE:{scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[C]},BACKSLASH_ESCAPE:C,BINARY_NUMBER_MODE:{scope:"number",begin:E,relevance:0},BINARY_NUMBER_RE:E,COMMENT:B,C_BLOCK_COMMENT_MODE:x,C_LINE_COMMENT_MODE:I,C_NUMBER_MODE:{scope:"number",begin:_,relevance:0},C_NUMBER_RE:_,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:T,IDENT_RE:y,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*"+b,relevance:0},NUMBER_MODE:{scope:"number",begin:w,relevance:0},NUMBER_RE:w,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:{scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[C]},REGEXP_MODE:{scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[C,{begin:/\[/,end:/\]/,relevance:0,contains:[C]}]},RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{let t=/^#![ ]*\//;return e.binary&&(e.begin=h(t,/.*\b/,e.binary,/\b.*/)),r({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:{scope:"title",begin:y,relevance:0},UNDERSCORE_IDENT_RE:b,UNDERSCORE_TITLE_MODE:{scope:"title",begin:b,relevance:0}});function k(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function N(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function D(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=k,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function O(e,t){Array.isArray(e.illegal)&&(e.illegal=p(...e.illegal))}function R(e,t){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function F(e,t){void 0===e.relevance&&(e.relevance=1)}let L=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=h(n.beforeMatch,A(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},P=["of","and","for","in","not","or","if","then","parent","list","value"],U={},M=e=>{console.error(e)},j=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Z=(e,t)=>{U[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),U[`${e}/${t}`]=!0)},Q=Error();function H(e,t,{key:n}){let r=0,i=e[n],o={},a={};for(let e=1;e<=t.length;e++)a[e+r]=i[e],o[e+r]=!0,r+=g(t[e-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function V(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw M("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Q;if("object"!=typeof e.beginScope||null===e.beginScope)throw M("beginScope must be object"),Q;H(e,e.begin,{key:"beginScope"}),e.begin=m(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw M("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Q;if("object"!=typeof e.endScope||null===e.endScope)throw M("endScope must be object"),Q;H(e,e.end,{key:"endScope"}),e.end=m(e.end,{joinWith:""})}}(e)}class K extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}let G=Symbol("nomatch"),z=function(e){let i=Object.create(null),o=Object.create(null),a=[],s=!0,u="Could not find the language '{}', did you forget to load/include a language module?",v={disableAutodetect:!0,name:"Plain text",contains:[]},y={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function b(e){return y.noHighlightRe.test(e)}function w(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(Z("10.7.0","highlight(lang, code, ...args) has been deprecated."),Z("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);let o={code:r,language:i};U("before:highlight",o);let a=o.result?o.result:_(o.language,o.code,n);return a.code=o.code,U("after:highlight",a),a}function _(e,o,a,c){let A=Object.create(null);function d(){if(!T.keywords){k.addText(U);return}let e=0;T.keywordPatternRe.lastIndex=0;let t=T.keywordPatternRe.exec(U),n="";for(;t;){n+=U.substring(e,t.index);let r=C.case_insensitive?t[0].toLowerCase():t[0],i=T.keywords[r];if(i){let[e,o]=i;if(k.addText(n),n="",A[r]=(A[r]||0)+1,A[r]<=7&&(j+=o),e.startsWith("_"))n+=t[0];else{let n=C.classNameAliases[e]||e;h(t[0],n)}}else n+=t[0];e=T.keywordPatternRe.lastIndex,t=T.keywordPatternRe.exec(U)}n+=U.substring(e),k.addText(n)}function f(){null!=T.subLanguage?function(){if(""===U)return;let e=null;if("string"==typeof T.subLanguage){if(!i[T.subLanguage]){k.addText(U);return}e=_(T.subLanguage,U,!0,S[T.subLanguage]),S[T.subLanguage]=e._top}else e=E(U,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(j+=e.relevance),k.__addSublanguage(e._emitter,e.language)}():d(),U=""}function h(e,t){""!==e&&(k.startScope(t),k.addText(e),k.endScope())}function p(e,t){let n=1,r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}let r=C.classNameAliases[e[n]]||e[n],i=t[n];r?h(i,r):(U=i,d(),U=""),n++}}function v(e,t){return e.scope&&"string"==typeof e.scope&&k.openNode(C.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h(U,C.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),U=""):e.beginScope._multi&&(p(e.beginScope,t),U="")),T=Object.create(e,{parent:{value:T}})}let b={};function w(n,r){let i=r&&r[0];if(U+=n,null==i)return f(),0;if("begin"===b.type&&"end"===r.type&&b.index===r.index&&""===i){if(U+=o.slice(r.index,r.index+1),!s){let t=Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=r,"begin"===r.type)return function(e){let n=e[0],r=e.rule,i=new t(r);for(let t of[r.__beforeBegin,r["on:begin"]])if(t&&(t(e,i),i.isMatchIgnored))return 0===T.matcher.regexIndex?(U+=n[0],1):(H=!0,0);return r.skip?U+=n:(r.excludeBegin&&(U+=n),f(),r.returnBegin||r.excludeBegin||(U=n)),v(r,e),r.returnBegin?0:n.length}(r);if("illegal"!==r.type||a){if("end"===r.type){let e=function(e){let n=e[0],r=o.substring(e.index),i=function e(n,r,i){let o=function(e,t){let n=e&&e.exec(t);return n&&0===n.index}(n.endRe,i);if(o){if(n["on:end"]){let e=new t(n);n["on:end"](r,e),e.isMatchIgnored&&(o=!1)}if(o){for(;n.endsParent&&n.parent;)n=n.parent;return n}}if(n.endsWithParent)return e(n.parent,r,i)}(T,e,r);if(!i)return G;let a=T;T.endScope&&T.endScope._wrap?(f(),h(n,T.endScope._wrap)):T.endScope&&T.endScope._multi?(f(),p(T.endScope,e)):a.skip?U+=n:(a.returnEnd||a.excludeEnd||(U+=n),f(),a.excludeEnd&&(U=n));do T.scope&&k.closeNode(),T.skip||T.subLanguage||(j+=T.relevance),T=T.parent;while(T!==i.parent);return i.starts&&v(i.starts,e),a.returnEnd?0:n.length}(r);if(e!==G)return e}}else{let e=Error('Illegal lexeme "'+i+'" for mode "'+(T.scope||"<unnamed>")+'"');throw e.mode=T,e}if("illegal"===r.type&&""===i)return 1;if(Q>1e5&&Q>3*r.index)throw Error("potential infinite loop, way more iterations than matches");return U+=i,i.length}let C=x(e);if(!C)throw M(u.replace("{}",e)),Error('Unknown language: "'+e+'"');let B=function(e){function t(t,n){return RegExp(l(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=g(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);let e=this.regexes.map(e=>e[1]);this.matcherRe=t(m(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;let t=this.matcherRe.exec(e);if(!t)return null;let n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];let t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){let t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition()){if(n&&n.index===this.lastIndex);else{let t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=r(e.classNameAliases||{}),function n(o,a){if(o.isCompiled)return o;[N,R,V,L].forEach(e=>e(o,a)),e.compilerExtensions.forEach(e=>e(o,a)),o.__beforeBegin=null,[D,O,F].forEach(e=>e(o,a)),o.isCompiled=!0;let s=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),s=o.keywords.$pattern,delete o.keywords.$pattern),s=s||/\w+/,o.keywords&&(o.keywords=function e(t,n,r="keyword"){let i=Object.create(null);return"string"==typeof t?o(r,t.split(" ")):Array.isArray(t)?o(r,t):Object.keys(t).forEach(function(r){Object.assign(i,e(t[r],n,r))}),i;function o(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach(function(t){var n,r;let o=t.split("|");i[o[0]]=[e,(n=o[0],(r=o[1])?Number(r):P.includes(n.toLowerCase())?0:1)]})}}(o.keywords,e.case_insensitive)),o.keywordPatternRe=t(s,!0),a&&(o.begin||(o.begin=/\B|\b/),o.beginRe=t(o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(o.endRe=t(o.end)),o.terminatorEnd=l(o.end)||"",o.endsWithParent&&a.terminatorEnd&&(o.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(o.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(e){var t;return((t="self"===e?o:e).variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return r(t,{variants:null},e)})),t.cachedVariants)?t.cachedVariants:!function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(t)?Object.isFrozen(t)?r(t):t:r(t,{starts:t.starts?r(t.starts):null})})),o.contains.forEach(function(e){n(e,o)}),o.starts&&n(o.starts,a),o.matcher=function(e){let t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(o),o}(e)}(C),I="",T=c||B,S={},k=new y.__emitter(y);!function(){let e=[];for(let t=T;t!==C;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>k.openNode(e))}();let U="",j=0,Z=0,Q=0,H=!1;try{if(C.__emitTokens)C.__emitTokens(o,k);else{for(T.matcher.considerAll();;){Q++,H?H=!1:T.matcher.considerAll(),T.matcher.lastIndex=Z;let e=T.matcher.exec(o);if(!e)break;let t=o.substring(Z,e.index),n=w(t,e);Z=e.index+n}w(o.substring(Z))}return k.finalize(),I=k.toHTML(),{language:e,value:I,relevance:j,illegal:!1,_emitter:k,_top:T}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:n(o),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:Z,context:o.slice(Z-100,Z+100),mode:t.mode,resultSoFar:I},_emitter:k};if(s)return{language:e,value:n(o),illegal:!1,relevance:0,errorRaised:t,_emitter:k,_top:T};throw t}}function E(e,t){t=t||y.languages||Object.keys(i);let r=function(e){let t={value:n(e),illegal:!1,relevance:0,_top:v,_emitter:new y.__emitter(y)};return t._emitter.addText(e),t}(e),o=t.filter(x).filter(k).map(t=>_(t,e,!1));o.unshift(r);let[a,s]=o.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(x(e.language).supersetOf===t.language)return 1;if(x(t.language).supersetOf===e.language)return -1}return 0});return a.secondBest=s,a}function C(e){let t=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";let n=y.languageDetectRe.exec(t);if(n){let t=x(n[1]);return t||(j(u.replace("{}",n[1])),j("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>b(e)||x(e))}(e);if(b(t))return;if(U("before:highlightElement",{el:e,language:t}),e.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);return}if(e.children.length>0&&(y.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),y.throwUnescapedHTML))throw new K("One of your code blocks includes unescaped HTML.",e.innerHTML);let n=e.textContent,r=t?w(n,{language:t,ignoreIllegals:!0}):E(n);e.innerHTML=r.value,e.dataset.highlighted="yes",function(e,t,n){let r=t&&o[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,t,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),U("after:highlightElement",{el:e,result:r,text:n})}let B=!1;function I(){if("loading"===document.readyState){B=!0;return}document.querySelectorAll(y.cssSelector).forEach(C)}function x(e){return i[e=(e||"").toLowerCase()]||i[o[e]]}function T(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{o[e.toLowerCase()]=t})}function k(e){let t=x(e);return t&&!t.disableAutodetect}function U(e,t){a.forEach(function(n){n[e]&&n[e](t)})}for(let t in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function(){B&&I()},!1),Object.assign(e,{highlight:w,highlightAuto:E,highlightAll:I,highlightElement:C,highlightBlock:function(e){return Z("10.7.0","highlightBlock will be removed entirely in v12.0"),Z("10.7.0","Please use highlightElement now."),C(e)},configure:function(e){y=r(y,e)},initHighlighting:()=>{I(),Z("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){I(),Z("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let r=null;try{r=n(e)}catch(e){if(M("Language definition for '{}' could not be registered.".replace("{}",t)),s)M(e);else throw e;r=v}r.name||(r.name=t),i[t]=r,r.rawDefinition=n.bind(null,e),r.aliases&&T(r.aliases,{languageName:t})},unregisterLanguage:function(e){for(let t of(delete i[e],Object.keys(o)))o[t]===e&&delete o[t]},listLanguages:function(){return Object.keys(i)},getLanguage:x,registerAliases:T,autoDetection:k,inherit:r,addPlugin:function(e){var t;(t=e)["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))}),a.push(e)},removePlugin:function(e){let t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="11.9.0",e.regex={concat:h,lookahead:A,either:p,optional:f,anyNumberOfTimes:d},S)"object"==typeof S[t]&&function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{let r=t[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||e(r)}),t}(S[t]);return Object.assign(e,S),e},W=z({});W.newInstance=()=>z({}),e.exports=W,W.HighlightJS=W,W.default=W},30630:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},18770:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},13706:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},98788:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})},90581:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},45605:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(501);function i(e,t,n){return(i=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o}:Reflect.construct).apply(null,arguments)}function o(e,t,n){return i.apply(null,arguments)}},27805:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},39309:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(34067),i=n(13706),o=n(1899);function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,r.Z)(e);return n=t?Reflect.construct(a,arguments,(0,r.Z)(this).constructor):a.apply(this,arguments),n&&("object"===(0,o.Z)(n)||"function"==typeof n)?n:(0,i.Z)(this)}}},47842:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},11389:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34067);function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}})(e,t,n)}function o(e,t,n){return i(e,t,n)}},34067:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return r(e)}n.d(t,{Z:function(){return i}})},21218:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(501);function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},42838:function(e,t,n){"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.d(t,{Z:function(){return r}})},33579:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},93520:function(e,t,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},70865:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(47842);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){(0,r.Z)(e,t,n[t])})}return e}},96670:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{Z:function(){return r}})},26297:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},501:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return r(e,t)}n.d(t,{Z:function(){return i}})},87394:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(18770),i=n(33579),o=n(93520),a=n(15459);function s(e,t){return(0,r.Z)(e)||(0,i.Z)(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},50930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(30630),i=n(33579),o=n(15459);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1899:function(e,t,n){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:function(){return r}})},15459:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30630);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,r.Z)(e,t)}}},20624:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(45605),i=n(34067),o=n(501);function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,r.Z)(e,arguments,(0,i.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(n,e)})(e)}function s(e){return a(e)}},72813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return en}});/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{entries:r,setPrototypeOf:i,isFrozen:o,getPrototypeOf:a,getOwnPropertyDescriptor:s}=Object,{freeze:u,seal:c,create:l}=Object,{apply:A,construct:d}="undefined"!=typeof Reflect&&Reflect;u||(u=function(e){return e}),c||(c=function(e){return e}),A||(A=function(e,t,n){return e.apply(t,n)}),d||(d=function(e,t){return new e(...t)});let f=x(Array.prototype.forEach),h=x(Array.prototype.lastIndexOf),p=x(Array.prototype.pop),g=x(Array.prototype.push),v=x(Array.prototype.splice),m=x(String.prototype.toLowerCase),y=x(String.prototype.toString),b=x(String.prototype.match),w=x(String.prototype.replace),_=x(String.prototype.indexOf),E=x(String.prototype.trim),C=x(Object.prototype.hasOwnProperty),B=x(RegExp.prototype.test),I=($=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d($,t)});function x(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return A(e,t,r)}}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;i&&i(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){let e=n(i);e!==i&&(o(t)||(t[r]=e),i=e)}e[i]=!0}return e}function S(e){let t=l(null);for(let[n,i]of r(e))C(e,n)&&(Array.isArray(i)?t[n]=function(e){for(let t=0;t<e.length;t++)C(e,t)||(e[t]=null);return e}(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=S(i):t[n]=i);return t}function k(e,t){for(;null!==e;){let n=s(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=a(e)}return function(){return null}}let N=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=u(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=u(["#text"]),U=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=u(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=c(/<%[\w\W]*|[\w\W]*%>/gm),V=c(/\$\{[\w\W]*/gm),K=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),G=c(/^aria-[\-\w]+$/),z=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=c(/^(?:\w+script|data):/i),q=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=c(/^html$/i);var $,X=/*#__PURE__*/Object.freeze({__proto__:null,ARIA_ATTR:G,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:c(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:K,DOCTYPE_NAME:Y,ERB_EXPR:H,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:W,MUSTACHE_EXPR:Q,TMPLIT_EXPR:V});let J={element:1,text:3,progressingInstruction:7,comment:8,document:9},ee=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},et=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var en=function e(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=t=>e(t);if(i.version="3.2.4",i.removed=[],!n||!n.document||n.document.nodeType!==J.document||!n.Element)return i.isSupported=!1,i;let{document:o}=n,a=o,s=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:A,Node:d,Element:x,NodeFilter:Q,NamedNodeMap:H=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:V,DOMParser:K,trustedTypes:G}=n,W=x.prototype,q=k(W,"cloneNode"),$=k(W,"remove"),en=k(W,"nextSibling"),er=k(W,"childNodes"),ei=k(W,"parentNode");if("function"==typeof A){let e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let eo="",{implementation:ea,createNodeIterator:es,createDocumentFragment:eu,getElementsByTagName:ec}=o,{importNode:el}=a,eA=et();i.isSupported="function"==typeof r&&"function"==typeof ei&&ea&&void 0!==ea.createHTMLDocument;let{MUSTACHE_EXPR:ed,ERB_EXPR:ef,TMPLIT_EXPR:eh,DATA_ATTR:ep,ARIA_ATTR:eg,IS_SCRIPT_OR_DATA:ev,ATTR_WHITESPACE:em,CUSTOM_ELEMENT:ey}=X,{IS_ALLOWED_URI:eb}=X,ew=null,e_=T({},[...N,...D,...O,...F,...P]),eE=null,eC=T({},[...U,...M,...j,...Z]),eB=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eI=null,ex=null,eT=!0,eS=!0,ek=!1,eN=!0,eD=!1,eO=!0,eR=!1,eF=!1,eL=!1,eP=!1,eU=!1,eM=!1,ej=!0,eZ=!1,eQ=!0,eH=!1,eV={},eK=null,eG=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ez=null,eW=T({},["audio","video","img","source","image","track"]),eq=null,eY=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),e$="http://www.w3.org/1998/Math/MathML",eX="http://www.w3.org/2000/svg",eJ="http://www.w3.org/1999/xhtml",e0=eJ,e1=!1,e2=null,e4=T({},[e$,eX,eJ],y),e3=T({},["mi","mo","mn","ms","mtext"]),e5=T({},["annotation-xml"]),e6=T({},["title","style","font","a","script"]),e8=null,e9=["application/xhtml+xml","text/html"],e7=null,te=null,tt=o.createElement("form"),tn=function(e){return e instanceof RegExp||e instanceof Function},tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=S(e),e7="application/xhtml+xml"===(e8=-1===e9.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?y:m,ew=C(e,"ALLOWED_TAGS")?T({},e.ALLOWED_TAGS,e7):e_,eE=C(e,"ALLOWED_ATTR")?T({},e.ALLOWED_ATTR,e7):eC,e2=C(e,"ALLOWED_NAMESPACES")?T({},e.ALLOWED_NAMESPACES,y):e4,eq=C(e,"ADD_URI_SAFE_ATTR")?T(S(eY),e.ADD_URI_SAFE_ATTR,e7):eY,ez=C(e,"ADD_DATA_URI_TAGS")?T(S(eW),e.ADD_DATA_URI_TAGS,e7):eW,eK=C(e,"FORBID_CONTENTS")?T({},e.FORBID_CONTENTS,e7):eG,eI=C(e,"FORBID_TAGS")?T({},e.FORBID_TAGS,e7):{},ex=C(e,"FORBID_ATTR")?T({},e.FORBID_ATTR,e7):{},eV=!!C(e,"USE_PROFILES")&&e.USE_PROFILES,eT=!1!==e.ALLOW_ARIA_ATTR,eS=!1!==e.ALLOW_DATA_ATTR,ek=e.ALLOW_UNKNOWN_PROTOCOLS||!1,eN=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eD=e.SAFE_FOR_TEMPLATES||!1,eO=!1!==e.SAFE_FOR_XML,eR=e.WHOLE_DOCUMENT||!1,eP=e.RETURN_DOM||!1,eU=e.RETURN_DOM_FRAGMENT||!1,eM=e.RETURN_TRUSTED_TYPE||!1,eL=e.FORCE_BODY||!1,ej=!1!==e.SANITIZE_DOM,eZ=e.SANITIZE_NAMED_PROPS||!1,eQ=!1!==e.KEEP_CONTENT,eH=e.IN_PLACE||!1,eb=e.ALLOWED_URI_REGEXP||z,e0=e.NAMESPACE||eJ,e3=e.MATHML_TEXT_INTEGRATION_POINTS||e3,e5=e.HTML_INTEGRATION_POINTS||e5,eB=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eB.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eB.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eB.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eD&&(eS=!1),eU&&(eP=!0),eV&&(ew=T({},P),eE=[],!0===eV.html&&(T(ew,N),T(eE,U)),!0===eV.svg&&(T(ew,D),T(eE,M),T(eE,Z)),!0===eV.svgFilters&&(T(ew,O),T(eE,M),T(eE,Z)),!0===eV.mathMl&&(T(ew,F),T(eE,j),T(eE,Z))),e.ADD_TAGS&&(ew===e_&&(ew=S(ew)),T(ew,e.ADD_TAGS,e7)),e.ADD_ATTR&&(eE===eC&&(eE=S(eE)),T(eE,e.ADD_ATTR,e7)),e.ADD_URI_SAFE_ATTR&&T(eq,e.ADD_URI_SAFE_ATTR,e7),e.FORBID_CONTENTS&&(eK===eG&&(eK=S(eK)),T(eK,e.FORBID_CONTENTS,e7)),eQ&&(ew["#text"]=!0),eR&&T(ew,["html","head","body"]),ew.table&&(T(ew,["tbody"]),delete eI.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');eo=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=ee(G,s)),null!==t&&"string"==typeof eo&&(eo=t.createHTML(""));u&&u(e),te=e}},ti=T({},[...D,...O,...R]),to=T({},[...F,...L]),ta=function(e){let t=ei(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let n=m(e.tagName),r=m(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eX?t.namespaceURI===eJ?"svg"===n:t.namespaceURI===e$?"svg"===n&&("annotation-xml"===r||e3[r]):!!ti[n]:e.namespaceURI===e$?t.namespaceURI===eJ?"math"===n:t.namespaceURI===eX?"math"===n&&e5[r]:!!to[n]:e.namespaceURI===eJ?(t.namespaceURI!==eX||!!e5[r])&&(t.namespaceURI!==e$||!!e3[r])&&!to[n]&&(e6[n]||!ti[n]):"application/xhtml+xml"===e8&&!!e2[e.namespaceURI])},ts=function(e){g(i.removed,{element:e});try{ei(e).removeChild(e)}catch(t){$(e)}},tu=function(e,t){try{g(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e){if(eP||eU)try{ts(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},tc=function(e){let n=null,r=null;if(eL)e="<remove></remove>"+e;else{let t=b(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===e8&&e0===eJ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let i=t?t.createHTML(e):e;if(e0===eJ)try{n=new K().parseFromString(i,e8)}catch(e){}if(!n||!n.documentElement){n=ea.createDocument(e0,"template",null);try{n.documentElement.innerHTML=e1?eo:i}catch(e){}}let a=n.body||n.documentElement;return(e&&r&&a.insertBefore(o.createTextNode(r),a.childNodes[0]||null),e0===eJ)?ec.call(n,eR?"html":"body")[0]:eR?n.documentElement:a},tl=function(e){return es.call(e.ownerDocument||e,e,Q.SHOW_ELEMENT|Q.SHOW_COMMENT|Q.SHOW_TEXT|Q.SHOW_PROCESSING_INSTRUCTION|Q.SHOW_CDATA_SECTION,null)},tA=function(e){return e instanceof V&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof H)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},td=function(e){return"function"==typeof d&&e instanceof d};function tf(e,t,n){f(e,e=>{e.call(i,t,n,te)})}let th=function(e){let t=null;if(tf(eA.beforeSanitizeElements,e,null),tA(e))return ts(e),!0;let n=e7(e.nodeName);if(tf(eA.uponSanitizeElement,e,{tagName:n,allowedTags:ew}),e.hasChildNodes()&&!td(e.firstElementChild)&&B(/<[/\w]/g,e.innerHTML)&&B(/<[/\w]/g,e.textContent)||e.nodeType===J.progressingInstruction||eO&&e.nodeType===J.comment&&B(/<[/\w]/g,e.data))return ts(e),!0;if(!ew[n]||eI[n]){if(!eI[n]&&tg(n)&&(eB.tagNameCheck instanceof RegExp&&B(eB.tagNameCheck,n)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(n)))return!1;if(eQ&&!eK[n]){let t=ei(e)||e.parentNode,n=er(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=q(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,en(e))}}}return ts(e),!0}return e instanceof x&&!ta(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&B(/<\/no(script|embed|frames)/i,e.innerHTML)?(ts(e),!0):(eD&&e.nodeType===J.text&&(t=e.textContent,f([ed,ef,eh],e=>{t=w(t,e," ")}),e.textContent!==t&&(g(i.removed,{element:e.cloneNode()}),e.textContent=t)),tf(eA.afterSanitizeElements,e,null),!1)},tp=function(e,t,n){if(ej&&("id"===t||"name"===t)&&(n in o||n in tt))return!1;if(eS&&!ex[t]&&B(ep,t));else if(eT&&B(eg,t));else if(!eE[t]||ex[t]){if(!(tg(e)&&(eB.tagNameCheck instanceof RegExp&&B(eB.tagNameCheck,e)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(e))&&(eB.attributeNameCheck instanceof RegExp&&B(eB.attributeNameCheck,t)||eB.attributeNameCheck instanceof Function&&eB.attributeNameCheck(t))||"is"===t&&eB.allowCustomizedBuiltInElements&&(eB.tagNameCheck instanceof RegExp&&B(eB.tagNameCheck,n)||eB.tagNameCheck instanceof Function&&eB.tagNameCheck(n))))return!1}else if(eq[t]);else if(B(eb,w(n,em,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===_(n,"data:")&&ez[e]);else if(ek&&!B(ev,w(n,em,"")));else if(n)return!1;return!0},tg=function(e){return"annotation-xml"!==e&&b(e,ey)},tv=function(e){tf(eA.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||tA(e))return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eE,forceKeepAttr:void 0},o=n.length;for(;o--;){let{name:a,namespaceURI:s,value:u}=n[o],c=e7(a),l="value"===a?u:E(u);if(r.attrName=c,r.attrValue=l,r.keepAttr=!0,r.forceKeepAttr=void 0,tf(eA.uponSanitizeAttribute,e,r),l=r.attrValue,eZ&&("id"===c||"name"===c)&&(tu(a,e),l="user-content-"+l),eO&&B(/((--!?|])>)|<\/(style|title)/i,l)){tu(a,e);continue}if(r.forceKeepAttr||(tu(a,e),!r.keepAttr))continue;if(!eN&&B(/\/>/i,l)){tu(a,e);continue}eD&&f([ed,ef,eh],e=>{l=w(l,e," ")});let A=e7(e.nodeName);if(tp(A,c,l)){if(t&&"object"==typeof G&&"function"==typeof G.getAttributeType){if(s);else switch(G.getAttributeType(A,c)){case"TrustedHTML":l=t.createHTML(l);break;case"TrustedScriptURL":l=t.createScriptURL(l)}}try{s?e.setAttributeNS(s,a,l):e.setAttribute(a,l),tA(e)?ts(e):p(i.removed)}catch(e){}}}tf(eA.afterSanitizeAttributes,e,null)},tm=function e(t){let n=null,r=tl(t);for(tf(eA.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)tf(eA.uponSanitizeShadowNode,n,null),th(n),tv(n),n.content instanceof c&&e(n.content);tf(eA.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,u=null;if((e1=!e)&&(e="<!-->"),"string"!=typeof e&&!td(e)){if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw I("dirty is not a string, aborting")}else throw I("toString is not a function")}if(!i.isSupported)return e;if(eF||tr(n),i.removed=[],"string"==typeof e&&(eH=!1),eH){if(e.nodeName){let t=e7(e.nodeName);if(!ew[t]||eI[t])throw I("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)(o=(r=tc("<!---->")).ownerDocument.importNode(e,!0)).nodeType===J.element&&"BODY"===o.nodeName?r=o:"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!eP&&!eD&&!eR&&-1===e.indexOf("<"))return t&&eM?t.createHTML(e):e;if(!(r=tc(e)))return eP?null:eM?eo:""}r&&eL&&ts(r.firstChild);let l=tl(eH?e:r);for(;s=l.nextNode();)th(s),tv(s),s.content instanceof c&&tm(s.content);if(eH)return e;if(eP){if(eU)for(u=eu.call(r.ownerDocument);r.firstChild;)u.appendChild(r.firstChild);else u=r;return(eE.shadowroot||eE.shadowrootmode)&&(u=el.call(a,u,!0)),u}let A=eR?r.outerHTML:r.innerHTML;return eR&&ew["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&B(Y,r.ownerDocument.doctype.name)&&(A="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+A),eD&&f([ed,ef,eh],e=>{A=w(A,e," ")}),t&&eM?t.createHTML(A):A},i.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr(e),eF=!0},i.clearConfig=function(){te=null,eF=!1},i.isValidAttribute=function(e,t,n){return te||tr({}),tp(e7(e),e7(t),n)},i.addHook=function(e,t){"function"==typeof t&&g(eA[e],t)},i.removeHook=function(e,t){if(void 0!==t){let n=h(eA[e],t);return -1===n?void 0:v(eA[e],n,1)[0]}return p(eA[e])},i.removeHooks=function(e){eA[e]=[]},i.removeAllHooks=function(){eA=et()},i}()},30686:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=n(10161);t.Z=r},66439:function(e,t,n){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return i}})},37164:function(e,t,n){"use strict";n.d(t,{kP:function(){return o},x0:function(){return a}});let r=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return (o=t)=>{let a="";for(;;){let t=n(i),s=0|i;for(;s--;)if((a+=e[t[s]&r]||"").length===o)return a}}},o=(e,t=21)=>i(e,t,r),a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")},63955:function(e,t,n){"use strict";n.d(t,{Qr:function(){return L},cI:function(){return ew},cl:function(){return O}});var r=n(2784),i=e=>"checkbox"===e.type,o=e=>e instanceof Date,a=e=>null==e;let s=e=>"object"==typeof e;var u=e=>!a(e)&&!Array.isArray(e)&&s(e)&&!o(e),c=e=>u(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,l=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,A=(e,t)=>e.has(l(t)),d=e=>{let t=e.constructor&&e.constructor.prototype;return u(t)&&t.hasOwnProperty("isPrototypeOf")},f="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function h(e){let t;let n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(f&&(e instanceof Blob||e instanceof FileList))&&(n||u(e))))return e;else if(t=n?[]:{},n||d(e))for(let n in e)e.hasOwnProperty(n)&&(t[n]=h(e[n]));else t=e;return t}var p=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>void 0===e,v=(e,t,n)=>{if(!t||!u(e))return n;let r=p(t.split(/[,[\].]+?/)).reduce((e,t)=>a(e)?e:e[t],e);return g(r)||r===e?g(e[t])?n:e[t]:r},m=e=>"boolean"==typeof e,y=e=>/^\w*$/.test(e),b=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,t,n)=>{let r=-1,i=y(t)?[t]:b(t),o=i.length,a=o-1;for(;++r<o;){let t=i[r],o=n;if(r!==a){let n=e[t];o=u(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t)return;e[t]=o,e=e[t]}return e};let _={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},E={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},C={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},B=r.createContext(null),I=()=>r.useContext(B);var x=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>(t._proxyFormState[o]!==E.all&&(t._proxyFormState[o]=!r||E.all),n&&(n[o]=!0),e[o])});return i},T=e=>u(e)&&!Object.keys(e).length,S=(e,t,n,r)=>{n(e);let{name:i,...o}=e;return T(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!r||E.all))},k=e=>Array.isArray(e)?e:[e],N=(e,t,n)=>!e||!t||e===t||k(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)));function D(e){let t=r.useRef(e);t.current=e,r.useEffect(()=>{let n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function O(e){let t=I(),{control:n=t.control,disabled:i,name:o,exact:a}=e||{},[s,u]=r.useState(n._formState),c=r.useRef(!0),l=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=r.useRef(o);return A.current=o,D({disabled:i,next:e=>c.current&&N(A.current,e.name,a)&&S(e,l.current,n._updateFormState)&&u({...n._formState,...e}),subject:n._subjects.state}),r.useEffect(()=>(c.current=!0,l.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),x(s,n,l.current,!1)}var R=e=>"string"==typeof e,F=(e,t,n,r,i)=>R(e)?(r&&t.watch.add(e),v(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),v(n,e))):(r&&(t.watchAll=!0),n);let L=e=>e.render(function(e){let t=I(),{name:n,disabled:i,control:o=t.control,shouldUnregister:a}=e,s=A(o._names.array,n),u=function(e){let t=I(),{control:n=t.control,name:i,defaultValue:o,disabled:a,exact:s}=e||{},u=r.useRef(i);u.current=i,D({disabled:a,subject:n._subjects.values,next:e=>{N(u.current,e.name,s)&&l(h(F(u.current,n._names,e.values||n._formValues,!1,o)))}});let[c,l]=r.useState(n._getWatch(i,o));return r.useEffect(()=>n._removeUnmounted()),c}({control:o,name:n,defaultValue:v(o._formValues,n,v(o._defaultValues,n,e.defaultValue)),exact:!0}),l=O({control:o,name:n}),d=r.useRef(o.register(n,{...e.rules,value:u,...m(e.disabled)?{disabled:e.disabled}:{}}));return r.useEffect(()=>{let e=o._options.shouldUnregister||a,t=(e,t)=>{let n=v(o._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){let e=h(v(o._options.defaultValues,n));w(o._defaultValues,n,e),g(v(o._formValues,n))&&w(o._formValues,n,e)}return()=>{(s?e&&!o._state.action:e)?o.unregister(n):t(n,!1)}},[n,o,s,a]),r.useEffect(()=>{v(o._fields,n)&&o._updateDisabledField({disabled:i,fields:o._fields,name:n,value:v(o._fields,n)._f.value})},[i,n,o]),{field:{name:n,value:u,...m(i)||l.disabled?{disabled:l.disabled||i}:{},onChange:r.useCallback(e=>d.current.onChange({target:{value:c(e),name:n},type:_.CHANGE}),[n]),onBlur:r.useCallback(()=>d.current.onBlur({target:{value:v(o._formValues,n),name:n},type:_.BLUR}),[n,o]),ref:e=>{let t=v(o._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!v(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!v(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!v(l.validatingFields,n)},error:{enumerable:!0,get:()=>v(l.errors,n)}})}}(e));var P=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},U=e=>({isOnSubmit:!e||e===E.onSubmit,isOnBlur:e===E.onBlur,isOnChange:e===E.onChange,isOnAll:e===E.all,isOnTouch:e===E.onTouched}),M=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let j=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=v(e,i);if(n){let{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)break;j(o,t)}else u(o)&&j(o,t)}}};var Z=(e,t,n)=>{let r=p(v(e,n));return w(r,"root",t[n]),w(e,n,r),e},Q=e=>"file"===e.type,H=e=>"function"==typeof e,V=e=>{if(!f)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},K=e=>R(e),G=e=>"radio"===e.type,z=e=>e instanceof RegExp;let W={value:!1,isValid:!1},q={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?q:{value:e[0].value,isValid:!0}:q:W}return W};let $={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,$):$;function J(e,t,n="validate"){if(K(e)||Array.isArray(e)&&e.every(K)||m(e)&&!e)return{type:n,message:K(e)?e:"",ref:t}}var ee=e=>u(e)&&!z(e)?e:{value:e,message:""},et=async(e,t,n,r,o)=>{let{ref:s,refs:c,required:l,maxLength:A,minLength:d,min:f,max:h,pattern:p,validate:y,name:b,valueAsNumber:w,mount:_,disabled:E}=e._f,B=v(t,b);if(!_||E)return{};let I=c?c[0]:s,x=e=>{r&&I.reportValidity&&(I.setCustomValidity(m(e)?"":e||""),I.reportValidity())},S={},k=G(s),N=i(s),D=(w||Q(s))&&g(s.value)&&g(B)||V(s)&&""===s.value||""===B||Array.isArray(B)&&!B.length,O=P.bind(null,b,n,S),F=(e,t,n,r=C.maxLength,i=C.minLength)=>{let o=e?t:n;S[b]={type:e?r:i,message:o,ref:s,...O(e?r:i,o)}};if(o?!Array.isArray(B)||!B.length:l&&(!(k||N)&&(D||a(B))||m(B)&&!B||N&&!Y(c).isValid||k&&!X(c).isValid)){let{value:e,message:t}=K(l)?{value:!!l,message:l}:ee(l);if(e&&(S[b]={type:C.required,message:t,ref:I,...O(C.required,t)},!n))return x(t),S}if(!D&&(!a(f)||!a(h))){let e,t;let r=ee(h),i=ee(f);if(a(B)||isNaN(B)){let n=s.valueAsDate||new Date(B),o=e=>new Date(new Date().toDateString()+" "+e),a="time"==s.type,u="week"==s.type;R(r.value)&&B&&(e=a?o(B)>o(r.value):u?B>r.value:n>new Date(r.value)),R(i.value)&&B&&(t=a?o(B)<o(i.value):u?B<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(B?+B:B);a(r.value)||(e=n>r.value),a(i.value)||(t=n<i.value)}if((e||t)&&(F(!!e,r.message,i.message,C.max,C.min),!n))return x(S[b].message),S}if((A||d)&&!D&&(R(B)||o&&Array.isArray(B))){let e=ee(A),t=ee(d),r=!a(e.value)&&B.length>+e.value,i=!a(t.value)&&B.length<+t.value;if((r||i)&&(F(r,e.message,t.message),!n))return x(S[b].message),S}if(p&&!D&&R(B)){let{value:e,message:t}=ee(p);if(z(e)&&!B.match(e)&&(S[b]={type:C.pattern,message:t,ref:s,...O(C.pattern,t)},!n))return x(t),S}if(y){if(H(y)){let e=J(await y(B,t),I);if(e&&(S[b]={...e,...O(C.validate,e.message)},!n))return x(e.message),S}else if(u(y)){let e={};for(let r in y){if(!T(e)&&!n)break;let i=J(await y[r](B,t),I,r);i&&(e={...i,...O(r,i.message)},x(i.message),n&&(S[b]=e))}if(!T(e)&&(S[b]={ref:I,...e},!n))return S}}return x(!0),S};function en(e,t){let n=Array.isArray(t)?t:y(t)?[t]:b(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=g(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(u(r)&&T(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}(r))&&en(e,n.slice(0,-1)),e}var er=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},ei=e=>a(e)||!s(e);function eo(e,t){if(ei(e)||ei(t))return e===t;if(o(e)&&o(t))return e.getTime()===t.getTime();let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n){let n=e[i];if(!r.includes(i))return!1;if("ref"!==i){let e=t[i];if(o(n)&&o(e)||u(n)&&u(e)||Array.isArray(n)&&Array.isArray(e)?!eo(n,e):n!==e)return!1}}return!0}var ea=e=>"select-multiple"===e.type,es=e=>G(e)||i(e),eu=e=>V(e)&&e.isConnected,ec=e=>{for(let t in e)if(H(e[t]))return!0;return!1};function el(e,t={}){let n=Array.isArray(e);if(u(e)||n)for(let n in e)Array.isArray(e[n])||u(e[n])&&!ec(e[n])?(t[n]=Array.isArray(e[n])?[]:{},el(e[n],t[n])):a(e[n])||(t[n]=!0);return t}var eA=(e,t)=>(function e(t,n,r){let i=Array.isArray(t);if(u(t)||i)for(let i in t)Array.isArray(t[i])||u(t[i])&&!ec(t[i])?g(n)||ei(r[i])?r[i]=Array.isArray(t[i])?el(t[i],[]):{...el(t[i])}:e(t[i],a(n)?{}:n[i],r[i]):r[i]=!eo(t[i],n[i]);return r})(e,t,el(t)),ed=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>g(e)?e:t?""===e?NaN:e?+e:e:n&&R(e)?new Date(e):r?r(e):e;function ef(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:Q(t)?t.files:G(t)?X(e.refs).value:ea(t)?[...t.selectedOptions].map(({value:e})=>e):i(t)?Y(e.refs).value:ed(g(t.value)?e.ref.value:t.value,e)}var eh=(e,t,n,r)=>{let i={};for(let n of e){let e=v(t,n);e&&w(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ep=e=>g(e)?e:z(e)?e.source:u(e)?z(e.value)?e.value.source:e.value:e,eg=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ev(e,t,n){let r=v(e,n);if(r||y(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),o=v(t,r),a=v(e,r);if(o&&!Array.isArray(o)&&n!==r)break;if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var em=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?!r.isOnChange:!i.isOnChange)||e),ey=(e,t)=>!p(v(e,t)).length&&en(e,t);let eb={mode:E.onSubmit,reValidateMode:E.onChange,shouldFocusError:!0};function ew(e={}){let t=r.useRef(),n=r.useRef(),[s,l]=r.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...function(e={}){let t,n={...eb,...e},r={submitCount:0,isDirty:!1,isLoading:H(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},s={},l=(u(n.defaultValues)||u(n.values))&&h(n.defaultValues||n.values)||{},d=n.shouldUnregister?{}:h(l),y={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},C=0,B={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},I={values:er(),array:er(),state:er()},x=U(n.mode),S=U(n.reValidateMode),N=n.criteriaMode===E.all,D=e=>t=>{clearTimeout(C),C=setTimeout(e,t)},O=async e=>{if(B.isValid||e){let e=n.resolver?T((await W()).errors):await Y(s,!0);e!==r.isValid&&I.state.next({isValid:e})}},L=(e,t)=>{(B.isValidating||B.validatingFields)&&((e||Array.from(b.mount)).forEach(e=>{e&&(t?w(r.validatingFields,e,t):en(r.validatingFields,e))}),I.state.next({validatingFields:r.validatingFields,isValidating:!T(r.validatingFields)}))},P=(e,t)=>{w(r.errors,e,t),I.state.next({errors:r.errors})},K=(e,t,n,r)=>{let i=v(s,e);if(i){let o=v(d,e,g(n)?v(l,e):n);g(o)||r&&r.defaultChecked||t?w(d,e,t?o:ef(i._f)):J(e,o),y.mount&&O()}},G=(e,t,n,i,o)=>{let a=!1,u=!1,c={name:e},A=!!(v(s,e)&&v(s,e)._f.disabled);if(!n||i){B.isDirty&&(u=r.isDirty,r.isDirty=c.isDirty=$(),a=u!==c.isDirty);let n=A||eo(v(l,e),t);u=!!(!A&&v(r.dirtyFields,e)),n||A?en(r.dirtyFields,e):w(r.dirtyFields,e,!0),c.dirtyFields=r.dirtyFields,a=a||B.dirtyFields&&!n!==u}if(n){let t=v(r.touchedFields,e);t||(w(r.touchedFields,e,n),c.touchedFields=r.touchedFields,a=a||B.touchedFields&&t!==n)}return a&&o&&I.state.next(c),a?c:{}},z=(n,i,o,a)=>{let s=v(r.errors,n),u=B.isValid&&m(i)&&r.isValid!==i;if(e.delayError&&o?(t=D(()=>P(n,o)))(e.delayError):(clearTimeout(C),t=null,o?w(r.errors,n,o):en(r.errors,n)),(o?!eo(s,o):s)||!T(a)||u){let e={...a,...u&&m(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},I.state.next(e)}},W=async e=>{L(e,!0);let t=await n.resolver(d,n.context,eh(e||b.mount,s,n.criteriaMode,n.shouldUseNativeValidation));return L(e),t},q=async e=>{let{errors:t}=await W(e);if(e)for(let n of e){let e=v(t,n);e?w(r.errors,n,e):en(r.errors,n)}else r.errors=t;return t},Y=async(e,t,i={valid:!0})=>{for(let o in e){let a=e[o];if(a){let{_f:e,...s}=a;if(e){let s=b.array.has(e.name);L([o],!0);let u=await et(a,d,N,n.shouldUseNativeValidation&&!t,s);if(L([o]),u[e.name]&&(i.valid=!1,t))break;t||(v(u,e.name)?s?Z(r.errors,u,e.name):w(r.errors,e.name,u[e.name]):en(r.errors,e.name))}s&&await Y(s,t,i)}}return i.valid},$=(e,t)=>(e&&t&&w(d,e,t),!eo(eE(),l)),X=(e,t,n)=>F(e,b,{...y.mount?d:g(t)?l:R(e)?{[e]:t}:t},n,t),J=(e,t,n={})=>{let r=v(s,e),o=t;if(r){let n=r._f;n&&(n.disabled||w(d,e,ed(t,n)),o=V(n.ref)&&a(t)?"":t,ea(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?i(n.ref)?n.refs.length>1?n.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find(t=>t===e.value):o===e.value)):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach(e=>e.checked=e.value===o):Q(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||I.values.next({name:e,values:{...d}})))}(n.shouldDirty||n.shouldTouch)&&G(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&e_(e)},ee=(e,t,n)=>{for(let r in t){let i=t[r],a=`${e}.${r}`,u=v(s,a);!b.array.has(e)&&ei(i)&&(!u||u._f)||o(i)?J(a,i,n):ee(a,i,n)}},ec=(e,t,n={})=>{let i=v(s,e),o=b.array.has(e),u=h(t);w(d,e,u),o?(I.array.next({name:e,values:{...d}}),(B.isDirty||B.dirtyFields)&&n.shouldDirty&&I.state.next({name:e,dirtyFields:eA(l,d),isDirty:$(e,u)})):!i||i._f||a(u)?J(e,u,n):ee(e,u,n),M(e,b)&&I.state.next({...r}),I.values.next({name:y.mount?e:void 0,values:{...d}})},el=async e=>{y.mount=!0;let i=e.target,o=i.name,a=!0,u=v(s,o),l=e=>{a=Number.isNaN(e)||e===v(d,o,e)};if(u){let A,f;let h=i.type?ef(u._f):c(e),p=e.type===_.BLUR||e.type===_.FOCUS_OUT,g=!eg(u._f)&&!n.resolver&&!v(r.errors,o)&&!u._f.deps||em(p,v(r.touchedFields,o),r.isSubmitted,S,x),m=M(o,b,p);w(d,o,h),p?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);let y=G(o,h,p,!1),E=!T(y)||m;if(p||I.values.next({name:o,type:e.type,values:{...d}}),g)return B.isValid&&O(),E&&I.state.next({name:o,...m?{}:y});if(!p&&m&&I.state.next({...r}),n.resolver){let{errors:e}=await W([o]);if(l(h),a){let t=ev(r.errors,s,o),n=ev(e,s,t.name||o);A=n.error,o=n.name,f=T(e)}}else L([o],!0),A=(await et(u,d,N,n.shouldUseNativeValidation))[o],L([o]),l(h),a&&(A?f=!1:B.isValid&&(f=await Y(s,!0)));a&&(u._f.deps&&e_(u._f.deps),z(o,f,A,y))}},ew=(e,t)=>{if(v(r.errors,t)&&e.focus)return e.focus(),1},e_=async(e,t={})=>{let i,o;let a=k(e);if(n.resolver){let t=await q(g(e)?e:a);i=T(t),o=e?!a.some(e=>v(t,e)):i}else e?((o=(await Promise.all(a.map(async e=>{let t=v(s,e);return await Y(t&&t._f?{[e]:t}:t)}))).every(Boolean))||r.isValid)&&O():o=i=await Y(s);return I.state.next({...!R(e)||B.isValid&&i!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:i}:{},errors:r.errors}),t.shouldFocus&&!o&&j(s,ew,e?a:b.mount),o},eE=e=>{let t={...y.mount?d:l};return g(e)?t:R(e)?v(t,e):e.map(e=>v(t,e))},eC=(e,t)=>({invalid:!!v((t||r).errors,e),isDirty:!!v((t||r).dirtyFields,e),isTouched:!!v((t||r).touchedFields,e),isValidating:!!v((t||r).validatingFields,e),error:v((t||r).errors,e)}),eB=(e,t,n)=>{let i=(v(s,e,{_f:{}})._f||{}).ref,{ref:o,message:a,type:u,...c}=v(r.errors,e)||{};w(r.errors,e,{...c,...t,ref:i}),I.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},eI=(e,t={})=>{for(let i of e?k(e):b.mount)b.mount.delete(i),b.array.delete(i),t.keepValue||(en(s,i),en(d,i)),t.keepError||en(r.errors,i),t.keepDirty||en(r.dirtyFields,i),t.keepTouched||en(r.touchedFields,i),t.keepIsValidating||en(r.validatingFields,i),n.shouldUnregister||t.keepDefaultValue||en(l,i);I.values.next({values:{...d}}),I.state.next({...r,...t.keepDirty?{isDirty:$()}:{}}),t.keepIsValid||O()},ex=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(m(e)&&y.mount||e){let o=e?void 0:g(i)?ef(n?n._f:v(r,t)._f):i;w(d,t,o),G(t,o,!1,!1,!0)}},eT=(e,t={})=>{let r=v(s,e),i=m(t.disabled);return w(s,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),b.mount.add(e),r?ex({field:r,disabled:t.disabled,name:e,value:t.value}):K(e,!0,t.value),{...i?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:ep(t.min),max:ep(t.max),minLength:ep(t.minLength),maxLength:ep(t.maxLength),pattern:ep(t.pattern)}:{},name:e,onChange:el,onBlur:el,ref:i=>{if(i){eT(e,t),r=v(s,e);let n=g(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=es(n),a=r._f.refs||[];(o?a.find(e=>e===n):n===r._f.ref)||(w(s,e,{_f:{...r._f,...o?{refs:[...a.filter(eu),n,...Array.isArray(v(l,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),K(e,!1,void 0,n))}else(r=v(s,e,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&!(A(b.array,e)&&y.action)&&b.unMount.add(e)}}},eS=()=>n.shouldFocusError&&j(s,ew,b.mount),ek=(e,t)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let a=h(d);if(I.state.next({isSubmitting:!0}),n.resolver){let{errors:e,values:t}=await W();r.errors=e,a=t}else await Y(s);if(en(r.errors,"root"),T(r.errors)){I.state.next({errors:{}});try{await e(a,i)}catch(e){o=e}}else t&&await t({...r.errors},i),eS(),setTimeout(eS);if(I.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:T(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},eN=(t,n={})=>{let i=t?h(t):l,o=h(i),a=T(t),u=a?l:o;if(n.keepDefaultValues||(l=i),!n.keepValues){if(n.keepDirtyValues)for(let e of b.mount)v(r.dirtyFields,e)?w(u,e,v(d,e)):ec(e,v(u,e));else{if(f&&g(t))for(let e of b.mount){let t=v(s,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(V(e)){let t=e.closest("form");if(t){t.reset();break}}}}s={}}d=e.shouldUnregister?n.keepDefaultValues?h(l):{}:h(u),I.array.next({values:{...u}}),I.values.next({values:{...u}})}b={mount:n.keepDirtyValues?b.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!B.isValid||!!n.keepIsValid||!!n.keepDirtyValues,y.watch=!!e.shouldUnregister,I.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!a&&(n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!eo(t,l))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:a?[]:n.keepDirtyValues?n.keepDefaultValues&&d?eA(l,d):r.dirtyFields:n.keepDefaultValues&&t?eA(l,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},eD=(e,t)=>eN(H(e)?e(d):e,t);return{control:{register:eT,unregister:eI,getFieldState:eC,handleSubmit:ek,setError:eB,_executeSchema:W,_getWatch:X,_getDirty:$,_updateValid:O,_removeUnmounted:()=>{for(let e of b.unMount){let t=v(s,e);t&&(t._f.refs?t._f.refs.every(e=>!eu(e)):!eu(t._f.ref))&&eI(e)}b.unMount=new Set},_updateFieldArray:(e,t=[],n,i,o=!0,a=!0)=>{if(i&&n){if(y.action=!0,a&&Array.isArray(v(s,e))){let t=n(v(s,e),i.argA,i.argB);o&&w(s,e,t)}if(a&&Array.isArray(v(r.errors,e))){let t=n(v(r.errors,e),i.argA,i.argB);o&&w(r.errors,e,t),ey(r.errors,e)}if(B.touchedFields&&a&&Array.isArray(v(r.touchedFields,e))){let t=n(v(r.touchedFields,e),i.argA,i.argB);o&&w(r.touchedFields,e,t)}B.dirtyFields&&(r.dirtyFields=eA(l,d)),I.state.next({name:e,isDirty:$(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(d,e,t)},_updateDisabledField:ex,_getFieldArray:t=>p(v(y.mount?d:l,t,e.shouldUnregister?v(l,t,[]):[])),_reset:eN,_resetDefaultValues:()=>H(n.defaultValues)&&n.defaultValues().then(e=>{eD(e,n.resetOptions),I.state.next({isLoading:!1})}),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{m(e)&&(I.state.next({disabled:e}),j(s,(t,n)=>{let r=v(s,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:I,_proxyFormState:B,_setErrors:e=>{r.errors=e,I.state.next({errors:r.errors,isValid:!1})},get _fields(){return s},get _formValues(){return d},get _state(){return y},set _state(value){y=value},get _defaultValues(){return l},get _names(){return b},set _names(value){b=value},get _formState(){return r},set _formState(value){r=value},get _options(){return n},set _options(value){n={...n,...value}}},trigger:e_,register:eT,handleSubmit:ek,watch:(e,t)=>H(e)?I.values.subscribe({next:n=>e(X(void 0,t),n)}):X(e,t,!0),setValue:ec,getValues:eE,reset:eD,resetField:(e,t={})=>{v(s,e)&&(g(t.defaultValue)?ec(e,h(v(l,e))):(ec(e,t.defaultValue),w(l,e,h(t.defaultValue))),t.keepTouched||en(r.touchedFields,e),t.keepDirty||(en(r.dirtyFields,e),r.isDirty=t.defaultValue?$(e,h(v(l,e))):$()),!t.keepError&&(en(r.errors,e),B.isValid&&O()),I.state.next({...r}))},clearErrors:e=>{e&&k(e).forEach(e=>en(r.errors,e)),I.state.next({errors:e?r.errors:{}})},unregister:eI,setError:eB,setFocus:(e,t={})=>{let n=v(s,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:eC}}(e),formState:s});let d=t.current.control;return d._options=e,D({subject:d._subjects.state,next:e=>{S(e,d._proxyFormState,d._updateFormState,!0)&&l({...d._formState})}}),r.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),r.useEffect(()=>{if(d._proxyFormState.isDirty){let e=d._getDirty();e!==s.isDirty&&d._subjects.state.next({isDirty:e})}},[d,s.isDirty]),r.useEffect(()=>{e.values&&!eo(e.values,n.current)?(d._reset(e.values,d._options.resetOptions),n.current=e.values,l(e=>({...e}))):d._resetDefaultValues()},[e.values,d]),r.useEffect(()=>{e.errors&&d._setErrors(e.errors)},[e.errors,d]),r.useEffect(()=>{d._state.mount||(d._updateValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),r.useEffect(()=>{e.shouldUnregister&&d._subjects.values.next({values:d._getWatch()})},[e.shouldUnregister,d]),t.current.formState=x(s,d),t.current}},62202:function(e,t,n){"use strict";let r,i;n.d(t,{x7:function(){return ec},ZP:function(){return el},Am:function(){return M}});var o,a=n(2784);let s={data:""},u=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||s,c=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l=/\/\*[^]*?\*\/|  +/g,A=/\n+/g,d=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?d(a,o):o+"{"+d(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=d(a,t?t.replace(/([^,])+/g,e=>o.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=d.p?d.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},f={},h=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+h(e[n]);return t}return e},p=(e,t,n,r,i)=>{var o;let a=h(e),s=f[a]||(f[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!f[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=c.exec(e.replace(l,""));)t[4]?r.shift():t[3]?(n=t[3].replace(A," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(A," ").trim();return r[0]})(e);f[s]=d(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}return o=f[s],-1==t.data.indexOf(o)&&(t.data=r?o+t.data:t.data+o),s},g=(e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":d(e,""):!1===e?"":e}return e+r+(null==o?"":o)},"");function v(e){let t=this||{},n=e.call?e(t.p):e;return p(n.unshift?n.raw?g(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,u(t.target),t.g,t.o,t.k)}v.bind({g:1});let m,y,b,w=v.bind({k:1});function _(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),u=s.className||i.className;n.p=Object.assign({theme:y&&y()},s),n.o=/ *go\d+/.test(u),s.className=v.apply(n,r)+(u?" "+u:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),b&&c[0]&&b(s),m(c,s)}return t?t(i):i}}var E=e=>"function"==typeof e,C=(e,t)=>E(e)?e(t):e,B=(r=0,()=>(++r).toString()),I=e=>t=>{t&&setTimeout(()=>{e(t.getBoundingClientRect())})},x=()=>{if(void 0===i&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i},T=new Map,S=e=>{if(T.has(e))return;let t=setTimeout(()=>{T.delete(e),R({type:4,toastId:e})},1e3);T.set(e,t)},k=e=>{let t=T.get(e);t&&clearTimeout(t)},N=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&k(t.toast.id),{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return e.toasts.find(e=>e.id===n.id)?N(e,{type:1,toast:n}):N(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?S(r):e.toasts.forEach(e=>{S(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},D=[],O={toasts:[],pausedAt:void 0},R=e=>{O=N(O,e),D.forEach(e=>{e(O)})},F={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},L=(e={})=>{let[t,n]=(0,a.useState)(O);(0,a.useEffect)(()=>(D.push(n),()=>{let e=D.indexOf(n);e>-1&&D.splice(e,1)}),[t]);let r=t.toasts.map(t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||F[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}});return{...t,toasts:r}},P=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||B()}),U=e=>(t,n)=>{let r=P(t,e,n);return R({type:2,toast:r}),r.id},M=(e,t)=>U("blank")(e,t);M.error=U("error"),M.success=U("success"),M.loading=U("loading"),M.custom=U("custom"),M.dismiss=e=>{R({type:3,toastId:e})},M.remove=e=>R({type:4,toastId:e}),M.promise=(e,t,n)=>{let r=M.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then(e=>(M.success(C(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e)).catch(e=>{M.error(C(t.error,e),{id:r,...n,...null==n?void 0:n.error})}),e};var j=e=>{let{toasts:t,pausedAt:n}=L(e);(0,a.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(n<0){t.visible&&M.dismiss(t.id);return}return setTimeout(()=>M.dismiss(t.id),n)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,a.useMemo)(()=>({startPause:()=>{R({type:5,time:Date.now()})},endPause:()=>{n&&R({type:6,time:Date.now()})},updateHeight:(e,t)=>R({type:1,toast:{id:e,height:t}}),calculateOffset:(e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),s=a.findIndex(t=>t.id===e.id),u=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+i,0)}}),[t,n]);return{toasts:t,handlers:r}},Z=w`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Q=w`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,H=w`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,V=_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Q} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${H} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,K=w`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,G=_("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${K} 1s linear infinite;
`,z=w`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,W=w`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,q=_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${W} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Y=_("div")`
  position: absolute;
`,$=_("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,X=w`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J=_("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${X} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ee=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?a.createElement(J,null,t):t:"blank"===n?null:a.createElement($,null,a.createElement(G,{...r}),"loading"!==n&&a.createElement(Y,null,"error"===n?a.createElement(V,{...r}):a.createElement(q,{...r})))},et=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,en=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,er=_("div",a.forwardRef)`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ei=_("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eo=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=x()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[et(n),en(n)];return{animation:t?`${w(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${w(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ea=a.memo(({toast:e,position:t,style:n,children:r})=>{let i=null!=e&&e.height?eo(e.position||t||"top-center",e.visible):{opacity:0},o=a.createElement(ee,{toast:e}),s=a.createElement(ei,{...e.ariaProps},C(e.message,e));return a.createElement(er,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:s}):a.createElement(a.Fragment,null,o,s))});o=a.createElement,d.p=void 0,m=o,y=void 0,b=void 0;var es=(e,t)=>{let n=e.includes("top"),r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...n?{top:0}:{bottom:0},...r}},eu=v`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ec=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:u,handlers:c}=j(n);return a.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(n=>{let o=n.position||t,s=es(o,c.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t})),u=n.height?void 0:I(e=>{c.updateHeight(n.id,e.height)});return a.createElement("div",{ref:u,className:n.visible?eu:"",key:n.id,style:s},"custom"===n.type?C(n.message,n):i?i(n):a.createElement(ea,{toast:n,position:o}))}))},el=M},70289:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(2784),i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},o="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),u=function(){return s.Date.now()},c=/\s/,l=function(e){for(var t=e.length;t--&&c.test(e.charAt(t)););return t},A=/^\s+/,d=s.Symbol,f=Object.prototype,h=f.hasOwnProperty,p=f.toString,g=d?d.toStringTag:void 0,v=function(e){var t=h.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(e){}var i=p.call(e);return r&&(t?e[g]=n:delete e[g]),i},m=Object.prototype.toString,y=d?d.toStringTag:void 0,b=function(e){var t;return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==(null==(t=e)?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?v(t):m.call(t))},w=0/0,_=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,C=/^0o[0-7]+$/i,B=parseInt,I=function(e){if("number"==typeof e)return e;if(b(e))return w;if(i(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=i(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,l(t)+1).replace(A,""):t;var r=E.test(e);return r||C.test(e)?B(e.slice(2),r?2:8):_.test(e)?w:+e},x=Math.max,T=Math.min,S=function(e,t,n){var r,o,a,s,c,l,A=0,d=!1,f=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,A=t,s=e.apply(i,n)}function g(e){var n=e-l,r=e-A;return void 0===l||n>=t||n<0||f&&r>=a}function v(){var e,n,r,i=u();if(g(i))return m(i);c=setTimeout(v,(e=i-l,n=i-A,r=t-e,f?T(r,a-n):r))}function m(e){return(c=void 0,h&&r)?p(e):(r=o=void 0,s)}function y(){var e,n=u(),i=g(n);if(r=arguments,o=this,l=n,i){if(void 0===c)return A=e=l,c=setTimeout(v,t),d?p(e):s;if(f)return clearTimeout(c),c=setTimeout(v,t),p(l)}return void 0===c&&(c=setTimeout(v,t)),s}return t=I(t)||0,i(n)&&(d=!!n.leading,a=(f="maxWait"in n)?x(I(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==c&&clearTimeout(c),A=0,r=l=o=c=void 0},y.flush=function(){return void 0===c?s:m(u())},y},k=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),S(e,t,{leading:r,maxWait:t,trailing:o})},N=n(19131),D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=null,R=null;function F(){if(null===O){if("undefined"==typeof document)return O=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),O=n}return O}function L(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function P(e){return e&&e.ownerDocument?e.ownerDocument:document}N&&window.addEventListener("resize",function(){R!==window.devicePixelRatio&&(R=window.devicePixelRatio,O=null)});var U=function(e){return Array.prototype.reduce.call(e,function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":case void 0:e[r]=!0;break;case"false":e[r]=!1;break;default:e[r]=t.value}}return e},{})};function M(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function j(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function Z(e){return".".concat(e.split(" ").join("."))}var Q=/*#__PURE__*/Object.freeze({__proto__:null,getElementWindow:L,getElementDocument:P,getOptions:U,addClasses:M,removeClasses:j,classNamesToQuery:Z}),H=function(){function e(t,n){void 0===n&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=L(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,M(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){j(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(M(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){j(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,n;r.axis.x.track.el&&r.axis.y.track.el&&r.axis.x.scrollbar.el&&r.axis.y.scrollbar.el&&(r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y")))))},this.drag=function(t){if(r.draggedAxis&&r.contentWrapperEl){var n,i,o,a,s,u,c,l,A,d,f,h=r.axis[r.draggedAxis].track,p=null!==(i=null===(n=h.rect)||void 0===n?void 0:n[r.axis[r.draggedAxis].sizeAttr])&&void 0!==i?i:0,g=r.axis[r.draggedAxis].scrollbar,v=null!==(a=null===(o=r.contentWrapperEl)||void 0===o?void 0:o[r.axis[r.draggedAxis].scrollSizeAttr])&&void 0!==a?a:0,m=parseInt(null!==(u=null===(s=r.elStyles)||void 0===s?void 0:s[r.axis[r.draggedAxis].sizeAttr])&&void 0!==u?u:"0px",10);t.preventDefault(),t.stopPropagation();var y=("y"===r.draggedAxis?t.pageY:t.pageX)-(null!==(l=null===(c=h.rect)||void 0===c?void 0:c[r.axis[r.draggedAxis].offsetAttr])&&void 0!==l?l:0)-r.axis[r.draggedAxis].dragOffset,b=(y="x"===r.draggedAxis&&r.isRtl?(null!==(d=null===(A=h.rect)||void 0===A?void 0:A[r.axis[r.draggedAxis].sizeAttr])&&void 0!==d?d:0)-g.size-y:y)/(p-g.size)*(v-m);"x"===r.draggedAxis&&r.isRtl&&(b=(null===(f=e.getRtlHelpers())||void 0===f?void 0:f.isScrollingToNegative)?-b:b),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=b}},this.onEndDrag=function(e){var t=P(r.el),n=L(r.el);e.preventDefault(),e.stopPropagation(),j(r.el,r.classNames.dragging),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout(function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=D(D({},e.defaultOptions),n),this.classNames=D(D({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=k(this._onMouseMove,64),this.onWindowResize=S(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=S(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=S(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null==n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=-999;var a=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==o.left,isScrollingToNegative:o.left!==a.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{if(this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return 0;return F()}catch(e){return F()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=P(e),r=L(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){N&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(Z(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Z(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Z(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Z(this.classNames.offset)),this.maskEl=this.el.querySelector(Z(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Z(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Z(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Z(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Z(this.classNames.track)).concat(Z(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Z(this.classNames.track)).concat(Z(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(e=this.axis.x.track.el)||void 0===e?void 0:e.querySelector(Z(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(t=this.axis.y.track.el)||void 0===t?void 0:t.querySelector(Z(this.classNames.scrollbar)))||null,this.options.autoHide||(M(this.axis.x.scrollbar.el,this.classNames.visible),M(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,n=L(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(e=this.contentWrapperEl)||void 0===e||e.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,i=n.ResizeObserver||ResizeObserver;this.resizeObserver=new i(function(){r&&n.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame(function(){r=!0})}this.mutationObserver=new n.MutationObserver(function(){n.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=L(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||t>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var s=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(t||u,"px"):"auto",this.placeholderEl.style.height="".concat(s,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&u>t,this.axis.y.isOverflowing=s>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==a&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var l=this.axis.x.isOverflowing?this.scrollbarWidth:0,A=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>i-A,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&s>c-l,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var t,n,r,i=this.contentEl[this.axis[e].scrollSizeAttr],o=null!==(n=null===(t=this.axis[e].track.el)||void 0===t?void 0:t[this.axis[e].offsetSizeAttr])&&void 0!==n?n:0;return r=Math.max(~~(o/i*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){void 0===t&&(t="y");var n,r,i,o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var a=this.contentWrapperEl[this.axis[t].scrollSizeAttr],s=(null===(n=this.axis[t].track.el)||void 0===n?void 0:n[this.axis[t].offsetSizeAttr])||0,u=parseInt(this.elStyles[this.axis[t].sizeAttr],10),c=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];c="x"===t&&this.isRtl&&(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollOriginAtZero)?-c:c,"x"===t&&this.isRtl&&(c=(null===(i=e.getRtlHelpers())||void 0===i?void 0:i.isScrollingToNegative)?c:-c);var l=c/(a-u),A=~~((s-o.size)*l);A="x"===t&&this.isRtl?-A+(s-o.size):A,o.el.style.transform="x"===t?"translate3d(".concat(A,"px, 0, 0)"):"translate3d(0, ".concat(A,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;t&&n&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(M(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(j(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),M(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?M(t.scrollbar.el,this.classNames.hover):j(t.scrollbar.el,this.classNames.hover)):(j(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),j(this.axis[e].track.el,this.classNames.hover),j(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y");var n,r=P(this.el),i=L(this.el),o=this.axis[t].scrollbar,a="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=a-((null===(n=o.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])||0),this.draggedAxis=t,M(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var n,r,i,o,a=this;void 0===t&&(t="y");var s=this.axis[t];if(this.options.clickOnTrack&&s.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var u=L(this.el);this.axis[t].scrollbar.rect=s.scrollbar.el.getBoundingClientRect();var c=null!==(r=null===(n=this.axis[t].scrollbar.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])&&void 0!==r?r:0,l=parseInt(null!==(o=null===(i=this.elStyles)||void 0===i?void 0:i[this.axis[t].sizeAttr])&&void 0!==o?o:"0px",10),A=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],d=("y"===t?this.mouseY-c:this.mouseX-c)<0?-1:1,f=-1===d?A-l:A+l,h=function(){a.contentWrapperEl&&(-1===d?A>f&&(A-=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=A,u.requestAnimationFrame(h)):A<f&&(A+=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=A,u.requestAnimationFrame(h)))};h()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=L(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return n.call(e,t)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=U,e.helpers=Q,e}(),V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},K=r.forwardRef(function(e,t){var n=e.children,i=e.scrollableNodeProps,o=void 0===i?{}:i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["children","scrollableNodeProps"]),s=r.useRef(),u=r.useRef(),c=r.useRef(),l={},A={};Object.keys(a).forEach(function(e){Object.prototype.hasOwnProperty.call(H.defaultOptions,e)?l[e]=a[e]:A[e]=a[e]});var d=V(V({},H.defaultOptions.classNames),l.classNames),f=V(V({},o),{className:"".concat(d.contentWrapper).concat(o.className?" ".concat(o.className):""),tabIndex:0,role:"region","aria-label":l.ariaLabel||H.defaultOptions.ariaLabel});return r.useEffect(function(){var e;return u.current=f.ref?f.ref.current:u.current,s.current&&(e=new H(s.current,V(V(V({},l),u.current&&{scrollableNode:u.current}),c.current&&{contentNode:c.current})),"function"==typeof t?t(e):t&&(t.current=e)),function(){null==e||e.unMount(),e=null,"function"==typeof t&&t(null)}},[]),r.createElement("div",V({"data-simplebar":"init",ref:s},A),r.createElement("div",{className:d.wrapper},r.createElement("div",{className:d.heightAutoObserverWrapperEl},r.createElement("div",{className:d.heightAutoObserverEl})),r.createElement("div",{className:d.mask},r.createElement("div",{className:d.offset},"function"==typeof n?n({scrollableNodeRef:u,scrollableNodeProps:V(V({},f),{ref:u}),contentNodeRef:c,contentNodeProps:{className:d.contentEl,ref:c}}):r.createElement("div",V({},f),r.createElement("div",{className:d.contentEl},n)))),r.createElement("div",{className:d.placeholder})),r.createElement("div",{className:"".concat(d.track," simplebar-horizontal")},r.createElement("div",{className:d.scrollbar})),r.createElement("div",{className:"".concat(d.track," simplebar-vertical")},r.createElement("div",{className:d.scrollbar})))});K.displayName="SimpleBar"},96603:function(e){"use strict";e.exports=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":{"4":"#ced4da","8":"#343a40"},"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){var t=function(t){return e(e.s=t)};_N_E=(t(86570),t(93642))}]);